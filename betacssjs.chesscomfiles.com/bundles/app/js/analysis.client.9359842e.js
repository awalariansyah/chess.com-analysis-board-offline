! function(e) {
    var t = {};

    function __webpack_require__(n) {
        if (t[n]) return t[n].exports;
        var a = t[n] = {
            i: n,
            l: !1,
            exports: {}
        };
        return e[n].call(a.exports, a, a.exports, __webpack_require__), a.l = !0, a.exports
    }
    __webpack_require__.m = e, __webpack_require__.c = t, __webpack_require__.d = function(e, t, n) {
        __webpack_require__.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
        })
    }, __webpack_require__.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, __webpack_require__.t = function(e, t) {
        if (1 & t && (e = __webpack_require__(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var n = Object.create(null);
        if (__webpack_require__.r(n), Object.defineProperty(n, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var a in e) __webpack_require__.d(n, a, function(t) {
                return e[t]
            }.bind(null, a));
        return n
    }, __webpack_require__.n = function(e) {
        var t = e && e.__esModule ? function getDefault() {
            return e.default
        } : function getModuleExports() {
            return e
        };
        return __webpack_require__.d(t, "a", t), t
    }, __webpack_require__.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, __webpack_require__.p = "/bundles/app/js/", __webpack_require__(__webpack_require__.s = 1122)
}([function(e, t, n) {
    "use strict";
    var a = n(10);
    t.a = a.a
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = {
            ADD_BLINKING_SQUARE: "ADD_BLINKING_SQUARE",
            CLEAR_ARROW: "CLEAR_ARROW",
            CLEAR_BLINKING_SQUARE: "CLEAR_BLINKING_SQUARE",
            CLEAR_EFFECT: "CLEAR_EFFECT",
            CLEAR_MARKED_SQUARE: "CLEAR_MARKED_SQUARE",
            INIT: "INIT",
            LOAD: "LOAD",
            MAKE_MOVE: "MAKE_MOVE",
            ILLEGAL_MOVE: "ILLEGAL_MOVE",
            JUMP_TO_POSITION: "JUMP_TO_POSITION",
            TREE_CHANGE: "TREE_CHANGE",
            TREE_AMENDED: "TREE_AMENDED",
            SETTINGS_CHANGE: "SETTINGS_CHANGE",
            PGN_HEADERS_UPDATED: "PGN_HEADERS_UPDATED",
            CANCEL_PREMOVES: "CANCEL_PREMOVES",
            PREMOVE: "PREMOVE",
            GUESS_THE_MOVE: "GUESS_THE_MOVE",
            CANCEL_GUESS_THE_MOVE: "CANCEL_GUESS_THE_MOVE",
            UPDATE_NODE: "UPDATE_NODE"
        },
        i = {
            MAX_HISTORY_LIMIT: 200,
            getInitialHistory: function getInitialHistory() {
                return []
            },
            add: function add(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                if (e.length > i.MAX_HISTORY_LIMIT - 1) {
                    var a = e.findIndex(function(e) {
                        return null !== e
                    });
                    e[a] = null
                }
                e.push({
                    type: t,
                    payload: n
                })
            },
            getLastItem: function getLastItem(e) {
                return e[e.length - 1]
            }
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = {
        getLine: function getLine(e, t) {
            return e[t] || null
        },
        getNode: function getNode(e, t, n) {
            if ("number" == typeof t) {
                if (void 0 !== n) {
                    var i = a.getLine(e, Math.max(0, t));
                    return i ? i[n] : null
                }
                return null
            }
            if (!t) return null;
            var o = a.getLine(e, Math.max(0, t.line));
            return o ? o[t.move] : null
        },
        getSelectedLine: function getSelectedLine(e) {
            return a.getLine(e.jce._lines(), e.tree.selected.line)
        },
        getSelectedNode: function getSelectedNode(e) {
            return a.getNode(e.jce._lines(), e.tree.selected)
        },
        nodeIsSelected: function nodeIsSelected(e, t) {
            return !!(t || t.line || t.move) && (e.selected.line === t.line && e.selected.move === t.move)
        },
        getLinesFromJce: function getLinesFromJce(e) {
            return a.formatLinesFromJce(e.jce._lines())
        },
        getJceSelectedLine: function getJceSelectedLine(e) {
            return e._lines()[e._history().id]
        },
        formatLinesFromJce: function formatLinesFromJce(e) {
            return a.consolidateComments(e)
        },
        consolidateComments: function consolidateComments(e) {
            return e.map(function(t) {
                var n = a.isContinuation(e, t.id) ? a.getNode(e, t.id, 1) : a.getNode(e, t.id, 0);
                return n ? (t.initComment && (n.commentBefore = t.initComment), t) : t
            })
        },
        isContinuation: function isContinuation(e, t) {
            var n = a.getLine(e, t);
            if (!n) return !1;
            if (void 0 !== n.parentId && void 0 !== n[0]) {
                var i = a.getNode(e, n.parentId, n.atMoveNode);
                return !(!i || !i.move) && i.move === n[0].move
            }
            return !1
        },
        isMainLine: function isMainLine(e) {
            return 0 === e
        },
        getNextNodeIds: function getNextNodeIds(e, t) {
            return !e || e.move + t < 0 ? null : {
                line: e.line,
                move: e.move + t
            }
        },
        getNextContinuationLineId: function getNextContinuationLineId(e, t) {
            var n = a.getNode(e, t);
            if (!n || !n.lines) return null;
            var i = n.lines.find(function(t) {
                return a.isContinuation(e, t)
            });
            return -1 !== i ? i : null
        },
        getParentNode: function getParentNode(e, t) {
            var n = {
                line: e[t.line].parentId,
                move: e[t.line].atMoveNode
            };
            return a.findNode(e, n)
        },
        getParentNodeIds: function getParentNodeIds(e, t) {
            var n = a.getLine(e, t.line);
            return n && void 0 !== n.parentId ? {
                line: n.parentId,
                move: n.atMoveNode
            } : null
        },
        deleteRemainingNodes: function deleteRemainingNodes(e, t) {
            return e ? (e.length = t + 1, e) : null
        },
        deleteNode: function deleteNode(e, t) {
            return a.prune(e, {
                line: t.line,
                move: t.move - 1
            })
        },
        deleteLine: function deleteLine(e, t) {
            var n = a.getLine(e, t);
            if (void 0 !== n.parentId) {
                var i = a.getNode(e, {
                    line: n.parentId,
                    move: n.atMoveNode
                });
                i.lines = i.lines.filter(function(e) {
                    return e !== t
                }), 0 === i.lines.length && delete i.lines
            }
            var o = e.filter(function(e) {
                return a.isMainLine(e.id) || e.id !== t
            });
            return a.rebuildIds(o)
        },
        rebuildIds: function rebuildIds(e) {
            var t = [];
            return e.forEach(function(e, n) {
                e.id !== n && (t[e.id] = n)
            }), e.map(function(n) {
                return n.id = void 0 !== t[n.id] ? t[n.id] : n.id, void 0 !== t[n.parentId] && (n.parentId = t[n.parentId]), n.forEach(function(n) {
                    n.ids.line = void 0 !== t[n.ids.line] ? t[n.ids.line] : n.ids.line, n.lines && n.lines.length > 0 && (n.lines = n.lines.map(function(e) {
                        return void 0 !== t[e] ? t[e] : e
                    }).filter(function(t) {
                        return void 0 !== e[t]
                    }), 0 === n.lines.length && delete n.lines)
                }), n
            })
        },
        prune: function prune(e, t) {
            return a.getNode(e, {
                line: t.line,
                move: t.move + 1
            }) ? (e[t.line] = a.deleteRemainingNodes(e[t.line], t.move), !a.isMainLine(t.line) && a.isFirstVisibleNode(e, t) && e.splice(e.findIndex(function(e) {
                return e.id === t.line
            }), 1), e.sort(function(e, t) {
                return e.id - t.id
            }).reduce(function(e, t) {
                var n = a.getNode(e, {
                    line: t.parentId,
                    move: t.atMoveNode
                });
                return (a.isMainLine(t.id) || n) && e.push(t), e
            }, [])) : e
        },
        isFirstNodeInTree: function isFirstNodeInTree(e) {
            return 0 === e.line && -1 === e.move
        },
        isFirstVisibleNode: function isFirstVisibleNode(e, t) {
            return a.isContinuation(e, t.line) ? 1 === t.move : 0 === t.move
        },
        isFirstNodeInLine: function isFirstNodeInLine(e, t) {
            return t && e && e[t.line] && e[t.line][0] && e[t.line][0].ids && e[t.line][0].ids.line === t.line && e[t.line][0].ids.move === t.move
        },
        isHead: function isHead(e, t) {
            return t && e[t.line].length - 1 === t.move || !1
        },
        getHeadIds: function getHeadIds(e, t) {
            return {
                line: t,
                move: e[t].length - 1
            }
        },
        nodeMatchesMove: function nodeMatchesMove(e, t, n) {
            var i = a.getNode(e, t);
            return !!i && (i.from === n.from && i.to === n.to && (i.promotion || null) === (n.promotion || null))
        },
        shouldMatchMove: function shouldMatchMove(e, t, n) {
            return e && 1 === t && 0 === n
        },
        getNextMatchingNode: function getNextMatchingNode(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = arguments.length > 2 ? arguments[2] : void 0,
                i = a.getNode(e, t),
                o = a.getNode(e, t.line, t.move + 1);
            return e.reduce(function(e, t) {
                return e.concat(t)
            }, []).filter(function(e) {
                return i && e.moveNumber === i.moveNumber + 1 || o && e.moveNumber === o.moveNumber
            }).filter(function(t) {
                return !!(i && t.ids.line === i.ids.line || o && t.ids.line === o.ids.line) || (!!(i && i.lines && -1 !== i.lines.indexOf(t.ids.line) && a.isContinuation(e, t.ids.line)) || !(!o || !o.lines || -1 === o.lines.indexOf(t.ids.line) || a.isContinuation(e, t.ids.line)))
            }).filter(function(t) {
                return a.nodeMatchesMove(e, t.ids, n)
            }).sort(function(e, t) {
                return e.ids.line - t.ids.line
            })[0] || null
        },
        clearNode: function clearNode(e, t) {
            var n = a.getNode(e, t);
            return n ? (delete n.comment, delete n.annotation, n) : null
        },
        findNode: function findNode(e) {
            var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                i = arguments.length > 2 ? arguments[2] : void 0,
                o = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
            if (!e || void 0 === n.line) return null;
            if ("string" == typeof i) switch (n.move) {
                case "begin":
                    n.move = 0;
                    break;
                case "end":
                    n.move = e[0].length - 1
            } else if (void 0 === n.move) return e[n.line];
            return i && 0 !== Math.abs(i) && (n = new Array(Math.abs(i)).fill(i / Math.abs(i)).reduce(function(n, i) {
                if (null === n) return null;
                var r = a.isContinuation(e, n.line),
                    s = a.getNextNodeIds(n, i);
                if (a.getNode(e, s) && (-1 !== i || !r || 0 !== s.move)) return s;
                switch (i) {
                    case 1:
                        return o ? n : null !== (t = a.getNextContinuationLineId(e, n)) ? {
                            line: t,
                            move: 1
                        } : null;
                    case -1:
                        return s = r ? a.getParentNodeIds(e, n) : a.getNextNodeIds(a.getParentNodeIds(e, n), -1), a.getNode(e, s) ? s : n;
                    default:
                        return null
                }
            }, n)), a.getNode(e, n) || null
        },
        clearNodeMarkings: function clearNodeMarkings(e, t) {
            var n = a.getNode(e, t);
            return n ? (delete n.squares, delete n.arrows, delete n.effects, n) : null
        },
        clearNodeAnalysis: function clearNodeAnalysis(e, t) {
            var n = a.getNode(e, t);
            return n ? (delete n.comment, delete n.annotation, delete n.additionalAnnotation, n) : null
        },
        clearAllMarkings: function clearAllMarkings(e) {
            return e ? (e.forEach(function(t) {
                t.length > 0 && t.forEach(function(t) {
                    return a.clearNodeMarkings(e, {
                        line: t.ids.line,
                        move: t.ids.move
                    })
                })
            }), e) : null
        },
        clearAnalysis: function clearAnalysis(e) {
            return e ? (e.forEach(function(t) {
                t.length > 0 && t.forEach(function(t) {
                    return a.clearNodeAnalysis(e, {
                        line: t.ids.line,
                        move: t.ids.move
                    })
                })
            }), e) : null
        }
    }
}, function(e, t, n) {
    e.exports = n(26)(5)
}, function(e, t, n) {
    "use strict";
    var a = n(21),
        i = n(2),
        o = n(50),
        r = n(22);
    n.d(t, "a", function() {
        return s
    });
    var s = {
        createJce: function createJce(e) {
            var t = Object.assign({}, e, {
                analysis: !0
            });
            return a.default.createGame(t) || null
        },
        updateIdsFromJce: function updateIdsFromJce(e) {
            return e && e.jce ? (e.tree.selected = e.jce.ids(), e) : null
        },
        getSelectedIds: function getSelectedIds(e) {
            return e.jce.ids()
        },
        getPositionInfo: function getPositionInfo(e) {
            var t = a.default.getPositionInfo({
                game: e.jce
            }, {
                skipValidation: !0,
                getLegalMoves: !0
            });
            return e.settings.premoves ? t.legalPremoves = s.getLegalPremoves(e) : t.legalPremoves = [], t
        },
        getPositionDetails: function getPositionDetails(e) {
            return Object.assign(a.default.getPositionDetails({
                game: e.jce,
                kings: !1,
                skipValidation: !0
            }), {
                hand: s.getHand(e)
            })
        },
        addExtraCastlingMoves: function addExtraCastlingMoves(e) {
            e.setup.legalMoves.forEach(function(t) {
                16 !== t.flags && 32 !== t.flags || ("chess960" === e.variant ? s.addCastlingMoves960(e, t) : s.addCastlingMoves(e, t))
            })
        },
        addCastlingMoves: function addCastlingMoves(e, t) {
            var n = 1 === t.color ? 1 : 8;
            (16 === t.flags ? [8] : [1, 2]).forEach(function(a) {
                e.setup.legalMoves.push({
                    color: t.color,
                    flags: t.flags,
                    piece: "k",
                    from: t.from,
                    san: 16 === t.flags ? "O-O" : "O-O-O",
                    to: r.a.getSanFromFileRank({
                        file: a,
                        rank: n
                    })
                })
            })
        },
        addCastlingMoves960: function addCastlingMoves960(e, t) {
            for (var n = r.a.getFileRankFromSan(t.from).rank, a = 1, i = 0; i < 2;) {
                var o = r.a.getPieceAt(e, {
                    file: a,
                    rank: n
                });
                void 0 !== o && "r" === o.type && i++, (1 === i && 32 === t.flags || 2 === i && 16 === t.flags) && e.setup.legalMoves.push({
                    color: t.color,
                    flags: t.flags,
                    piece: "k",
                    from: t.from,
                    san: 16 === t.flags ? "O-O" : "O-O-O",
                    to: r.a.getSanFromFileRank({
                        file: a,
                        rank: n
                    })
                })
            }
            a++
        },
        getHeaders: function getHeaders(e) {
            return e.jce.header()
        },
        getFen: function getFen(e) {
            return e.jce.fen()
        },
        getPgn: function getPgn(e, t) {
            return e.jce.pgn(t)
        },
        getPremoves: function getPremoves(e) {
            return e.jce.premoves
        },
        getHand: function getHand(e) {
            return e.jce.hand()
        },
        getChecks: function getChecks(e) {
            return e.jce.checks()
        },
        getLegalPremoves: function getLegalPremoves(e) {
            return a.default.getPremoves(e.jce.premoves && e.jce.premoves.length > 0 ? e.jce.premoves[e.jce.premoves.length - 1].fen : e.jce.fen(), e.setup.playingAs, e.variant)
        },
        load: function load(e, t) {
            return e.jce.load(t) && s.updateIdsFromJce(e), e
        },
        loadPgn: function loadPgn(e, t) {
            return e.jce.loadPgn(t) && s.updateIdsFromJce(e), e
        },
        createVariation: function createVariation(e) {
            return e.jce.createVariation() && (e.jce.reorderLines(), s.updateIdsFromJce(e)), e
        },
        getJCEMove: function getJCEMove(e, t) {
            var n = t;
            return s.isValidMoveObject(t) ? (n.san ? n = a.default.sanToObj(n.san, s.getFen(e), e.variant) : n.tcn && (n = a.default.decodeTCN(n.tcn)[0]), n) : null
        },
        move: function move(e, t) {
            var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            if (!t) return null;
            var a = !1;
            if (!1 === n) {
                var i = t.from ? e.jce.get(t.from) : null,
                    o = t.to ? e.jce.get(t.to) : null;
                if (i && o && "k" === o.type) return null;
                e.jce.remove(t.to), e.jce.remove(t.from);
                var r = t.drop || t.put;
                a = e.jce.put(i || {
                    type: r.toLowerCase(),
                    color: r && r.toUpperCase() === r ? 1 : 2
                }, t.to), t.from && i && null === t.to && (a = !0)
            } else t.drop && (t.drop = t.drop.toLowerCase()), a = e.jce.move(t);
            return a && s.updateIdsFromJce(e), a
        },
        selectLine: function selectLine(e, t) {
            var n = i.a.getLine(e.tree.lines, t);
            return n && (e.jce.selectLine(t), e.tree.selected = {
                line: t,
                move: n.length - 1
            }), e
        },
        selectNode: function selectNode(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                line: 0,
                move: 0
            };
            return e.jce.selectPosition(t.move, t.line), e
        },
        updateHeaders: function updateHeaders(e, t) {
            return e.jce.header(t)
        },
        clear: function clear(e) {
            return e.jce.clear(e.variant)
        },
        isFileRankEqual: function isFileRankEqual(e, t) {
            return e.file && t.file && e.rank && t.rank && e.file === t.file && e.rank === t.rank
        },
        isValidMoveObject: function isValidMoveObject(e) {
            return "string" == typeof e.from && "string" == typeof e.to || "string" == typeof e.san || "string" == typeof e.tcn || !e.from && "string" == typeof e.to && "string" == typeof e.drop || null === e.to && "string" == typeof e.from || !e.from && "string" == typeof e.to && "string" == typeof e.put
        },
        movesMatch: function movesMatch(e, t) {
            return !(e.from !== t.from || e.to !== t.to || e.promotion && e.promotion !== t.promotion || e.drop && e.drop !== t.drop)
        },
        getMoveNumber: function getMoveNumber(e, t) {
            return 1 === e ? Math.ceil(t / 2 + 1) : Math.floor(t / 2 + 1)
        },
        isUserTurn: function isUserTurn(e) {
            return e.setup.playingAs === e.setup.sideToMove
        },
        getFens: function getFens(e) {
            var t = [e.setup.fen];
            return (e.tree.lines || n(44).default.state.lines)[0].forEach(function(e) {
                t.push(e.fen)
            }), t
        },
        getLastTcn: function getLastTcn(e) {
            var t = o.a.getTcn(e);
            return t.substr(t.length - 2)
        },
        getSanMoves: function getSanMoves(e, t) {
            var a = [];
            return (e.tree.lines || n(44).default.state.lines)[0].some(function(e, n) {
                return "number" == typeof t && n >= t || (a.push(e.san), !1)
            }), a
        }
    }
}, function(e, t, n) {
    "use strict";

    function normalizeComponent(e, t, n, a, i, o, r, s) {
        var l, c = "function" == typeof e ? e.options : e;
        if (t && (c.render = t, c.staticRenderFns = n, c._compiled = !0), a && (c.functional = !0), o && (c._scopeId = "data-v-" + o), r ? (l = function(e) {
                (e = e || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (e = __VUE_SSR_CONTEXT__), i && i.call(this, e), e && e._registeredComponents && e._registeredComponents.add(r)
            }, c._ssrRegister = l) : i && (l = s ? function() {
                i.call(this, this.$root.$options.shadowRoot)
            } : i), l)
            if (c.functional) {
                c._injectStyles = l;
                var u = c.render;
                c.render = function renderWithStyleInjection(e, t) {
                    return l.call(t), u(e, t)
                }
            } else {
                var d = c.beforeCreate;
                c.beforeCreate = d ? [].concat(d, l) : [l]
            }
        return {
            exports: e,
            options: c
        }
    }
    n.d(t, "a", function() {
        return normalizeComponent
    })
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return c
    });
    var a = n(3),
        i = n.n(a),
        o = n(2),
        r = n(4);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var s = {},
        l = {
            q: 9,
            r: 5,
            b: 3,
            n: 3,
            p: 1,
            k: 0
        },
        c = {
            getInitialSettings: function getInitialSettings() {
                return {
                    variations: !1,
                    analysis: !1,
                    mainLineIsImmutable: !1,
                    rules: !0,
                    premoves: !1,
                    GTM: !1
                }
            },
            getInitialSetup: function getInitialSetup() {
                return {
                    ranks: 8,
                    files: 8
                }
            },
            getInitialTree: function getInitialTree() {
                return {
                    initialMarkings: {
                        arrows: [],
                        effects: [],
                        squares: []
                    }
                }
            },
            getInitialMarkings: function getInitialMarkings() {
                return {
                    arrows: [],
                    blinkingSquares: [],
                    effects: [],
                    squares: []
                }
            },
            clearState: function clearState(e) {
                return e.setup = c.getInitialSetup(), e
            },
            updateState: function updateState(e) {
                e.setup = Object.assign({}, e.setup, r.a.getPositionInfo(e), r.a.getPositionDetails(e)), r.a.addExtraCastlingMoves(e), e.tree.lines = o.a.getLinesFromJce(e), e.tree.selected = e.jce.ids(), e.tree.selectedNode = o.a.getSelectedNode(e), e.setup.capturedPieces = c.getCapturedPieces(e.setup), e.setup.capturedScores = c.getCapturedScores(e.setup), e.setup.result = c.getResult(e), e.premoves = r.a.getPremoves(e), e.variant = r.a.getHeaders(e).Variant || e.variant, e.startingMoveNumber = e.setup.moveNumber;
                var t = o.a.getNode(e.tree.lines, r.a.getSelectedIds(e)) || e.tree.initialMarkings;
                return t && (e.markings.squares = t.squares ? t.squares.map(function(e) {
                    return _objectSpread({}, e)
                }) : [], e.markings.arrows = t.arrows ? t.arrows.map(function(e) {
                    return _objectSpread({}, e)
                }) : [], e.setup.effects ? e.markings.effects = e.setup.effects : t.effects ? e.markings.effects = t.effects.map(function(e) {
                    return _objectSpread({}, e)
                }) : e.markings.effects = []), s[e.id] = !0, e.sibling && !s[e.sibling.id] && (e.sibling = c.updateState(e.sibling)), s = {}, e
            },
            getCapturedPieces: function getCapturedPieces(e) {
                return e.pieces.reduce(function(e, t) {
                    if ("k" === t.type) return e;
                    var n = t.promoted ? "p" : t.type;
                    return e[t.color - 1][n] -= 1, e
                }, [{
                    p: 8,
                    n: 2,
                    b: 2,
                    r: 2,
                    q: 1
                }, {
                    p: 8,
                    n: 2,
                    b: 2,
                    r: 2,
                    q: 1
                }])
            },
            getCapturedScores: function getCapturedScores(e) {
                return e.pieces.reduce(function(e, t) {
                    return e[t.color - 1] += l[t.type], e
                }, [0, 0])
            },
            getResult: function getResult(e) {
                var t = r.a.getHeaders(e).Result;
                return "*" !== t ? t : e.setup.insufficient || e.setup.stalemate ? "1/2-1/2" : e.setup.gameOver && !e.setup.draw ? 1 === e.setup.sideToMove ? "0-1" : "1-0" : "*"
            }
        }
}, function(e, t, n) {
    "use strict";
    t.a = new class Router {
        constructor() {
            this.baseUrl = null, null == window.Routing && (window.Routing = {
                generate: function generate(e) {
                    return e
                }
            })
        }
        generate(e, t, n) {
            var a = t || {},
                i = this.baseUrl || a.baseUrl || null;
            return "string" == typeof a.username && (a.username = a.username.toLowerCase()), null != i ? (delete a.baseUrl, i + window.Routing.generate(e, a, !1)) : window.Routing.generate(e, a, n)
        }
        setBaseUrl(e) {
            this.baseUrl = e
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    });
    var a = n(7),
        i = function generateRoute(e, t, n) {
            var i = e,
                o = t;
            if (n) {
                var r = document.querySelector("[data-url-locale]"),
                    s = r && r.getAttribute("data-url-locale"),
                    l = s && "en" !== s.split("_")[0] && s.split("_")[0];
                l && o && (i = "i18n_".concat(i), o._locale = l)
            }
            return a.a.generate(i, o)
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    }), n.d(t, "c", function() {
        return s
    }), n.d(t, "h", function() {
        return l
    }), n.d(t, "f", function() {
        return c
    }), n.d(t, "d", function() {
        return u
    }), n.d(t, "g", function() {
        return d
    }), n.d(t, "e", function() {
        return p
    });
    var a = n(7),
        i = n(0),
        o = {
            ARIA_CONTROLS: "aria-controls",
            AVATAR: "data-avatar",
            CUSTOM_BTN_CLASS: "data-custom-btn-class",
            CUSTOM_COLLAPSE_CLASS: "data-custom-collapse-class",
            DARK_MODE: "data-dark-mode",
            ICON_BUTTON: "data-icon-button",
            STATS: "data-stats",
            SURVEY_DATA: "data-survey",
            SURVEY_VOTED: "data-voted-survey",
            USERNAME: "data-username",
            VS_STATS: "data-vs-stats"
        },
        r = {
            getArticleAuthors: "web_article_callback_list_authors",
            getBlogAuthors: "web_blog_callback_authors",
            getContent: "web_content_callback_load_more",
            getNewsAuthors: "web_news_callback_list_authors"
        },
        s = {
            GRID_VIEW: "grid",
            LIST_VIEW: "list",
            LOCALE: window.context && window.context.locale || "en_US",
            LOGGED_IN: window.context && window.context.user,
            USERNAME: window.context && window.context.user ? window.context.user.username : null
        },
        l = {
            category: function category(e) {
                return i.a.trans(e, {}, "dynamic")
            },
            loading: i.a.trans("Loading..."),
            showMore: i.a.trans("More"),
            showLess: i.a.trans("Less")
        },
        c = {
            AMPLITUDE_LOGGER: "amplitude-logger",
            BASE_CONTAINER: ".base-container",
            BOARD_POPOVER: "v-board-popover",
            CAPTCHA: "captcha",
            COLLAPSE: "v-toggle-collapse",
            COLLAPSED: "toggle-collapsed",
            CONTENT_AD: "content-ad",
            CONTENT_CATEGORY_SELECT: "content-category-select",
            CONTENT_LANGUAGE_SELECT: "content-language-select",
            CONFIRM_OPEN: "confirm-open",
            CONFIRM_POPOVER: "v-confirm-popover",
            CONFIRM_POPOVER_INLINE: "confirm-popover-inline",
            FEATURE_SIDEBAR_LINK: "post-category-link-feature",
            FILTERS: "page-filters",
            FORM_DATEPICKER: "v-datepicker",
            FORM_DROPDOWN: "form-dropdown",
            GAME_PREVIEW: "game-preview",
            GIFT_MEMBERSHIP_MODAL: "gift-membership-modal",
            HEADLINE_SIDEBAR_LINK: "post-category-link-headline",
            HIDDEN: "toggle-hidden",
            LANGUAGE_DROPDOWN: "post-view-languages",
            MESSAGE_PARENT: "vue-message",
            NAVIGATION_FOOTER: "navigation-footer",
            NEW_GAME: "new-game",
            NEW_GAME_BUTTON: "new-game-button",
            PAGINATION_BOTTOM: "pagination-bottom",
            PAGINATION_TOP: "pagination-top",
            POST_AUTHOR_FOLLOW: "post-author-follow",
            POST_CAN_EDIT_URL: "post-can-edit-url",
            POST_EDIT_URL: "post-edit-url",
            POST_EDIT_URL_FIELD: "post-edit-url-field",
            POST_IMAGE_BUTTON: "image-upload-button",
            POST_IMAGE_THUMBNAIL: "image-upload-thumbnail",
            SCROLL_TOP_ANCHOR: "scroll-top-anchor",
            SHORT_SIDEBAR_AD_BOTTOM: "short-sidebar-ad-bottom",
            SHORT_SIDEBAR_AD_TOP: "short-sidebar-ad-top",
            SIDEBAR_STATS: "sidebar-stats",
            SIDEBAR_SURVEY: "sidebar-survey",
            SIDEBAR_TOGGLE_BUTTON_TEXT: "toggle-content-button-text",
            SIDEBAR_TOGGLE_ICON: "toggle-content-icon",
            SIDEBAR_USER_ITEMS: "sidebar-users-grid-toggle-item",
            SIDEBAR_USERS_TOGGLE_BUTTON: "toggle-content-button",
            STAT_CHART: "stat-chart",
            TOOLTIP: "v-tooltip",
            TOOLTIP_CLASS: "tooltip",
            TOOLTIP_TOP: "top",
            USER_POPOVER: "v-user-popover",
            USER_TAGLINE: "post-view-meta-user",
            VERSION_DROPDOWN: "version-dropdown"
        },
        u = {
            SHOW_MODAL: "show-confirm-popover",
            VOTE_COUNTED: "vote-counted",
            VIEW_CHANGE: "view-change",
            VIEW_GRID: "view-grid",
            VIEW_LIST: "view-list"
        },
        d = {
            changeContentLanguage: function changeContentLanguage() {
                return a.a.generate("web_user_callback_set_content_language")
            },
            enPassant: function enPassant() {
                return a.a.generate("web_article_view", {
                    url: "how-to-capture-en-passant"
                })
            },
            surveyVote: function surveyVote(e, t) {
                return a.a.generate("web_survey_callback_vote", {
                    id: e,
                    optionId: t
                })
            },
            redirectToLoginPage: function redirectToLoginPage(e) {
                return a.a.generate("web_security_login_and_go", {
                    redirectUrl: e
                })
            },
            teamMatch: function teamMatch(e) {
                return a.a.generate("web_team_match_view", {
                    match: e
                })
            },
            tournament: function tournament(e) {
                return a.a.generate("web_tournament_view", {
                    url: e
                })
            },
            userProfile: function userProfile(e) {
                return a.a.generate("web_member_view", {
                    username: e
                })
            }
        },
        p = JSON.parse(localStorage.getItem("json_settings"))
}, function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return s
    }), n.d(t, "c", function() {
        return l
    }), n.d(t, "a", function() {
        return c
    });
    var a = n(51),
        i = n.n(a);
    i.a.placeHolderPrefix = "", i.a.placeHolderSuffix = "";
    var o = function escapeParameters(e) {
            var t = {};
            return null != e && Object.keys(e).forEach(function(n) {
                var a = function escapeRegExp(e) {
                    return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
                }(n);
                null != a && a.length > 0 && (t[a] = e[n])
            }), t
        },
        r = function getTranslatedPhrase(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "messages",
                n = arguments.length > 2 ? arguments[2] : void 0;
            return window.chesscom_translations && window.chesscom_translations[t] && window.chesscom_translations[t][e] ? window.chesscom_translations[t][e] : window.chesscom_live_translations && window.chesscom_live_translations[t] && window.chesscom_live_translations[t][e] ? window.chesscom_live_translations[t][e] : "live" === t && window.i18n_phrases && window.i18n_phrases[e] ? window.i18n_phrases : "countries" === t && window.Country && window.Country[e] ? window.Country : n ? void 0 : "javascript" !== t ? getTranslatedPhrase(e, "javascript") : e
        },
        s = function trans(e, t, n) {
            return i.a.trans(r(e, n), o(t), n)
        },
        l = function transChoice(e, t, n, a) {
            return void 0 === t ? "" : i.a.transChoice(r(e, a), t, o(n))
        },
        c = {
            trans: s,
            transChoice: l
        }
}, function(e, t, n) {
    e.exports = n(26)(2)
}, function(e, t, n) {
    "use strict";
    n.d(t, "d", function() {
        return c
    }), n.d(t, "e", function() {
        return u
    }), n.d(t, "g", function() {
        return d
    }), n.d(t, "c", function() {
        return p
    }), n.d(t, "b", function() {
        return h
    }), n.d(t, "a", function() {
        return m
    }), n.d(t, "n", function() {
        return f
    }), n.d(t, "o", function() {
        return g
    }), n.d(t, "p", function() {
        return b
    }), n.d(t, "k", function() {
        return v
    }), n.d(t, "l", function() {
        return y
    }), n.d(t, "m", function() {
        return _
    }), n.d(t, "h", function() {
        return w
    }), n.d(t, "j", function() {
        return O
    }), n.d(t, "i", function() {
        return k
    }), n.d(t, "f", function() {
        return S
    });
    var a, i, o = n(3),
        r = n.n(o),
        s = n(7),
        l = n(0);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var c = {
            CAN_EDIT_FLAIR: "data-can-edit-flair",
            IS_ENABLED: "data-is-enabled",
            MEMBERSHIP_LEVEL: "data-membership-level",
            USERNAME: "data-username",
            USER_ID: "data-user-id"
        },
        u = {
            REPORT_USER: "web_user_callback_report_user",
            USER_POPUP: "web_user_callback_popup"
        },
        d = [{
            key: "membership_icons",
            title: l.a.trans("Membership Icons")
        }, {
            key: "emoji",
            title: l.a.trans("Emoji")
        }, {
            key: "chess",
            title: l.a.trans("Chess")
        }, {
            key: "holiday",
            title: l.a.trans("Holiday")
        }, {
            key: "hosts",
            title: l.a.trans("Hosts")
        }, {
            key: "computer_chess",
            title: l.a.trans("Computer Chess")
        }, {
            key: "pro_chess_league",
            title: l.a.trans("PRO Chess League")
        }],
        p = {
            category: "membership_icons",
            code: "nothing",
            description: l.a.trans("Nothing"),
            id: 206,
            imageCode: "nothing",
            membershipLevelCode: "staff",
            name: l.a.trans("Nothing"),
            status: ""
        },
        h = "diamond_traditional",
        m = ["blocked", "clear", "clear_light"],
        f = {
            USER_POPOVER_CONTAINER: "user-popover",
            USER_FLAIR: "user-flair"
        },
        g = {
            about: function about() {
                return s.a.generate("web_about")
            },
            membership: function membership() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "icon";
                return s.a.generate("web_membership", {
                    c: e
                })
            },
            usernameSearch: function usernameSearch(e) {
                return s.a.generate("web_user_callback_username_search", function _objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? ownKeys(n, !0).forEach(function(t) {
                            r()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({
                    activeDays: 4e3
                }, e))
            }
        },
        b = {
            acceptFriendRequest: l.a.trans("Accept Friend Request"),
            addFriend: l.a.trans("Add Friend"),
            block: l.a.trans("Block"),
            blockConfirm: l.a.trans("Are you sure you want to block this user?"),
            cancel: l.a.trans("Cancel"),
            cancelFriendRequest: l.a.trans("Cancel Friend Request"),
            challenge: l.a.trans("Challenge"),
            follow: l.a.trans("Follow"),
            gameArchive: l.a.trans("Game Archive"),
            giftMembership: l.a.trans("Gift Membership"),
            giveTrophy: l.a.trans("Give Award"),
            joinedDate: function joinedDate(e) {
                return l.a.trans("Joined %1$s%", {
                    "%1$s%": e
                })
            },
            lastOnline: function lastOnline(e) {
                return l.a.trans("Online %1$s%", {
                    "%1$s%": e
                })
            },
            moderator: l.a.trans("Moderator"),
            onlineNow: l.a.trans("Online Now"),
            inLiveNow: l.a.trans("In Live"),
            removeFriend: l.a.trans("Remove Friend"),
            removeFriendConfirm: l.a.trans("Are you sure you want to remove this friend from your list?"),
            report: l.a.trans("Report"),
            reportUser: function reportUser(e) {
                return l.a.trans("Report %username%", {
                    "%username%": e
                })
            },
            sendMessage: l.a.trans("Send Message"),
            showYourFlair: l.a.trans("Show your flair!"),
            staff: l.a.trans("Staff"),
            unblock: l.a.trans("Unblock"),
            unfollow: l.a.trans("Unfollow"),
            userReportError: l.a.trans("Tell us more...")
        },
        v = {
            cheater: 5,
            abuser: 6,
            voluntarilyClosed: 7,
            unspecifiedClosed: 8,
            basic: 10,
            silver: 20,
            gold: 30,
            platinum: 40,
            diamond: 50,
            moderator: 80,
            staff: 90
        },
        y = (a = {}, r()(a, v.diamond, "diamond"), r()(a, v.abuser, "abuser"), r()(a, v.cheater, "cheater"), r()(a, v.voluntarilyClosed, "inactive"), r()(a, v.unspecifiedClosed, "cheater"), r()(a, v.gold, "gold"), r()(a, v.moderator, "pawn-blue"), r()(a, v.platinum, "platinum"), r()(a, v.staff, "pawn-green"), a),
        _ = (i = {}, r()(i, v.basic, l.a.trans("Basic Membership")), r()(i, v.diamond, l.a.trans("Diamond Membership")), r()(i, v.cheater, l.a.trans("Closed: Fair Play")), r()(i, v.abuser, l.a.trans("Closed: Abuse")), r()(i, v.voluntarilyClosed, l.a.trans("Closed: Inactive")), r()(i, v.unspecifiedClosed, l.a.trans("Account Closed")), r()(i, v.gold, l.a.trans("Gold Membership")), r()(i, v.moderator, l.a.trans("Moderator Account")), r()(i, v.platinum, l.a.trans("Platinum Membership")), r()(i, v.silver, l.a.trans("Silver Membership")), r()(i, v.staff, l.a.trans("Staff Account")), i),
        w = {
            GM: l.a.trans("Grandmaster"),
            WGM: l.a.trans("Woman Grandmaster"),
            IM: l.a.trans("International Master"),
            WIM: l.a.trans("Woman International Master"),
            FM: l.a.trans("FIDE Master"),
            WFM: l.a.trans("Woman FIDE Master"),
            NM: l.a.trans("National Master"),
            CM: l.a.trans("FIDE Candidate Master"),
            WCM: l.a.trans("FIDE Woman Candidate Master"),
            WNM: l.a.trans("Woman National Master")
        },
        O = function isOnline(e) {
            return !0 === e || "online" === e
        },
        k = function isLive(e) {
            return "onlive" === e
        },
        S = {
            AUTOCOMPLETE_CLEAR_SELECTED: "form-autocomplete-clear-selected"
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    }), n.d(t, "b", function() {
        return o
    }), n.d(t, "e", function() {
        return r
    }), n.d(t, "f", function() {
        return s
    }), n.d(t, "g", function() {
        return l
    }), n.d(t, "d", function() {
        return c
    }), n.d(t, "c", function() {
        return u
    });
    var a = n(0),
        i = 4e3,
        o = {
            badRequest: a.a.trans("There was an error processing the request. Please try again.")
        },
        r = {
            avatarUploaded: a.a.trans("Avatar uploaded"),
            commentCreated: a.a.trans("Thank you for your comment."),
            commentDeleted: a.a.trans("Comment deleted."),
            commentEmptyContent: a.a.trans("You cannot send an empty comment"),
            commentMarkedAsSpam: a.a.trans("Comment marked as spam."),
            commentUpdated: a.a.trans("Comment updated."),
            commentLinkCopied: a.a.trans("Comment link is copied to clipboard"),
            forumsMarkedAsRead: a.a.trans("All forum topics have been marked as read"),
            featureBlog: a.a.trans("Feature Set! It might take a minute or two to appear."),
            pgnCopied: a.a.trans("PGN copied to buffer")
        },
        s = {
            ALERT_FLASH_CONTAINER: "widget-alert-flash",
            DISMISSING: "alert-banner-dismissing"
        },
        l = {
            error: "error",
            info: "info",
            success: "success"
        },
        c = "create-header-alert",
        u = {
            type: l.error,
            message: o.badRequest
        }
}, , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    }), n.d(t, "c", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    }), n.d(t, "d", function() {
        return s
    });
    var a = n(86),
        i = function defaultNodeLimit() {
            return {
                begin: {},
                focus: {},
                end: {}
            }
        },
        o = {
            $1: "!",
            $2: "?",
            $3: "!!",
            $4: "??",
            $5: "!?",
            $6: "?!",
            $10: "=",
            $11: "=",
            $12: "=",
            $13: "∞",
            $14: "⩲",
            $15: "⩱",
            $16: "±",
            $17: "∓",
            $18: "+-",
            $19: "-+",
            $22: "⨀",
            $146: "N"
        },
        r = Object(a.b)(o),
        s = {
            DIAGRAM_EDITOR: "diagram-editor-container"
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return c
    });
    var a = n(3),
        i = n.n(a),
        o = n(4),
        r = n(2),
        s = n(1),
        l = n(6);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var c = function selectNode(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
            a = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
            c = r.a.findNode(e.jce._lines(), t, n, a),
            u = function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, e.tree.selected),
            d = u.line,
            p = u.move;
        if (!c) return e;
        var h = {};
        return h = t.move + n < 0 && t.line === c.ids.line ? {
            line: 0,
            move: -1
        } : c.ids, o.a.selectNode(e, h), s.b.add(e.history, s.a.JUMP_TO_POSITION, {
            from: {
                line: d,
                move: p
            },
            to: h
        }), l.a.updateState(e)
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "h", function() {
        return r
    }), n.d(t, "f", function() {
        return s
    }), n.d(t, "g", function() {
        return l
    }), n.d(t, "b", function() {
        return c
    }), n.d(t, "a", function() {
        return u
    }), n.d(t, "c", function() {
        return d
    }), n.d(t, "i", function() {
        return p
    }), n.d(t, "j", function() {
        return h
    }), n.d(t, "d", function() {
        return m
    }), n.d(t, "e", function() {
        return f
    });
    var a = n(303),
        i = (n(7), n(12)),
        o = window.context,
        r = function isLoggedIn() {
            return !(!o || !o.user || Object(a.a)())
        },
        s = function isEnabled() {
            return !(!r() || !o.user.isEnabled)
        },
        l = function isImpersonating() {
            return !(!r() || !o.user.isImpersonating)
        },
        c = function eligibleFirstTrial() {
            return !(!r() || !o.user.eligibleFirstTrial)
        },
        u = function checkUserStatus(e) {
            if (!r()) return !1;
            var t = !1;
            switch (e) {
                case "isActivated":
                    t = o.user.isActivated;
                    break;
                case "isStaff":
                    t = o.user.membershipLevel >= i.k.staff;
                    break;
                case "isStaffOnly":
                    t = o.user.membershipLevel === i.k.staff;
                    break;
                case "isModerator":
                    t = o.user.membershipLevel >= i.k.moderator;
                    break;
                case "isModeratorOnly":
                    t = o.user.membershipLevel === i.k.moderator;
                    break;
                case "isDiamond":
                    t = o.user.membershipLevel >= i.k.diamond;
                    break;
                case "isDiamondOnly":
                    t = o.user.membershipLevel === i.k.diamond;
                    break;
                case "isPlatinum":
                    t = o.user.membershipLevel >= i.k.platinum;
                    break;
                case "isPlatinumOnly":
                    t = o.user.membershipLevel === i.k.platinum;
                    break;
                case "isSilver":
                    t = o.user.membershipLevel >= i.k.silver;
                    break;
                case "isSilverOnly":
                    t = o.user.membershipLevel === i.k.silver;
                    break;
                case "isGold":
                    t = o.user.membershipLevel >= i.k.gold;
                    break;
                case "isGoldOnly":
                    t = o.user.membershipLevel === i.k.gold;
                    break;
                case "isPremium":
                    t = o.user.membershipLevel >= i.k.silver;
                    break;
                case "isBasic":
                    t = o.user.membershipLevel === i.k.basic;
                    break;
                case "chessTitle":
                    t = o.user.chessTitle;
                    break;
                default:
                    t = !1
            }
            return t
        },
        d = function getAdditionalUserInfo(e) {
            if (!r()) return "diagramSettings" === e ? {} : null;
            var t = !1;
            switch (e) {
                case "cohort":
                    t = o.user.cohort;
                    break;
                case "flairCode":
                    t = o.user.flairCode;
                    break;
                case "getUserId":
                    t = o.user.id;
                    break;
                case "getUsername":
                    t = o.user.username;
                    break;
                case "getAvatarUrl":
                    t = o.user.avatarUrl;
                    break;
                case "getAvatarLargeUrl":
                    t = o.user.avatarLargeUrl;
                    break;
                case "getSettingsAvatarUrl":
                    t = o.user.settingsAvatarUrl;
                    break;
                case "getLastLoginDate":
                    t = o.user.lastLoginDate;
                    break;
                case "registerDate":
                    t = o.user.registerDate;
                    break;
                case "getBrowserTimezone":
                    t = window.jstz.determine().name();
                    break;
                case "getTimezone":
                    t = o.user.timezone;
                    break;
                case "getDiagramSettings":
                    t = o.diagramSettings;
                    break;
                case "language":
                    t = o.i18n.locale;
                    break;
                case "contentLanguage":
                    t = o.i18n.contentLanguage;
                    break;
                case "speaksEnglish":
                    t = "en_US" === o.i18n.locale;
                    break;
                case "eligibleFirstTrial":
                    t = o.user.eligibleFirstTrial;
                    break;
                case "fairPlayAgree":
                    t = o.user.fairPlayAgree;
                    break;
                case "getArchiveView":
                    t = o.user.archiveView ? o.user.archiveView : "grid";
                    break;
                case "homeContentType":
                    t = "following";
                    break;
                case "showAlertsOnHome":
                    t = o.user.showAlertsOnHome;
                    break;
                case "getMembershipLevel":
                    t = o.user.membershipLevel;
                    break;
                case "isClassicTheme":
                    t = o.user.isClassicTheme;
                    break;
                case "isContentHidden":
                    t = o.user.isContentHidden;
                    break;
                case "isDarkMode":
                    t = o.user.isDarkMode;
                    break;
                case "isUserTwitchSub":
                    t = o.user.isUserTwitchSub;
                    break;
                case "safeMode":
                    t = o.user.safeMode;
                    break;
                case "uuid":
                    t = o.user.uuid;
                    break;
                default:
                    t = !1
            }
            return t
        },
        p = function isValidArchiveView(e) {
            return "grid" === e || "list" === e
        },
        h = function isValidHomeContentType(e) {
            return "following" === e || "my_activity" === e
        },
        m = function getFeatures() {
            return r() ? o.user.features : {}
        },
        f = function getMembershipNumber(e, t) {
            return !t && e >= i.k.basic ? i.k.unspecifiedClosed : e
        }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "icon-font",
            mixins: [{
                props: {
                    family: {
                        type: String,
                        default: "chess"
                    },
                    isDarkMode: {
                        type: Boolean,
                        default: !1
                    },
                    name: {
                        type: String,
                        required: !0
                    },
                    theme: {
                        type: String,
                        default: ""
                    }
                }
            }]
        },
        i = n(93),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", t._g({
            class: [t.$style.component, (e = {}, e[t.$style.darkMode] = t.isDarkMode, e)]
        }, t.$listeners), [a("span", {
            class: [t.$style[t.family], t.name, t.$style[t.theme]]
        })])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return formatNumber
    });
    var a = n(0);

    function getLocale() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "-";
        return (e || (Object.prototype.hasOwnProperty.call(window, "context") ? window.context.i18n.locale : "en-US")).replace("_", t)
    }
    var i = {
            year: {
                milliseconds: 31536e6,
                str: "{1} 1 year|]1,Inf] %1$s% years",
                strAgo: "{1} 1 year ago|]1,Inf] %1$s% years ago"
            },
            month: {
                milliseconds: function getMsInThisMonth() {
                    switch ((new Date).getMonth()) {
                        case 3:
                        case 5:
                        case 8:
                        case 10:
                            return 2592e6;
                        case 1:
                            return (new Date).getFullYear() % 4 == 0 ? 25056e5 : 24192e5;
                        default:
                            return 26784e5
                    }
                }(),
                str: "{1} 1 month|]1,Inf] %1$s% months",
                strAgo: "{1} 1 month ago|]1,Inf] %1$s% months ago"
            },
            day: {
                milliseconds: 864e5,
                str: "{1} 1 day|]1,Inf] %1$s% days",
                strAgo: "{1} 1 day ago|]1,Inf] %1$s% days ago"
            },
            hour: {
                milliseconds: 36e5,
                str: "{1} 1 hour|]1,Inf] %1$s% hours",
                strAgo: "{1} 1 hour ago|]1,Inf] %1$s% hours ago"
            },
            minute: {
                milliseconds: 6e4,
                str: "{1} 1 minute|]1,Inf] %1$s% minutes",
                strAgo: "{1} 1 minute ago|]1,Inf] %1$s% minutes ago"
            }
        },
        o = {
            hoursMinute: function hoursMinute(e) {
                var t, n, i = [],
                    o = 0,
                    r = e;
                return !0 === (arguments.length > 1 && void 0 !== arguments[1] && arguments[1]) && (r -= 86400 * (o = Math.floor(r / 86400))), r -= 3600 * (t = Math.floor(r / 3600)), n = Math.floor(r / 60), o > 0 && i.push(a.a.transChoice("{0} 0 days|{1} 1 day|]1,Inf] %1$s% days", o, {
                    "%1$s%": o
                })), t > 0 && i.push(a.a.transChoice("{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours", t, {
                    "%1$s%": t
                })), (n > 0 || 0 === i.length) && i.push(a.a.transChoice("{0} 0 min|{1} 1 min|]1,Inf] %1$s% min", n, {
                    "%1$s%": n
                })), i.join(" ")
            },
            long: function long() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date,
                    t = e instanceof Date ? e : new Date(e);
                return new Intl.DateTimeFormat(getLocale(), {
                    year: "numeric",
                    month: "short",
                    day: "numeric"
                }).format(t)
            },
            full: function full() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date,
                    t = e instanceof Date ? e : new Date(e);
                return new Intl.DateTimeFormat(getLocale(), {
                    year: "numeric",
                    month: "short",
                    day: "numeric",
                    hour: "numeric",
                    minute: "numeric",
                    second: "numeric",
                    timeZoneName: "short"
                }).format(t)
            },
            numeric: function numeric() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date,
                    t = e instanceof Date ? e : new Date(e);
                if (window.Intl) {
                    var n = getLocale();
                    return new Intl.DateTimeFormat(n, {
                        day: "2-digit",
                        month: "2-digit",
                        year: "numeric"
                    }).format(t)
                }
                var a = "0".concat(t.getMonth() + 1).slice(-2),
                    i = "0".concat(t.getDate()).slice(-2);
                return "".concat(a, "/").concat(i, "/").concat(t.getFullYear())
            },
            relative: function relative(e) {
                var t, n, o = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                    s = Date.now(),
                    l = (e instanceof Date ? e : new Date(e)).getTime(),
                    c = s - l;
                if (Math.abs(c) > i.month.milliseconds && o) {
                    return new Intl.DateTimeFormat(getLocale(), {
                        year: "numeric",
                        month: "short",
                        day: "numeric"
                    }).format(l)
                }
                if (c >= i.year.milliseconds) n = i.year, t = Math.abs(Math.floor(c / i.year.milliseconds));
                else if (c >= i.month.milliseconds) n = i.month, t = Math.abs(Math.floor(c / i.month.milliseconds));
                else if (c >= i.day.milliseconds) n = i.day, t = Math.abs(Math.floor(c / i.day.milliseconds));
                else if (c >= i.hour.milliseconds) n = i.hour, t = Math.abs(Math.floor(c / i.hour.milliseconds));
                else {
                    if (!(c >= i.minute.milliseconds)) return a.a.trans("Just now");
                    n = i.minute, t = Math.abs(Math.floor(c / i.minute.milliseconds))
                }
                var u = Math.abs(c) === c;
                return a.a.transChoice(u && r ? n.strAgo : n.str, t, {
                    "%1$s%": t
                })
            },
            customNumericDate: function customNumericDate() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Date,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "/",
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "m/d/y",
                    a = e instanceof Date ? e : new Date(e),
                    i = {
                        d: "0".concat(a.getDate()).slice(-2),
                        m: "0".concat(a.getMonth() + 1).slice(-2),
                        y: "".concat(a.getFullYear())
                    };
                return ["m", "d", "y"].every(function(e) {
                    return n.split("/").includes(e)
                }) ? n.split("/").reduce(function(e, t) {
                    return e.push(i[t]), e
                }, []).join(t) : "".concat(i.m).concat(t).concat(i.d).concat(t).concat(i.y)
            }
        };

    function formatNumber(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return new Intl.NumberFormat([getLocale(t), "en-US"], n).format(e)
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return s
    }), n.d(t, "c", function() {
        return l
    }), n.d(t, "i", function() {
        return c
    }), n.d(t, "e", function() {
        return u
    }), n.d(t, "g", function() {
        return d
    }), n.d(t, "j", function() {
        return p
    }), n.d(t, "d", function() {
        return h
    }), n.d(t, "l", function() {
        return m
    }), n.d(t, "f", function() {
        return f
    }), n.d(t, "h", function() {
        return g
    }), n.d(t, "b", function() {
        return b
    }), n.d(t, "k", function() {
        return v
    });
    var a = n(27),
        i = n(15),
        o = n(10),
        r = "//images.chesscomfiles.com",
        s = {
            ARCADE: "arcade",
            DEFAULT: "default",
            NATURAL: "natural",
            NONE: "none",
            SLOW: "slow"
        },
        l = {
            ALMOST_CORRECT: {
                color: "#8a8886",
                icon: a.undo
            },
            BEST_MOVE: {
                color: "#9EBA5A",
                icon: a.bestMove,
                key: "bestMove",
                label: Object(o.b)("Best Move"),
                phrase: Object(o.b)("is best")
            },
            BLUNDER: {
                annotation: i.c.$4,
                color: "#b33430",
                icon: a.blunder,
                key: "blunder",
                label: Object(o.b)("Blunder"),
                phrase: Object(o.b)("is a blunder")
            },
            BOOK: {
                icon: a.book,
                key: "book",
                label: Object(o.b)("Book"),
                phrase: Object(o.b)("is a book move")
            },
            BRILLIANT: {
                color: "#1baca6",
                icon: a.brilliant,
                key: "brilliant",
                label: Object(o.b)("Brilliant"),
                phrase: Object(o.b)("is brilliant")
            },
            CORRECT: {
                color: "#acce59",
                key: "correct",
                icon: a.correct,
                label: Object(o.b)("Correct")
            },
            CRITICAL: {
                key: "critical",
                label: Object(o.b)("Critical")
            },
            EXCELLENT: {
                color: "#5a9ac0",
                icon: a.excellent,
                key: "excellent",
                label: Object(o.b)("Excellent"),
                phrase: Object(o.b)("is excellent")
            },
            FORCED: {
                key: "forced",
                label: Object(o.b)("Forced"),
                phrase: Object(o.b)("is forced")
            },
            GOOD: {
                icon: a.good,
                key: "good",
                label: Object(o.b)("Good"),
                phrase: Object(o.b)("is good")
            },
            INACCURACY: {
                annotation: i.c.$6,
                color: "#f0c15c",
                icon: a.inaccuracy,
                key: "inaccuracy",
                label: Object(o.b)("Inaccuracy"),
                phrase: Object(o.b)("is an inaccuracy")
            },
            INCORRECT: {
                color: "#c93430",
                icon: a.incorrect,
                key: "incorrect",
                label: Object(o.b)("Incorrect")
            },
            MISSED_WIN: {
                color: "#dd5357",
                icon: a.missedWin,
                key: "missedWin",
                label: Object(o.b)("Missed Win"),
                phrase: Object(o.b)("is a missed win")
            },
            MISTAKE: {
                annotation: i.c.$2,
                color: "#e6912c",
                icon: a.mistake,
                key: "mistake",
                label: Object(o.b)("Mistake"),
                phrase: Object(o.b)("is a mistake")
            },
            STAR: {
                color: "#e6912c",
                icon: a.bestMove,
                key: "star"
            }
        },
        c = {
            COORDINATE_FILE: ".coordinates .letter"
        },
        u = {
            INSIDE: "inside",
            NONE: null,
            OUTSIDE: "outside"
        },
        d = ("".concat(r, "/b"), "".concat(r, "/b"), "".concat(r, "/b"), {
            boardStyle: "green",
            pieceStyle: "neo",
            highlightColor: "#FFFF33",
            highlightOpacity: .5,
            arrowColor: "rgb(255, 168, 0)",
            flipped: !1,
            files: 8,
            ranks: 8
        }),
        p = {
            DARK_MODE_CHANGE: "darkModeChange"
        },
        h = [{
            key: 0,
            label: Object(o.b)("None"),
            value: u.NONE
        }, {
            key: 1,
            label: Object(o.b)("Inside"),
            value: u.INSIDE
        }, {
            key: 2,
            label: Object(o.b)("Outside"),
            value: u.OUTSIDE
        }],
        m = {
            pieces: ["real3d"],
            animations: ["arcade", "natural"]
        },
        f = [{
            key: "0",
            value: null
        }, {
            key: "1",
            value: "inside"
        }, {
            key: "2",
            value: "outside"
        }],
        g = {
            board: ".board-board",
            resize: ".board-controls",
            sidebar: ".board-sidebar"
        },
        b = {
            minSidebarWidth: 300,
            boardPaddingLeft: 30
        },
        v = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var a, i, o, r = n(42),
        s = n.n(r),
        l = (a = function() {
            var e = [
                    [2637767806, 863464769],
                    [720845184, 95069639],
                    [1155203408, 610415943],
                    [2618685246, 1655139042],
                    [1971536997, 1218186377],
                    [848342074, 540017087],
                    [263957791, 1627660921],
                    [3896152207, 4076560586],
                    [226391645, 1484086288],
                    [436746274, 3467632685],
                    [2516964848, 3797861296],
                    [3491888988, 3510251221],
                    [1086189917, 1248276018],
                    [18044180, 1876255637],
                    [1572111136, 1190386149],
                    [597658413, 2146900428],
                    [97624494, 2243205793],
                    [1738507407, 1854916977],
                    [1950989311, 2149575947],
                    [2098318769, 3283594736],
                    [2194108574, 2015279052],
                    [4079062812, 2500884588],
                    [856979699, 2941369318],
                    [1270058469, 3877737539],
                    [2858720366, 3170717948],
                    [2378012835, 1387254795],
                    [2278688587, 2178388503],
                    [435406673, 3555273441],
                    [3031118064, 1655806655],
                    [2063925420, 1107589828],
                    [3376753832, 436852829],
                    [615148625, 1302492416],
                    [1285502018, 1963045959],
                    [346460119, 1016137793],
                    [2803604355, 1176288659],
                    [55085973, 2968618255],
                    [1669016372, 4287873088],
                    [164740250, 1037634196],
                    [896886403, 883023163],
                    [1935551383, 2764331555],
                    [410153072, 4055711755],
                    [533441746, 1505690343],
                    [3541084098, 3466290517],
                    [3214426080, 4267541060],
                    [2675233103, 1951705124],
                    [1374411850, 3115986997],
                    [1552073989, 3684348154],
                    [4244110986, 875606593],
                    [844343081, 3115990494],
                    [2356462440, 135999605],
                    [3116133511, 377238503],
                    [2129956651, 2197966368],
                    [299173332, 3276914047],
                    [1701379241, 745972291],
                    [1306570996, 254977976],
                    [2530644806, 214138461],
                    [1122123979, 1667800879],
                    [1831591130, 3801192033],
                    [1116211970, 920967505],
                    [1594837592, 2551651254],
                    [972591349, 2046373768],
                    [2479207924, 1935030411],
                    [1675376029, 2367888248],
                    [3960916618, 3935874422],
                    [1398143232, 3265801671],
                    [133930885, 1520005442],
                    [1351827834, 2829577566],
                    [2076951437, 2723839804],
                    [435980918, 2364847828],
                    [1668970368, 3738157273],
                    [2185864314, 3993911799],
                    [2041407829, 31969768],
                    [346864372, 2004703094],
                    [4047877822, 3437142421],
                    [3669961416, 538399484],
                    [616810829, 4190688246],
                    [3144558884, 4030272234],
                    [216165387, 2513010905],
                    [2761740594, 3216997572],
                    [3919406634, 4096014649],
                    [669429112, 2434161727],
                    [2234904640, 3111407601],
                    [1421079802, 1598085235],
                    [1924213810, 310373675],
                    [4002762044, 2067865415],
                    [2592451728, 2586110625],
                    [1890340057, 4031717877],
                    [4189625662, 2577429954],
                    [2276713138, 3049850801],
                    [2741429688, 3310307512],
                    [2924122950, 3426712818],
                    [421576781, 1193704381],
                    [2277442246, 3030264553],
                    [153237420, 595540057],
                    [4278711886, 4176286928],
                    [2380848297, 4030514510],
                    [2618700582, 1303682185],
                    [3018992701, 185284845],
                    [957243316, 1291916363],
                    [1543415220, 1898408169],
                    [504378001, 531073412],
                    [2591337657, 1692896435],
                    [1333852064, 903543556],
                    [1661259930, 188168388],
                    [561112646, 2197961224],
                    [1536910315, 2632972300],
                    [1349168372, 2307429186],
                    [411152329, 2745631190],
                    [1694697476, 1081411140],
                    [3755185459, 2631660711],
                    [4019355068, 4027326706],
                    [2066937809, 3761668332],
                    [3120395808, 3878773315],
                    [94890149, 2109283191],
                    [3045629038, 358812277],
                    [1249184265, 3465901047],
                    [3477490924, 2308583306],
                    [4114113436, 3875911716],
                    [1014604031, 1434513279],
                    [3991324799, 2222416029],
                    [2040431088, 1539915569],
                    [2253613964, 4081224332],
                    [2547464012, 1611168627],
                    [2722521980, 4281500978],
                    [71289574, 213969824],
                    [2450408597, 903689630],
                    [1894451515, 364024012],
                    [1939968537, 374938813],
                    [1447259295, 3785468557],
                    [4021046128, 1664847745],
                    [3139524504, 3562928047],
                    [1173487682, 4065269608],
                    [2467266804, 3907744866],
                    [4284945151, 3486998177],
                    [2925674454, 1953016432],
                    [3710671816, 1271453948],
                    [2129465869, 1422863833],
                    [587093076, 18243356],
                    [3373793513, 2411305257],
                    [2156648078, 1791034213],
                    [3737413652, 1534461430],
                    [468575139, 2935304962],
                    [1129551363, 3603256834],
                    [2861996892, 1763494778],
                    [2826449619, 2465197654],
                    [1704209531, 1014895022],
                    [3738359347, 3402630390],
                    [569410928, 4095796581],
                    [3021312909, 2108247612],
                    [2444777957, 2664129360],
                    [282063667, 3773661258],
                    [682545472, 3188439005],
                    [3318488457, 1917822038],
                    [1447622272, 4045023041],
                    [757420137, 4038580915],
                    [2613420942, 4146703316],
                    [4012836163, 150381244],
                    [2938127093, 3428591704],
                    [1208226490, 3086335530],
                    [2935205706, 1446903363],
                    [430957978, 3830532479],
                    [1381578755, 3757172800],
                    [4109399782, 1596778224],
                    [288855589, 1954372339],
                    [3169178148, 2256716053],
                    [2644780093, 3895892303],
                    [107966643, 1071681559],
                    [1304747544, 2607225372],
                    [1359190711, 1898207171],
                    [3229237120, 3273634996],
                    [3027167685, 3863637628],
                    [3011615298, 2883984519],
                    [564135827, 978463264],
                    [770797430, 362326607],
                    [1983662611, 1907583229],
                    [4153656423, 48268960],
                    [3609759233, 720080177],
                    [3727911466, 1270989899],
                    [200708787, 2366086947],
                    [744508026, 393422515],
                    [1213261630, 65757284],
                    [3485747185, 3845951003],
                    [2958861301, 1680248217],
                    [2598470344, 3163845864],
                    [2767997908, 4233451722],
                    [3881113485, 1492930166],
                    [1773764017, 2764062206],
                    [4189435844, 2898689174],
                    [4234838742, 1267095035],
                    [2624081078, 3302114327],
                    [2395569449, 390426320],
                    [1728307101, 690284926],
                    [3309827454, 1118258254],
                    [2028172868, 3888829086],
                    [4271523049, 909051386],
                    [146617804, 942892565],
                    [2467685867, 974297806],
                    [2483428231, 503635829],
                    [3743260573, 2018222096],
                    [1002067894, 2289153437],
                    [3535252974, 3738302271],
                    [4154611160, 1002664952],
                    [3623154244, 2349656961],
                    [3646679180, 3524329383],
                    [862933752, 4282853607],
                    [2806008282, 3272780913],
                    [2734037942, 3828874677],
                    [1328176304, 2137666995],
                    [2278785213, 2780788825],
                    [381286368, 1816476193],
                    [2074232908, 2316293454],
                    [4087773386, 3651330956],
                    [967884669, 3728964514],
                    [4239349185, 3213509668],
                    [419231360, 1463788948],
                    [1275421624, 2672384707],
                    [1088456595, 436245261],
                    [2365565249, 783696577],
                    [1758083333, 845223583],
                    [2048846183, 3530914274],
                    [2635948261, 124738415],
                    [940630937, 3069598626],
                    [839474029, 1253439921],
                    [902477345, 165479306],
                    [2836079689, 2681188273],
                    [2007115168, 2093139645],
                    [1363041891, 1282466609],
                    [1130479818, 1063857938],
                    [3644959908, 1260430427],
                    [1385135238, 46497915],
                    [1386975934, 3110156681],
                    [2635987502, 4233461619],
                    [1915744629, 4117939016],
                    [487743653, 285736599],
                    [2049219159, 3960249250],
                    [69242857, 3908563670],
                    [1511066720, 1488527520],
                    [215590039, 1703564952],
                    [1459430344, 4184955468],
                    [676103291, 2642967214],
                    [83799035, 3182827979],
                    [1949179493, 476101251],
                    [2593534694, 1493478716],
                    [2283504289, 995211746],
                    [1349412676, 3449243940],
                    [2954378677, 1878813305],
                    [249149717, 3329151870],
                    [1578231917, 1483986052],
                    [4135085182, 890874990],
                    [461755528, 3505523909],
                    [3669622373, 634949665],
                    [219487622, 2914465301],
                    [2825233742, 3703631897],
                    [2479105382, 2935590907],
                    [2582097898, 3187672881],
                    [1221328648, 1843341402],
                    [2140891889, 3958868911],
                    [1482849818, 345750049],
                    [751922730, 3178831411],
                    [3546542069, 4036458902],
                    [216179596, 877293293],
                    [444615341, 3117393729],
                    [2424254530, 494454238],
                    [1344234989, 3003337991],
                    [929188581, 2760877801],
                    [2507911009, 1879899982],
                    [980166547, 1311840394],
                    [3566535507, 1790747461],
                    [143525013, 2311336672],
                    [4181962471, 4273938872],
                    [1815842366, 862009811],
                    [911175674, 1179575598],
                    [3591335374, 3694215714],
                    [1452686093, 3393294272],
                    [385158879, 2447709103],
                    [4011414929, 1264623507],
                    [1448477120, 911094312],
                    [3971299641, 2289992053],
                    [3133647265, 2234591563],
                    [3007628400, 964409938],
                    [1708345684, 3673411261],
                    [3031964479, 2843021794],
                    [3022128657, 2480338599],
                    [118850112, 473449293],
                    [2048127371, 3202109429],
                    [3158349745, 382018770],
                    [1505327237, 3807570472],
                    [2568424029, 3272693060],
                    [1866609495, 3888556537],
                    [844703982, 1852802964],
                    [3504617058, 682636099],
                    [1448882679, 3733580327],
                    [821387540, 2215744532],
                    [3631471417, 311618895],
                    [2077838877, 2383929020],
                    [3352949096, 1688694420],
                    [2491080787, 3998672444],
                    [3368630402, 4182204255],
                    [983299419, 2837414346],
                    [3651215291, 1033373924],
                    [265429091, 3988955082],
                    [3019003608, 2896212153],
                    [2955948456, 3025235588],
                    [903690197, 2266253487],
                    [3925215275, 89402958],
                    [3959093811, 3609545561],
                    [2455088053, 223552128],
                    [3115011301, 2133669107],
                    [1765081558, 673805649],
                    [3324795129, 2111392191],
                    [3443871631, 432345706],
                    [3152559950, 3425427147],
                    [3699649406, 672784944],
                    [3129545774, 7668664],
                    [2747044893, 173040075],
                    [3925243406, 852328481],
                    [164095314, 3161868591],
                    [2234471571, 1302682825],
                    [2164784335, 105893718],
                    [159995093, 536831360],
                    [599199451, 425051327],
                    [3274759746, 1680930461],
                    [1192619331, 3903085578],
                    [2832721114, 3078660237],
                    [91404660, 4030521531],
                    [3044880024, 1578375623],
                    [3906596030, 754177855],
                    [803516785, 1894094672],
                    [288455592, 2030430096],
                    [2143232492, 2317305324],
                    [388352703, 3406060288],
                    [2521731420, 3588403719],
                    [1043041227, 4028028525],
                    [3195290851, 2468913324],
                    [4166724431, 3168683191],
                    [1228226538, 968516529],
                    [500177583, 3444787306],
                    [533367442, 4252082053],
                    [4236023256, 657816314],
                    [413575568, 3367198397],
                    [3435884549, 3334062733],
                    [1004255532, 1135705894],
                    [2859513268, 4170618274],
                    [3914086821, 1251487871],
                    [3080761716, 3489067886],
                    [3571165255, 699353261],
                    [773372954, 3648014952],
                    [769693293, 2939128604],
                    [3116440923, 507748478],
                    [1687629160, 3739431776],
                    [2489486648, 3502376324],
                    [3686847158, 2878383449],
                    [3530767427, 902211375],
                    [2121652637, 2493976397],
                    [1827477891, 930064171],
                    [2549918411, 4029725732],
                    [2071415163, 844118802],
                    [2236083679, 3088894868],
                    [2040110303, 4144562891],
                    [3489536313, 1133419300],
                    [2190878435, 2301466071],
                    [2465915458, 2448602097],
                    [1675766804, 2073834499],
                    [3329799896, 1613253148],
                    [1483966600, 1348836071],
                    [159505618, 2527621997],
                    [2674227354, 1695130688],
                    [2683539437, 1927873839],
                    [3833196123, 2570082188],
                    [3891433165, 759819981],
                    [1455453349, 2179602430],
                    [1430583255, 1957776111],
                    [2067726741, 4235143439],
                    [303380021, 2998980439],
                    [2136024795, 3126725799],
                    [2054591852, 1051702291],
                    [1029141665, 489794361],
                    [2317027384, 569642164],
                    [2068461795, 624418658],
                    [2499875684, 1830645251],
                    [1302894490, 4319401],
                    [1002663431, 2406815191],
                    [1560941298, 2060652753],
                    [2141002286, 515773223],
                    [3661248027, 475092913],
                    [3705503008, 2419919909],
                    [914567990, 3496539911],
                    [3462935583, 2039034761],
                    [2878378006, 2379243316],
                    [1133857586, 1390159333],
                    [3023618742, 2140726761],
                    [282908558, 944874642],
                    [3686955701, 1148723903],
                    [2604456805, 4163675010],
                    [3061545110, 377179268],
                    [3218002352, 76459088],
                    [2836503392, 916455101],
                    [536836808, 151306053],
                    [2886925079, 404221671],
                    [2936593041, 2011015485],
                    [453815187, 1852163908],
                    [3042568989, 82176306],
                    [3279635891, 4174836410],
                    [3282689058, 2360003049],
                    [4088968807, 1516570623],
                    [2680453086, 1322680794],
                    [1731693966, 3438253771],
                    [1842894553, 1294307894],
                    [2736377365, 2964642609],
                    [121205621, 521330014],
                    [2324595870, 3005710757],
                    [3784465521, 676493813],
                    [1958759409, 2030833406],
                    [1306150933, 1016370058],
                    [2636541290, 482366508],
                    [1950415745, 1695073534],
                    [322077955, 3746046623],
                    [3602873262, 3829181504],
                    [1211684447, 1861645455],
                    [504701736, 4080111082],
                    [2407799203, 1223857855],
                    [1925743434, 1498920209],
                    [3617596327, 845198428],
                    [2498480299, 3484773806],
                    [2680229135, 2560201696],
                    [3731399221, 1536412390],
                    [2756509305, 2924710846],
                    [2635957500, 3459716133],
                    [1372762539, 769635894],
                    [802677945, 3878474636],
                    [1707760534, 3075809808],
                    [3714687192, 2872792173],
                    [1615679922, 1606381794],
                    [1940556374, 1337437342],
                    [445390489, 731124040],
                    [2864974375, 64601760],
                    [1984806574, 2141516710],
                    [513390958, 1890172555],
                    [744398315, 1475299139],
                    [982749166, 852662657],
                    [652663695, 4260736510],
                    [1184061125, 82616221],
                    [3363191899, 147951756],
                    [1064069880, 1507328085],
                    [2138882964, 547595589],
                    [2616926846, 3186935246],
                    [2298715513, 3606862940],
                    [2414381911, 811477686],
                    [2694745228, 900437726],
                    [4202576185, 2201114451],
                    [3602305260, 3323446937],
                    [3756663274, 2658490339],
                    [3061587876, 2171079416],
                    [3390977925, 2850497765],
                    [486312941, 224925241],
                    [3515712841, 3510684394],
                    [1322319486, 2647200565],
                    [3839619171, 1148450258],
                    [392296762, 1154854654],
                    [1401523788, 957405781],
                    [1934485528, 527352730],
                    [645968162, 3131215255],
                    [696971825, 3361451947],
                    [2038689491, 1946699733],
                    [1723966113, 2785859721],
                    [2652365974, 1118037185],
                    [3988018407, 3134982149],
                    [1354171594, 3053634345],
                    [1287854075, 2631782435],
                    [1723106141, 2662328866],
                    [563845090, 1878819261],
                    [639520332, 171129501],
                    [534957223, 1696062352],
                    [3612364282, 2283204027],
                    [3109494688, 1304463816],
                    [500957989, 630925278],
                    [3477030536, 2149497258],
                    [4109750364, 281719363],
                    [951472732, 564407054],
                    [922095147, 2767874048],
                    [3946156928, 829677774],
                    [2622281253, 2086286851],
                    [2936811901, 850242186],
                    [630086272, 3340782667],
                    [2340986210, 1296336989],
                    [4107355543, 3865114709],
                    [3560210278, 3968418243],
                    [3868847493, 2967450637],
                    [611513888, 2083325060],
                    [3265390517, 3025776309],
                    [2874106961, 3424470508],
                    [1668707698, 2923258228],
                    [2778598353, 24320552],
                    [292356118, 3415510793],
                    [754567370, 86994591],
                    [185141877, 1621715171],
                    [2884558258, 3722473457],
                    [1492107531, 111281805],
                    [3336927864, 4225337056],
                    [782994598, 1021838039],
                    [346133860, 18281270],
                    [2080909533, 1649329040],
                    [3612065399, 3859901127],
                    [2151962287, 284556115],
                    [3957975594, 3745718727],
                    [52533817, 3998775856],
                    [1232633839, 397383972],
                    [2716413964, 3629253960],
                    [1531307298, 3836851439],
                    [3030137657, 2500401718],
                    [3561556693, 653345841],
                    [313061910, 2945718466],
                    [2065276, 3342140708],
                    [410498334, 1470588117],
                    [2726640512, 4051654894],
                    [2570984935, 758567696],
                    [3008987264, 3462702678],
                    [623860175, 228525243],
                    [3527183895, 1829844480],
                    [467272850, 3890501742],
                    [568376656, 650516927],
                    [990477018, 4035508558],
                    [2366955227, 817792110],
                    [4183621538, 989198068],
                    [946958343, 1639184195],
                    [3395758993, 3924097558],
                    [1690887473, 3220519765],
                    [605184237, 1255270525],
                    [275515833, 1926424610],
                    [2142902612, 283494960],
                    [2021972412, 1823828440],
                    [105373677, 3448326697],
                    [1666662384, 1042433908],
                    [1338566998, 261206307],
                    [498685668, 1344755577],
                    [3101233780, 3119109371],
                    [2733370951, 3808165089],
                    [3656512268, 3449289481],
                    [4025308119, 1607880299],
                    [778896067, 1612183167],
                    [2846510368, 3674754715],
                    [3058428120, 2991822529],
                    [1892379383, 3268787440],
                    [2565895844, 4154602030],
                    [3213117192, 98999135],
                    [2495816991, 116985075],
                    [1040203361, 1785041385],
                    [3106252493, 69316595],
                    [1639829808, 2087117568],
                    [3213709576, 3799911752],
                    [604681594, 2340981536],
                    [4236730699, 2938666503],
                    [4009938384, 1878897714],
                    [2701667332, 1725918218],
                    [2182473079, 1258184],
                    [3550198211, 2760750799],
                    [657991062, 875584532],
                    [1640976276, 3380476221],
                    [460041378, 2924352091],
                    [1972323596, 2287414795],
                    [2510248061, 1350206297],
                    [2959337826, 3762681165],
                    [1625877874, 3235902929],
                    [2070189957, 1429368735],
                    [4245163299, 1839731898],
                    [2358312347, 138364248],
                    [275739390, 2179122576],
                    [2037777210, 972544338],
                    [2766930226, 1984733259],
                    [1933485829, 4209310327],
                    [3034118011, 3286589799],
                    [2653025529, 62078937],
                    [2641780289, 2679545709],
                    [3540781195, 2787026415],
                    [1569993599, 3215949659],
                    [441337890, 3947723353],
                    [1878946792, 459505587],
                    [3724105660, 920173002],
                    [1691411102, 3934795955],
                    [148741087, 3647709027],
                    [142506469, 2776440083],
                    [3811107376, 3823285243],
                    [472209891, 252266174],
                    [1913386482, 1867329194],
                    [2960608550, 482740699],
                    [1145005292, 1513558421],
                    [1091751784, 1687823886],
                    [3625186042, 3086337482],
                    [1712140887, 940065262],
                    [1504455800, 1945702563],
                    [3896940088, 2003245591],
                    [2478191531, 4197739e3],
                    [3233871270, 250924495],
                    [3404865229, 1131917964],
                    [1462204167, 429621621],
                    [1349259705, 3641608989],
                    [3627860584, 2048468319],
                    [1244251718, 1513180369],
                    [3979211282, 371413143],
                    [3043187861, 4285699810],
                    [581894202, 3060983825],
                    [1390895705, 1811317301],
                    [2599134010, 3337406128],
                    [2488233440, 2436161462],
                    [1816641224, 2208816697],
                    [1792034756, 815866116],
                    [2779893723, 2695577703],
                    [2084952115, 2951772258],
                    [1351806869, 169269771],
                    [2469979804, 86740603],
                    [1163545420, 4264616949],
                    [1795352113, 2511146232],
                    [1796715044, 3134635815],
                    [3521170642, 1538900329],
                    [3725363621, 1455009392],
                    [1342594643, 1512127734],
                    [2618386938, 662157428],
                    [2028859350, 2494504685],
                    [1841905045, 648351336],
                    [4002935891, 4033319405],
                    [850071259, 1768358867],
                    [979915719, 3876018087],
                    [830889197, 1629549437],
                    [1744763229, 2455795856],
                    [522919199, 368499868],
                    [3063822504, 2522639205],
                    [2861636095, 407686388],
                    [4097602344, 1945259027],
                    [4215946617, 1251639506],
                    [894485042, 534122652],
                    [924809191, 1807237502],
                    [1811585710, 1589663609],
                    [3439653887, 1722232],
                    [3810997538, 105152714],
                    [2677100683, 4291805514],
                    [77233985, 102407776],
                    [4239834691, 2851274395],
                    [148802076, 2006440603],
                    [2409138150, 126301601],
                    [3048474397, 3217504870],
                    [588133437, 4221603123],
                    [1139638106, 263087485],
                    [982032635, 3165674595],
                    [562514827, 1294842959],
                    [467575086, 905357513],
                    [1405117894, 3370530088],
                    [3813285157, 242912619],
                    [3601878331, 1985076606],
                    [1586505598, 2092146221],
                    [738488098, 103663229],
                    [2970334297, 321718822],
                    [1068097019, 1742926233],
                    [235518094, 420804527],
                    [283685722, 4092504887],
                    [2666392744, 3799169331],
                    [3569817788, 1256762975],
                    [2169728352, 292617248],
                    [2444571896, 2239859206],
                    [3967907832, 1066404216],
                    [420376911, 2913277294],
                    [3046293305, 2956347747],
                    [2311278792, 2477686209],
                    [2885955184, 4172514290],
                    [3030078181, 2275536480],
                    [4212469731, 4280736393],
                    [1046900335, 1773022229],
                    [995380926, 1414273529],
                    [3892683234, 2429494358],
                    [615726237, 2127712535],
                    [3880203074, 2071130305],
                    [176180504, 3070850165],
                    [1474506861, 2283723599],
                    [1256707747, 1857412043],
                    [764236850, 359687368],
                    [3521530334, 511649419],
                    [2318567964, 3992868140],
                    [128167623, 2518992858],
                    [2220129756, 1042300052],
                    [2567608573, 1349636707],
                    [441446694, 384760969],
                    [4143447316, 829506048],
                    [817912603, 2738025500],
                    [2368091832, 357934982],
                    [1187643061, 1561463042],
                    [3438021235, 3030161697],
                    [1318922279, 895468690],
                    [434876457, 1130220303],
                    [1180291767, 1132759596],
                    [2520707785, 1798553137],
                    [1962430872, 2958700157],
                    [1510954061, 3534879512],
                    [57831539, 3269538993],
                    [3354831405, 3852135009],
                    [891783098, 2698494511],
                    [2555636406, 996018997],
                    [2881342935, 3982231648],
                    [3473267445, 2894952368],
                    [1238029452, 3958679326],
                    [2051805420, 559465638],
                    [3655936674, 1186951582],
                    [330209165, 167662935],
                    [1929681327, 2450868735],
                    [1313566811, 2458925988],
                    [4283920930, 3243182650],
                    [1438004300, 4185567150],
                    [3093439067, 89876832],
                    [3401620219, 3721579956],
                    [3673745794, 2682874719],
                    [3053321309, 825410712],
                    [822915968, 3681514755],
                    [3900685126, 561657358],
                    [553823814, 1857753416],
                    [4166295066, 983949325],
                    [128359165, 3426887194],
                    [3300989119, 3884968622],
                    [4193552686, 3647722552],
                    [452189154, 1569670618],
                    [4122259632, 3537825460],
                    [2519387887, 2821594244],
                    [74333898, 2940550377],
                    [4032631446, 2173999692],
                    [2521268686, 1934310532],
                    [2620314688, 2177785789],
                    [1378755571, 2455646622],
                    [394133753, 4231198609],
                    [734399075, 2800989170],
                    [573292462, 1634883078],
                    [1214417373, 3426576256],
                    [2110224475, 2399009920],
                    [2331215665, 3224086912],
                    [531326186, 698539511],
                    [3839443603, 583861850],
                    [2644531398, 2017784332],
                    [616620850, 3070237104],
                    [590349237, 2798642861],
                    [3582377217, 3317831670],
                    [1582708616, 1596570667],
                    [2126148205, 2358511947],
                    [173450736, 3219362418],
                    [3616831144, 1323437318],
                    [2655785577, 3131359031],
                    [401600069, 2967397952],
                    [496349349, 4244179910],
                    [2479612086, 2579650653],
                    [1710903074, 2049666425],
                    [3589924952, 690291925],
                    [3266682943, 1900485231],
                    [1496318498, 3025542656],
                    [3459221058, 3389461212],
                    [2091479615, 3140389256],
                    [663040899, 1207089672],
                    [3323704225, 1105530508],
                    [353318429, 2879253542],
                    [2674540957, 941987316],
                    [1688550857, 620657353],
                    [338551967, 4286217277],
                    [204689992, 2239736295],
                    [178008789, 3940832005],
                    [3871613304, 3300636974],
                    [1911672356, 2429684487],
                    [4055679954, 1974461722],
                    [3878217928, 1009991796],
                    [2533095482, 310920740],
                    [2174833823, 3596041637],
                    [1604814460, 2939543881],
                    [1452830254, 4092397851],
                    [2441027029, 4169690209],
                    [3524103304, 3372213855]
                ],
                t = [
                    [836181454, 1689436944],
                    [2776523577, 3710710688],
                    [4049974663, 3750330768],
                    [519497435, 2979405513]
                ],
                n = [
                    [1892447193, 197291556],
                    [3793382197, 3742120663],
                    [3838936, 2994760034],
                    [479846099, 1018728609],
                    [3476112862, 182272649],
                    [3504620154, 1427438450],
                    [2009473484, 2679350403],
                    [1738755500, 1129731339]
                ],
                a = [4174784170, 2938602761],
                i = {
                    p: 0,
                    P: 1,
                    n: 2,
                    N: 3,
                    b: 4,
                    B: 5,
                    r: 6,
                    R: 7,
                    q: 8,
                    Q: 9,
                    k: 10,
                    K: 11
                },
                o = [];
            o[5] = 1, o[6] = 0, o[9] = 3, o[10] = 2, o[17] = 5, o[18] = 4, o[33] = 7, o[34] = 6, o[65] = 9, o[66] = 8, o[129] = 11, o[130] = 10;
            var r, s = [2, 5, 10, 20, 40, 80, 160, 64],
                l = "nbrq",
                c = ["", "0000000", "000000", "00000", "0000", "000", "00", "0", ""],
                u = 16;

            function to32BitHex(e) {
                var t = e.toString(16);
                return c[t.length] + t
            }

            function to64BitHex(e) {
                return to32BitHex(e[0]) + to32BitHex(e[1])
            }

            function hash(o, r) {
                var l, c, u, d, p, h, m, f, g, b, v, y, _ = o.split(" "),
                    w = _[0].split("/"),
                    O = "w" === _[1],
                    k = 0,
                    S = Number(O),
                    x = S ? 3 : 4;
                for (u = 7; u >= 0; u -= 1)
                    for (d = 0, m = (p = w[u]).length, h = 0; h < m; h += 1) f = p[h], (v = i[f]) >= 0 && (l = (l ^ (g = e[64 * v + 8 * (7 - u) + d])[0]) >>> 0, c = (c ^ g[1]) >>> 0, v === S && u === x && (k |= 1 << d)), d += Number(f) || 1;
                return "-" !== _[2] && ((b = _[2]).indexOf("K") > -1 && (l = (l ^ (g = t[0])[0]) >>> 0, c = (c ^ g[1]) >>> 0), b.indexOf("Q") > -1 && (l = (l ^ (g = t[2])[0]) >>> 0, c = (c ^ g[1]) >>> 0), b.indexOf("k") > -1 && (l = (l ^ (g = t[1])[0]) >>> 0, c = (c ^ g[1]) >>> 0), b.indexOf("q") > -1 && (l = (l ^ (g = t[3])[0]) >>> 0, c = (c ^ g[1]) >>> 0)), _[3] && "-" !== _[3] && (y = _[3].charCodeAt(0) - 97, s[y] & k && (l = (l ^ (g = n[y])[0]) >>> 0, c = (c ^ g[1]) >>> 0)), O && (l = (l ^ a[0]) >>> 0, c = (c ^ a[1]) >>> 0), r && "hex" === r ? to64BitHex([l, c]) : [l, c]
            }

            function wrap(e) {
                var t, n, a, i, o = {};

                function parseBook(e, t) {
                    var a, i, o, r, s, c, u = n.getUint16(e + 8),
                        d = n.getUint16(e + 10);
                    return i = u >> 9 & 7, r = u >> 3 & 7, s = 7 & u, c = u >> 12 & 7, 4 === (o = u >> 6 & 7) && t && i === r && "-" !== t && (7 === s && (0 === i && t.indexOf("K") > -1 || 7 === i && t.indexOf("k") > -1) ? s -= 1 : 0 === s && (0 === i && t.indexOf("Q") > -1 || 7 === i && t.indexOf("q") > -1) && (s += 2)), a = String.fromCharCode(o + 97) + (i + 1) + String.fromCharCode(s + 97) + (r + 1), c && (a += l[c - 1]), {
                        move: a,
                        weight: d
                    }
                }

                function query(e) {
                    return "string" == typeof e && (e = {
                        fen: e
                    }), t(e)
                }
                if (o = {
                        query: query,
                        pick: function pick(e) {
                            var t, n, a, i, o, r = 0;
                            if (function sortMoves(e) {
                                    e.sort(function sorter(e, t) {
                                        return t.weight - e.weight
                                    })
                                }(t = (e = e || {}).moves || query(e)), a = t.length) {
                                if (e.type && 1 !== a && "best" !== e.type) {
                                    if ("random" === e.type) {
                                        for (i = Math.floor(Math.random() * t.sum) + 1, o = 0; o < a - 1 && !(i <= (r += t[o].weight)); o += 1);
                                        return t[o].move
                                    }
                                    return "randomDisregardWeight" === e.type ? t[Math.floor(Math.random() * a)].move : "worst" === e.type ? t[a - 1].move : ((n = parseInt(e.type) || 1) < 0 && (n = a + n + 1), n < 1 ? n = 1 : n > a && (n = a), t[n - 1].move)
                                }
                                return t[0].move
                            }
                        }
                    }, e.getUint32) t = function bufferBookFind(e) {
                    var t, a, i, o, r, s = n.length || n.byteLength || 0,
                        l = e.offset || 0,
                        c = e.fen,
                        d = e.chess960,
                        p = e.checkAll,
                        h = [],
                        m = 0;
                    for (e.hash ? "string" == typeof(t = e.hash) && (t = function hex64ToDec(e) {
                            return [parseInt(e.substr(0, 8), 16), parseInt(e.substr(8), 16)]
                        }(t)) : t = hash(c), !d && c && (r = c.split(" ")[2]), l = 0; l < s; l += u)
                        if (n.getUint32(l) === t[0] && n.getUint32(l + 4) === t[1]) i = parseBook(l, r), h[h.length] = i, m += i.weight, a = !0;
                        else if (a && !p) break;
                    if (h.sum = m, e.relative)
                        for (o = h.length - 1; o >= 0; o -= 1) h[o].relative = Math.round(h[o].weight / m * 1e4);
                    return h
                }, n = e, o.buffer = n;
                else
                    for (i in t = function jsonBookFind(e) {
                            var t, n, i, r, s, l, c = 0,
                                u = e.fen;
                            if (o.useFen) i = u.replace(/ \d+ \d+$/, ""), (t = a[i]) || (r = i.replace(/[a-h][1-8]$/, "-")) !== i && (t = a[r]);
                            else if (e.hash || (e.hash = hash(u, "hex")), t = a[e.hash]) {
                                if (t[0] && t[0].n && (t = t[0]), t.n && !t.b) return [];
                                if (t.b) t = function decompressMoves(e) {
                                    var t, n = [],
                                        a = e.b.length;
                                    for (t = 0; t < a; ++t) n.push({
                                        move: e.b[t],
                                        weight: e.w[t]
                                    });
                                    return n
                                }(t);
                                else if (!e.chess960 && u)
                                    for (l = u.split(" ")[2], n = t.length - 1; n >= 0; n -= 1)(s = t[n].move.match(/e([18])([ah])\1/)) && ("h" === s[2] && ("1" === s[1] && l.indexOf("K") > -1 || "8" === s[1] && l.indexOf("k") > -1) ? t[n] = {
                                        move: "e" + s[1] + "g" + s[1],
                                        weight: t[n].weight
                                    } : "a" === s[2] && ("1" === s[1] && l.indexOf("Q") > -1 || "8" === s[1] && l.indexOf("q") > -1) && (t[n] = {
                                        move: "e" + s[1] + "c" + s[1],
                                        weight: t[n].weight
                                    }))
                            }
                            if (t)
                                for (n = t.length - 1; n >= 0; n -= 1) c += Number(t[n].weight);
                            else t = [];
                            return t.sum = c, t
                        }, a = e, o.json = a, a) {
                        o.useFen = i.indexOf(" ") > -1;
                        break
                    }
                return o
            }

            function getBook(e, t) {
                ! function ajaxLoad(e, t) {
                    var n = new XMLHttpRequest,
                        a = e.toLowerCase().indexOf(".json") > -1;

                    function onload() {
                        var e;
                        if (n.status >= 200 && n.status < 300 || 304 === n.status || 0 === n.status || 1223 === n.status)
                            if (a) try {
                                t(null, JSON.parse(n.response))
                            } catch (e) {
                                t(e)
                            } else e = new DataView(n.response), t(null, e);
                            else t(new Error("Error code: " + n.status))
                    }
                    n.open("GET", e, !0), a || (n.responseType = "arraybuffer"), n.onload = onload, n.onerror = onload, n.send()
                }(e, function onload(e, n) {
                    var a;
                    if (n && (a = wrap(n)), t) return t(e, a);
                    if (e) throw e;
                    return a
                })
            }
            return {
                hash: hash,
                loadBook: (r = {}, function loadBook(e, t) {
                    r[e] ? r[e].book ? setTimeout(function() {
                        t(null, r[e].book)
                    }, 0) : r[e].cbs.push(t) : (r[e] = {
                        cbs: [t]
                    }, getBook(e, function onload(t, n) {
                        var a = r[e].cbs;
                        t ? delete r[e] : (r[e].book = n, r[e].cbs = void 0), a.forEach(function(e) {
                            setTimeout(function() {
                                e(t, n)
                            }, 0)
                        })
                    }))
                }),
                to64BitHex: to64BitHex,
                zobristPiece: e,
                zobristCastle: t,
                zobristEnPassant: n,
                zobristTurn: a,
                zobristPieceValue: i,
                zobristPieceValueNumbers: o
            }
        }(), i = function init() {
            var e, t, n, i, o = {
                    Chess: 0,
                    Chess960: 1,
                    Crazyhouse: 2,
                    "3-check": 3,
                    "King of the Hill": 4,
                    Bughouse: 5,
                    chess960: 1,
                    Fischerandom: 1,
                    fischerandom: 1,
                    crazyhouse: 2,
                    "three-check": 3,
                    kingofthehill: 4,
                    koth: 4,
                    bughouse: 5
                },
                r = ["Chess", "Chess960", "Crazyhouse", "3-check", "King of the Hill", "Bughouse"],
                l = {
                    a8: 0,
                    b8: 1,
                    c8: 2,
                    d8: 3,
                    e8: 4,
                    f8: 5,
                    g8: 6,
                    h8: 7,
                    a7: 16,
                    b7: 17,
                    c7: 18,
                    d7: 19,
                    e7: 20,
                    f7: 21,
                    g7: 22,
                    h7: 23,
                    a6: 32,
                    b6: 33,
                    c6: 34,
                    d6: 35,
                    e6: 36,
                    f6: 37,
                    g6: 38,
                    h6: 39,
                    a5: 48,
                    b5: 49,
                    c5: 50,
                    d5: 51,
                    e5: 52,
                    f5: 53,
                    g5: 54,
                    h5: 55,
                    a4: 64,
                    b4: 65,
                    c4: 66,
                    d4: 67,
                    e4: 68,
                    f4: 69,
                    g4: 70,
                    h4: 71,
                    a3: 80,
                    b3: 81,
                    c3: 82,
                    d3: 83,
                    e3: 84,
                    f3: 85,
                    g3: 86,
                    h3: 87,
                    a2: 96,
                    b2: 97,
                    c2: 98,
                    d2: 99,
                    e2: 100,
                    f2: 101,
                    g2: 102,
                    h2: 103,
                    a1: 112,
                    b1: 113,
                    c1: 114,
                    d1: 115,
                    e1: 116,
                    f1: 117,
                    g1: 118,
                    h1: 119
                },
                c = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                u = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                d = 0,
                p = 0,
                h = 0,
                m = -1,
                f = 1,
                g = 2,
                b = 4,
                v = 8,
                y = 16,
                _ = 32,
                w = 64,
                O = 128,
                k = 3,
                S = 252,
                x = 255,
                P = 256,
                C = 512,
                M = 112,
                T = 1,
                E = 2,
                A = 4,
                j = 3,
                L = 7,
                D = 14,
                N = 21,
                I = 127,
                $ = "pnbrqkPNBRQK",
                B = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                R = [];
            R[5] = [-16, -17, -15], R[6] = [16, 17, 15], R[8] = [-18, -33, -31, -14, 18, 33, 31, 14], R[16] = [-17, -15, 17, 15], R[32] = [-16, 1, 16, -1], R[64] = [-17, -16, -15, 1, 17, 16, 15, -1], R[128] = [-17, -16, -15, 1, 17, 16, 15, -1];
            var F = {
                    P: 5,
                    p: 6,
                    N: 9,
                    n: 10,
                    B: 17,
                    b: 18,
                    R: 33,
                    r: 34,
                    Q: 65,
                    q: 66,
                    K: 129,
                    k: 130
                },
                z = {
                    P: 4,
                    p: 4,
                    N: 8,
                    n: 8,
                    B: 16,
                    b: 16,
                    R: 32,
                    r: 32,
                    Q: 64,
                    q: 64,
                    K: 128,
                    k: 128
                },
                U = {
                    5: "P",
                    6: "p",
                    9: "N",
                    10: "n",
                    17: "B",
                    18: "b",
                    33: "R",
                    34: "r",
                    65: "Q",
                    66: "q",
                    129: "K",
                    130: "k"
                },
                G = {
                    9: "N",
                    10: "N",
                    17: "B",
                    18: "B",
                    33: "R",
                    34: "R",
                    65: "Q",
                    66: "Q",
                    129: "K",
                    130: "K"
                },
                H = [80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 96, 96, 96, 96, 96, 96, 224, 0, 224, 96, 96, 96, 96, 96, 96, 0, 0, 0, 0, 0, 0, 8, 212, 224, 212, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 8, 96, 8, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 96, 0, 0, 80, 0, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 96, 0, 0, 0, 80, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 96, 0, 0, 0, 0, 80, 0, 0, 0, 0, 80, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 80, 0, 0, 80, 0, 0, 0, 0, 0, 0, 96, 0, 0, 0, 0, 0, 0, 80],
                V = [336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 0, 0, 0, 80, 80, 336],
                W = [336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 360, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 96, 120, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 476, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 88, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 80, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 0, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 0, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 0, 96, 352, 96, 96, 0, 0, 80, 80, 336],
                K = [336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 360, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 120, 96, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 476, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 88, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 0, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 0, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 0, 0, 0, 80, 80, 336],
                q = [336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 352, 352, 352, 352, 488, 508, 252, 0, 252, 508, 488, 352, 352, 352, 352, 0, 96, 96, 96, 104, 252, 252, 252, 252, 252, 252, 252, 104, 96, 96, 96, 0, 0, 0, 0, 80, 88, 508, 252, 508, 252, 508, 88, 80, 0, 0, 0, 0, 0, 0, 80, 80, 336, 120, 120, 360, 120, 120, 336, 80, 80, 0, 0, 0, 0, 80, 80, 336, 80, 112, 96, 352, 96, 112, 80, 336, 80, 80, 0, 0, 80, 80, 336, 80, 80, 96, 96, 352, 96, 96, 80, 80, 336, 80, 80, 0, 80, 336, 80, 80, 0, 96, 96, 352, 96, 96, 0, 80, 80, 336, 80, 0, 336, 80, 80, 0, 0, 96, 96, 352, 96, 96, 0, 0, 80, 80, 336],
                Y = [336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 352, 352, 480, 480, 488, 508, 252, 0, 252, 508, 488, 480, 480, 480, 352, 0, 96, 104, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 104, 0, 0, 80, 88, 120, 120, 508, 252, 508, 252, 508, 120, 120, 120, 88, 80, 0, 80, 80, 80, 112, 368, 120, 120, 376, 120, 120, 368, 112, 112, 80, 80, 0, 80, 80, 80, 368, 112, 112, 112, 368, 112, 112, 112, 368, 112, 80, 80, 0, 80, 80, 336, 112, 112, 112, 112, 368, 112, 112, 112, 112, 368, 80, 80, 0, 80, 336, 80, 112, 112, 112, 112, 352, 96, 112, 112, 112, 112, 336, 80, 0, 336, 80, 80, 112, 112, 112, 96, 352, 96, 96, 112, 112, 112, 80, 336],
                X = [17, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 15, 0, 0, 17, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 17, 0, 0, 0, 0, 16, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 16, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 16, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 33, 16, 31, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 17, 16, 15, 14, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, -14, -15, -16, -17, -18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, -31, -16, -33, -17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, -16, 0, 0, -17, 0, 0, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, -16, 0, 0, 0, -17, 0, 0, 0, 0, 0, 0, -15, 0, 0, 0, 0, -16, 0, 0, 0, 0, -17, 0, 0, 0, 0, -15, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, -17, 0, 0, -15, 0, 0, 0, 0, 0, 0, -16, 0, 0, 0, 0, 0, 0, -17],
                Q = [0, 5, 8, 11, 14],
                Z = [31, 7, 7, 7, 63],
                J = {
                    P: 0,
                    p: 0,
                    N: 5,
                    n: 5,
                    B: 8,
                    b: 8,
                    R: 11,
                    r: 11,
                    Q: 14,
                    q: 14
                },
                ee = [b, v, y, _, w],
                te = ["", "N", "B", "R", "Q"],
                ne = {
                    CAPTURE: 1,
                    BIG_PAWN: 2,
                    EP_CAPTURE: 4,
                    ANY_CAPTURE: 5,
                    PROMOTION: 8,
                    KSIDE_CASTLE: 16,
                    QSIDE_CASTLE: 32,
                    KQSIDE_CASTLE: 48,
                    DROP: 64,
                    DROP_OR_PROMOTE: 72
                },
                ae = [0, 6, 1],
                ie = {
                    K: 119,
                    Q: 112,
                    k: 7,
                    q: 0,
                    A: 112,
                    B: 113,
                    C: 114,
                    D: 115,
                    E: 116,
                    F: 117,
                    G: 118,
                    H: 119,
                    a: 0,
                    b: 1,
                    c: 2,
                    d: 3,
                    e: 4,
                    f: 5,
                    g: 6,
                    h: 7
                },
                oe = ["Event", "Site", "Date", "Round", "White", "Black", "Result"],
                re = ["Event", "Site", "Date", "Round", "White", "Black", "Result", "Variant", "SetUp", "FEN", "WhiteA", "WhiteB", "BlackA", "BlackB"];

            function rank(e) {
                return e >> 4
            }

            function file(e) {
                return 7 & e
            }

            function algebraic(e) {
                return String.fromCharCode(file(e) + 97) + (8 - rank(e))
            }

            function swapColor(e) {
                return 3 - e
            }

            function hashNum(e, t) {
                e[0] = (e[0] ^ t[0]) >>> 0, e[1] = (e[1] ^ t[1]) >>> 0
            }

            function completeFen(e) {
                var t, n;
                return (t = ["", " w - - 0 1", " - - 0 1", " - 0 1", " 0 1", " 1"][(n = (e = e.trim()).split(" ")).length]) && e ? e += t : "0" === n[5] && (n[5] = 1, e = n.join(" ")), e
            }

            function createVariantZobristNumbers() {
                a.zobristCheck = [
                    [441249556, 340005552],
                    [1040760204, 311043682],
                    [1621584863, 1749286446],
                    [1006868636, 1625552915],
                    [1953853171, 24921145],
                    [161251506, 1935545265]
                ]
            }

            function validateFen(e, t) {
                var n, a, i, r, s, l, c, u, d, p, h, m, f, g, b, v, y, _, w, O, k = /^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,
                    S = 1 * t === o.Crazyhouse || o[t] === o.Crazyhouse || 1 * t === o.Bughouse || o[t] === o.Bughouse,
                    x = 0,
                    P = 0,
                    C = !0,
                    M = "",
                    T = {
                        0: 0,
                        7: 0
                    },
                    E = {
                        0: 0,
                        7: 0
                    },
                    A = {
                        0: "k",
                        7: "K"
                    },
                    j = {
                        0: "r",
                        7: "R"
                    },
                    L = 1 * t === o.Chess960 || o[t] === o.Chess960;
                if (!e) return 1;
                if ((1 * t === o.Bughouse || o[t] === o.Bughouse) && 2 === (s = e.split(" | ")).length) return 0 === (l = validateFen(s[0], t)) && (l = validateFen(s[1], t)), l;
                if (s = e.split(/\s+/), (1 * t === o["3-check"] || o[t] === o["3-check"]) && 7 === s.length && (r = s.pop(), !/^\+[0-3]\+[0-3]$/.test(r) || "+3+3" === r)) return 14;
                if (6 !== s.length) return 1;
                if (/\D|.{7,}|^0|^$/.test(s[5])) return 2;
                if (/\D|.{7,}|^0.|^$/.test(s[4])) return 3;
                if (!/^(?:-|[abcdefgh][36])$/.test(s[3])) return 4;
                if (p = s[2], L) {
                    if (!k.test(p)) return 12
                } else if (!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(p)) {
                    if (void 0 !== t || !k.test(p)) return 5;
                    L = !0
                }
                if ("w" !== s[1] && "b" !== s[1]) return 6;
                if (S && (s[0] = s[0].replace(/~(?=.*\/)/g, "")), a = s[0].split("/"), S && 9 === a.length && (r = a.pop(), !/^[pnbrq]{0,63}$/i.test(r))) return 13;
                if (8 !== a.length) return 7;
                if ("3" === s[3][1] && "w" === s[1] || "6" === s[3][1] && "b" === s[1]) return 11;
                for ("-" !== s[3] && (c = 4 === (P = "3" === s[3][1] ? 4 : 3) ? 5 : 2, x = s[3].charCodeAt(0) - 97, C = !1, M = 4 === P ? "P" : "p"), n = 0; n < a.length; ++n) {
                    for (_ = 0, w = !1, O = 0; O < a[n].length; O++)
                        if (+(i = a[n][O]) == +i) {
                            if (w) return 8;
                            _ += 1 * i, w = !0
                        } else {
                            if (-1 === $.indexOf(i)) return 9;
                            if (C || P !== n || x !== _ || M !== i || (C = !0), c === n && x === _) return 11;
                            n % 7 == 0 && (i === A[n] ? E[n] = 1 << _ : i === j[n] && (T[n] |= 1 << _)), ++_, w = !1
                        }
                    if (8 !== _) return 10
                }
                if (!C) return 11;
                if ("-" !== p)
                    if (L)
                        for (m = {
                                0: 0,
                                1: 0,
                                2: 252,
                                4: 248,
                                8: 240,
                                16: 224,
                                32: 192,
                                64: 128,
                                128: 0
                            }, h = {
                                0: 0,
                                1: 0,
                                2: 1,
                                4: 3,
                                8: 7,
                                16: 15,
                                32: 31,
                                64: 63,
                                128: 0
                            }, y = {
                                0: [0, 0],
                                7: [0, 0]
                            }, n = p.length - 1; n >= 0; --n) {
                            if (b = p.charCodeAt(n), v && v > b && v - b < 8) return 15;
                            if (75 === b ? f = T[g = 7] & m[E[g]] : 81 === b ? f = T[g = 7] & h[E[g]] : 107 === b ? f = T[g = 0] & m[E[g]] : 113 === b ? f = T[g = 0] & h[E[g]] : (f = 1 << b - ((g = b >= 97 ? 0 : 7) ? 65 : 97), v = b), !f || 0 != (f & f - 1)) return 15;
                            if (E[g] < 2 || E[g] > 64 || (f & T[g]) !== f) return 15;
                            if (++y[g][1 * (E[g] < f)] > 1) return 15
                        } else {
                            if ((u = (p.indexOf("K") > -1 ? 128 : 0) | (p.indexOf("Q") > -1 ? 1 : 0)) && (16 !== E[7] || (u & T[7]) !== u)) return 15;
                            if ((d = (p.indexOf("k") > -1 ? 128 : 0) | (p.indexOf("q") > -1 ? 1 : 0)) && (16 !== E[0] || (d & T[0]) !== d)) return 15
                        }
                return 0
            }

            function handToString(e, t) {
                var n, a, i = "",
                    o = 0,
                    r = t ? 6 : 0;
                if (e)
                    for (; o < 5;) {
                        for (n = e >> Q[o] & Z[o], a = 0; a < n; ++a) i += $[o + r];
                        ++o
                    }
                return i
            }

            function hashEP(e, t, n, i) {
                e[n + 1] !== i && e[n - 1] !== i || hashNum(t, a.zobristEnPassant[file(n)])
            }

            function addPawnMove(e, n, a) {
                var i;
                (0 === t || c[n] & E) && (rank(n) % 7 == 0 ? (i = a | ne.PROMOTION | e << L | n << D, u[p++] = i | 4 << N, u[p++] = i | 3 << N, u[p++] = i | 2 << N, u[p++] = i | 1 << N) : u[p++] = a | e << L | n << D)
            }

            function kingOfTheHillWin(e) {
                switch (e) {
                    case 67:
                    case 68:
                    case 51:
                    case 52:
                        return !0
                }
                return !1
            }

            function canCastle960(e, t, n, a) {
                var i, o, r, s = t + (n - t % 8),
                    l = n > t % 8 ? 1 : -1;
                for (r = t + l; r !== s; r += l)
                    if (e[r]) return !1;
                if (o = (i = a === f ? 1 === l ? 118 : 114 : 1 === l ? 6 : 2) - l, c[i] || e[i] && i !== t && i !== s || e[o] && o !== t && o !== s) return !1;
                if (i !== t)
                    for (r = t + (l = i > t ? 1 : -1); r !== i; r += l)
                        if (r !== s && e[r] || c[r]) return !1;
                return !0
            }
            var se = function() {
                    function createHeader(e, t) {
                        return "[" + e + ' "' + String(t).replace(/(\"|\\)/g, "\\$1") + '"]'
                    }
                    return function generatePgn(e, t, n, a, i, r) {
                        var s, l, c = "string" == typeof e.newline ? e.newline : "\n",
                            u = void 0 === e.spaceAfterPeriods || e.spaceAfterPeriods,
                            d = "";
                        for (s in d += createHeader("Event", t.Event) + c, d += createHeader("Site", t.Site) + c, d += createHeader("Date", t.Date) + c, d += createHeader("Round", t.Round) + c, i === o.Bughouse ? (d += createHeader("WhiteA", t.WhiteA || "?") + c, d += createHeader("BlackA", t.BlackA || "?") + c, d += createHeader("WhiteB", t.WhiteB || "?") + c, d += createHeader("BlackB", t.BlackB || "?") + c) : (d += createHeader("White", t.White) + c, d += createHeader("Black", t.Black) + c), d += createHeader("Result", t.Result) + c, i && (d += createHeader("Variant", t.Variant) + c), t.FEN && t.FEN !== B && (d += createHeader("SetUp", "1") + c, d += createHeader("FEN", t.FEN) + c), t) - 1 === re.indexOf(s) && (d += createHeader(s, t[s]) + c);
                        if (d += c, l = function createLine(e, t, n, a, i, r) {
                                var s, l, c, u, d, p, h, m, b, v, y, _, w = [],
                                    O = "",
                                    k = !0,
                                    S = t[n],
                                    x = S.length,
                                    P = "";
                                if (S.commands && !r)
                                    for (d in S.commands) P += "[%" + d + " " + S.commands[d] + "]";
                                for (S.initComment && (P = (P + " " + S.initComment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()), P && w.push("{" + P + "}"), c = 0; c < x; ++c) {
                                    if (h = (l = S[c]).color === f, O = "", P = "", s = l.commands, a !== o.Bughouse ? (k && !h ? O = e + "..." : h && (O = e + "."), i && (h || k) && (O += " ")) : (w.bughouseOrder || (w.bughouseOrder = []), w.bughouseOrder.push(l.bughouseOrder), c || (w.blackCountOffset = S[0].color === g ? 1 : 0)), O += l.san, l.annotation && (O += l.annotation), l.additionalAnnotation && (O += " " + l.additionalAnnotation.join(" ")), k = !1, void 0 === l.time || s || (s = {
                                            clk: (v = l.time, y = void 0, _ = void 0, y = Math.floor(v % 36e3 / 600), _ = Math.floor(v % 36e3 % 600) / 10, Math.floor(v / 36e3) + ":" + (y < 10 ? "0" : "") + y + ":" + (_ < 10 ? "0" : "") + _)
                                        }), s && !r)
                                        for (d in s) P += "[%" + d + " " + s[d] + "]";
                                    if (l.comment && (P = (P + " " + l.comment.replace(/(\"|\}|\%|\\)/g, "\\$1")).trim()), P && (O += " {" + P + "}", k = !0), w.push(O), l.lines)
                                        for (m = l.lines.length, u = 0; u < m; ++u) t[b = l.lines[u]].length && ((p = createLine(e, t, b, a, i, r))[0] = "(" + p[0], p[p.length - 1] += ")", w = w.concat(p), k = !0);
                                    h || e++
                                }
                                return w
                            }(a, n, 0, i, u, e.hideCommands), i === o.Bughouse) {
                            if (r.isDependent) return l;
                            l = function makeBugHousePgn(e, t, n) {
                                var a = t,
                                    i = e.siblingGame.pgn(),
                                    o = 0,
                                    r = 0,
                                    s = [];
                                for (t.bughouseOrder = t.bughouseOrder || [], i.bughouseOrder = i.bughouseOrder || []; t.bughouseOrder.length || i.bughouseOrder.length;) !t.bughouseOrder.length || i.bughouseOrder.length && t.bughouseOrder[0] > i.bughouseOrder[0] ? (i.bughouseOrder.shift(), s.push("B")) : (t.bughouseOrder.shift(), s.push("A"));
                                return t = [], s.forEach(function(s) {
                                    var l, c, u, d = "";
                                    "A" === s ? (l = a, c = ++o, u = e.startingMoveNumber()) : (l = i, c = ++r, u = e.siblingGame.startingMoveNumber()), d = String(Math.floor((c + 1) / 2) + u - 1), (l.blackCountOffset + c) % 2 ? d += s : d += s.toLowerCase(), d += "." + (n ? " " : "") + l.shift(), t.push(d)
                                }), t
                            }(r, l, u)
                        }
                        return l.push(t.Result), d + function wordWrap(e, t, n) {
                            return t < 1 ? e : (t = "number" == typeof t ? t : 80, e.replace(new RegExp("(.{1," + t + "})(?: |$|\r?\n)", "g"), "$1" + n).slice(0, -n.length))
                        }(l.join(" "), e.maxWidth, c)
                    }
                }(),
                le = function() {
                    var e = "!?‼⁇⁉⁈□∇Δ∞⩲⩱±∓⨀⟳→↑⇆∆⌓⇔⇗⟫⟪✕⊥⊕○⇄↻⊙~",
                        t = /\[%(\S+)\s([^\]]+)\]/,
                        n = /^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;

                    function extractCommands(e) {
                        var n, a, i = {};
                        do {
                            (n = t.exec(e.value)) && (a = !0, e.value = e.value.replace(n[0], "").trim(), i[n[1]] = n[2])
                        } while (n);
                        a && (e.commands = i)
                    }

                    function isSplitGame(e, t, n) {
                        for (var a; ++t < n;)
                            if (a = e[t].match(/^\s*(\S+)/)) return /^(?:\[|1(?:\.|$))/.test(a[1])
                    }
                    return function tokenize(t, a) {
                        var i, o, r, s, l, c, u, d = "tags",
                            p = [],
                            h = {
                                type: d,
                                value: ""
                            },
                            m = 0,
                            f = [],
                            g = !0;
                        for (a = a || {}, s = (i = t.split(/\r?\n/)).length, o = 0; o < s; ++o)
                            if ("%" !== (r = i[o].trim())[0])
                                if (r) {
                                    if (c = (r = " " + r + " ").length, l = 0, g)
                                        for (; l < c; ++l)
                                            if (u = r[l], "tags" === d) {
                                                if ("[" === u) h = {
                                                    type: d = "tagName",
                                                    value: ""
                                                };
                                                else if (u.trim()) {
                                                    h = {
                                                        type: d = "san",
                                                        value: ""
                                                    }, g = !1;
                                                    break
                                                }
                                            } else if ("tagName" === d) h.value && "" === u.trim() ? (p.push(h), d = "tagValueStart") : " " !== u && (h.value += u);
                                    else if ("tagValueStart" === d) {
                                        if ('"' === u || "“" === u) h = {
                                            type: d = "tagValue",
                                            value: ""
                                        };
                                        else if (u.trim()) return !1
                                    } else if ("tagValue" === d) '"' === u || "”" === u ? (p.push(h), "]" === r[l + 1] ? (h = {
                                        type: d = "tags",
                                        value: ""
                                    }, ++l) : d = "tagEnd") : ("\\" === u && l + 2 < c && (u = r[++l]), l > 0 && (h.value += u));
                                    else if ("]" === u) h = {
                                        type: d = "tags",
                                        value: ""
                                    };
                                    else if (u.trim()) return !1;
                                    for (; l < c; ++l)
                                        if (u = r[l], "san" === d)
                                            if (e.indexOf(u) > -1) "!" === u || "?" === u || e.indexOf(u) < 6 && (u = ["!!", "??", "!?", "?!"][e.indexOf(u) - 2]) ? (h.value && p.push(h), h = {
                                                type: "a",
                                                value: u
                                            }, "!" !== r[l + 1] && "?" !== r[l + 1] || (h.value += r[++l]), p.push(h), h = {
                                                type: "san",
                                                value: ""
                                            }) : ("∞" === u && "=/" === h.value ? (h.type = "aa", h.value += u) : (h.value && (n.test(h.value) && ("--" !== h.value || a.rejectNullMoves) && (h.type = "aa"), p.push(h)), h = {
                                                type: "aa",
                                                value: u
                                            }, "↑" === u && "↑" === r[l + 1] && (h.value = "↻", ++l)), p.push(h), h = {
                                                type: "san",
                                                value: ""
                                            });
                                            else if (" " === u || "\t" === u || "\n" === u || "\r" === u || "{" === u || "(" === u || ")" === u) {
                                        if (h.value) {
                                            if ("$" === h.value[0]) h.type = "nag";
                                            else if ("*" === h.value || "1-0" === h.value || "0-1" === h.value || "1/2-1/2" === h.value || "½-½" === h.value) {
                                                if (l + 1 < c) return !1;
                                                h.type = "result", "½-½" === h.value && (h.value = "1/2-1/2")
                                            }
                                            n.test(h.value) && ("--" !== h.value || a.rejectNullMoves) && (h.type = "aa"), p.push(h), h = {
                                                type: d,
                                                value: ""
                                            }
                                        }
                                        if (" " === u || "\t" === u || "\n" === u || "\r" === u) d = "san";
                                        else if ("{" === u) d = "comment";
                                        else if ("(" === u) d = "san", p.push({
                                            type: "variationStart",
                                            value: ++m
                                        });
                                        else if (p.push({
                                                type: "variationEnd",
                                                value: m
                                            }), d = "san", !m--) return !1;
                                        h.type = d
                                    } else if ("." === u || !h.value && +u == +u && "-" !== r[l + 1] && "/" !== r[l + 1]) {
                                        if (+u == +u) switch (h.number || (h.number = ""), h.number += u, r[l + 1]) {
                                            case "A":
                                            case "a":
                                            case "B":
                                            case "b":
                                                h.number += r[++l], p.push({
                                                    type: "number",
                                                    value: h.number
                                                }), delete h.number
                                        }
                                    } else h.value += u;
                                    else 0 === l && (h.value = h.value.trim()), "}" !== u ? ("\\" === u && l + 2 < c && (u = r[++l]), h.value += u) : (h.value = h.value.trim(), h.value.indexOf("[") > -1 && extractCommands(h), p.push(h), h = {
                                        type: d = "san",
                                        value: ""
                                    })
                                } else "tags" === d ? (d = "san", g = !1) : "comment" !== d && "tagValueStart" !== d && !m && p.length && isSplitGame(i, o, s) && ("tagValue" !== p[p.length - 1].type && (f.push(p), p = []), d = "tags", g = !0);
                        return f.push(p), f
                    }
                }();

            function Chess(re, ce) {
                var ue, de, pe = 0,
                    he = !0,
                    me = [],
                    fe = f,
                    ge = [],
                    be = m,
                    ve = 0,
                    ye = 1,
                    _e = 1,
                    we = [],
                    Oe = [we],
                    ke = 0;
                we.id = ke;
                var Se = {},
                    xe = [],
                    Pe = !1,
                    Ce = !1,
                    Me = makeMoveChess;

                function hashPosition() {
                    var e, t, n, i = fe === f ? [4174784170, 2938602761] : [0, 0];
                    for (n = 0; n < 120; ++n) 136 & n && (n += 8), (e = de[n]) && hashNum(i, a.zobristPiece[64 * a.zobristPieceValueNumbers[e & x] + 8 * (7 - rank(n)) + file(n)]);
                    if (Ce)
                        for (t = 1; t < 3; ++t) ge[t] && (0 != (ge[t] & ge[t] - 1) ? (hashNum(i, a.zobristCastle[t - 1]), hashNum(i, a.zobristCastle[t + 1])) : ge[t] > 1 << file(me[t]) ? hashNum(i, a.zobristCastle[t - 1]) : hashNum(i, a.zobristCastle[t + 1]));
                    else {
                        for (t = 1; t < 3; ++t) ge[t] && (ge[t] & ne.KSIDE_CASTLE && hashNum(i, a.zobristCastle[t - 1]), ge[t] & ne.QSIDE_CASTLE && hashNum(i, a.zobristCastle[t + 1]));
                        Pe ? function hashHand(e, t) {
                            var n, i, o, r, s, l, c, u = 0;
                            for (n = 1; n < 3; ++n) {
                                if (i = t[n])
                                    for (o = 0; o < 5;) {
                                        for (s = u + 63 * o, r = i >> Q[o] & Z[o], l = 0; l < r; ++l) hashNum(e, [31 * (c = a.zobristPiece[s++])[0] >>> 0, 17 * c[1] >>> 0]);
                                        ++o
                                    }
                                u = 315
                            }
                        }(i, ue._hand) : pe === o["3-check"] && function hash3Check(e, t) {
                            t[f] && hashNum(e, a.zobristCheck[t[f] - 1]), t[g] && hashNum(e, a.zobristCheck[t[g] + 2])
                        }(i, xe)
                    }
                    return be !== m && hashEP(de, i, be + (fe === f ? 16 : -16), b | fe), i
                }

                function getCurrentHash() {
                    var e;
                    return we.length ? e = we[we.length - 1].hash : (we.hash || (we.hash = hashPosition()), e = we.hash), [e[0], e[1]]
                }

                function setVariant(e, t) {
                    pe !== (pe = e ? o[e] || 1 * e || o[String(e).replace(/ /g, "").toLowerCase()] || o.Chess : 0) && (pe === o.Bughouse ? (Pe = !0, ue.isDependent || (ue.siblingGame = Chess(), ue.siblingGame.hashing(he), ue.siblingGame.isDependent = !0, ue.siblingGame.siblingGame = ue, ue.siblingGame.header({
                        Variant: "Bughouse"
                    })), createVariantZobristNumbers(), Me = makeMoveVariant) : (delete ue.siblingGame, Pe = pe === o.Crazyhouse, Ce = pe === o.Chess960, pe ? (createVariantZobristNumbers(), Me = makeMoveVariant) : Me = makeMoveChess), t || updateSetup(generateFen()))
                }

                function disambiguate960Rook(e, t) {
                    for (var n, a, i = e > 7 ? f : g; !(136 & e);) {
                        if ((n = de[e]) & i)
                            if (n & _) {
                                if (a) return;
                                a = e % 8 + (i === f ? 65 : 97)
                            } else if (n & O) return a;
                        e += t
                    }
                }

                function _clear(e, t, n) {
                    de = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], fe = f, me[f] = m, me[g] = m, ge[f] = 0, ge[g] = 0, ue._hand[f] = 0, ue._hand[g] = 0, xe[f] = 0, xe[g] = 0, be = m, ve = 0, ye = 1, t || (Oe = [we = []], ke = 0, we.id = ke, Se = {
                        Event: "?",
                        Site: "?",
                        Date: "????.??.??",
                        Round: "?",
                        White: "?",
                        Black: "?",
                        Result: "*"
                    }, e ? setHeader(["Variant", e]) : setVariant(!1, n), n || updateSetup(generateFen()))
                }

                function reset() {
                    _clear(0, !1, !0), we.hash = [1178310168, 378666140], de = [34, 10, 18, 66, 130, 18, 10, 34, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 6, 6, 6, 6, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 33, 9, 17, 65, 129, 17, 9, 33], _e = 1, me[f] = 116, me[g] = 4, ge[f] = 48, ge[g] = 48
                }

                function load(e, t, n, a) {
                    var i, s, c, u, d, p, h, v, y, w, S, x, P = 0;
                    if (a ? (x = (i = e.split(" "))[3], S = i[2]) : (x = (i = e.trim().split(/\s+/))[3] || "-", S = i[2] || "-"), void 0 === t ? (31 & S.charCodeAt(0)) < 9 && setVariant(o.Chess960, !0) : setVariant(t, !0), s = i[0], !a && !(s = function fixFenPieces(e, t) {
                            var n, a, i = e.length,
                                r = 0,
                                s = 0,
                                l = t && (t === o.Crazyhouse || t === o.Bughouse);
                            for (n = 0; n < i; ++n)
                                if (+(a = e[n]) != +a)
                                    if ("/" === a) {
                                        if (8 !== s && (e = e.substr(0, n) + (8 - s) + e.substr(n), ++n, ++i), s = 0, ++r > 7) {
                                            if (!l && n < i - 1 || !/^[pnbrq]{0,63}$/i.test(e.substr(n + 1))) return !1;
                                            break
                                        }
                                    } else if (F[a]) {
                                if (++s > 8) return !1
                            } else {
                                if ("~" !== a) return !1;
                                l && n && /[nbrq]/i.test(e[n - 1]) || (e = e.substr(0, n) + e.substr(n + 1), --n, --i)
                            } else(s += 1 * a) > 8 && (e = e.substr(0, n) + (a - (s - 8)) + e.substr(n + 1), s = 8);
                            return e
                        }(s, pe))) return !1;
                    if (u = s.length, _clear(r[pe], n, !0), Pe) {
                        if (pe === o.Bughouse && !ue.isDependent && (p = e.split(" | "), !ue.siblingGame.load(1 === p.length ? e : p[1], t, n, a))) return reset(), !1;
                        for (d = 0; d < u; ++d)
                            if (+(h = s[d]) != +h)
                                if ("/" === h) {
                                    if (P > 111) {
                                        for (++d; d < u; ++d) h = s[d], ue._hand[h < "a" ? f : g] += 1 << J[h] >>> 0;
                                        break
                                    }
                                    P += 8
                                } else de[P] = F[h], "~" === s[d + 1] && (++d, de[P] |= C), de[P] & O && (me[de[P] & k] = P), ++P;
                        else P += 1 * h
                    } else
                        for (d = 0; d < u; ++d) + (h = s[d]) != +h ? "/" === h ? P += 8 : (de[P] = F[h], de[P] & O && (me[de[P] & k] = P), ++P) : P += 1 * h;
                    if (fe = "b" === i[1] ? g : f, "-" !== S)
                        if (Ce) {
                            for (y = {
                                    1: [0, 0],
                                    2: [0, 0]
                                }, d = S.length - 1; d >= 0; --d) 75 === (c = S.charCodeAt(d)) ? c = disambiguate960Rook(119, -1) : 81 === c ? c = disambiguate960Rook(112, 1) : 107 === c ? c = disambiguate960Rook(7, -1) : 113 === c && (c = disambiguate960Rook(0, 1)), v = c < 97 ? f : g, w = ie[String.fromCharCode(c)], (h = de[w]) === (_ | v) && (c >= 97 ? me[v] >= 1 && me[v] <= 6 && (ge[v] |= 1 << c - 97) : me[v] >= 113 && me[v] <= 118 && (ge[v] |= 1 << c - 65), ++y[v][1 * (me[v] < w)]);
                            (y[f][0] > 1 || y[f][1] > 1) && (ge[f] = 0), (y[g][0] > 1 || y[g][1] > 1) && (ge[g] = 0)
                        } else {
                            if (!a)
                                for (d = S.length - 1; d >= 0; --d) h = de[ie[S[d]]], v = S.charCodeAt(d) < 97 ? f : g, h === (_ | v) && me[v] === (v === f ? 116 : 4) || (S = S.substr(0, d) + S.substr(d + 1) || "-");
                            for (d = S.length - 1; d >= 0; --d) switch (S[d]) {
                                case "K":
                                    ge[f] |= ne.KSIDE_CASTLE;
                                    break;
                                case "Q":
                                    ge[f] |= ne.QSIDE_CASTLE;
                                    break;
                                case "k":
                                    ge[g] |= ne.KSIDE_CASTLE;
                                    break;
                                case "q":
                                    ge[g] |= ne.QSIDE_CASTLE
                            }
                        }
                    return !a && (2 !== x.length || fe === f && "6" !== x[1] || fe === g && "3" !== x[1] || de[x.charCodeAt(0) - 97 + 16 * (8 - ("3" === x[1] ? 4 : 5))] !== (b | swapColor(fe)) || de[l[x]]) && (x = "-"), be = "-" === x ? m : l[x], ve = 1 * i[4] || 0, ye = 1 * i[5] || 1, pe === o["3-check"] && (i[6] && "+3+3" !== i[6] && (p = i[6].match(/^\+([0-3])\+([0-3])$/)), p = p || [0, 0, 0], xe[f] = 1 * p[1], xe[g] = 1 * p[2]), n || (_e = ye, updateSetup(generateFen())), !0
                }

                function generateFen() {
                    return pe ? function generateVariantFen() {
                        var e, t, n, a = 0,
                            i = "",
                            r = "";
                        for (e = 0; e < 120; ++e) 136 & e && (a && (i += a), i += "/", a = 0, e += 8), (n = de[e]) ? (a && (i += a, a = 0), i += U[n & x], Pe && n & C && (i += "~")) : ++a;
                        if (a && (i += a), Pe && (i += "/" + handToString(ue._hand[f], !0) + handToString(ue._hand[g])), Ce) {
                            for (t = ge[g], e = 0; t;) 1 & t && (r = String.fromCharCode(e + 97) + r), t >>= 1, ++e;
                            for (t = ge[f], e = 0; t;) 1 & t && (r = String.fromCharCode(e + 65) + r), t >>= 1, ++e
                        } else ge[f] & ne.KSIDE_CASTLE && (r += "K"), ge[f] & ne.QSIDE_CASTLE && (r += "Q"), ge[g] & ne.KSIDE_CASTLE && (r += "k"), ge[g] & ne.QSIDE_CASTLE && (r += "q");
                        return i += " " + (fe === f ? "w" : "b") + " " + (r || "-") + " " + (be === m ? "-" : algebraic(be)) + " " + ve + " " + ye, pe === o["3-check"] ? i += " +" + xe[f] + "+" + xe[g] : pe !== o.Bughouse || ue.isDependent || (i += " | " + ue.siblingGame.fen()), i
                    }() : function generateStandardFen() {
                        var e, t, n = 0,
                            a = "",
                            i = "";
                        for (e = 0; e < 120; ++e) 136 & e && (n && (a += n), a += "/", n = 0, e += 8), (t = de[e]) ? (n && (a += n, n = 0), a += U[t & x]) : ++n;
                        return n && (a += n), ge[f] & ne.KSIDE_CASTLE && (i += "K"), ge[f] & ne.QSIDE_CASTLE && (i += "Q"), ge[g] & ne.KSIDE_CASTLE && (i += "k"), ge[g] & ne.QSIDE_CASTLE && (i += "q"), a += " " + (fe === f ? "w" : "b") + " " + (i || "-") + " " + (be === m ? "-" : algebraic(be)) + " " + ve + " " + ye
                    }()
                }

                function setHeader(e) {
                    var t, n, a;
                    for (t = 0; t < e.length; t += 2) n = e[t], a = e[t + 1], n && ("Variant" === n && (setVariant(a), a = pe ? r[pe] : void 0), "Result" === n && "*" !== a && "1-0" !== a && "0-1" !== a && "1/2-1/2" !== a && (a = "*"), void 0 !== a ? Se[n] = String(a) : oe.indexOf(n) > -1 ? Se[n] = "Date" === n ? "????.??.??" : "?" : delete Se[n]);
                    return Se
                }

                function updateSetup(e) {
                    we.length > 0 || ke || (e !== B ? (Se.SetUp = "1", Se.FEN = e, we.hash = null) : (delete Se.SetUp, delete Se.FEN, we.hash = [1178310168, 378666140]))
                }

                function get(e) {
                    var t = de[l[e]];
                    return t ? {
                        type: U[t & S | g],
                        color: t & k,
                        promoted: 0 != (t & C)
                    } : null
                }

                function calculateLegalMoveInfo(a, o) {
                    var r, s, l, u, d, p, h, f, g, v, y, _, w, k, x = fe,
                        C = O | x,
                        L = c;
                    if (e = [], t = 0, n = 0, i = 0, L[0] = L[1] = L[2] = L[3] = L[4] = L[5] = L[6] = L[7] = L[16] = L[17] = L[18] = L[19] = L[20] = L[21] = L[22] = L[23] = L[32] = L[33] = L[34] = L[35] = L[36] = L[37] = L[38] = L[39] = L[48] = L[49] = L[50] = L[51] = L[52] = L[53] = L[54] = L[55] = L[64] = L[65] = L[66] = L[67] = L[68] = L[69] = L[70] = L[71] = L[80] = L[81] = L[82] = L[83] = L[84] = L[85] = L[86] = L[87] = L[96] = L[97] = L[98] = L[99] = L[100] = L[101] = L[102] = L[103] = L[112] = L[113] = L[114] = L[115] = L[116] = L[117] = L[118] = L[119] = 0, o !== m) {
                        for (w = function chooseKingThreats(e, t) {
                                return Ce && ge[e] ? Y : ge[e] & ne.KSIDE_CASTLE && !de[t + 1] && !de[t + 2] ? ge[e] & ne.QSIDE_CASTLE && !de[t - 1] && !de[t - 2] && !de[t - 3] ? (i = ne.KQSIDE_CASTLE, q) : (i = ne.KSIDE_CASTLE, W) : ge[e] & ne.QSIDE_CASTLE && !de[t - 1] && !de[t - 2] && !de[t - 3] ? (i = ne.QSIDE_CASTLE, K) : V
                            }(x, o), r = 0; r < 120; ++r)
                            if (136 & r && (r += 8), u = de[r])
                                if (u & x)(!a || (0 | u) & a) && e.push(r);
                                else if (0 != ((k = w[r - o + 119]) & u))
                            if (u & b)
                                for (v = R[u], s = 1; s < 3; ++s) 136 & (f = r + v[s]) || (L[f] |= T, f === o && (++t, L[r] |= E));
                            else
                                for (g = (v = R[u & S]).length, _ = u & M, s = 0; s < g; ++s)
                                    if (y = v[s], !(o > (f = r) && y < 0 && o - f > 16 || o < f && y > 0 && f - o > 16))
                                        for (; !(136 & (f += y));) {
                                            if (L[f] |= T, d = de[f]) {
                                                if (d & x)
                                                    if (f === o) {
                                                        for (l = f - y; l !== r; l -= y) L[l] |= E;
                                                        L[r] |= E, ++t, _ && 0 == (136 & (f += y)) && (L[f] |= T)
                                                    } else if (_ && k & P && t < 2)
                                                    for (h = f + y; 0 == (136 & h);) {
                                                        if (p = de[h]) {
                                                            p === C && (L[f] |= A + (Math.abs(y) << j), ++n);
                                                            break
                                                        }
                                                        h += y
                                                    }
                                                break
                                            }
                                            if (!_) break
                                        }
                        t > 1 && (e = [o])
                    } else e = function getPieces(e, t) {
                        var n, a, i = [];
                        for (n = 0; n < 120; ++n) 136 & n && (n += 8), (a = e[n]) && (a & t) === t && i.push(n);
                        return i
                    }(de, x | a)
                }

                function validateEnPassant(e, n) {
                    var a, i, o, r = n + 16 * (fe === f ? 1 : -1);
                    return (1 !== t || 0 != (c[n] & E) || 0 != (c[r] & E)) && (a = de[e], de[n] = a, de[e] = 0, i = de[r], de[r] = 0, o = inCheck(), de[e] = a, de[n] = 0, de[r] = i, !o)
                }

                function addCastlingMoves(e) {
                    var t, n, a;
                    if (Ce) {
                        if (ge[e])
                            for (n = (t = me[e]) % 8, a = 0; a < 8; ++a) ge[e] & 1 << a && canCastle960(de, t, a, e) && (u[p++] = (a > n ? ne.KSIDE_CASTLE : ne.QSIDE_CASTLE) + (t << L) + (t + (a - n) << D), ++a)
                    } else i & ne.KSIDE_CASTLE && (n = (t = me[e]) + 2, 0 === c[t + 1] && 0 === c[t + 2] && (u[p++] = ne.KSIDE_CASTLE + (t << L) + (n << D))), i & ne.QSIDE_CASTLE && (n = (t = me[e]) - 2, 0 === c[t - 1] && 0 === c[t - 2] && (u[p++] = ne.QSIDE_CASTLE + (t << L) + (n << D)))
                }

                function generateMoves(a, i) {
                    var o, r, s, l, m, f, g, y, _, w, O = fe,
                        k = swapColor(O),
                        x = me[O];
                    for (calculateLegalMoveInfo(a, x), h = e.length, p = d, _ = 0; _ < h; ++_)
                        if (o = e[_], l = de[o], !(t && n && c[o] & A))
                            if (l & b)
                                for (f = R[l], 0 !== n && 0 != (c[o] & A) && c[o] >> j != 16 || (m = o + f[0], 0 === de[m] && (addPawnMove(o, m, 0), ae[O] === rank(o) && (m += f[0], de[m] || addPawnMove(o, m, ne.BIG_PAWN)))), r = 1; r < 3; ++r) 136 & (m = o + (g = f[r])) || n && c[o] & A && c[o] >> j !== Math.abs(g) || (de[m] & k ? addPawnMove(o, m, ne.CAPTURE) : m === be && validateEnPassant(o, m) && (u[p++] = ne.EP_CAPTURE | o << L | m << D));
                            else {
                                if (n && c[o] & A) {
                                    if (l & v) continue;
                                    if (!(H[o - me[O] + 119] & l)) continue;
                                    f = [g = c[o] >> j, -g]
                                } else f = R[l & S];
                                if (w = o << L, o === x) {
                                    for (r = 0; r < 8; ++r) 0 == (136 & (m = o + (g = f[r]))) && (de[m] ? de[m] & k && 0 == (c[m] & T) && (u[p++] = ne.CAPTURE | w | m << D) : 0 == (c[m] & T) && (u[p++] = w | m << D));
                                    0 === t && addCastlingMoves(O)
                                } else
                                    for (s = f.length, y = l & M, r = 0; r < s; ++r)
                                        for (g = f[r], m = o; !(136 & (m += g));) {
                                            if (de[m]) {
                                                de[m] & k && (0 === t || c[m] & E) && (u[p++] = ne.CAPTURE | w | m << D);
                                                break
                                            }
                                            if ((0 === t || c[m] & E) && (u[p++] = w | m << D), !y) break
                                        }
                            }
                    return Pe && function drop(e, n, a) {
                        var i, o, r, s, l;
                        if (!e)
                            for (n && (n >>= 26), s = 0; s < 5; ++s)
                                if ((!n || (0 | n) == 1 << s) && ue._hand[a] & Z[s] << Q[s]) {
                                    for (0 === s ? (i = 16, o = 103, r = ne.DROP) : (i = 0, o = 119, r = ne.DROP | s << N), l = i; l <= o; ++l) 136 & l && (l += 8), de[l] || (0 === t || 1 === t && c[l] & E) && (u[p++] = r | l << D);
                                    if (n) return
                                }
                    }(i, a, O), p
                }

                function inCheckAfterMove(e, t, n, a) {
                    var i, r, s, l, c, u, d, p;
                    if (pe === o["King of the Hill"] && e & O && kingOfTheHillWin(n)) return !0;
                    if (a & ne.KQSIDE_CASTLE && (n = fe === f ? a & ne.KSIDE_CASTLE ? 117 : 115 : a & ne.KSIDE_CASTLE ? 5 : 3, e = _, p = !0), (i = me[swapColor(fe)]) === m) return !1;
                    if (0 == (e & O) && H[n - i + 119] & e)
                        for (s = X[n - i + 119], c = e & M, l = n + s; 0 == (136 & l);) {
                            if (l === i) {
                                if (e & b) {
                                    if ((e & k) === f ? i - n < 0 : i - n > 0) return !0;
                                    break
                                }
                                return !0
                            }
                            if (l !== t && de[l] || !c) break;
                            l += s
                        }
                    if (!p) {
                        if ((r = H[t - i + 119]) & M && (s = X[t - i + 119]) !== X[n - i + 119])
                            for (l = i - s; 0 == (136 & l);) {
                                if (l !== t && (u = de[l])) {
                                    if (u & fe && r & u && u & M) return !0;
                                    break
                                }
                                l -= s
                            }
                        if (a & ne.EP_CAPTURE && (r = H[(d = n + 16 * (fe === f ? 1 : -1)) - i + 119]) & M)
                            for (l = i - (s = X[d - i + 119]); 0 == (136 & l);) {
                                if (l !== t && l !== d) {
                                    if (l === n) break;
                                    if (u = de[l]) {
                                        if (u & fe && r & u && u & M) return !0;
                                        break
                                    }
                                }
                                l -= s
                            }
                    }
                    return !1
                }

                function moveToSan(e, t) {
                    var n, a, i, r, s, l, c = "";
                    return e & ne.KQSIDE_CASTLE ? c = e & ne.KSIDE_CASTLE ? "O-O" : "O-O-O" : e & ne.DROP ? (i = e >> D & I, (n = e >> N) && (c += te[n]), c += "@" + algebraic(i)) : (i = e >> D & I, (r = de[a = e >> L & I]) & b ? (e & ne.ANY_CAPTURE && (c += String.fromCharCode(file(a) + 97) + "x"), c += algebraic(i), e & ne.PROMOTION && (c += "=" + te[n = e >> N])) : (c += G[r & x], h > 1 && (c += function getDisambiguator(e, t, n) {
                        var a, i, o, r, s, l;
                        if (p < 2) return "";
                        for (e &= S, l = 0; l < p; ++l)
                            if (a = u[l], n === a >> D && (o = a >> L & I) !== t && de[o] & e) {
                                if (i = !0, rank(t) === rank(o)) {
                                    if (r) return algebraic(t);
                                    s = !0
                                }
                                if (file(t) === file(o)) {
                                    if (s) return algebraic(t);
                                    r = !0
                                }
                            }
                        if (i) return r ? String(8 - rank(t)) : String.fromCharCode(file(t) + 97);
                        return ""
                    }(r, a, i)), e & ne.ANY_CAPTURE && (c += "x"), c += algebraic(i))), t || (e & ne.KQSIDE_CASTLE ? (a = e >> L & I, i = e >> D & I) : e & ne.DROP_OR_PROMOTE && (r = ee[n] + fe), inCheckAfterMove(r, a, i, e) && (Me(e, a, i, n), s = d, d = p, l = h, pe !== o.Chess && isVariantWin() ? c += "#" : generateMoves() - d ? c += "+" : c += "#", p = d, d = s, h = l, reverseMove(we.pop()))), c
                }

                function kingAttacked(e) {
                    return me[e] !== m && function attacked(e, t) {
                        var n, a, i, o, r = R[v],
                            s = v | e;
                        for (n = 0; n < 8; ++n)
                            if (0 == (136 & (i = t + r[n])) && ((a = de[i]) & s) === s) return !0;
                        for (r = R[O], n = 0; n < 8; ++n)
                            for (i = t + (o = r[n]); 0 == (136 & i);) {
                                if (a = de[i]) {
                                    if (a & e && H[t - i + 119] & a) {
                                        if (!(a & b)) return !0;
                                        if (e === f ? t - i < 0 : t - i > 0) return !0
                                    }
                                    break
                                }
                                i += o
                            }
                        return !1
                    }(swapColor(e), me[e])
                }

                function inCheck() {
                    return kingAttacked(fe)
                }

                function inCheckmate() {
                    return inCheck() && 0 === generateMoves()
                }

                function inStalemate() {
                    var e = !inCheck() && 0 === generateMoves();
                    return e && pe === o.Bughouse && !ue.isDependent && (e = ue.siblingGame.inStalemate()), e
                }

                function insufficientMaterial(e) {
                    var t, n, a = 0,
                        i = 0,
                        o = 0;
                    for (n = 0; n < 120; ++n)
                        if (136 & n && (n += 8), t = de[n]) {
                            if (e && 0 == (t & e)) continue;
                            if (100 & t) return !1;
                            if (t & v) {
                                if (i || a++) return !1
                            } else if (t & y) {
                                if (a) return !1;
                                if (++i, (rank(n) + n) % 2 && ++o, o && i !== o) return !1
                            }
                        }
                    return !0
                }

                function inThreefoldRepetition() {
                    if (ve < 8) return !1;
                    for (var e, t = getCurrentHash(), n = !1, a = ve, i = !1, o = we, r = o.length - 1;;) {
                        if ((r -= 2) < 0) {
                            if (o.id) {
                                r = o.atMoveNode + r + 2, o = Oe[o.parentId];
                                continue
                            }
                            if (-2 === r) return !1;
                            e = o.hash, i = !0
                        } else e = o[r].hash, o[r].halfMoves > a || a < 2 ? i = !0 : a = o[r].halfMoves;
                        if (e[0] === t[0] && e[1] === t[1]) {
                            if (n) return !0;
                            n = !0
                        }
                        if (i) return !1
                    }
                }

                function modifyHand(e) {
                    var t, n, i, r, s, l, c, u, d, p = e.move;
                    if (pe === o.Crazyhouse || p & ne.DROP ? (n = ue._hand, s = e.hash, d = e.color) : (n = ue.siblingGame._hand, e.handSibling = !0, he && ((l = ue.siblingGame._history()).length ? s = l[l.length - 1].hash : (l.hash || (l.hash = ue.siblingGame._hashPosition()), s = l.hash)), d = swapColor(e.color)), e.captured) {
                        switch ((e.captured & C ? b : e.captured & S) & S) {
                            case b:
                                c = 0;
                                break;
                            case v:
                                c = 1;
                                break;
                            case y:
                                c = 2;
                                break;
                            case _:
                                c = 3;
                                break;
                            default:
                                c = 4
                        }
                        t = 1 << Q[c], he && (r = n[d] >> Q[c] & Z[c], u = a.zobristPiece[r + 63 * c + (d === f ? 0 : 315)])
                    } else t = -1 << Q[i = p >> N], he && (r = n[d] >> Q[i] & Z[i], u = a.zobristPiece[r - 1 + 63 * i + (d === f ? 0 : 315)]);
                    n[d] += t, e.handChange = t, he && hashNum(s, [31 * u[0] >>> 0, 17 * u[1] >>> 0])
                }

                function makeMoveChess(e, t, n, i) {
                    var o, r, s, l, c, u, d, p, h = fe,
                        v = swapColor(h),
                        y = {
                            move: e,
                            epSquare: be,
                            halfMoves: ve,
                            castlingW: ge[f],
                            castlingB: ge[g],
                            color: h
                        },
                        w = h === f;
                    he && (l = getCurrentHash(), y.hash = l, hashNum(l, a.zobristTurn), be !== m && hashEP(de, l, be + (w ? 16 : -16), b | h)), 0 == (e & ne.KQSIDE_CASTLE) ? Pe && e & ne.DROP ? (de[n] = ee[i] | h, he && hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[de[n]] + 8 * (7 - rank(n)) + file(n)]), modifyHand(y), d = 0) : (d = de[t], (p = de[n]) && (y.captured = p, he && hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[de[n] & x] + 8 * (7 - rank(n)) + file(n)]), p & _ && ge[v] && (Ce ? rank(n) === (w ? 0 : 7) && (s = 1 << file(n), ge[v] & s && (ge[v] ^= s, he && (s > 1 << file(me[h]) ? hashNum(l, a.zobristCastle[v - 1]) : hashNum(l, a.zobristCastle[v + 1])))) : n === (w ? 7 : 119) ? ge[v] & ne.KSIDE_CASTLE && (ge[v] ^= ne.KSIDE_CASTLE, he && hashNum(l, a.zobristCastle[v - 1])) : n === (w ? 0 : 112) && ge[v] & ne.QSIDE_CASTLE && (ge[v] ^= ne.QSIDE_CASTLE, he && hashNum(l, a.zobristCastle[v + 1])))), e & ne.PROMOTION ? de[n] = ee[i] | h | C : de[n] = de[t], de[t] = 0, he && (hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[d & x] + 8 * (7 - rank(t)) + file(t)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[de[n] & x] + 8 * (7 - rank(n)) + file(n)]))) : d = O, e & ne.EP_CAPTURE ? (w ? (u = n + 16, c = 6) : (u = n - 16, c = 8), y.captured = b | v, de[u] = 0, he && hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[b | v] + 8 * (c - rank(n)) + file(n)])) : d & O ? (Ce ? (e & ne.KQSIDE_CASTLE && (de[n] = 0, de[t] = 0, e & ne.KSIDE_CASTLE ? w ? (o = 118, r = 117) : (o = 6, r = 5) : w ? (o = 114, r = 115) : (o = 2, r = 3), de[o] = h | O, de[r] = h | _, he && (hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[O | h] + 8 * (7 - rank(t)) + file(t)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[_ | h] + 8 * (7 - rank(n)) + file(n)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[O | h] + 8 * (7 - rank(o)) + file(o)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[_ | h] + 8 * (7 - rank(r)) + file(r)]))), he && (0 != (ge[h] & ge[h] - 1) ? (hashNum(l, a.zobristCastle[h - 1]), hashNum(l, a.zobristCastle[h + 1])) : ge[h] > 1 << file(me[h]) ? hashNum(l, a.zobristCastle[h - 1]) : hashNum(l, a.zobristCastle[h + 1])), me[h] = o || n) : (e & ne.KQSIDE_CASTLE && (de[n] = de[t], de[t] = 0, e & ne.KSIDE_CASTLE ? (o = n - 1, r = n + 1) : (o = n + 1, r = n - 2), de[o] = de[r], de[r] = 0, he && (hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[O | h] + 8 * (7 - rank(t)) + file(t)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[_ | h] + 8 * (7 - rank(r)) + file(r)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[O | h] + 8 * (7 - rank(n)) + file(n)]), hashNum(l, a.zobristPiece[64 * a.zobristPieceValueNumbers[_ | h] + 8 * (7 - rank(o)) + file(o)]))), he && (ge[h] & ne.KSIDE_CASTLE && hashNum(l, a.zobristCastle[h - 1]), ge[h] & ne.QSIDE_CASTLE && hashNum(l, a.zobristCastle[h + 1])), me[h] = n), ge[h] = 0) : d & _ && ge[h] && (Ce ? rank(t) === (w ? 7 : 0) && (s = 1 << file(t), ge[h] & s && (ge[h] ^= s, he && (s > 1 << file(me[h]) ? hashNum(l, a.zobristCastle[h - 1]) : hashNum(l, a.zobristCastle[h + 1])))) : t === (w ? 119 : 7) ? ge[h] & ne.KSIDE_CASTLE && (ge[h] ^= ne.KSIDE_CASTLE, he && hashNum(l, a.zobristCastle[h - 1])) : t === (w ? 112 : 0) && ge[h] & ne.QSIDE_CASTLE && (ge[h] ^= ne.QSIDE_CASTLE, he && hashNum(l, a.zobristCastle[h + 1]))), e & ne.BIG_PAWN ? (be = w ? n + 16 : n - 16, he && hashEP(de, l, n, b | v)) : be = m, d & b || e & ne.ANY_CAPTURE ? ve = 0 : ve++, fe = v, we.push(y)
                }

                function makeMoveVariant(e, t, n, i) {
                    var r, s = fe;
                    makeMoveChess(e, t, n, i), r = we[we.length - 1], Pe ? (ve = r.halfMoves + 1, r.captured && modifyHand(r), pe === o.Bughouse && (r.bughouseOrder = ue.moveCount() - 1 + ue.siblingGame.moveCount())) : pe === o["3-check"] && kingAttacked(fe) && (r.checked = !0, he && xe[s] && hashNum(r.hash, a.zobristCheck[xe[s] + (s === f ? -1 : 2)]), ++xe[s], he && hashNum(r.hash, a.zobristCheck[xe[s] + (s === f ? -1 : 2)]))
                }

                function reverseMove(e) {
                    var t, n, a = fe,
                        i = swapColor(a),
                        r = e.move,
                        s = r >> D & I,
                        l = r >> L & I;
                    if (fe = i, ge[g] = e.castlingB, ge[f] = e.castlingW, be = e.epSquare, ve = e.halfMoves, pe) {
                        if (Ce && r & ne.KQSIDE_CASTLE) return r & ne.KSIDE_CASTLE ? i === f ? (n = 118, t = 117) : (n = 6, t = 5) : i === f ? (n = 114, t = 115) : (n = 2, t = 3), de[n] = 0, de[t] = 0, de[l] = i | O, de[s] = i | _, void(me[i] = l);
                        if (e.handChange && (pe !== o.Crazyhouse && e.handSibling ? ue.siblingGame._hand[swapColor(i)] -= e.handChange : ue._hand[i] -= e.handChange), r & ne.DROP) return void(de[s] = 0);
                        e.checked && --xe[i]
                    }
                    r & ne.PROMOTION ? (de[l] = b | i, r & ne.CAPTURE ? de[s] = e.captured : de[s] = 0) : (de[l] = de[s], r & ne.KQSIDE_CASTLE ? (de[s] = 0, r & ne.KSIDE_CASTLE ? (t = s + 1, n = s - 1) : (t = s - 2, n = s + 1), de[t] = i | _, de[n] = 0, me[i] = l) : (s === me[i] && (me[i] = l), r & ne.CAPTURE ? de[s] = e.captured : (de[s] = 0, r & ne.EP_CAPTURE && (de[s - (i === f ? -16 : 16)] = b | a))))
                }

                function beautifyMove(e, t, n) {
                    var a, i, o = e >> D & I,
                        r = {
                            color: fe,
                            to: algebraic(o),
                            flags: e & I
                        };
                    return Pe && 0 != (e & ne.DROP) ? (i = e >> N, r.drop = i, r.piece = ee[i] + fe) : (a = e >> L & I, r.from = algebraic(a), r.piece = de[a], e & ne.PROMOTION && (i = e >> N, r.promotion = ee[i] + fe), e & ne.CAPTURE ? r.captured = de[o] : e & ne.EP_CAPTURE && (r.captured = b | swapColor(fe))), r.san = t || moveToSan(e, n), r
                }

                function isVariantWin() {
                    return pe === o["3-check"] ? 3 === xe[swapColor(fe)] : pe === o["King of the Hill"] ? kingOfTheHillWin(me[swapColor(fe)]) : void 0
                }

                function isBughouseWin() {
                    if (pe === o.Bughouse) return ue.siblingGame.inCheckmate()
                }

                function createVariation() {
                    var e = [],
                        t = generateFen(),
                        n = we.length - 1,
                        a = we[n];
                    return !!a && (e.parentId = ke, e.id = Oe.length, we.curFen = t, a.lines || (a.lines = []), a.lines.push(e.id), a.move ? reverseMove(a) : (be = a.epSquare, --ve, fe = swapColor(fe)), fe === g && --ye, e.atMoveNode = n, e.hash = n ? we[n - 1].hash : we.hash, ke = e.id, Oe.push(e), we = e, !0)
                }

                function selectLine(e) {
                    var t = generateFen();
                    we.curFen = t, we = Oe[e], ke = e, load(we.curFen, pe, !0, !0)
                }
                return ue = {
                    WHITE: f,
                    BLACK: g,
                    PAWN: b,
                    KNIGHT: v,
                    BISHOP: y,
                    ROOK: _,
                    QUEEN: w,
                    KING: O,
                    FLAGS: ne,
                    load: load,
                    reset: reset,
                    moves: function moves(e) {
                        var t, n, a, moves = [],
                            i = moveToSan;
                        for (e && (e.verbose && (i = beautifyMove), e.type && (n = e.type | e.type << 24), a = e.noDrop), generateMoves(n, a), t = 0; t < p; ++t) moves.push(i(u[t]));
                        return moves
                    },
                    inCheck: inCheck,
                    inCheckmate: inCheckmate,
                    inStalemate: inStalemate,
                    isBughouseWin: isBughouseWin,
                    in50MoveRule: function in50MoveRule() {
                        return ve >= 100
                    },
                    inDraw: function inDraw() {
                        return ve >= 100 || inStalemate() || insufficientMaterial() || inThreefoldRepetition() || Boolean(function isBughouseDraw() {
                            if (pe === o.Bughouse) return ue.siblingGame.in50MoveRule() || ue.siblingGame.inThreefoldRepetition()
                        }())
                    },
                    insufficientMaterial: insufficientMaterial,
                    inThreefoldRepetition: inThreefoldRepetition,
                    isVariantWin: isVariantWin,
                    gameOver: function gameOver() {
                        return ue.inDraw() || inCheckmate() || Boolean(isVariantWin()) || Boolean(isBughouseWin())
                    },
                    isPositionValid: function isPositionValid(e) {
                        var t, n, a, i = 0;
                        if (!1 !== (e = e || {}).pawns)
                            for (t = 0; t <= 119;) {
                                if ((a = de[t]) & b) return !1;
                                8 == ++t && (t = 112)
                            }
                        if (!1 !== e.kings) {
                            for (t = 0; t <= 119; ++t)
                                if (136 & t && (t += 8), (a = de[t]) & O) {
                                    if (++i > 2) return !1;
                                    if (n && n & a) return !1;
                                    n = a & k
                                }
                            if (2 !== i) return !1
                        }
                        return !1 === e.check || !1 === e.kings && me[swapColor(fe)] === m || !kingAttacked(swapColor(fe))
                    },
                    validateFen: validateFen,
                    fen: generateFen,
                    pgn: function pgn(e) {
                        return (e = e || {}).useResultHeader || ke || (isVariantWin() || inCheckmate() ? Se.Result = fe === g ? "1-0" : "0-1" : ue.inStalemate() ? Se.Result = "1/2-1/2" : isBughouseWin() && (Se.Result = ue.siblingGame.turn() === f ? "1-0" : "0-1")), se(e, Se, Oe, _e, pe, ue)
                    },
                    loadPgn: function loadPgn(e, t, n) {
                        var a, i, r, s, l, c, u, d, p, h = {},
                            m = 0;
                        if ("number" != typeof t && (n = n || t, t = 0), n = n || {}, "string" == typeof e && (n.singleGame && (e = e.replace(/(?:\r?\n\s*){2,}/g, "\n")), e = ue.tokenizePgn(e, n)), t < 0 && (t = e.length + t), !(s = e[t])) return !1;
                        for (reset(), i = s.length, a = 0; a < i && "tagName" === (r = s[a]).type; ++a) {
                            if (!s[a + 1] || "tagValue" !== s[a + 1].type) return !1;
                            ++a, "FEN" === r.value ? u = completeFen(s[a].value) : h[r.value] = s[a].value
                        }
                        if (h.Variant && !u && (u = B), u || "1" === h.SetUp)
                            if ("0" === h.SetUp) h.FEN = u;
                            else if (!u || !load(u, h.Variant)) return !1;
                        for (ue.header(h), c = (l = ue)._history(); a < i; ++a)
                            if ("san" === (r = s[a]).type && 0 === m) {
                                if (!l.move(r.value)) {
                                    if (!n.skipBadLines || !(0 !== ke || we.length && n.allowBadMainLine)) return reset(), !1;
                                    m = 1
                                }
                            } else if ("result" === r.type && "*" === Se.Result) setHeader(["Result", r.value]);
                        else if ("a" === r.type && 0 === m && c[c.length - 1]) c[c.length - 1].annotation = r.value;
                        else if ("nag" !== r.type && "aa" !== r.type || 0 !== m || !c[c.length - 1])
                            if ("comment" === r.type && 0 === m) c.length ? (r.value.trim() && (c[c.length - 1].comment = r.value), r.commands && (c[c.length - 1].commands = r.commands, r.commands.clk && (c[c.length - 1].time = (d = r.commands.clk, p = void 0, 10 * (3600 * (p = d.split(":"))[0] + 60 * p[1] + 1 * p[2]))))) : (c.initComment = String(r.value), r.commands && (c.commands = r.commands));
                            else if ("variationStart" === r.type) {
                            if (m > 0) ++m;
                            else if (!createVariation()) return reset(), !1;
                            c = l._history()
                        } else "variationEnd" === r.type ? (m > 0 && --m, 0 === m && (selectLine(c.parentId), c = l._history())) : "number" === r.type && pe === o.Bughouse && (c = (l = /b/i.test(r.value.slice(-1)) ? ue.siblingGame : ue)._history());
                        else c[c.length - 1].additionalAnnotation || (c[c.length - 1].additionalAnnotation = []), -1 === c[c.length - 1].additionalAnnotation.indexOf(r.value) && c[c.length - 1].additionalAnnotation.push(r.value);
                        return !0
                    },
                    header: function header(e) {
                        return Array.isArray(e) ? setHeader(e) : "object" === s()(e) ? (Object.keys(e).forEach(function(t) {
                            setHeader([t, e[t]])
                        }), Se) : Se
                    },
                    turn: function turn(e) {
                        return e !== f && e !== g || (fe = e), fe
                    },
                    move: function playMove(e) {
                        var t, n, i, r, s, c, d, h, g, v, y, _, w;
                        if ("string" == typeof e) {
                            switch (e[r = e.length - 1]) {
                                case "+":
                                case "#":
                                    e = e.substr(0, r)
                            }
                            for (g = $.indexOf(e[0]) > 6 ? z[e[0]] : "O" === e[0] ? O : b, Pe && (-1 === e.indexOf("@") ? v = !0 : (v = !1, g <<= 24)), generateMoves(g, v), r = 0; r < p; ++r)
                                if (e === (c = moveToSan(u[r], !0))) {
                                    n = u[r];
                                    break
                                }
                            if (!n) return "--" === e ? function makeNullMove() {
                                var e, t = {
                                        color: fe,
                                        san: "--",
                                        epSquare: be
                                    },
                                    n = {
                                        color: fe,
                                        san: "--"
                                    };
                                return he && (e = getCurrentHash(), t.hash = e, hashNum(e, a.zobristTurn), be !== m && hashEP(de, e, be + (fe === f ? 16 : -16), b | fe)), be = m, ve++, (fe = swapColor(fe)) === f && ++ye, we.push(t), n
                            }() : (e = Chess.fixSanMove(e, de, fe)) ? playMove(e) : null;
                            d = n >> L & I, h = n >> D & I, i = n >> N
                        } else {
                            if (e.drop) {
                                switch (e.drop) {
                                    case "p":
                                        i = 0;
                                        break;
                                    case "n":
                                        i = 1;
                                        break;
                                    case "b":
                                        i = 2;
                                        break;
                                    case "r":
                                        i = 3;
                                        break;
                                    case "q":
                                        i = 4;
                                        break;
                                    default:
                                        return null
                                }
                                g = 1 << 26 + i
                            } else {
                                if (e.promotion) switch (e.promotion) {
                                    case "q":
                                        i = 4;
                                        break;
                                    case "n":
                                        i = 1;
                                        break;
                                    case "r":
                                        i = 3;
                                        break;
                                    case "b":
                                        i = 2;
                                        break;
                                    default:
                                        return null
                                }
                                d = l[e.from], v = !0, g = de[d] & S
                            }
                            for (h = l[e.to], t = ((i ? i << N : 0) | h << D) >> L | d, generateMoves(g, v), r = 0; r < p; ++r)
                                if (u[r] >> L === t) {
                                    n = u[r];
                                    break
                                }
                            if (!n) return (e = Chess.fixObjMove(e, de, fe)) ? playMove(e) : null
                        }
                        return w = n & ne.DROP_OR_PROMOTE ? ee[i] + fe : de[d], s = beautifyMove(n, c, !0), y = inCheckAfterMove(w, d, h, n), Me(n, d, h, i), y && (pe !== o.Chess && isVariantWin() ? s.san += "#" : 0 === generateMoves() ? s.san += "#" : s.san += "+"), (_ = we[we.length - 1]).san = s.san, s.piece & C && (_.promoted = !0), fe === f && ++ye, s
                    },
                    undo: function undo(e) {
                        var t = we.pop();
                        return t ? (fe === f && --ye, t.move ? (reverseMove(t), !!e || beautifyMove(t.move, t.san)) : (be = t.epSquare, --ve, fe = swapColor(fe), !!e || {
                            san: "--",
                            color: t.color
                        })) : null
                    },
                    clear: function clear(e) {
                        _clear(e)
                    },
                    put: function put(e, t, n) {
                        var a, i = l[t],
                            o = !1,
                            r = de[i],
                            s = r & k,
                            c = e.color;
                        if (isNaN(i) || !e.type || !c || -1 === $.indexOf(e.type)) return !1;
                        if (de[i] = z[e.type] | c | (e.promoted ? C : 0), de[i] & O && (me[c] = i), r && de[me[s]] && de[me[s]] !== (O | s)) {
                            for (a = 0; a < 120; ++a) 136 & a && (a += 8), de[a] === (O | s) && (me[s] = a, o = !0);
                            o || (me[s] = m)
                        }
                        return n || load(generateFen(), pe, !0, !1), !0
                    },
                    get: get,
                    remove: function remove(e, t) {
                        var n, a = de[l[e]],
                            i = get(e),
                            o = a & k;
                        if (de[l[e]] = 0, a & O)
                            for (me[o] = m, ge[o] = 0, n = 0; n < 120; ++n)
                                if (136 & n && (n += 8), de[n] === (O | o)) {
                                    me[a.color] = n;
                                    break
                                }
                        return t || load(generateFen(), pe, !0, !1), i
                    },
                    history: function history(e, t) {
                        for (var n, a = [], i = we, o = i.length;;) {
                            if (-1 == --o) {
                                if (i.id && !t) {
                                    o = i.atMoveNode, i = Oe[i.parentId];
                                    continue
                                }
                                break
                            }
                            e ? ((n = beautifyMove(i[o].move, i[o].san)).color = i[o].color, !o && i.initComment && (n.firstComment = i.initComment), void 0 !== i[o].comment && (n.comment = i[o].comment), void 0 !== i[o].time && (n.time = i[o].time), void 0 !== i[o].annotation && (n.annotation = i[o].annotation), void 0 !== i[o].additionalAnnotation && (n.additionalAnnotation = i[o].additionalAnnotation), void 0 !== i[o].commands && (n.commands = i[o].commands), void 0 !== i[o].captured && (n.captured = i[o].captured), void 0 !== i[o].promoted && (n.promoted = i[o].promoted), void 0 !== i[o].lines && (n.lines = i[o].lines), void 0 !== i[o].bughouseOrder && (n.bughouseOrder = i[o].bughouseOrder), $.indexOf(i[o].san[0]) > 6 ? n.piece = z[i[o].san[0]] : "O" === i[o].san[0] ? n.piece = O : n.piece = b, n.piece |= n.color, a.unshift(n)) : a.unshift(i[o].san)
                        }
                        return a
                    },
                    hashes: function hashes() {
                        for (var hashes = [], e = we, t = e.length;;) {
                            if (-1 == --t) {
                                if (e.id) {
                                    t = e.atMoveNode, e = Oe[e.parentId];
                                    continue
                                }
                                e.hash || getCurrentHash(), hashes.unshift(e.hash);
                                break
                            }
                            hashes.unshift(e[t].hash)
                        }
                        return hashes
                    },
                    moveCount: function moveCount() {
                        return we.length
                    },
                    startingMoveNumber: function startingMoveNumber() {
                        return _e
                    },
                    completeFen: completeFen,
                    createVariation: createVariation,
                    selectLine: selectLine,
                    hash: function hash() {
                        var hash = getCurrentHash();
                        return pe !== o.Bughouse || ue.isDependent ? hash : [hash, ue.siblingGame.hash()]
                    },
                    hashing: function hashing(e) {
                        he = e, pe !== o.Bughouse || ue.isDependent || ue.siblingGame.hashing(he)
                    },
                    hand: function hand() {
                        if (Pe) return handToString(ue._hand[f], !0) + handToString(ue._hand[g])
                    },
                    checks: function checks() {
                        if (pe === o["3-check"]) return [xe[f], xe[g]]
                    },
                    tokenizePgn: le,
                    _hand: [],
                    _history: function _history(e) {
                        return e && (ke = (we = e).id), we
                    },
                    _lines: function _lines() {
                        return Oe
                    },
                    _hashPosition: hashPosition,
                    _board: function _board() {
                        return de
                    }
                }, re && load(re, ce) || reset(), ue
            }
            return Chess.fixSanMove = function(e, t, n) {
                var a, i, o;
                if (/0|[?!+#]$|[18][QNRB]$|^P/.test(e)) return e.replace(/[?!+#]+$/, "").replace(/0/g, "O").replace(/([18])([QNRB])$/, "$1=$2").replace(/^P/, "");
                if (i = e.indexOf("=") > 0 ? -4 : -2, a = e.substr(i, 2), n = swapColor(n), t[l[a]] & n || /^[a-h]x?[a-h]/.test(e)) {
                    if (-1 === e.indexOf("x")) return e.slice(0, i) + "x" + e.substr(i)
                } else if (e.indexOf("x") > -1) return e.replace("x", "");
                return (o = e.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])(x?[a-h][1-8])=?(.?)$/)) ? t[l[o[2]]] ? {
                    from: o[2],
                    to: a,
                    promotion: o[4].toLowerCase()
                } : o[1] + o[3] + o[4] : void 0
            }, Chess.fixObjMove = function(e, t, n) {
                if (t[l[e.from]] === (O | n) && e.to && e.from[1] === e.to[1]) {
                    if (e.from < e.to) return "O-O";
                    if (e.from > e.to) return "O-O-O"
                }
            }, Chess
        }(), o = function ENGINE_MANAGER(e) {
            var t = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                n = ["bench", "d", "eval", "flip", "isready", "perft", "ponderhit", "stop", "uci", "ucinewgame"],
                i = [{
                    cmd: "position",
                    args: ["fen", "startpos", "moves", "continuation"]
                }, {
                    cmd: "go",
                    args: ["binc", "btime", "confidence", "depth", "infinite", "mate", "mindepth", "mintime", "maxdepth", "maxtime", "movestogo", "movetime", "ponder", "searchmoves", "shallow", "winc", "wtime"]
                }],
                o = ["moves", "searchmoves"],
                r = ["ponder", "infinite", "startpos"],
                s = /Total Evaluation[\s\S]+\n$/i;

            function createWebWorker(e, t, n) {
                var a = new Worker(e || "stockfish.js"),
                    i = {
                        terminate: function terminate() {
                            a.terminate()
                        },
                        postMessage: postMessage,
                        addEventListener: function addEventListener(e, t) {
                            i["on" + e] = t
                        }
                    };

                function postMessage(e) {
                    a.postMessage(e)
                }
                return a.onmessage = function(e) {
                    i.onmessage(e)
                }, a.onerror = function(o) {
                    if (t.pathToNonWasmEngine && t.pathToNonWasmEngine !== e) {
                        o.preventDefault && o.preventDefault();
                        try {
                            a.terminate()
                        } catch (o) {}
                        return (a = createWebWorker(t.pathToNonWasmEngine, t, n)).onmessage = function(e) {
                                i.onmessage(e)
                            },
                            function requeue(e) {
                                e.length && e.forEach(function(e) {
                                    e.message = "", postMessage(e.cmd)
                                })
                            }(n._activeCommands()), !1
                    }
                    if (t.onError) return t.onError(o)
                }, i
            }

            function parseSearchLine(e) {
                var t, n, a, i, o, r = {},
                    s = ["lowerbound", "upperbound", "score"],
                    l = ["depth", "seldepth", "time", "nodes", "multipv", "cp", "mate", "currmovenumber", "hashfull", "nps", "tbhits", "sbhits", "cpuload"],
                    c = ["depth", "seldepth", "time", "nodes", "pv", "multipv", "score", "cp", "mate", "lowerbound", "upperbound", "currmove", "currmovenumber", "hashfull", "nps", "tbhits", "sbhits", "cpuload", "string", "refutation", "currline", "bestmove", "ponder", "baseTurn", "pvSan", "bestmoveSan", "ponderSan", "bmc"],
                    u = ["pv", "pvSan", "string", "refutation", "currline"];
                for (n = (t = e.split(" ")).length, a = "info" === t[0] ? 1 : 0, r.mtype = t[0]; a < n; a += 1) t[a] && (!o || i && c.indexOf(t[a]) > -1 ? (o = t[a], s.indexOf(o) > -1 ? (r[o] = !0, o = null) : i = u.indexOf(o) > -1 || -1 === c.indexOf(o)) : (l.indexOf(o) > -1 && (t[a] = Number(t[a])), i ? (void 0 === r[o] && (r[o] = []), r[o].push(t[a])) : (r[o] = t[a], o = null)));
                return "(none)" === r.bestmove && (r.bestmove = void 0, r.bestmoveSan = void 0), "(none)" === r.ponder && (r.ponder = void 0, r.ponderSan = void 0), r
            }

            function getFirstWord(e) {
                var t = e.indexOf(" ");
                return -1 === t ? e : e.substr(0, t)
            }
            return function loadEngine(l, c) {
                var u, d, p = {},
                    h = function createWorker(e, t) {
                        var n = e.pathToNonWasmEngine && "undefined" == typeof WebAssembly ? e.pathToNonWasmEngine : e.enginePath || e.pathToEngineWorker;
                        if (e.pathToWasmEngine && (n += "#" + e.pathToWasmEngine), "undefined" != typeof Worker) return createWebWorker(n, e, t)
                    }(l, p),
                    m = [],
                    f = [];

                function onmessage(t) {
                    var n, a, i, o, r, l = "string" == typeof t ? t : t.data;
                    if (p)
                        if (l.indexOf("\n") > -1)
                            for (o = l.split("\n"), r = 0; r < o.length; r += 1) onmessage(o[r]);
                        else if (e.log && console.log("debug (onmessage): " + l), p.stream && p.stream(l), m.length && 0 !== l.indexOf("No such option") && 0 !== l.indexOf("id ") && 0 !== l.indexOf("Stockfish") && 0 !== l.indexOf("info string variant") && (a = function determineQueueNum(e, t) {
                            var n, a, i, o, r = getFirstWord(e);
                            if ("bench" !== t[0].cmd && "perft" !== t[0].cmd)
                                for (n = "uciok" === r || "option" === r ? "uci" : "readyok" === r || "ready" === r ? "isready" : "json" === r ? "fetch" : "bestmove" === r || "info" === r ? "go" : "other", o = t.length, i = 0; i < o; i += 1)
                                    if ((a = getFirstWord(t[i].cmd)) === n || "other" === n && ("d" === a || "eval" === a)) return i;
                            return 0
                        }(l, m), i = m[a])) {
                        if (i.stream && !i.discard && i.stream(l), void 0 === i.message ? i.message = "" : "" !== i.message && (i.message += "\n"), i.message += l, "uciok" === getFirstWord(l)) n = !0;
                        else if ("readyok" === getFirstWord(l) || "ready" === getFirstWord(l)) n = !0, p.ready = !0;
                        else if (0 !== l.indexOf("bestmove") && "bestmove" !== getFirstWord(l) || "bench" === i.cmd)
                            if ("d" === i.cmd) 0 !== l.indexOf("Legal uci moves") && 0 !== l.indexOf("Key is") || (i.done = !0, n = !0);
                            else if ("fetch json" === i.cmd) try {
                            i.message = JSON.parse(i.message.replace(/^json /gm, "").replace(/\n/g, "")), n = !0
                        } catch (t) {} else "eval" === i.cmd ? s.test(i.message) && (n = !0) : 0 === l.indexOf("pawn key") ? n = !0 : 0 === l.indexOf("Nodes/second") ? n = !0 : 0 === l.indexOf("Unknown command") && (n = !0);
                        else n = !0, i.message = l;
                        n && (m.splice(a, 1), i.cb && !i.discard ? i.cb(i.message) : i.ondiscard && i.ondiscard())
                    }
                }

                function bestMoveSearch() {
                    var n, a, i, o, r, s = 1,
                        l = [],
                        c = [],
                        d = null,
                        h = f[0].args,
                        m = f[0].cb,
                        g = f[0].stream,
                        b = h.timeout,
                        v = 1,
                        y = 14;

                    function convertpv(e) {
                        var t = [],
                            n = c[e] || createSanPv(l[e]);
                        return l[e].forEach(function oneach(e, a) {
                            t.push({
                                moveSan: n[a],
                                moveLan: e
                            })
                        }), t
                    }

                    function getpv(e, t, n, a) {
                        var i;
                        for (i = l.length - 1; i >= 0; i -= 1)
                            if (l[i][0] === e) return convertpv(i);
                        return n ? [{
                            moveSan: t,
                            moveLan: e
                        }, {
                            moveSan: a,
                            moveLan: n
                        }] : t ? [{
                            moveSan: t,
                            moveLan: e
                        }] : []
                    }

                    function convertScore(e) {
                        0 === e.mate ? (e.mateIn = 0, e.cp = -31800 * v) : (e.mateIn = Number(e.mate * v) || null, "number" != typeof e.mateIn || isNaN(e.mateIn) || "number" == typeof e.cp ? (e.cp *= v, 9 === Math.abs(e.cp) && (e.cp = 0), h.normalize && e.depth <= y && "number" == typeof loadEngine._previousCP && 1 === e.multipv && function normalize(e) {
                            var t = .03 * Math.pow(32, e.depth / y);
                            e.cp = loadEngine._previousCP + (e.cp - loadEngine._previousCP) * t
                        }(e)) : e.cp = 31800 * v * (e.mate / Math.abs(e.mate))), e.score = e.cp / 100
                    }

                    function addBestMoveProps(t) {
                        var r;
                        if (t.baseTurn = i, t.cp = n, t.score = n / 100, t.mate = a, t.mateIn = d, t.depth = s, t.moveLan = t.bestmove, t.moveLan) {
                            if (t.move = e.uciToObj(t.moveLan)[0], !(r = o.move(t.move))) throw new Error("Bad moveLan in line: " + t.moveLan + " at " + o.fen() + "\ndata: " + JSON.stringify(t) + "\nargs: " + JSON.stringify(h));
                            if (t.moveSan = t.bestmoveSan = r.san, t.ponder && "(none)" !== t.ponder) {
                                if (!(r = o.move(e.uciToObj(t.ponder)[0]))) throw new Error("Bad ponder in line: " + t.ponder + " at " + o.fen() + "\ndata: " + JSON.stringify(t) + "\nargs: " + JSON.stringify(h));
                                t.ponderSan = r.san, o.undo(!0)
                            }
                            o.undo(!0)
                        }
                    }

                    function createSanPv(t) {
                        var n, a, i = t.length,
                            r = [];
                        for (n = 0; n < i; ++n) {
                            if (!(a = o.move(e.uciToObj(t[n])[0]))) throw new Error("Bad pv in line: " + t[n] + " (" + n + ") at " + o.fen() + "\npv: " + JSON.stringify(t) + "\nargs: " + JSON.stringify(h));
                            r.push(a.san)
                        }
                        for (n = 0; n < i; ++n) o.undo(!0);
                        return r
                    }

                    function createTimeout() {
                        b && (clearTimeout(u), u = setTimeout(function() {
                            p.stop(), m && (m(), m = void 0)
                        }, b))
                    }
                    h.timeout = void 0, f[0].started = !0, h.difficulty >= 0 && h.difficulty < 20 ? (p.setoption("Skill Level", h.difficulty), h.maximumError >= 0 && h.maximumError <= 4999 && p.setoption("Skill Level Maximum Error", h.maximumError), h.errorProbability >= 1 && h.errorProbability <= 128 && p.setoption("Skill Level Probability", h.errorProbability)) : p.setoption("Skill Level", 20), void 0 !== h.contempt ? p.setoption("Contempt", h.contempt) : p.setoption("Contempt", "0"), h.multiPv > 1 ? p.setoption("MultiPV", h.multiPv) : p.setoption("MultiPV", 1), h.movetime || h.wtime && h.btime || h.depth || (h.btime = h.btime || 72e3, h.wtime = h.wtime || 72e3), !h.startpos && h.fen || h.moves || h.variant ? (o = e.createGame({
                        fen: h.fen ? (r = h.fen, (r + "").replace(/\[([qrbnp]*)\]/i, "/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/, function(e, t, n, a) {
                            return a + " +" + (3 - t) + "+" + (3 - n)
                        })) : t,
                        moves: h.moves,
                        variant: h.variant,
                        disableHashing: !0
                    })).turn() === o.WHITE ? i = "w" : (i = "b", v = -1) : (i = "w", o = e.createGame({
                        disableHashing: !0
                    })), p.setVariant(h.variant), p.position(h), p.go(h, function returnBestMove(e) {
                        var t = parseSearchLine(e);
                        if (addBestMoveProps(t), s > y && n < 5e3 && n > -5e3 && (loadEngine._previousCP = n), t.pv = getpv(t.moveLan, t.moveSan), 1 === t.pv.length && t.ponder && (t.pv = getpv(t.moveLan, t.moveSan, t.ponder, t.ponderSan)), m) try {
                            m(t)
                        } catch (e) {
                            console.error(e)
                        }
                        f.shift(), f.length > 0 && bestMoveSearch(), clearTimeout(u)
                    }, function streamInfo(e) {
                        var t = parseSearchLine(e);
                        t.score && (t.baseTurn = i, convertScore(t), 1 !== t.multipv && 0 !== t.depth || (n = t.cp, a = t.mate, d = t.mateIn)), t.pv && g && (t.pvSan = createSanPv(t.pv)), !t.pv || t.lowerbound || t.upperbound || (l.push(t.pv), g && c.push(t.pvSan)), t.depth > s ? s = t.depth : "bestmove" === t.mtype && addBestMoveProps(t), !g || 0 === t.mateIn && t.pv || g(t), createTimeout()
                    }), createTimeout()
                }

                function startUp() {
                    p.isready(function onstart() {
                        l.settings ? p.uci(function onuci() {
                            Object.keys(l.settings).forEach(function oneach(e) {
                                p.setoption(e, l.settings[e])
                            }), c && c(p)
                        }) : c && c(p)
                    })
                }
                return p.send = function(t, n, a) {
                    var i;
                    t = String(t).trim(), e.log && console.log("debug (send): " + t), "ucinewgame" !== t && "flip" !== t && "stop" !== t && "ponderhit" !== t && 0 !== t.indexOf("position") && 0 !== t.indexOf("setoption") ? m[m.length] = {
                        cmd: t,
                        cb: n,
                        stream: a
                    } : i = !0, h && (h.postMessage(t), i && n && setTimeout(n, 0))
                }, p._activeCommands = function() {
                    return m
                }, p.quit = function() {
                    h && h.terminate && (h.terminate(), h = null, p.ready = void 0), clearTimeout(u)
                }, n.forEach(function oneach(e) {
                    p[e] = function makeSCmd(t, n) {
                        p.send(e, t, n)
                    }
                }), i.forEach(function oneach(e) {
                    p[e.cmd] = function makeCCmd(t, n, a) {
                        var i = [e.cmd];
                        d && t.fen && (t.fen = function convertStockfishVariantFen(e) {
                            return (e + "").replace(/^([^\/]+)((?:\/[^\/]+){7})\/([qrbnp]*)/i, "$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/, function(e, t, n, a) {
                                return " " + (3 - n) + "+" + (3 - a) + t
                            })
                        }(t.fen)), e.args.forEach(function oneach(e) {
                            if (t[e] || 0 === t[e]) {
                                if (o.indexOf(e) > -1) {
                                    if (!t[e] || !t[e].length) return;
                                    Array.isArray(t[e]) && (t[e] = t[e].join(" "))
                                }
                                i.push(e), -1 === r.indexOf(e) && i.push(t[e])
                            }
                        }), p.send(i.join(" "), n, a)
                    }
                }), p.setoption = function(e, t) {
                    p.send("setoption name " + e + " value " + t)
                }, p.setVariant = function(e) {
                    var t;
                    e !== d && (t = String(e).toLowerCase().replace(/ |-/g, ""), e && "chess" !== t ? "chess960" === t ? (p.setoption("UCI_Variant", "chess"), p.setoption("UCI_Chess960", "true")) : ("threecheck" === t && (t = "3check"), p.setoption("UCI_Variant", t), p.setoption("UCI_Chess960", "false")) : (t = void 0, p.setoption("UCI_Variant", "chess"), p.setoption("UCI_Chess960", "false")), d = t)
                }, p.loadBook = function(e, t) {
                    a.loadBook(e, function onload(n, a) {
                        p.book = a, p.pathToBook = e, p.bookLoaded = !0, n && (console.error("Error loading opening book."), console.error(n), p.pathToBook = null, p.bookLoaded = !1), t()
                    })
                }, p.getBestMove = function(t, n, a) {
                    var i;
                    if ((t = t || {}).fen = t.fen || t.baseFen, t.is960 && (t.variant = "Chess960"), p.bookLoaded && t.useBook && (i = function getBookMove(t) {
                            var n, a, i;
                            if (i = t.moves && t.moves.length ? e.getFenFromMoves(t.fen, t.moves, t.variant) : t.fen, (n = p.book.pick({
                                    fen: i,
                                    type: void 0 !== t.bookPick ? t.bookPick : "random",
                                    chess960: "Chess960" === t.variant
                                })) && (e.getLegalMoves(i, t.variant).some(function(e) {
                                    if (e.from + e.to + (e.promotion || "") === n) return a = e, !0
                                }), a)) return {
                                moveSan: a.san,
                                moveLan: n,
                                move: {
                                    from: a.from,
                                    to: a.to,
                                    promotion: a.promotion || null
                                },
                                baseTurn: i.split(" ")[1],
                                pv: [{
                                    moveSan: a.san,
                                    moveLan: n
                                }],
                                depth: null,
                                score: null,
                                mateIn: null,
                                isBookMove: !0
                            }
                        }(t))) return setTimeout(function() {
                        i.mtype = "bestmove", n(i)
                    }, 0);
                    ! function queueBestMoveSearch(e, t, n) {
                        f.push({
                            args: e,
                            cb: t,
                            stream: n
                        }), 1 === f.length && bestMoveSearch()
                    }(t, n, a)
                }, p.stopAll = function(t) {
                    var n, a = m.length,
                        i = 0;

                    function ondiscard() {
                        0 == (i -= 1) && t()
                    }
                    for (f = [], n = 0; n < a; n += 1) e.log && console.log("debug (stop_moves): " + n, getFirstWord(m[n].cmd)), "go" !== getFirstWord(m[n].cmd) || m[n].discard || (p.stop(), m[n].discard = !0, t && (i += 1, m[n].ondiscard = ondiscard));
                    t && !i && p.isready(t)
                }, p.restartEngine = function(e) {
                    return p.stopAll(), p.quit(), m = [], f = [], p.bookLoaded && !l.book && ((l = JSON.parse(JSON.stringify(l))).book = p.book), loadEngine(l, e)
                }, p.stopFast = function(e, t) {
                    var n;
                    p.stopAll(function() {
                        clearTimeout(n), e(p)
                    }), n = setTimeout(function() {
                        p.restartEngine(e)
                    }, t || 5e3)
                }, "undefined" != typeof Worker && (function addListener() {
                    h.addEventListener("message", onmessage, !1)
                }(), l.book && (p.book = l.book, p.bookLoaded = !0, p.pathToBook = l.pathToBook), !p.book && l.pathToBook ? p.loadBook(l.pathToBook, startUp) : setTimeout(startUp, 0), p.getFenFromMoves = e.getFenFromMoves, p.getLegalMoves = e.getLegalMoves, p.getPositionInfo = e.getPositionInfo, p.isFenValid = e.isFenValid, p.ready = !1, p)
            }
        }, function() {
            var e, t = i(),
                n = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                r = 252,
                l = 255,
                c = {
                    4: "p",
                    5: "P",
                    6: "p",
                    8: "n",
                    9: "N",
                    10: "n",
                    16: "b",
                    17: "B",
                    18: "b",
                    32: "r",
                    33: "R",
                    34: "r",
                    64: "q",
                    65: "Q",
                    66: "q",
                    128: "k",
                    129: "K",
                    130: "k"
                },
                u = "pnbrq",
                d = 512,
                p = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",
                h = "qnrbkp";

            function decodeTCN(e) {
                var t, n, a, i, o = e.length,
                    r = [];
                for (t = 0; t < o; t += 2) i = {}, n = p.indexOf(e[t]), (a = p.indexOf(e[t + 1])) > 63 && (i.promotion = h[Math.floor((a - 64) / 3)], a = n + (n < 16 ? -8 : 8) + (a - 1) % 3 - 1), n > 75 ? i.drop = h[n - 79] : i.from = p[n % 8] + (Math.floor(n / 8) + 1), i.to = p[a % 8] + (Math.floor(a / 8) + 1), r.push(i);
                return r
            }

            function uciToObj(e) {
                var t, n, a = e.split(" "),
                    i = a.length,
                    o = [];
                if (e)
                    for (t = 0; t < i; ++t) 4 === (n = a[t]).length ? "@" === n[1] ? o.push({
                        drop: n[0].toLowerCase(),
                        to: n.substr(2, 2)
                    }) : o.push({
                        from: n.substr(0, 2),
                        to: n.substr(2, 2)
                    }) : o.push({
                        from: n.substr(0, 2),
                        to: n.substr(2, 2),
                        promotion: n[4]
                    });
                return o
            }

            function isSameMove(e, t) {
                return e.san === t.san || e.from == t.from && e.to == t.to && e.promotion == t.promotion && e.drop == t.drop
            }

            function makePremove(e, n, a) {
                var o, r, s, l, c, u = e.header().Variant,
                    d = getPremoves(e.fen(), n, u);
                if (d) {
                    for (o = d.length - 1; o >= 0; --o)
                        if (isSameMove(r = d[o], a)) {
                            s = !0;
                            break
                        }
                    if (s) return r.drop ? e.put({
                        type: r.drop,
                        color: n
                    }, r.to, !0) : (l = e.remove(r.from, !0), r.flags === t.FLAGS.KSIDE_CASTLE ? (c = e.remove("Chess960" === u ? r.to : "h" + r.from[1], !0), e.put(l, "g" + r.from[1], !0), e.put(c, "f" + r.from[1], !0)) : r.flags === t.FLAGS.QSIDE_CASTLE ? (c = e.remove("Chess960" === u ? r.to : "a" + r.from[1], !0), e.put(l, "c" + r.from[1], !0), e.put(c, "d" + r.from[1], !0)) : (r.promotion && (l.type = r.promotion, l.promoted = !0), e.put(l, r.to, !0))), r
                }
                if (a.from && (a = i.fixObjMove(a, e._board(), n))) return makePremove(e, n, {
                    san: a
                })
            }

            function getPieces(e, t) {
                var n, a, i, o = t ? {} : [],
                    s = e._board();
                if (t)
                    for (n = 112; n >= 0; ++n) 136 & n && (n -= 24), (a = s[n]) && (o[i = p[7 & n] + (8 - (n >> 4))] = {
                        type: c[a & r],
                        color: 3 & a,
                        promoted: 0 != (a & d),
                        square: i
                    });
                else
                    for (n = 112; n >= 0; ++n) 136 & n && (n -= 24), (a = s[n]) && o.push({
                        type: c[a & r],
                        color: 3 & a,
                        promoted: 0 != (a & d),
                        rank: 8 - (n >> 4),
                        file: 1 + (7 & n)
                    });
                return o
            }

            function makeMoves(e, t, n, a) {
                var i, o, r, s, l, c, u, d, p, h;
                for (n = n || {}, "string" == typeof t && (t = t.trim().split(" ")), r = t.length, i = 0; i < r; i += 1) {
                    if (l = "b" === t[i].board || "B" === t[i].board ? e.siblingGame : e, c = "string" == typeof t[i] ? uciToObj(t[i])[0] : t[i].san ? t[i].san : t[i], !l.move(c)) {
                        if (!n.autoPromote) {
                            if (n.skipBadLines) break;
                            return !1
                        }
                        if (!0 === n.autoPromote ? c.promotion = "q" : c.promotion = n.autoPromote, !l.move(c)) {
                            if (n.skipBadLines) break;
                            return !1
                        }
                    }
                    if (d = (u = l._history())[u.length - 1], a && (p = parseInt(a[i], 10)), ("number" != typeof p || isNaN(p)) && (p = parseInt(t[i].time, 10)), "number" != typeof p || isNaN(p) || (d.time = p, p = void 0), t[i].firstComment && (u.initComment = t[i].firstComment), t[i].comment && (d.comment = t[i].comment), t[i].annotation && (d.annotation = t[i].annotation), t[i].additionalAnnotation && (d.additionalAnnotation = t[i].additionalAnnotation), t[i].commands && (d.commands = t[i].commands), t[i].lines)
                        for (s = t[i].lines.length, o = 0; o < s; ++o) {
                            if (h = e._history().id, e.createVariation(), !makeMoves(e, t[i].lines[o], n) && !n.skipBadLines) return !1;
                            e.selectLine(h)
                        }
                }
                return !0
            }

            function createGame(e) {
                var t, a;
                if ((e = e || {}).game) return e.game;
                if (t = i(), e.analysis && function extendChess(e) {
                        var t, a, o = -1,
                            r = 0;

                        function fixContComment(t) {
                            var n = e._lines()[t.ids.line];
                            return n.initComment && (t.comment = (n.initComment + " " + (t.comment || "")).trim(), n.initComment = ""), !0
                        }
                        e.extended || (e.extended = !0, t = {
                            header: e.header,
                            load: e.load,
                            loadPgn: e.loadPgn,
                            createVariation: e.createVariation,
                            undo: e.undo,
                            pgn: e.pgn
                        }, e._move = e.move, e.premoves = [], e.undo = function() {
                            return e.deletePosition(o, r)
                        }, e.isLegalMove = function(n) {
                            return !!e._move(n) && t.undo(!0)
                        }, e.premove = function(t, n) {
                            var a, o = e.premoves.length,
                                r = i();
                            return o ? r.load(e.premoves[o - 1].fen, e.header().Variant) : r.load(e.fen(), e.header().Variant), (a = makePremove(r, n, t)) ? (e.premoves.push({
                                move: a,
                                pieces: getPieces(r),
                                fen: r.fen()
                            }), a) : null
                        }, e.getPieces = function(t) {
                            return getPieces(e, t)
                        }, e.origHistory = e.history, e.history = function(t, n) {
                            var a, i, o, r = [],
                                l = e._history(),
                                c = l.length,
                                u = e._lines();
                            for ("boolean" == typeof t && (t = {
                                    verbose: t
                                }), t = t || {}, n && (t.noParentLines = n), t.toCurrent && (c = e.ids().move + 1);;) {
                                if (-1 == --c) {
                                    if (l.id && !t.noParentLines) {
                                        c = l.atMoveNode, l = u[l.parentId];
                                        continue
                                    }
                                    break
                                }
                                if (t.verbose) {
                                    for (i in a = {}, l[c])
                                        if (l[c][i] && "object" === s()(l[c][i]))
                                            for (o in a[i] = l[c][i].constructor === Array ? [] : {}, l[c][i]) a[i][o] = l[c][i][o];
                                        else a[i] = l[c][i];
                                    r.unshift(a)
                                } else r.unshift(l[c].san)
                            }
                            return r
                        }, e._getPos = function(a, i) {
                            var s, l;
                            return "number" != typeof a && (a = o), "number" != typeof i && (i = r), s = (l = e._lines())[i], a >= 0 ? s[a] : s.id ? s.atMoveNode ? l[s.parentId][s.atMoveNode - 1] : e._getPos(s.atMoveNode - 1, s.parentId) : {
                                fen: t.header().FEN || n,
                                hash: s.hash,
                                initial: !0
                            }
                        }, e.move = function(t, n) {
                            var a, i, s, l, c = e._history();
                            if (t && ("string" == typeof t || t.to && (t.from || t.drop))) {
                                if (r === c.id && o < c.length - 1 || n) {
                                    if (e.moveForward(n, t)) return !0;
                                    o < c.length - 1 && (e.selectPosition(o + 1), e.createVariation(), c = e._history())
                                }
                                e.siblingGame && (s = e.isDependent ? e.siblingGame.fen() : e.fen()), (a = e._move(t)) && (normalizeMoveObj(a), r = c.id, i = c[o = c.length - 1], l = e._getPos(o - 1), e.siblingGame ? (e.isDependent ? i.fen = e.siblingGame.fen() : i.fen = e.fen(), i.beforeFen = s) : (i.fen = e.fen(), i.beforeFen = l.fen), l.initial ? (i.moveNumber = 0, i.previous = null) : (i.moveNumber = l.moveNumber + 1, i.previous = l.ids, l.isContinuation && fixContComment(l)), r && 0 === o && e._lines()[c.parentId][c.atMoveNode].move === i.move && (i.isContinuation = !0), i.flags = a.flags, i.to = a.to, i.from = a.from, i.drop = a.drop, i.capturedStr = a.captured, i.promotion = a.promotion, i.piece = a.piece, a.promoted && (i.promoted = !0), a.capturedPromotedPawn && (i.capturedPromotedPawn = !0), i.ids = {
                                    move: o,
                                    line: r
                                })
                            }
                            return a
                        }, e.header = e.headers = function(n) {
                            var a = t.header(n);
                            return e.siblingGame && extendChess(e.siblingGame), a
                        }, e.load = function(n, a, i, s) {
                            var l = t.load(n, a, i, s);
                            return e.siblingGame && extendChess(e.siblingGame), l && !i && (o = -1, r = 0), l
                        }, e.removeEmptyLines = function() {
                            var t, n, a = e._lines();
                            for (t = a.length - 1; t > 0; --t) a[t].length || (a[t] = void 0, n = !0);
                            n && e.reorderLines()
                        }, e.loadPgn = function(n, a, i) {
                            var s = t.loadPgn(n, a, i),
                                l = e._history();
                            return e.removeEmptyLines(), o = l.length - 1, r = l.id, s
                        }, e.ids = function() {
                            return {
                                move: o,
                                line: r
                            }
                        }, e.selectLine = function(t) {
                            e.selectPosition(null, t)
                        }, e.moveBackward = function() {
                            var t;
                            if (o <= 1)
                                if (0 === r) {
                                    if (-1 === o) return !1;
                                    e.selectPosition(o - 1)
                                } else(t = e._getPos(o - 1, r)).isContinuation ? e.selectPosition(e._history().atMoveNode, e._history().parentId) : t.initial ? e.selectPosition(-1, 0) : e.selectPosition(t.ids.move, t.ids.line);
                            else e.selectPosition(o - 1);
                            return !0
                        }, e.moveForward = function(t, n) {
                            var a, s, l, c, u, d, p = e._lines();
                            if ("string" == typeof n && (n = {
                                    san: n
                                }), !(a = p[r][o + 1]) || n && !isSameMove(n, a)) {
                                if (n && a && a.lines)
                                    for (u = a.lines.length, c = 0; c < u; ++c)
                                        if ((l = p[a.lines[c]][0]) && isSameMove(n, l)) {
                                            a = l, d = !0;
                                            break
                                        }
                                if (!d && t && (s = p[r][o]) && s.lines)
                                    for (u = s.lines.length, c = 0; c < u; ++c)
                                        if ((l = p[s.lines[c]][0]) && l.isContinuation && (l = p[s.lines[c]][1]) && (!n || isSameMove(n, l))) {
                                            a = l, d = !0;
                                            break
                                        }
                                if (!d) return !!(n && n.san && (n = i.fixSanMove(n.san, e._board(), e.turn())) || n && n.to && n.from && Math.abs(n.to.charCodeAt(0) - n.from.charCodeAt(0)) > 1 && (n = i.fixObjMove(n, e._board(), e.turn()))) && e.moveForward(t, n)
                            }
                            return e.selectPosition(a.ids.move, a.ids.line)
                        }, e.moveVariation = function(t, n) {
                            var a, i, o, r = e._lines(),
                                s = r[t];
                            if (s && s.id)
                                for (i = (a = r[s.parentId][s.atMoveNode].lines).length - 1; i >= 0; --i)
                                    if (a[i] === t && a[o = i - (n ? 1 : -1)]) return a[i] = a[o], a[o] = t, e.reorderLines(), !0;
                            return !1
                        }, e.promoteVariation = function(t, n) {
                            for (var a, i, s, l, c, u, d = e._lines(), p = d[t]; p && p[0] && p.id && (-1 !== n || p.parentId);) {
                                for (a = d[s = p.parentId], l = p.atMoveNode, p[0].lines = a[l].lines.concat(p[0].lines || []), a[l].lines = void 0, u = a.length - l, i = a.splice(l, u), c = 0; c < u; ++c) i[c].ids.line = t, i[c].ids.move = c;
                                for (i.id = t, i.parentId = s, i.atMoveNode = l, i.hash = p.hash, 0 === l ? (i.initComment = a.initComment, a.initComment = p.initComment) : p.initComment && (a[l - 1].comment = ((a[l - 1].comment || "") + " " + p.initComment).trim()), d[t] = i, u = p.length, c = 0; c < u; ++c) p[c].ids.line = s, p[c].ids.move = c + l, a.push(p[c]);
                                for (i[0].isContinuation = !!p[0].isContinuation && fixContComment(i[0]), a[l].isContinuation = !l && "number" == typeof a.parentId && d[a.parentId][a.atMoveNode].move === a[0].move && fixContComment(a[l]), u = a[l].lines.length, c = 0; c < u; ++c) d[a[l].lines[c]].atMoveNode = l, d[a[l].lines[c]][0] && (d[a[l].lines[c]][0].isContinuation = d[a[l].lines[c]][0].move === a[l].move && fixContComment(d[a[l].lines[c]][0]));
                                if (r === t ? (r = s, o += l) : r === s && o >= l && (r = t, o -= l), 1 === n) break;
                                p = d[t = s]
                            }
                            return void 0 !== a && (e._history(d[r]), e.reorderLines(), !o && d[r][0].isContinuation && e.selectPosition(d[r].atMoveNode, d[r].parentId), !0)
                        }, e.reorderLines = function(t, n) {
                            var i, o, s, l, c, u, d, p, h, m, f = e._lines();
                            for (t ? h = n.length - 1 : (t = 0, n = [f[0]], h = 0, a = !1), s = (i = f[t]).length, o = 0; o < s; ++o)
                                if ((l = i[o]).ids.line = h, l.lines)
                                    for (c = l.lines.length, u = 0; u < c; ++u)(p = f[d = l.lines[u]]) ? (p.atMoveNode = o, m = n.length, l.lines[u] = m, p.parentId = h, a || d !== r || (a = !0, r = m), n.push(p), e.reorderLines(d, n)) : (1 === l.lines.length ? delete l.lines : l.lines.splice(u, 1), --u, --c);
                            t || e.saveLines(n, !0)
                        }, e.createVariation = function() {
                            var n, a, i, s, l = e._history(),
                                c = e._lines();
                            return o === l.length - 1 ? (n = t.createVariation(), l = e._history(), o = l.length - 1, r = l.id, n) : -1 !== o && (a = [], i = l[o], a.parentId = l.id, a.id = c.length, i.lines || (i.lines = []), i.lines.push(a.id), s = e._getPos(o - 1), a.hash = s.hash, a.atMoveNode = o, c.push(a), e.selectPosition(-1, a.id))
                        }, e.selectLineEnd = function(t) {
                            return "number" != typeof t && (t = r), (t !== r || o < e._history().length - 1) && e.selectPosition(null, t, !0)
                        }, e.selectLineStart = function() {
                            var t, n;
                            return r ? (o > 1 || 1 === o && !e._getPos(0).isContinuation ? t = e._history() : (n = e._getPos(-1), t = e._lines()[n.ids ? n.ids.line : 0]), e.selectPosition(t.id ? t[1] && t[0].isContinuation ? 1 : 0 : -1, t.id)) : -1 !== o && e.selectPosition(-1, 0)
                        }, e.selectPosition = function(n, a, i) {
                            var s = e._lines(),
                                l = e._history();
                            if ("number" == typeof a && (a !== r || i)) {
                                if (a < 0 || a >= s.length) return !1;
                                if (l = s[a], "number" != typeof n) n = l.length - 1;
                                else if (n < -1 || n >= l.length) return !1;
                                r = a, e._history(l), i = !0
                            }
                            if ("number" == typeof n && (n !== o || i)) {
                                if (n < -1 || n >= l.length) return !1;
                                t.load(e._getPos(n).fen, t.header().Variant, !0, !0), o = n
                            }
                            return !0
                        }, e.resetToMainLine = function() {
                            var t = e._lines();
                            e.selectLineEnd(0), t.length > 1 && (t.length = 1, e.reorderLines())
                        }, e.saveLines = function(t, n) {
                            var a, i, o, r = e._lines(),
                                s = t.length;
                            for (t !== r && (r.length = 0), i = 0; i < s; ++i) {
                                if (a = t[i], i && "number" != typeof a.parentId) return !1;
                                t !== r && r.push(a), a.id = i
                            }
                            return n || (o = e.ids(), e.selectPosition(-1, 0, !0), e.selectPosition(o.move, o.line)), !0
                        }, e.deletePosition = function(t, n) {
                            var a, i, s = e._lines();
                            return !(!s[n] || !(s[n][t] || -1 === t && 0 !== n)) && (n && (0 === t ? t = -1 : 1 === t && s[n][0].isContinuation && (t = -1)), r > 0 && n !== r ? i = !1 !== (a = function descendsFromMove(e, t, n) {
                                for (var a, i = e[t];
                                    "number" == typeof(a = i.parentId);) {
                                    if (a === n) return i.atMoveNode;
                                    i = e[a]
                                }
                                return !1
                            }(s, r, n)) && a >= t : n === r && t <= o && (i = !0), i && (t > 1 ? e.selectPosition(t - 1, n) : (e.selectPosition(s[n][0].isContinuation || 1 === t ? 1 : 0, n), e.moveBackward())), t > 0 ? s[n].length = t : n ? s[n] = null : s[0].length = 0, e.reorderLines(), e.ids())
                        }, e.mark = function(t, n) {
                            var a = o < 0 ? e._lines()[r] : e._lines()[r][o],
                                i = t.type,
                                s = 1;
                            t.color && ("arrow" === i ? e.mark({
                                key: t.color + t.key,
                                type: "cal"
                            }, n) : "square" === i && e.mark({
                                key: t.color + t.key,
                                type: "csl"
                            }, n)), "cal" !== i && "csl" !== i && (i = "c_" + i, s = 0), a.commands && a.commands[i] && (a.commands[i] = a.commands[i].split(",").filter(function rm(e) {
                                return e.slice(s).split(";")[0] !== t.key.slice(s)
                            }).join(","), a.commands[i] || delete a.commands[i]), n || (a.commands || (a.commands = {}), a.commands[i] = (a.commands[i] ? a.commands[i] + "," : "") + t.key + (t.data ? ";" + t.data.join(";") : ""))
                        }, e.markings = function() {
                            var t, n, a, i, s, l, c, u, d = {},
                                p = o < 0 ? e._lines()[r] : e._lines()[r][o],
                                h = {
                                    cal: "arrow",
                                    csl: "square"
                                };
                            for (n in p.commands) {
                                if (a = p.commands[n], h[n]) n = h[n], i = 0;
                                else {
                                    if ("c_" !== n.substr(0, 2)) continue;
                                    n = n.slice(2), i = 1
                                }
                                for (d[n] = d[n] || {}, l = (s = a.split(",")).length, t = 0; t < l; ++t) i ? (u = (c = s[t].split(";")).shift(), d[n][u] = d[n][u] || {
                                    type: n,
                                    key: u
                                }, d[n][u].data = c) : (u = s[t].slice(1), d[n][u] = d[n][u] || {
                                    type: n,
                                    key: u
                                }, d[n][u].color = s[t][0])
                            }
                            return d
                        }, e.clearMarkings = function() {
                            var t, n = o < 0 ? e._lines()[r] : e._lines()[r][o];
                            for (t in n.commands) /^c[sa]l$|^c_/.test(t) && delete n.commands[t]
                        }, e.pgn = function(n) {
                            var a, i = e.ids();
                            return e.selectLineEnd(0), a = t.pgn(n), e.selectPosition(i.move, i.line), a
                        }, e.loadMoves = function(t, n) {
                            var a, i, s;
                            if (n = n || {}, "string" == typeof t && (t = decodeTCN(t)), t) {
                                for (n.atCurrent || e.selectPosition(-1, 0), s = r, i = t.length, a = 0; a < i; ++a) {
                                    if (!e.move(t[a], !0) && (t[a].promotion = !0 === n.autoPromote ? "q" : n.autoPromote, !e.move(t[a], !0))) return !1;
                                    r !== s && "merge" !== n.method && (e.promoteVariation(r, 1), "promote" !== n.method && (e._history()[o].lines = void 0, e.reorderLines()), s = r)
                                }
                                "merge" !== n.method && "promote" !== n.method && e.deletePosition(o + 1, r)
                            }
                            return !0
                        })
                    }(t), e.disableHashing && t.hashing(!1), e.pgn) {
                    if (!t.loadPgn(e.pgn, e.index, e.options)) return !1
                } else {
                    if (e.headers && (e.variant = e.headers.Variant || e.variant, e.fen || (e.fen = e.headers.FEN)), (e.fen || e.variant) && !t.load(e.fen || n, e.variant)) return !1;
                    e.headers && "object" === s()(e.headers) && !Array.isArray(e.headers) && t.header(e.headers)
                }
                if (e.tcn)
                    if ("object" === s()(e.tcn)) {
                        if (! function playBughouseTCN(e, t, n) {
                                var a, i, o, r = [decodeTCN(t[0]), decodeTCN(t[1])],
                                    s = [0, 0],
                                    l = [0, 0],
                                    c = r[0].length + r[1].length,
                                    u = Math.max(0 | n[0][0], 0 | n[0][1], 0 | n[1][0], 0 | n[1][1]),
                                    d = [0, 0],
                                    p = [0, 0];
                                for (a = [
                                        [u += 600 - u % 600, u],
                                        [u, u]
                                    ]; c--;) {
                                    if (p[0] = d[0] + a[0][l[0]] - n[0][s[0]] || 0, p[1] = d[1] + a[1][l[1]] - n[1][s[1]] || 0, r[i = p[0] <= p[1] ? 0 : 1][s[i]] || (i ^= 1), (!(o = i ? e.siblingGame : e).move(r[i][s[i]]) || c && o.inCheckmate() && o.undo(!0)) && !(o = (i ^= 1) ? e.siblingGame : e).move(r[i][s[i]])) return !1;
                                    o._history()[s[i]].time = n[i][s[i]], a[i][l[i]] = n[i][s[i]], d[i] = p[i], l[i] ^= 1, ++s[i]
                                }
                                return !0
                            }(t, e.tcn, e.timestamps || [
                                [],
                                []
                            ])) return !1
                    } else a = decodeTCN(e.tcn);
                else a = e.moves;
                return !(a && !makeMoves(t, a, e, e.timestamps)) && t
            }

            function normalizeMoveObj(e) {
                return e && (e.piece & d && (e.promoted = !0), e.piece = c[e.piece & r], e.captured && (e.captured & d && (e.capturedPromotedPawn = !0), e.captured = c[e.captured & l]), e.promotion && (e.promotion = c[e.promotion & r]), void 0 !== e.drop && (e.drop = u[e.drop])), e
            }

            function getPremoves(e, n, a) {
                var o, r, s, l, c, d, p, h, m = [];

                function pawnCapture(e) {
                    var a, i = c[0] + "x" + e;
                    if (1 === n && 7 === o || 2 === n && 2 === o)
                        for (a = 4; a > 0; --a) m.push({
                            color: n,
                            to: e,
                            flags: t.FLAGS.CAPTURE | t.FLAGS.PROMOTION,
                            from: c,
                            promotion: 1 << a + 2,
                            piece: 4,
                            san: i + "=" + u[a].toUpperCase()
                        });
                    else 1 === o && 2 === n || 8 === o && 1 === n || m.push({
                        color: n,
                        to: e,
                        flags: t.FLAGS.CAPTURE,
                        from: c,
                        piece: 4,
                        san: i
                    })
                }
                if (1 !== n && 2 !== n || !t.load(e, a || "chess")) return null;
                for (e = t.fen(), (l = i()).clear(), a && l.header({
                        Variant: a
                    }), t.turn(n), l.turn(n), o = 1; o < 9; ++o)
                    for (r = 1; r < 9; ++r) c = String.fromCharCode(r + 96) + o, (s = t.get(c)) && (t.remove(c, !0), s.color === n && ("p" === s.type ? (r > 1 && pawnCapture(String.fromCharCode(r - 1 + 96) + (o + (1 === n ? 1 : -1))), r < 8 && pawnCapture(String.fromCharCode(r + 1 + 96) + (o + (1 === n ? 1 : -1)))) : "k" === s.type && (p = c[0], h = o), l.put(s, c, !0), m = m.concat(l.moves({
                        verbose: !0
                    })), l.remove(c, !0)));
                return "-" !== (d = e.split(" ")[2]) && d.split("").forEach(function(e) {
                    (1 === n && e < "a" || 2 === n && e >= "a") && ("k" === (e = e.toLowerCase()) ? m.push({
                        color: n,
                        to: "g" + h,
                        flags: t.FLAGS.KSIDE_CASTLE,
                        from: "e" + h,
                        piece: 128,
                        san: "O-O"
                    }) : "q" === e ? m.push({
                        color: n,
                        to: "c" + h,
                        flags: t.FLAGS.QSIDE_CASTLE,
                        from: "e" + h,
                        piece: 128,
                        san: "O-O-O"
                    }) : e > p ? m.push({
                        color: n,
                        to: e + h,
                        flags: t.FLAGS.KSIDE_CASTLE,
                        from: p + h,
                        piece: 128,
                        san: "O-O"
                    }) : m.push({
                        color: n,
                        to: e + h,
                        flags: t.FLAGS.QSIDE_CASTLE,
                        from: p + h,
                        piece: 128,
                        san: "O-O-O"
                    }))
                }), (m = m.concat(t.moves({
                    verbose: !0
                }))).forEach(function(e) {
                    normalizeMoveObj(e)
                }), m
            }

            function getLegalMoves(e, n) {
                var a, i, o, r;
                if ("string" == typeof e) {
                    if (!(i = t).load(e, n)) return null
                } else i = createGame(e);
                for (r = (a = i.moves({
                        verbose: !0
                    })).length, o = 0; o < r; ++o) normalizeMoveObj(a[o]);
                return a
            }

            function jce(t, n) {
                return (e = e || o(jce))(t, n)
            }
            return jce.gameFingerprints = function gameFingerprints(e) {
                var t, i, o, r, s, l, c, u, d, p = createGame(e),
                    h = [""],
                    m = [];
                if (!p) return !1;
                for (d = (u = p.header()).Variant || "", l = p.hashes(), t = "function" == typeof p.origHistory ? p.origHistory(!0) : p.history(!0), s = l.length, i = [l[0][0], l[0][1]], m.push(a.to64BitHex(i) + d), l[0] = a.to64BitHex(l[0]), o = 1; o < s; ++o) i[0] = (i[0] ^ l[o][0] * (o + 58465)) >>> 0, i[1] = (i[1] ^ l[o][1] * (o + 984)) >>> 0, l[o] = a.to64BitHex(l[o]), m.push(a.to64BitHex(i) + d), normalizeMoveObj(t[r = o - 1]), c = (t[r].from ? t[r].from : t[r].drop.toUpperCase() + "@") + t[r].to + (t[r].promotion || ""), r && (c = h[r] + " " + c), h.push(c);
                return {
                    startingFen: u.FEN || n,
                    hashes: l,
                    fingerprints: m,
                    moves: h,
                    variant: u.Variant
                }
            }, jce.getFenFromMoves = function getFenFromMoves(e, n, a) {
                return t.reset(), t.load(e, a), !(n && !makeMoves(t, n)) && t.fen()
            }, jce.getLegalMoves = getLegalMoves, jce.getPremoves = getPremoves, jce.getPositionInfo = function getPositionInfo(e, n, a) {
                var i, o, r, s = {
                    gameOver: !1,
                    check: !1,
                    checkmate: !1,
                    draw: !1,
                    stalemate: !1,
                    threefold: !1,
                    insufficient: !1
                };
                if (Array.isArray(n) || (a = n, n = null), "boolean" == typeof a ? (i = a, a = {}) : i = (a = a || {}).variant, "string" == typeof e) {
                    if (0 !== (r = t).validateFen(e, i) || !r.load(e, i)) return !1
                } else r = createGame(e);
                return !(n && !makeMoves(r, n)) && (a.getLegalMoves ? (o = getLegalMoves({
                    game: r
                }), s.legalMoves = o) : o = r.moves(), r.inCheck() ? (s.check = !0, s.checkmate = 0 === o.length) : s.stalemate = 0 === o.length, a.premove && (a.check = !1, a.kings = !1), s.threefold = r.inThreefoldRepetition(), s.insufficient = r.insufficientMaterial(a.color), s.fiftyMoveRule = r.in50MoveRule(), s.draw = s.stalemate || s.threefold || s.insufficient || s.fiftyMoveRule || r.inDraw(), a.skipValidation || (s.isValid = r.isPositionValid(a)), i && (s.variantWin = r.isVariantWin(), void 0 === s.variantWin && (s.variantWin = r.isBughouseWin())), s.gameOver = s.checkmate || s.draw || Boolean(s.variantWin), s)
            }, jce.isFenValid = function isFenValid(e, n) {
                return 0 === t.validateFen(e, n)
            }, jce.encodeTCN = function encodeTCN(e) {
                var t, n, a, i, o = "";
                for (Array.isArray(e) || (e = [e]), n = e.length, t = 0; t < n; t += 1) a = e[t].drop ? 79 + h.indexOf(e[t].drop) : p.indexOf(e[t].from[0]) + 8 * (e[t].from[1] - 1), i = p.indexOf(e[t].to[0]) + 8 * (e[t].to[1] - 1), e[t].promotion && (i = 3 * h.indexOf(e[t].promotion) + 64 + (i < a ? 9 + i - a : i - a - 7)), o += p[a] + p[i];
                return o
            }, jce.decodeTCN = decodeTCN, jce.uciToObj = uciToObj, jce.generatePgn = function generatePgn(e) {
                var t;
                return (e = e || {}).disableHashing = !0, !!(t = createGame(e)) && t.pgn(e)
            }, jce.pgnToFen = function pgnToFen(e, n) {
                var a, i, o = [];
                if (t.reset(), !t.loadPgn(e)) return !1;
                if (a = t.moveCount(), "number" == typeof n) {
                    for (n < 0 && (n = a + n + 1), i = a - 1; i >= n && i >= 0; i -= 1) t.undo();
                    return t.fen()
                }
                for (i = 0; i <= a; i += 1) o.unshift(t.fen()), t.undo();
                return o
            }, jce.pgnToJson = function pgnToJson(e, n, a) {
                var i, o = [],
                    r = t;
                return "number" != typeof n && (a = n, n = void 0), i = r.tokenizePgn(e, a), n < 0 && (n = i.length + n), !!i && (a && a.includeFen && (r = createGame({
                    analysis: !0
                })), i.forEach(function(e, t) {
                    var i, s;
                    t === n || void 0 === n ? r.loadPgn([e], 0, a) ? (s = function normalizeHistory(e) {
                        var t, n, a, i, o, r, s, l = e.history(!0, !0);
                        if (e.siblingGame) {
                            for (t = e.siblingGame.history(!0, !0), a = l.length + t.length, n = [], i = 0; i < a; ++i) !l.length || t.length && t[0].bughouseOrder < l[0].bughouseOrder ? (o = t.shift()).board = "b" : (o = l.shift()).board = "a", n.push(o);
                            l = n
                        }
                        for (a = l.length, i = 0; i < a; ++i)
                            if ((r = l[i]).fen || normalizeMoveObj(r), r.lines)
                                for (s = r.lines.length - 1; s >= 0; --s) e.selectLine(r.lines[s]), r.lines[s] = normalizeHistory(e).moves;
                        return {
                            moves: l
                        }
                    }(r), i = r.header(), o.push({
                        headers: i,
                        moves: s.moves
                    })) : o.push(!1) : o.push(void 0)
                }), "number" == typeof n ? o[n] : o)
            }, jce.sanToObj = function sanToObj(e, n, a) {
                return t.reset(), !!t.load(n, a) && normalizeMoveObj(t.move(e))
            }, jce.completeFen = t.completeFen, jce.shortenFen = function shortenFen(e, n) {
                return t.completeFen(e).split(" ").slice(0, n || 4).join(" ")
            }, jce.createGame = createGame, jce.getPositionDetails = function getPositionDetails(e, t) {
                var n, a, i, o;
                if ((e = e || {}).disableHashing = !0, !(n = createGame(e))) return null;
                if (t)
                    if (e.premove) {
                        if (!(i = makePremove(n, e.color, t))) return null
                    } else {
                        if (!(i = n.move(t))) return null;
                        n.extended || normalizeMoveObj(i)
                    }
                return o = n.fen(), e.premove && (e.check = !1, e.kings = !1), e.skipValidation || n.isPositionValid(e) ? (a = o.split(" "), {
                    fen: o,
                    pieces: getPieces(n),
                    sideToMove: n.turn(),
                    castling: a[2],
                    epSquare: "-" === a[3] ? null : a[3],
                    halfMoves: +a[4],
                    moveNumber: +a[5],
                    move: i,
                    hand: n.hand(),
                    checks: n.checks()
                }) : null
            }, jce.predict = function predict(e, t) {
                var n = Math.min(Math.max(.20773843 * Math.atan(2.49085889 * e / 100 - 2.47841945 * t / 100) + .02262979 * e / 100 - .02256839 * t / 100 + .52239679, 0), 1),
                    a = Math.min(Math.max(-.20720905 * Math.atan(2.49626837 * e / 100 - 2.48220286 * t / 100) + -.02352551 * e / 100 + .02172627 * t / 100 + .49443923, 0), 1),
                    i = Math.min(Math.max(Math.exp(.037043456 * e / 100 + .178106427 * t / 100 - 8.069742932) + .004823544 * Math.exp(-1.364136591 * Math.pow(e / 100 - t / 100, 2)) + -.001625539, 0), 1),
                    o = n + a + i;
                return {
                    w: n / o,
                    b: a / o,
                    d: i / o
                }
            }, jce.FLAGS = t.FLAGS, jce.loadECO = function loadECO(e, t) {
                a.loadBook(e, function onload(e, n) {
                    if (!n || !n.json) return t(e || new Error("Invalid book"));
                    t(e, function queryECO(e) {
                        var t, i, o, r, s, l, c, u, d;
                        if (e.hash) i = "string" == typeof e.hash ? [a.hex64ToDec(e.hash)] : [e.hash], r = 1;
                        else {
                            if (!(t = createGame(e))) return !1;
                            r = (i = t.hashes()).length
                        }
                        for (o = 0; o < r; ++o)
                            if (s = n.json[a.to64BitHex(i[o])]) {
                                if (s.constructor === Array)
                                    if (l && -1 === s[0].m.indexOf(l.m)) {
                                        for (u = s.length - 1; u >= 0; --u)
                                            if (!u || -1 !== s[u].m.indexOf(l.m)) {
                                                (d = s[u]).e = s[0].e, d.s = s[0].s, d.mate = s[0].mate, d.v = s[0].v, d.h = s[0].h, d.n = d.n || s[0].n, d.u = d.u || s[0].u, d.c = d.c || s[0].c;
                                                break
                                            }
                                    } else d = s[0];
                                else d = s;
                                (d.n || e.allowNameless) && (l = d)
                            } else e.mustEndInBook && (l = void 0);
                        if (l) return c = {
                            name: l.n
                        }, l.m && (c.moves = l.m), void 0 !== l.d && (c.sdiff = l.d / 100), l.u ? (c.url = l.u, c.code = c.url.substr(0, 3)) : l.n && l.c && (c.url = l.c + "-" + l.n.replace(/['+,]/g, "").replace(/[^a-z0-9.]+/gi, "-").replace(/(with-\d|St)\.+-?/, "$1-"), c.code = l.c), l.e ? (c.eval = l.e, c.depth = l.h, c.score = l.e[0].cp / 100, void 0 !== l.e[0].mate && (c.mate = l.e[0].mate)) : (c.score = l.s / 100, void 0 !== l.mate && (c.mate = l.mate)), l.v && (c.bad = !0), c
                    }, n.json)
                })
            }, jce
        }());
    t.default = l
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return s
    });
    var a = n(24),
        i = n.n(a),
        o = n(3),
        r = n.n(o);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                r()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var s = {
        getId: function getId(e) {
            var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            return Array(e || 20).fill().reduce(function(e) {
                return e + t.charAt(Math.floor(Math.random() * t.length))
            }, "")
        },
        getInitialFen: function getInitialFen() {
            return "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
        },
        formatJSTimestampForPgn: function formatJSTimestampForPgn(e) {
            var t = new Date(e),
                n = "0".concat(t.getUTCDate()).slice(-2),
                a = "0".concat(t.getUTCMonth() + 1).slice(-2);
            return "".concat(t.getFullYear(), "-").concat(a, "-").concat(n)
        },
        getSanFromFileRank: function getSanFromFileRank(e) {
            return e && e.file && e.rank ? String.fromCharCode(96 + e.file) + e.rank.toString() : null
        },
        getFileRankFromSan: function getFileRankFromSan(e) {
            return e ? {
                file: e.toLowerCase().charCodeAt(0) - 96,
                rank: Number(e.charAt(1))
            } : null
        },
        getPieceAt: function getPieceAt(e, t) {
            return e.setup.pieces.find(function(e) {
                return e.file === t.file && e.rank === t.rank
            })
        },
        cloneGame: function cloneGame(e) {
            return {
                id: e.id,
                variant: e.variant,
                jce: e.jce,
                tree: s.cloneTree(e.tree),
                setup: JSON.parse(JSON.stringify(e.setup)),
                markings: _objectSpread({}, e.markings),
                settings: _objectSpread({}, e.settings),
                history: i()(e.history),
                premoves: e.premoves.map(function(e) {
                    return JSON.parse(JSON.stringify(e))
                })
            }
        },
        cloneTree: function cloneTree(e) {
            return _objectSpread({}, e, {
                initialMarkings: JSON.parse(JSON.stringify(e.initialMarkings)),
                selected: _objectSpread({}, e.selected),
                selectedNode: e.selectedNode ? _objectSpread({}, e.selectedNode, {
                    ids: _objectSpread({}, e.selectedNode.ids),
                    hash: i()(e.selectedNode.hash),
                    lines: e.selectedNode.lines && i()(e.selectedNode.lines),
                    arrows: e.selectedNode.arrows && i()(e.selectedNode.arrows)
                }) : null
            })
        },
        getFirstFen: function getFirstFen(e) {
            return e.tree.lines[0].length ? e.tree.lines[0][0].beforeFen : e.setup.fen
        }
    }
}, function(e, t, n) {
    e.exports = n(26)(76)
}, function(e, t, n) {
    e.exports = n(26)(15)
}, function(e, t, n) {
    e.exports = n(26)(19)
}, function(e, t) {
    e.exports = vueDLL
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var a = "icon-background",
        i = "icon-component",
        o = "icon-component-shadow",
        r = "icon-shadow",
        s = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path d="M9 3.72a.48.48 0 0 0-.44.3L7.24 7.46l-3.68.19a.48.48 0 0 0-.27.84l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56 2.86-2.32a.48.48 0 0 0-.27-.84l-3.68-.19L9.44 4A.48.48 0 0 0 9 3.72z" opacity=".1"/>\n  <path d="M9 3.22a.48.48 0 0 0-.44.3L7.24 7l-3.68.19a.48.48 0 0 0-.27.81l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56L14.71 8a.48.48 0 0 0-.27-.84L10.76 7 9.44 3.52a.48.48 0 0 0-.44-.3z" fill="#fff"/>\n'),
        l = '\n  <path class="'.concat(r, '" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a, '" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(o, '" opacity=".3" d="M8.4,6c-1-.75-2.52-1.09-4.83-1.09H2.49v8.71H3.57A8.13,8.13,0,0,1,8.4,14.76Z"/>\n  <path class="').concat(o, '" opacity=".3" d="M9.49,14.76a8.14,8.14,0,0,1,4.84-1.17h1.08V4.88H14.33C12,4.88,10.52,5.22,9.49,6Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M8.4,5.47c-1-.75-2.52-1.09-4.83-1.09H3v8.71h.58A8.13,8.13,0,0,1,8.4,14.26Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M9.49,14.26a8.14,8.14,0,0,1,4.84-1.17h.58V4.38h-.58c-2.32,0-3.81.34-4.84,1.09Z"/>\n'),
        c = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <g class="').concat(o, '" opacity=".2">\n    <path d="M14.68 5.48a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.19 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.66a.45.45 0 0 0 .19 0l.11-.09a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .42-.23 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .65-.64A4.62 4.62 0 0 0 14 9a5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1 2.76 2.76 0 0 0-.31-1.19zM12.3 12.72h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.06zM6.68 12.72H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.06zM8.28 4.56A3.63 3.63 0 0 0 7.19 4 3.86 3.86 0 0 0 6 3.81 3.78 3.78 0 0 0 4.79 4a6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41l1 1.21a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.09a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.52.53 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7 8.22 8.22 0 0 1 .66-.64A5.68 5.68 0 0 0 8.36 9a7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.11z"/>\n  </g>\n  <path class="').concat(i, '" fill="#fff" d="M14.68 5a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.17 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.16a.45.45 0 0 0 .19 0l.09-.16a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .44-.16 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .62-.66 4.62 4.62 0 0 0 .54-.46 5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1A2.76 2.76 0 0 0 14.68 5zM12.3 12.22h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.09zM6.68 12.22H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.09zM8.28 4.06a3.63 3.63 0 0 0-1.09-.56A3.86 3.86 0 0 0 6 3.31a3.78 3.78 0 0 0-1.2.17 6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41L4.09 6a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.07a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.48.57 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7A8.22 8.22 0 0 1 7.84 9a5.68 5.68 0 0 0 .52-.48 7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.13z"/>\n'),
        u = '\n  <path class="'.concat(r, '" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a, '" fill="#1baca6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(o, '" opacity=".2" d="M12.57,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,4.15A.42.42,0,0,1,10,3.91a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M12.57,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,3.65A.42.42,0,0,1,10,3.41a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(o, '" opacity=".2" d="M8.07,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.92a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,4.15a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M8.07,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.42a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,3.65a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n'),
        d = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path class="').concat(o, '" d="M15.11 6.81l-5.66 5.66-1.66 1.65a.38.38 0 0 1-.55 0L2.89 9.78a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0l2.69 2.69 5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .55z" opacity=".2"/>\n  <path class="').concat(i, '" d="M15.11 6.31L9.45 12l-1.66 1.62a.38.38 0 0 1-.55 0L2.89 9.28a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0L7.52 10l5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .58z" fill="#fff"/>\n'),
        p = '\n  <path class="'.concat(r, '" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a, '" fill="#5a9ac0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(o, '" opacity=".2" d="M15,6.8,7.81,14a.38.38,0,0,1-.55,0L3,9.73a.41.41,0,0,1,0-.55L4.36,7.81a.4.4,0,0,1,.54,0l2.63,2.64L13.1,4.9a.38.38,0,0,1,.55,0L15,6.25A.38.38,0,0,1,15,6.8Z"/>\n  <path class="').concat(i, '" fill="#ffffff" d="M15,6.3,7.81,13.49a.38.38,0,0,1-.55,0L3,9.23a.41.41,0,0,1,0-.55L4.36,7.31a.4.4,0,0,1,.54,0L7.53,10,13.1,4.4a.38.38,0,0,1,.55,0L15,5.75A.38.38,0,0,1,15,6.3Z"/>\n'),
        h = '\n  <path class="'.concat(r, '" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a, '" fill="#a09f9e" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M9,2.5A6.5,6.5,0,1,0,15.5,9,6.5,6.5,0,0,0,9,2.5Z"/>\n  <path class="').concat(a, '" fill="#a09f9e" d="M9,5a4,4,0,1,0,4,4A4,4,0,0,0,9,5Z"/>\n  <path class="').concat(i, '" fill="#fff" d="M9,7.5A1.5,1.5,0,1,0,10.5,9,1.5,1.5,0,0,0,9,7.5Z"/>\n'),
        m = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#f0c15c"/>\n  <path class="').concat(o, '" opacity=".3" d="M13.51 14.85a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24V13a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(i, '" fill="#fff" d="M13.51 14.35a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24v-1.9a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(o, '" opacity=".3" d="M7.5 14.87a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.48 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.67a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.13l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38A6.65 6.65 0 0 1 5.29 4a3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.17 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.06 2.19 3.1 3.1 0 0 1-.13.96z"/>\n  <path class="').concat(i, '" fill="#fff" d="M7.5 14.37a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.46 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.17a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.31.16l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.15l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38 6.65 6.65 0 0 1 .9-.37 3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.19 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.1 2.23 3.1 3.1 0 0 1-.13.96z"/>\n'),
        f = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <path class="').concat(o, '" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(i, '" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),
        g = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#dd5357"/>\n  <path class="').concat(o, '" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(i, '" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),
        b = '\n  <path class="'.concat(r, '" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a, '" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#e6912c"/>\n  <path class="').concat(o, '" d="M9.82 14.87a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.71a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.53.53 0 0 1-.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38A5.72 5.72 0 0 1 7.61 4a3.68 3.68 0 0 1 1.19-.19A3.86 3.86 0 0 1 10 4a3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" opacity=".2"/>\n  <path class="').concat(i, '" d="M9.82 14.37a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.21a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.16l-.1.09a.53.53 0 0 1-.24.06C7 6.14 6.93 6.1 6.91 6l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38 5.72 5.72 0 0 1 .9-.37 3.68 3.68 0 0 1 1.22-.13 3.86 3.86 0 0 1 1.2.19 3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" fill="#fff"/>\n'),
        v = '\n  <path\n    class="'.concat(r, '"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n\n  <path\n    class="').concat(a, '"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="').concat(o, '"\n    opacity=".3"></path>\n\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="').concat(i, '"\n    fill="#ffffff"></path>\n');
    n.d(t, "bestMove", function() {
        return s
    }), n.d(t, "book", function() {
        return l
    }), n.d(t, "blunder", function() {
        return c
    }), n.d(t, "brilliant", function() {
        return u
    }), n.d(t, "correct", function() {
        return d
    }), n.d(t, "excellent", function() {
        return p
    }), n.d(t, "good", function() {
        return h
    }), n.d(t, "inaccuracy", function() {
        return m
    }), n.d(t, "incorrect", function() {
        return f
    }), n.d(t, "missedWin", function() {
        return g
    }), n.d(t, "mistake", function() {
        return b
    }), n.d(t, "undo", function() {
        return v
    })
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    });
    var a = n(3),
        i = n.n(a),
        o = function createComponentConfig(e, t) {
            var n = document.querySelector(e),
                a = e.replace(/#|\./g, ""),
                o = i()({}, "".concat(a), {});
            return null != n && (o[a] = Object.assign({
                el: e
            }, t(n))), o
        },
        r = function mergePropsData(e, t) {
            return e.propsData = Object.assign({}, e.propsData, t), e
        }
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(50),
        r = n(57),
        s = n(104),
        l = n(1),
        c = n(4),
        u = n(45),
        d = {
            makeGuessTheMove: function makeGuessTheMove(e, t) {
                var n = !1;
                return !e.settings.analysis && e.settings.GTM && (e.premoves.length && d.cancelGuessTheMove(e), n = e.jce.premove(t, e.setup.playingAs)), n
            },
            cancelGuessTheMove: function cancelGuessTheMove(e) {
                return u.a.cancelPremoves(e)
            }
        },
        p = n(6),
        h = n(16),
        m = n(2);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    n.d(t, "a", function() {
        return f
    });
    var f = function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }({}, o.a, {
        makePremove: s.c,
        cancelPremoves: s.a,
        consumePremove: s.b,
        makeGuessTheMove: function makeGuessTheMove(e, t) {
            var n = c.a.getJCEMove(e, t);
            return null === n ? (l.b.add(e.history, l.a.ILLEGAL_MOVE), e) : m.a.isHead(e.jce._lines(), e.tree.selected) || e.settings.analysis ? !e.settings.analysis && e.settings.GTM ? (d.makeGuessTheMove(e, n) ? (l.b.add(e.history, l.a.GUESS_THE_MOVE), p.a.updateState(e)) : l.b.add(e.history, l.a.ILLEGAL_MOVE), e) : void 0 : Object(h.a)(e, m.a.getHeadIds(e.jce._lines(), e.tree.selected.line))
        },
        cancelGuessTheMove: function cancelGuessTheMove(e) {
            return d.cancelGuessTheMove(e) && (p.a.updateState(e), l.b.add(e.history, l.a.CANCEL_GUESS_THE_MOVE)), e
        },
        setHand: r.a,
        setTimestamps: function setTimestamps(e, t) {
            var a = e.jce._lines();
            return (e.tree.lines || n(44).default.state.lines)[0].forEach(function(n, i) {
                if (t[i] && t[i] !== n.time) {
                    n.time = t[i];
                    var o = m.a.findNode(a, n.ids);
                    o && (o.time = t[i], l.b.add(e.history, l.a.UPDATE_NODE, {
                        line: o.ids.line,
                        move: o.ids.move
                    }))
                }
            }), e
        }
    })
}, , function(e, t, n) {
    e.exports = n(26)(39)
}, function(e, t, n) {
    "use strict";
    n.d(t, "v", function() {
        return r
    }), n.d(t, "a", function() {
        return s
    }), n.d(t, "b", function() {
        return l
    }), n.d(t, "o", function() {
        return c
    }), n.d(t, "g", function() {
        return u
    }), n.d(t, "h", function() {
        return d
    }), n.d(t, "i", function() {
        return p
    }), n.d(t, "j", function() {
        return h
    }), n.d(t, "k", function() {
        return m
    }), n.d(t, "l", function() {
        return f
    }), n.d(t, "p", function() {
        return g
    }), n.d(t, "n", function() {
        return b
    }), n.d(t, "q", function() {
        return v
    }), n.d(t, "r", function() {
        return y
    }), n.d(t, "s", function() {
        return _
    }), n.d(t, "t", function() {
        return w
    }), n.d(t, "u", function() {
        return O
    }), n.d(t, "c", function() {
        return k
    }), n.d(t, "d", function() {
        return S
    }), n.d(t, "f", function() {
        return x
    }), n.d(t, "m", function() {
        return P
    }), n.d(t, "e", function() {
        return displayNumber
    });
    var a = n(2),
        i = n(15),
        o = n(38),
        r = function normalizeAnnotation(e) {
            return Object.prototype.hasOwnProperty.call(i.c, e) || Object.prototype.hasOwnProperty.call(i.b, e) ? c(e) ? i.c[e] : normalizeAnnotation(i.b[e]) : e || ""
        },
        s = function additionalAnnotationExists(e, t) {
            return e.additionalAnnotation && Array.isArray(e.additionalAnnotation) && r(e.additionalAnnotation[0]) === r(t)
        },
        l = function annotationExists(e, t) {
            return r(e.annotation) === r(t)
        },
        c = function isNagFormat(e) {
            return e && "$" === e.charAt(0)
        },
        u = function hasAdditionalAnnotation(e) {
            return e.additionalAnnotation && e.additionalAnnotation[0]
        },
        d = function hasAnnotation(e) {
            return Object.prototype.hasOwnProperty.call(e, "annotation")
        },
        p = function hasComment(e) {
            return Boolean(e && "string" == typeof e.comment)
        },
        h = function hasCommentBefore(e) {
            return Boolean(e && "string" == typeof e.commentBefore)
        },
        m = function hasLines(e) {
            return Boolean(e && e.lines && e.lines.length)
        },
        f = function isEnPassant(e) {
            return 4 === e.flags
        },
        g = function isOnFirstLineOfParent(e, t) {
            return e.ids.line === t.lines[0]
        },
        b = function isLastMoveOnLine(e, t) {
            return e.ids.move === t.lines[e.ids.line].length - 1
        },
        v = function isOnLastLineOfParent(e, t) {
            return e.ids.line === t.lines[t.lines.length - 1]
        },
        y = function isOnMainLine(e) {
            return a.a.isMainLine(e.ids.line)
        },
        _ = function nodeIsALimit(e, t, n) {
            return Object.prototype.hasOwnProperty.call(e, n) && Object.prototype.hasOwnProperty.call(e[n], "ids") && e[n].ids.move === t.ids.move && e[n].ids.line === t.ids.line
        },
        w = function nodeIsAfterNodeLimitEnd(e, t) {
            var n = e[o.g.END];
            return !(!n || !Object.prototype.hasOwnProperty.call(n, "ids")) && (t.ids.line > n.ids.line || t.ids.line === n.ids.line && t.ids.move > n.ids.move)
        },
        O = function nodeIsBeforeLimitBegin(e, t) {
            var n = e[o.g.BEGIN];
            return !(!n || !Object.prototype.hasOwnProperty.call(n, "ids")) && (t.ids.line < e.begin.ids.line || t.ids.line === e.begin.ids.line && t.ids.move < e.begin.ids.move)
        },
        k = function canBeDeleted(e, t) {
            return !(t && y(e))
        },
        S = function cleanCommentString(e) {
            var t;
            return " " === (t = (t = e.replace(/<\/?[^>]+(>|$)/g, "")).replace(/&nbsp;/g, " ")) && (t = ""), t
        },
        x = function generateAnnotationString(e) {
            var t = "";
            return e.annotation && (t = "".concat(t).concat(r(e.annotation))), e.additionalAnnotation && e.additionalAnnotation[0] && (t = "".concat(t, "&nbsp;").concat(r(e.additionalAnnotation[0]))), t
        },
        P = function isFirstNodeOnFormattedLine(e) {
            return 0 === e.ids.move
        },
        C = function shouldShowDisplayNumber(e) {
            return Boolean(e.isWhite || e.isFirstNodeOnLine || e.previousHasComment || e.previousHasLines)
        },
        M = function shouldShowEllipsisOnBlackMoveNumber(e) {
            return Boolean(!e.isWhite && (e.previousHasComment || e.previousHasLines || e.isFirstNodeOnLine))
        };

    function displayNumber(e, t) {
        var n = "";
        return C(e) && (n += "".concat(e.nodeMoveNumber + (t - 1), "."), M(e) && (n += ".."), n += "&nbsp;"), n
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "form-button",
            mixins: [n(39).a],
            props: {
                disabled: {
                    type: Boolean,
                    default: !1
                },
                fullWidth: {
                    type: Boolean,
                    default: !1
                },
                href: {
                    type: String,
                    required: !1
                },
                size: {
                    type: String,
                    required: !1
                },
                theme: {
                    type: String,
                    required: !1
                },
                type: {
                    type: String,
                    default: "button"
                }
            },
            methods: {
                handleClick: function handleClick() {
                    this.href && (window.location = this.href)
                }
            }
        },
        i = n(102),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e, t = this,
            n = t.$createElement;
        return (t._self._c || n)("button", t._g({
            class: [t.componentClasses(), t.$style[t.size], t.$style[t.theme], (e = {}, e[t.$style["full-width"]] = t.fullWidth, e)],
            attrs: {
                disabled: t.disabled,
                type: t.type
            },
            on: {
                click: t.handleClick
            }
        }, t.$listeners), [t._t("default")], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "c", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    });
    var a = n(29),
        i = {},
        o = function setGame(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "game";
            i[t] = e
        },
        r = function getGame() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "game";
            return i[e] || (i[e] = a.a.createGame()), i[e]
        };
    t.a = {
        gameStoreNamespace: "game",
        history: [],
        markings: {},
        pgn: null,
        pgnHeaders: null,
        settings: {},
        setup: {},
        tree: {},
        variant: null,
        premoves: []
    }
}, function(e, t, n) {
    "use strict";
    var a, i = n(31),
        o = n(47),
        r = n(9),
        s = n(223),
        l = n(84),
        c = n(37),
        u = function getOptions(e) {
            return c.a.isString(e.value) ? {
                content: e.value
            } : e.value
        },
        d = {
            name: "tooltip",
            created: function created() {
                this.active = null, this.instances = []
            },
            beforeDestroy: function beforeDestroy() {
                this.instances = null, this.clearTooltip()
            },
            methods: {
                bind: function bind(e, t) {
                    this.instances.push({
                        element: e,
                        options: u(t)
                    }), e.addEventListener("mouseenter", this.showTooltip)
                },
                update: function update(e, t) {
                    var n = this.instances.find(function(t) {
                        return t.element === e
                    });
                    n && (n.options = u(t))
                },
                unbind: function unbind(e) {
                    var t = this.instances.find(function(t) {
                        return t.element === e
                    });
                    t && (this.active === t && this.hideTooltip({
                        target: t.element
                    }), s.a.remove(this.instances, t), e.removeEventListener("mouseenter", this.showTooltip), e.removeEventListener("mouseleave", this.hideTooltip))
                },
                showTooltip: function showTooltip(e) {
                    var t = this,
                        n = e.target,
                        a = this.instances.find(function(e) {
                            return e.element === n
                        });
                    if (a && a.options && a.options.content) {
                        var i = a.options.delay || 400,
                            s = a.options.position || "top",
                            c = a.options.padding || 0;
                        this.clearTooltip(), a.element.classList.contains(r.f.CONFIRM_OPEN) || (this.active = a, a.element.addEventListener("mouseleave", this.hideTooltip), this.showTimeout = l.a.setTimeout(function() {
                            t.showFrame = window.requestAnimationFrame(function() {
                                t.$refs && t.$refs.content && a.options && (t.$refs.content.innerHTML = a.options.content), t.$el.classList.add(s), Object(o.c)(a.element, t.$el, s, c)
                            })
                        }, i)), a.options.closeOnScroll && this.hideOnScroll(n)
                    }
                },
                hideOnScroll: function hideOnScroll(e) {
                    var t = this;
                    window.addEventListener("scroll", function() {
                        t.hideTooltip({
                            target: e
                        })
                    })
                },
                hideTooltip: function hideTooltip(e) {
                    var t = this,
                        n = e.target;
                    this.instances.find(function(e) {
                        return e.element === n
                    }) && (this.clearTooltip(), this.hideFrame = window.requestAnimationFrame(function() {
                        t.$refs && t.$refs.content && (t.$refs.content.innerHTML = null), Object(o.d)(t.$el)
                    }))
                },
                clearTooltip: function clearTooltip() {
                    this.active && (this.active.element.removeEventListener("mouseleave", this.hideTooltip), this.active = null), l.a.clearTimeout(this.showTimeout), window.cancelAnimationFrame(this.hideFrame), window.cancelAnimationFrame(this.showFrame), window.removeEventListener("scroll", this.hideOnScroll)
                }
            }
        },
        p = n(5),
        h = Object(p.a)(d, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return t("div", {
                staticClass: "tooltip tip vue-tooltip"
            }, [t("div", {
                staticClass: "arrow"
            }), this._v(" "), t("div", {
                ref: "content",
                staticClass: "inner"
            })])
        }, [], !1, null, null, null).exports,
        m = i.default.extend(h),
        f = !1,
        g = function getTooltip() {
            if (a || (a = new m), !f) {
                var e = document.createElement("div");
                document.body.appendChild(e), a.$mount(e), f = !0
            }
            return a
        };
    t.a = {
        bind: function bind(e, t) {
            return g().bind(e, t)
        },
        componentUpdated: function componentUpdated(e, t) {
            return g().update(e, t)
        },
        unbind: function unbind(e, t) {
            return g().unbind(e, t)
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(31);
    t.a = new a.default
}, function(e, t, n) {
    "use strict";
    var a = n(42),
        i = n.n(a);

    function isNull(e) {
        return null === e
    }

    function isUndefined(e) {
        return void 0 === e
    }

    function isObject(e) {
        return !isNull(e) && "object" === i()(e)
    }
    t.a = {
        isString: function isString(e) {
            return "string" == typeof e
        },
        isFunction: function isFunction(e) {
            return "function" == typeof e
        },
        isNumber: function isNumber(e) {
            return "number" == typeof e
        },
        isNil: function isNil(e) {
            return isNull(e) || isUndefined(e)
        },
        isObject: isObject,
        isPlainObject: function isPlainObject(e) {
            return !!isObject(e) && (e.constructor && "Object" === e.constructor.name)
        },
        isArray: function isArray(e) {
            return Array.isArray(e)
        },
        isError: function isError(e) {
            if (!isObject(e)) return !1;
            var t = Object.prototype.toString.call(e);
            return "[object Error]" === t || "[object DOMException]" === t
        },
        isUndefined: isUndefined
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return u
    }), n.d(t, "a", function() {
        return d
    }), n.d(t, "e", function() {
        return p
    }), n.d(t, "c", function() {
        return m
    }), n.d(t, "d", function() {
        return f
    }), n.d(t, "g", function() {
        return g
    }), n.d(t, "f", function() {
        return b
    }), n.d(t, "h", function() {
        return v
    });
    var a, i, o, r = n(3),
        s = n.n(r),
        l = n(15),
        c = n(0),
        u = {
            AFTER: "after",
            BEFORE: "before"
        },
        d = {
            ADD_ANNOTATION: "addAnnotation",
            ADD_EVAL_NOTATION: "addEvalNotation",
            CLEAR_ANALYSIS: "clearAnalysis",
            CREATE_CONTINUATION: "createContinuation",
            CREATE_VARIATION: "createVariation",
            DELETE_COMMENT: "deleteComment",
            DELETE_LINE: "deleteLine",
            DELETE_MOVE: "deleteMove",
            INSERT_COMMENT: "insertComment",
            MOVE_VARIATION_DOWN: "moveVariationDown",
            MOVE_VARIATION: "moveVariation",
            PROMOTE_VARIATION: "promoteVariation",
            REMOVE_ANNOTATION: "removeAnnotation",
            REMOVE_BEGIN: "removeBegin",
            REMOVE_END: "removeEnd",
            REMOVE_EVAL_ANNOTATION: "removeEvalAnnotation",
            REMOVE_FOCUS: "removeFocus",
            SET_BEGIN: "setBegin",
            SET_END: "setEnd",
            SET_FOCUS: "setFocus",
            UPDATE_COMMENT: "updateComment"
        },
        p = {
            CLEAR_ANALYSIS: "clear-analysis-on-confirm"
        },
        h = [{
            code: "$1",
            display: l.c.$1,
            meaning: c.a.trans("Good move"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$2",
            display: l.c.$2,
            meaning: c.a.trans("Bad move"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$3",
            display: l.c.$3,
            meaning: c.a.trans("Excellent move"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$4",
            display: l.c.$4,
            meaning: c.a.trans("Blunder"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$5",
            display: l.c.$5,
            meaning: c.a.trans("Speculative move"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$6",
            display: l.c.$6,
            meaning: c.a.trans("Dubious move"),
            action: d.ADD_ANNOTATION
        }, {
            code: "$10",
            display: l.c.$10,
            meaning: c.a.trans("Drawish"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$13",
            display: l.c.$13,
            meaning: c.a.trans("Unclear"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$14",
            display: l.c.$14,
            meaning: c.a.trans("White has a slight advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$15",
            display: l.c.$15,
            meaning: c.a.trans("Black has a slight advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$16",
            display: l.c.$16,
            meaning: c.a.trans("White has a moderate advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$17",
            display: l.c.$17,
            meaning: c.a.trans("Black has a moderate advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$18",
            display: l.c.$18,
            meaning: c.a.trans("White has a decisive advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$19",
            display: l.c.$19,
            meaning: c.a.trans("Black has a decisive advantage"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$22",
            display: l.c.$22,
            meaning: c.a.trans("The position is in zugzwang"),
            action: d.ADD_EVAL_NOTATION
        }, {
            code: "$146",
            display: l.c.$146,
            meaning: c.a.trans("Novelty"),
            action: d.ADD_EVAL_NOTATION
        }],
        m = {
            CLEAR_ALL_ANALYSIS: {
                name: c.a.trans("Clear All Analysis"),
                action: d.CLEAR_ANALYSIS
            },
            CREATE_CONTINUATION: {
                name: c.a.trans("Insert Continuation"),
                action: d.CREATE_CONTINUATION
            },
            CREATE_VARIATION: {
                name: c.a.trans("Insert Alternate Line"),
                action: d.CREATE_VARIATION
            },
            DELETE_COMMENT_AFTER: {
                name: c.a.trans("Delete Comment After"),
                action: d.DELETE_COMMENT,
                position: u.AFTER
            },
            DELETE_COMMENT_BEFORE: {
                name: c.a.trans("Delete Comment Before"),
                action: d.DELETE_COMMENT,
                position: u.BEFORE
            },
            DELETE_LINE: {
                name: c.a.trans("Delete Entire Variation"),
                action: d.DELETE_LINE
            },
            DELETE_MOVE: {
                name: c.a.trans("Delete Move"),
                action: d.DELETE_MOVE
            },
            INSERT_COMMENT_AFTER: {
                name: c.a.trans("Comment After"),
                action: d.INSERT_COMMENT,
                position: u.AFTER
            },
            INSERT_COMMENT_BEFORE: {
                name: c.a.trans("Comment Before"),
                action: d.INSERT_COMMENT,
                position: u.BEFORE
            },
            MOVE_VARIATION_DOWN: {
                name: c.a.trans("Move Variation Down"),
                action: d.MOVE_VARIATION_DOWN
            },
            MOVE_VARIATION_UP: {
                name: c.a.trans("Move Variation Up"),
                action: d.MOVE_VARIATION
            },
            PROMOTE_VARIATION: {
                name: c.a.trans("Promote"),
                action: d.PROMOTE_VARIATION
            },
            REMOVE_ANNOTATION: {
                name: c.a.trans("Remove Annotation"),
                action: d.REMOVE_ANNOTATION
            },
            REMOVE_BEGIN: {
                name: c.a.trans("Remove Begin"),
                action: d.REMOVE_BEGIN
            },
            REMOVE_END: {
                name: c.a.trans("Remove End"),
                action: d.REMOVE_END
            },
            REMOVE_EVAL_ANNOTATION: {
                name: c.a.trans("Remove Evaluation Annotation"),
                action: d.REMOVE_EVAL_ANNOTATION
            },
            REMOVE_FOCUS: {
                name: c.a.trans("Remove Focus"),
                action: d.REMOVE_FOCUS
            },
            SET_BEGIN: {
                name: c.a.trans("Set Begin"),
                action: d.SET_BEGIN
            },
            SET_END: {
                name: c.a.trans("Set End"),
                action: d.SET_END
            },
            SET_FOCUS: {
                name: c.a.trans("Set Focus"),
                action: d.SET_FOCUS
            }
        },
        f = [d.SET_BEGIN, d.SET_END, d.SET_FOCUS, d.REMOVE_BEGIN, d.REMOVE_END, d.REMOVE_FOCUS],
        g = {
            BEGIN: "begin",
            END: "end",
            FOCUS: "focus"
        },
        b = {
            SET: (a = {}, s()(a, d.SET_BEGIN, g.BEGIN), s()(a, d.SET_END, g.END), s()(a, d.SET_FOCUS, g.FOCUS), a),
            REMOVE: (i = {}, s()(i, d.REMOVE_BEGIN, g.BEGIN), s()(i, d.REMOVE_END, g.END), s()(i, d.REMOVE_FOCUS, g.FOCUS), i)
        },
        v = (o = [], h.forEach(function(e) {
            var t = o[o.length - 1] || null;
            t && 4 !== t.length ? t.push(e) : o.push([e])
        }), o)
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a);
    t.a = {
        props: {
            isDarkMode: {
                type: Boolean,
                default: !1
            }
        },
        methods: {
            componentClasses: function componentClasses() {
                var e;
                return e = {}, i()(e, this.$style.component, !0), i()(e, this.$style.darkMode, this.isDarkMode), e
            }
        }
    }
}, , function(e, t, n) {
    "use strict";
    n.d(t, "d", function() {
        return a
    }), n.d(t, "c", function() {
        return i
    }), n.d(t, "i", function() {
        return o
    }), n.d(t, "j", function() {
        return r
    }), n.d(t, "h", function() {
        return s
    }), n.d(t, "a", function() {
        return l
    }), n.d(t, "f", function() {
        return u
    }), n.d(t, "g", function() {
        return d
    }), n.d(t, "e", function() {
        return p
    }), n.d(t, "b", function() {
        return h
    });
    var a = function getWindowTitle() {
            return encodeURIComponent(window.document.title)
        },
        i = function getWindowLocation() {
            return encodeURIComponent(window.location.href)
        },
        o = window.location.pathname,
        r = a(),
        s = i();
    window.chessBrowserChecker = {};
    var l = function bookmarkPage() {
        if (window.sidebar && window.sidebar.addPanel) window.sidebar.addPanel(r, s, "");
        else if (window.external && "AddFavorite" in window.external) window.external.AddFavorite(s, r);
        else {
            var e = -1 !== window.navigator.userAgent.toLowerCase().indexOf("mac") ? "Cmd" : "Ctrl";
            alert("Press ".concat(e, "+D to bookmark this page."))
        }
    };
    window.chessBrowserChecker.supportedBrowsers = ["Chrome", "edge", "Firefox", "IE", "Safari", "Waterfox"];
    var c = {
        chrome: 74,
        edge: 17,
        firefox: 60,
        safari: 11,
        waterfox: 56
    };
    window.chessBrowserChecker.supportedBrowserVersions = c;
    var u = function printWindow() {
            window.print()
        },
        d = function sendEmail(e, t) {
            window.location.href = "mailto:?".concat(e, "&").concat(t)
        },
        p = function isMobile() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.navigator.userAgent;
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)
        },
        h = function getBrowser() {
            var e, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.navigator.userAgent,
                n = t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
            if (function isEdge() {
                    return null !== (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.navigator.userAgent).match(/Edge/)
                }(t)) {
                var a = t.indexOf("Edge/");
                return {
                    name: "Edge",
                    version: parseInt(t.substring(a + 5, t.indexOf(".", a)), 10)
                }
            }
            if (/trident/i.test(n[1])) return {
                name: "IE",
                version: (e = /\brv[ :]+(\d+)/g.exec(t) || [])[1] || ""
            };
            if ("Chrome" === n[1] && null != (e = t.match(/\bOPR\/(\d+)/))) return {
                name: "Opera",
                version: e[1]
            };
            if ("Firefox" === n[1]) {
                var i = t.match(/(waterfox(?=\/))\/?\s*(\d+)/i) || [];
                if ("Waterfox" === i[1]) return {
                    name: i[1],
                    version: parseInt(i[2], 10)
                }
            }
            return "Safari" === (n = n[2] ? [n[1], n[2]] : [window.navigator.appName, window.navigator.appVersion, "-?"])[0] && null != (e = t.match(/version\/(\d+)/i)) && n.splice(1, 1, e[1]), {
                name: n[0],
                version: parseInt(n[1], 10)
            }
        };
    window.chessBrowserChecker.getBrowserInformation = h;
    window.chessBrowserChecker.isOldBrowser = function isOldBrowser() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.navigator.userAgent,
            t = h(e);
        return "Chrome" === t.name ? t.version < c.chrome : "Safari" === t.name ? t.version < c.safari : "Firefox" === t.name ? t.version < c.firefox : "Edge" === t.name ? t.version < c.edge : "IE" === t.name
    }
}, function(e, t, n) {
    e.exports = n(26)(17)
}, function(e, t, n) {
    "use strict";
    n.d(t, "d", function() {
        return f
    }), n.d(t, "g", function() {
        return g
    }), n.d(t, "f", function() {
        return b
    }), n.d(t, "e", function() {
        return v
    }), n.d(t, "h", function() {
        return y
    }), n.d(t, "a", function() {
        return _
    }), n.d(t, "b", function() {
        return w
    }), n.d(t, "c", function() {
        return O
    });
    var a = n(8),
        i = n(0),
        o = "web_member_callback_block_member",
        r = "web_user_callback_delete_comment",
        s = "web_user_callback_get_available_flair",
        l = "web_user_callback_load_notes",
        c = "web_member_callback_mute_account",
        u = "web_user_callback_post_note",
        d = "web_user_callback_set_flair",
        p = "web_user_callback_set_status",
        h = "web_user_settings_edit",
        m = "web_member_view",
        f = "#flair-modal",
        g = {
            blockUser: function blockUser(e) {
                return Object(a.a)(o, {
                    username: e
                })
            },
            communityGuidelines: function communityGuidelines() {
                return Object(a.a)("web_policies_community")
            },
            deleteNote: function deleteNote(e) {
                return Object(a.a)(r, {
                    id: e
                })
            },
            disableAccount: function disableAccount(e) {
                return Object(a.a)("web_member_disable", {
                    id: e
                })
            },
            enableAccount: function enableAccount(e) {
                return Object(a.a)("web_member_enable", {
                    id: e
                })
            },
            getFlair: function getFlair(e) {
                return Object(a.a)(s, {
                    username: e
                })
            },
            impersonateUser: function impersonateUser(e) {
                return Object(a.a)("web_user_home", {
                    _impersonate: e
                })
            },
            loadNotes: function loadNotes(e, t, n) {
                return Object(a.a)(l, {
                    userId: e,
                    itemsPerPage: t,
                    page: n
                })
            },
            muteUser: function muteUser(e) {
                return Object(a.a)("web_member_mute", {
                    username: e
                })
            },
            muteUserTemporary: function muteUserTemporary(e) {
                return Object(a.a)(c, {
                    user: e
                })
            },
            postNote: function postNote() {
                return Object(a.a)(u)
            },
            removeAvatar: function removeAvatar(e) {
                return Object(a.a)("web_member_remove_avatar", {
                    username: e
                })
            },
            removeBackground: function removeBackground(e) {
                return Object(a.a)("web_user_callback_remove_user_custom_background", {
                    user: e
                })
            },
            resetFlair: function resetFlair(e) {
                return Object(a.a)("web_member_reset_flair", {
                    username: e
                })
            },
            setCode: function setCode() {
                return Object(a.a)(d)
            },
            setFlairStatus: function setFlairStatus() {
                return Object(a.a)(p)
            },
            settings: function settings() {
                return Object(a.a)(h)
            },
            stopImpersonateUser: function stopImpersonateUser(e, t) {
                return Object(a.a)(e, t)
            },
            unmuteUser: function unmuteUser(e) {
                return Object(a.a)("web_member_unmute", {
                    username: e
                })
            },
            userUrl: function userUrl(e) {
                return Object(a.a)(m, {
                    username: e
                })
            }
        },
        b = {
            NOTES_GAMES_CONTAINER: "notes-games-container",
            PROFILE_ACTIONS: "profile-actions",
            PROFILE_NOTES_BTN: "profile-notes-btn",
            PROFILE_NOTES_BTN_OPENED: "profile-notes-btn-opened",
            PROFILE_NOTES_COLLAPSE: "profile-notes-collapse",
            PROFILE_NOTES_COLLAPSE_SHOW: "profile-notes-collapse-show",
            ROOT_PROFILE: "view-profile",
            STOP_IMPERSONATE: "stop-impersonate",
            USER_STATUS: "user-profile-status"
        },
        v = 50,
        y = {
            disableAccountConfirm: i.a.trans("Are you sure you want to disable this account?"),
            editStatus: i.a.trans("Edit status"),
            enableAccountConfirm: i.a.trans("Are you sure you want to enable this account?"),
            enterStatus: i.a.trans("Enter a status here"),
            impersonateConfirm: i.a.trans("Are you sure you want to impersonate this user?"),
            muteError: i.a.trans("Error occurred"),
            muteUserConfirm: i.a.trans("Are you sure you want to mute this user?"),
            removeAboutConfirm: i.a.trans("Are you sure you want to remove user About section?"),
            removeAvatarConfirm: i.a.trans("Are you sure you want to remove this user's avatar?"),
            removeBackgroundConfirm: i.a.trans("Are you sure you want to remove this user's background?"),
            removeFriendConfirm: function removeFriendConfirm(e) {
                return i.a.trans("Are you sure you want to remove %friend%?", {
                    "%friend%": e
                })
            },
            reportSpamConfirm: i.a.trans("Are you sure you want to report user for spamming?"),
            resetFlairConfirm: i.a.trans("Are you sure you want to reset this user's flair?"),
            saveStatus: i.a.trans("Save status"),
            statusTooLong: i.a.trans("Your status must be %len% characters or less", {
                "%len%": v
            }),
            stopImpersonateConfirm: i.a.trans("Are you sure you want to stop impersonating this user?"),
            unmuteUserConfirm: i.a.trans("Are you sure you want to unmute this user?"),
            vulgarityMessage: i.a.trans("Your post seems to not fit our <a href=%url%>Community Guidelines</a>. Repeated violations may result in your account being restricted. Thank you for helping Chess.com stay a fun and friendly place for all!", {
                "%url%": g.communityGuidelines
            })
        },
        _ = {
            ALLOW_GROUP_INVITES: "data-allow-group-invites",
            AVATAR: "data-avatar",
            CAN_EDIT_STATUS: "data-can-edit-status",
            CAN_RECEIVE_GIFT: "data-can-receive-gift",
            CAN_VIEW_NOTES: "data-can-view-notes",
            ENTITY_ID: "data-entity-id",
            FLAIR: "data-flair-profile",
            IS_FOLLOWING: "data-is-following",
            IS_FRIEND: "data-is-friend",
            HAS_CLUBS: "data-has-clubs",
            HAS_FRIEND_REQUEST_FROM_USER: "data-has-friend-request-from-user",
            HAS_FRIEND_REQUEST_TO_USER: "data-has-friend-request-to-user",
            IS_AUTH_USER_BANNER_BY_VIEWED: "data-is-auth-user-banned-by-viewed",
            IS_BLOCKED: "data-is-blocked",
            IS_MESSAGEABLE: "data-is-messageable",
            IS_OWN_PROFILE: "data-is-own-profile",
            IS_USER_ENABLED: "data-is-user-enabled",
            IS_VIEWER_BLOCKED: "data-is-viewer-blocked",
            MUTE_TIME: "data-mute-time",
            NOTE_DELETE: "data-note-delete",
            NOTE_POST: "data-note-post",
            STOP_IMPERSONATE_PARAMS: "data-stop-impersonate-params",
            STOP_IMPERSONATE_ROUTE: "data-stop-impersonate-route",
            USER: "data-user",
            USERNAME: "data-username",
            USER_ID: "data-user-id"
        },
        w = {
            STATUS_SUCCESS: 200
        },
        O = {
            displayState: "DISPLAY_STATE",
            editingState: "EDITING_STATE",
            savingState: "SAVING_STATE"
        }
}, function(e, t, n) {
    "use strict";
    n.r(t), n.d(t, "nodeProps", function() {
        return r
    });
    var a = n(24),
        i = n.n(a),
        o = n(2),
        r = ["additionalAnnotation", "annotation", "arrows", "color", "comment", "commentBefore", "fen", "flags", "from", "ids", "lines", "moveNumber", "piece", "previous", "promotion", "san", "time", "to"];
    t.default = function moveList() {
        var e, t = {
            lines: []
        };
        return {
            state: t,
            updateLines: function updateLines(n) {
                t.lines = i()(n), (n || []).forEach(function(a, i) {
                    e = o.a.isContinuation(n, a.id), t.lines[i] = a.map(function(t) {
                        var n = {};
                        return r.forEach(function(e) {
                            void 0 !== t[e] && (n[e] = t[e])
                        }), e && 0 === t.ids.move && (n.commentBefore = a.initComment), n
                    }), t.lines[i].atMoveNode = a.atMoveNode, t.lines[i].id = a.id, t.lines[i].parentId = a.parentId
                })
            }
        }
    }()
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    });
    var a = n(4),
        i = {
            premove: function premove(e, t) {
                var n = !1;
                return e.settings.premoves && !e.settings.analysis && e.jce.premoves.length < 8 && (n = e.jce.premove(t, e.setup.playingAs)), n
            },
            cancelPremoves: function cancelPremoves(e) {
                return !!e.jce.premoves.length && (e.jce.premoves.length = 0, !0)
            },
            consumePremove: function consumePremove(e) {
                if (e.jce.premoves.length) {
                    var t = e.jce.premoves.shift();
                    if (a.a.move(e, t.move)) {
                        var n = e.jce.premoves.map(function(e) {
                            return e
                        });
                        e.jce.premoves.length = 0;
                        for (var o = 0; o < n.length; o += 1) {
                            var r = n[o];
                            if (delete r.move.san, !i.premove(e, r.move)) break
                        }
                        return !0
                    }
                }
                return !1
            }
        }
}, function(e, t, n) {
    "use strict";
    var a = n(92),
        i = {
            name: "modal-container",
            props: {
                autoShow: {
                    type: Boolean,
                    default: !1
                },
                closeOnBackgroundClick: {
                    type: Boolean,
                    default: !0
                },
                closeOnEscPress: {
                    type: Boolean,
                    default: !1
                },
                centerOverParent: {
                    type: Boolean,
                    default: !1
                },
                centerOverContent: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    visible: !1
                }
            },
            mounted: function mounted() {
                this.closeOnEscPress && window.addEventListener("keyup", this.onKeyPress), this.autoShow && this.show()
            },
            beforeDestroy: function beforeDestroy() {
                this.closeOnEscPress && window.removeEventListener("keyup", this.onKeyPress)
            },
            methods: {
                hide: function hide() {
                    this.visible = !1, this.$emit(a.a.MODAL_DID_HIDE)
                },
                onBackgroundClick: function onBackgroundClick() {
                    this.closeOnBackgroundClick && this.hide()
                },
                onKeyPress: function onKeyPress(e) {
                    27 === e.keyCode && this.hide()
                },
                show: function show() {
                    this.visible = !0
                }
            }
        },
        o = n(96),
        r = n(5);
    var s = Object(r.a)(i, function() {
        var e, t, n = this,
            a = n.$createElement,
            i = n._self._c || a;
        return i("transition", {
            attrs: {
                "enter-active-class": n.$style.enter,
                "leave-active-class": n.$style.leave
            }
        }, [n.visible ? i("div", {
            class: [n.$style.component, (e = {}, e[n.$style["parent-centered"]] = n.centerOverParent, e), (t = {}, t[n.$style["content-centered"]] = n.centerOverContent, t)]
        }, [n.centerOverParent ? n._e() : i("div", {
            class: n.$style.bg,
            on: {
                click: n.onBackgroundClick
            }
        }), n._v(" "), [n._t("default")]], 2) : n._e()])
    }, [], !1, function injectStyles(e) {
        this.$style = o.default.locals || o.default
    }, null, null);
    t.a = s.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return l
    }), n.d(t, "a", function() {
        return c
    }), n.d(t, "c", function() {
        return u
    }), n.d(t, "d", function() {
        return d
    });
    var a = n(53),
        i = "top",
        o = "right",
        r = "bottom",
        s = "left",
        l = function getUserPopoverPosition(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 172,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 300,
                a = {
                    top: null,
                    left: null,
                    right: null,
                    x: null,
                    y: null
                },
                l = e.width / 2,
                c = window,
                u = e.bottom + t < c.innerHeight,
                d = n - 28 - 12,
                p = n - d,
                h = e.left + l + d < c.innerWidth;
            return u ? (a.top = e.bottom, a.y = r) : (a.top = e.top - t, a.y = i), h ? (a.left = e.left + l - p, a.right = window.innerWidth - e.right, a.x = o) : (a.left = e.left + l - d, a.right = window.innerWidth - e.right, a.x = s), a.top = Math.round(a.top), a.left = Math.round(a.left), a.right = Math.round(a.right), a
        },
        c = function getPosition(e, t, n) {
            var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            if (!e || !t) return null;
            var l = e.getBoundingClientRect(),
                c = {},
                u = window.innerWidth - l.x,
                d = function canFitTop() {
                    return l.top - (t.clientHeight + a) > 0
                },
                p = function canFitLeft() {
                    return l.left - (t.clientWidth + a) > 0
                };
            return n === i && d() || n === r && ! function canFitBottom() {
                return l.bottom + t.clientHeight + a < window.innerHeight
            }() ? (c.left = l.left - (t.clientWidth - l.width) / 2, c.rtlLeft = u - t.clientWidth / 2 - l.width / 2, c.top = l.top - t.clientHeight - a, c.placement = i) : n === r || n === i && !d() ? (c.left = l.left - (t.clientWidth - l.width) / 2, c.rtlLeft = u - t.clientWidth / 2 - l.width / 2, c.top = l.bottom + a, c.placement = r) : n === s && p() || n === o && ! function canFitRight() {
                return l.right + t.clientWidth + a < window.innerWidth
            }() ? (c.left = l.left - t.clientWidth - a, c.rtlLeft = l.rtlLeft - t.clientWidth - a, c.top = l.top - (t.clientHeight - l.height) / 2, c.placement = s) : (n === o || n === s && !p()) && (c.left = l.right + a, c.rtlLeft = l.rtlLeft + a, c.top = l.top - (t.clientHeight - l.height) / 2, c.placement = o), {
                left: Math.round(c.left),
                placement: c.placement,
                rtlLeft: Math.round(c.rtlLeft),
                top: Math.round(c.top)
            }
        },
        u = function positionTooltip(e, t, n) {
            var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
            if (!e || !t) return null;
            var o = c(e, t, n, i);
            return Object(a.a)() ? t.style.transform = "translate(-".concat(o.rtlLeft, "px, ").concat(o.top, "px)") : t.style.transform = "translate(".concat(o.left, "px, ").concat(o.top, "px)"), t.classList.add(o.placement), t
        },
        d = function removePositionStyle(e) {
            return e ? (e.style.transform = "translate(-100%, -100%)", e.classList.remove(s, o, r, i), e) : null
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "e", function() {
        return r
    }), n.d(t, "f", function() {
        return s
    }), n.d(t, "h", function() {
        return l
    }), n.d(t, "g", function() {
        return c
    }), n.d(t, "i", function() {
        return u
    }), n.d(t, "j", function() {
        return p
    }), n.d(t, "b", function() {
        return h
    }), n.d(t, "c", function() {
        return copyInputValueToBuffer
    }), n.d(t, "k", function() {
        return showHideMore
    });
    var a = n(9),
        i = n(100),
        o = function browserWidth() {
            return window.parent.innerWidth
        },
        r = function getClickedChild(e, t, n) {
            var a = n,
                i = null;
            if (!e || !t || !n) return i;
            for (; a && a !== e && !i;) a.classList.contains(t) && (i = a), a = a.parentNode;
            return i
        },
        s = function getElement(e) {
            return document.querySelector(".".concat(e))
        },
        l = function getElements(e) {
            return document.getElementsByClassName(e)
        },
        c = function getElementContentDimensions(e) {
            var t = e.currentStyle || window.getComputedStyle(e),
                n = parseFloat(t.marginLeft) + parseFloat(t.marginRight),
                a = parseFloat(t.paddingLeft) + parseFloat(t.paddingRight),
                i = parseFloat(t.marginBottom) + parseFloat(t.marginTop),
                o = parseFloat(t.paddingBottom) + parseFloat(t.paddingTop),
                r = parseFloat(t.borderLeftWidth) + parseFloat(t.borderRightWidth),
                s = parseFloat(t.borderBottomWidth) + parseFloat(t.borderTopWidth);
            return {
                height: e.offsetHeight + i - o + s,
                width: e.offsetWidth + n - a + r
            }
        },
        u = function getScrollElement() {
            return document.querySelector(".base-container") || document.body
        },
        d = function injectMounts(e, t) {
            t.forEach(function(t) {
                var n = document.createElement("div");
                n.id = t, e.appendChild(n)
            })
        },
        p = function injectModalMounts(e) {
            var t = Object(i.c)();
            d(t, e)
        },
        h = function copyCustomValueToClipoard(e) {
            var t = document.createElement("input");
            t.value = e, document.body.appendChild(t), t.select(), document.execCommand("copy"), document.body.removeChild(t)
        };

    function copyInputValueToBuffer(e) {
        e && (e.focus(), e.select(), document.execCommand("copy"))
    }

    function showHideMore(e, t, n, i) {
        var o = l(e);
        Array.from(o).forEach(function(e) {
            var o = e.getAttribute("data-key"),
                r = document.querySelectorAll(".".concat(t, "[data-key=").concat(o, "]")),
                s = e.querySelector(".".concat(n)),
                l = e.querySelector(".".concat(i));
            s.innerHTML = a.h.showMore, e.addEventListener("click", function() {
                var e = s.innerHTML === a.h.showMore;
                s.innerHTML = e ? a.h.showLess : a.h.showMore, l.classList.toggle("toggle-content-icon-up"), Array.from(r).forEach(function(e) {
                    e.style.display = "block" === e.style.display ? "none" : "block"
                })
            })
        })
    }
    t.d = {
        browserWidth: o,
        copyInputValueToBuffer: copyInputValueToBuffer,
        getClickedChild: r,
        getElement: s,
        getElementContentDimensions: c,
        getElements: l,
        hasParent: function hasParent(e, t) {
            return !!e && (!(!e.classList || !e.classList.contains(t)) || Boolean(e.parentNode) && hasParent(e.parentNode, t))
        },
        hide: function hide(e) {
            e.forEach(function(e) {
                var t = document.getElementsByClassName(e)[0];
                t && "none" !== t.style.display && (t.style.display = "none")
            })
        },
        injectMounts: d,
        scriptExist: function scriptExist(e) {
            return document.querySelectorAll('script[src="'.concat(e, '"]')).length > 0
        },
        show: function show(e) {
            document.getElementsByClassName(e)[0].style.display = ""
        },
        showHideMore: showHideMore,
        styleExist: function styleExist(e) {
            return document.querySelectorAll('link[href="'.concat(e, '"]')).length > 0
        }
    }
}, function(e, t, n) {
    "use strict";
    t.a = {
        modalStates: {
            select: "select",
            send: "send",
            sent: "sent"
        },
        types: {
            game: "game",
            social: "social"
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(22);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var r = n(4),
        s = n(16),
        l = n(1),
        c = n(6),
        u = n(21),
        d = n(2);

    function create_variation_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var p = function createVariation(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                a = function create_variation_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? create_variation_ownKeys(n, !0).forEach(function(t) {
                            i()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : create_variation_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e.tree.selected);
            if (!e.settings.variations) return null;
            void 0 !== n.line && void 0 !== n.move ? r.a.selectNode(e, n) : n = e.tree.selected;
            var o = d.a.getNode(e.jce._lines(), {
                line: n.line,
                move: n.move
            }).san;
            return r.a.createVariation(e), t && r.a.move(e, o), l.b.add(e.history, l.a.JUMP_TO_POSITION, {
                from: a,
                to: n
            }), c.a.updateState(e)
        },
        h = function shouldNotMutateLine(e) {
            return -1 !== e.tree.selected.move && e.settings.mainLineIsImmutable && d.a.isMainLine(e.tree.selected.line)
        },
        m = function isValidMove(e, t) {
            return null !== u.default.getPositionDetails({
                fen: r.a.getFen(e),
                variant: r.a.getHeaders(e).Variant || "Chess"
            }, t)
        },
        f = function makeMove(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                a = r.a.getJCEMove(e, t);
            if (null === a) return l.b.add(e.history, l.a.ILLEGAL_MOVE), e;
            var i = e.settings.analysis || n;
            if (!d.a.isHead(e.jce._lines(), e.tree.selected)) {
                if (!i) return Object(s.a)(e, d.a.getHeadIds(e.jce._lines(), e.tree.selected.line));
                var o = d.a.getNextMatchingNode(e.jce._lines(), e.tree.selected, a);
                if (o) return Object(s.a)(e, o.ids);
                if (m(e, a)) {
                    if (l.b.add(e.history, l.a.TREE_AMENDED), e.settings.variations) return r.a.selectNode(e, {
                        line: e.tree.selected.line,
                        move: e.tree.selected.move + 1
                    }), r.a.createVariation(e), c.a.updateState(e), makeMove(e, a);
                    if (!e.settings.mainLineIsImmutable) return d.a.prune(e.jce._lines(), e.tree.selected), makeMove(e, a)
                }
                return l.b.add(e.history, l.a.ILLEGAL_MOVE), e
            }
            if (!i && !r.a.isUserTurn(e)) return l.b.add(e.history, l.a.ILLEGAL_MOVE), e;
            if (i && e.settings.variations && h(e) && m(e, a)) {
                var u = d.a.getNextMatchingNode(e.jce._lines(), e.tree.selected, a);
                return u ? Object(s.a)(e, u.ids) : (p(e, !0), c.a.updateState(e), makeMove(e, a))
            }
            return !h(e) && r.a.move(e, a, e.settings.rules) ? (l.b.add(e.history, l.a.MAKE_MOVE, a), c.a.updateState(e)) : (l.b.add(e.history, l.a.ILLEGAL_MOVE), e)
        },
        g = function setPlayingAs(e, t) {
            return [1, 2].indexOf(t) >= 0 && (e.setup.playingAs = t), e
        },
        b = n(104),
        v = function changeSettings(e, t) {
            var n = Object.prototype.hasOwnProperty.call(t, "premoves") && e.settings.premoves !== t.premoves;
            return e.settings = Object.assign(e.settings, t), e.settings.premoves || Object(b.a)(e), l.b.add(e.history, l.a.SETTINGS_CHANGE), n && c.a.updateState(e), e
        },
        y = function loadFromFen(e, t) {
            return t ? (d.a.clearAllMarkings(e.jce._lines()), r.a.load(e, t), l.b.add(e.history, l.a.LOAD), c.a.updateState(e)) : null
        },
        _ = function clearMarkings(e, t) {
            var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                a = d.a.getNode(e.jce._lines(), t) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            return (a.arrows && a.arrows.length || a.squares && a.squares.length || a.effects && a.effects.length) && (a.arrows = [], a.squares = [], a.effects = [], n && (c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE))), e
        },
        w = function convertFileToInteger() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "").charCodeAt(0) - 97 + 1
        },
        O = function createGame() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = {
                    id: o.a.getId(),
                    variant: e.variant || "chess",
                    settings: Object.assign(c.a.getInitialSettings(), e.settings),
                    setup: Object.assign(c.a.getInitialSetup(), e.setup),
                    tree: Object.assign(c.a.getInitialTree(), e.tree),
                    history: l.b.getInitialHistory(),
                    markings: Object.assign(c.a.getInitialMarkings(), e.markings),
                    premoves: []
                };
            return g(t, e.player || 1), Object.defineProperty(t, "jce", {
                writable: !1,
                enumerable: !1,
                configurable: !1,
                value: r.a.createJce(e)
            }), r.a.updateIdsFromJce(t), l.b.add(t.history, l.a.INIT), t.jce.siblingGame && !t.sibling && (t.sibling = {
                id: o.a.getId(),
                variant: t.variant || "chess",
                sibling: t,
                settings: t.settings,
                setup: c.a.getInitialSetup(),
                tree: c.a.getInitialTree(),
                history: l.b.getInitialHistory(),
                markings: Object.assign(c.a.getInitialMarkings(), e.markings),
                premoves: []
            }, Object.defineProperty(t.sibling, "jce", {
                writable: !1,
                enumerable: !1,
                configurable: !1,
                value: r.a.createJce({
                    game: t.jce.siblingGame
                })
            }), r.a.updateIdsFromJce(t.sibling)), c.a.updateState(t), t
        },
        k = n(32);

    function select_line_start_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var S = function selectLineStart(e) {
            var t = d.a.getSelectedLine(e),
                n = 0,
                a = function select_line_start_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? select_line_start_ownKeys(n, !0).forEach(function(t) {
                            i()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : select_line_start_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e.tree.selected);
            0 === e.tree.selected.move && void 0 !== t.parentId ? (r.a.selectLine(e, t.parentId), t = d.a.getSelectedLine(e)) : d.a.isMainLine(t.id) && (n = -1);
            var o = {
                line: t.id,
                move: n
            };
            return r.a.selectNode(e, o), l.b.add(e.history, l.a.JUMP_TO_POSITION, {
                from: a,
                to: o
            }), c.a.updateState(e)
        },
        x = function deleteNode(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = (d.a.findNode(e.jce._lines(), e.tree.selected), Object.assign(e.tree.selected, t));
            return n.line > 0 && (n.move <= 0 || d.a.isFirstVisibleNode(e.jce._lines(), n)) && (n.move = -1), e.jce.deletePosition(n.move, n.line), l.b.add(e.history, l.a.TREE_CHANGE), c.a.updateState(e), e
        },
        P = function deleteRemainingNodes(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = Object.assign(e.tree.selected, t);
            return x(e, {
                move: n.move + 1,
                line: n.line
            })
        },
        C = function getTcn(e, t) {
            var a = e.jce && e.jce._lines() || n(44).default.state.lines;
            return u.default.encodeTCN(d.a.getLine(a, t) || a[0])
        },
        M = n(106),
        T = n(57),
        E = function loadFromTcn(e, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o.a.getInitialFen(),
                a = arguments.length > 3 ? arguments[3] : void 0;
            y(e, n);
            var i = u.default.decodeTCN(t);
            return i ? (i.forEach(function(t) {
                "Crazyhouse" !== e.variant && "Bughouse" !== e.variant || !t.drop || Object(T.a)(e, e.setup.sideToMove, t.drop), f(e, t, !0)
            }), c.a.updateState(e), a ? Object(s.a)(e, e.tree.selected, -1) : (l.b.add(e.history, l.a.LOAD), e)) : null
        },
        A = function markArrow(e, t, n) {
            var a = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
                i = d.a.getNode(e.jce._lines(), n) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            return i.arrows || (i.arrows = []), i.arrows.find(function(e) {
                return r.a.isFileRankEqual(e.fromFileRank, t.fromFileRank) && r.a.isFileRankEqual(e.toFileRank, t.toFileRank)
            }) || (i.arrows.push(t), a && (c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE))), e
        },
        j = function markEffect(e) {
            var t = e.game,
                n = e.effect,
                a = e.ids,
                i = e.persist,
                o = e.updateState,
                s = void 0 === o || o;
            if (i) return t.setup.effects = n ? [n] : null, c.a.updateState(t), t;
            var u = d.a.getNode(t.jce._lines(), a) || d.a.getNode(t.jce._lines(), r.a.getSelectedIds(t)) || t.tree.initialMarkings;
            return u.effects || (u.effects = []), u.effects.find(function(e) {
                return r.a.isFileRankEqual(e.square, n.square)
            }) || (u.effects.push(n), s && (c.a.updateState(t), l.b.add(t.history, l.a.TREE_CHANGE))), t
        },
        L = function markSquare(e, t, n) {
            var a = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
                i = d.a.getNode(e.jce._lines(), n) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            return i.squares || (i.squares = []), i.squares.find(function(e) {
                return r.a.isFileRankEqual(e, t)
            }) || (i.squares.push(t), a && (c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE))), e
        },
        D = function fixTcn(e, t) {
            var n = O({
                variant: e.variant,
                fen: o.a.getFirstFen(e)
            });
            return E(n, t, n.setup.fen), C(n)
        };

    function merge_tcn_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function select_line_end_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var N = function selectLineEnd(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e.tree.selected.line,
            n = d.a.getLine(e.jce._lines(), t).length - 1,
            a = function select_line_end_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? select_line_end_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : select_line_end_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, e.tree.selected);
        if (e.tree.selected.move !== n || t !== e.tree.selected.line) {
            var o = {
                line: t,
                move: n
            };
            return r.a.selectNode(e, o), l.b.add(e.history, l.a.JUMP_TO_POSITION, {
                from: a,
                to: o
            }), c.a.updateState(e)
        }
        return e
    };

    function reset_to_main_line_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    n.d(t, "a", function() {
        return I
    });
    var I = {
        addBlinkingSquare: function addBlinkingSquare(e, t, n, a) {
            var r = o.a.getId(),
                s = function _objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? ownKeys(n, !0).forEach(function(t) {
                            i()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({
                    id: r,
                    interval: t,
                    times: n
                }, a);
            return e.markings.blinkingSquares.push(s), setTimeout(function() {
                var t = e.markings.blinkingSquares.findIndex(function(e) {
                    return e.id === r
                });
                e.markings.blinkingSquares.splice(t, 1)
            }, 0), e
        },
        addVariant: function addVariant(e, t) {
            return t ? (Object(s.a)(e, {
                line: 0,
                move: 0
            }), t.match(/.{2}/g).forEach(function(t) {
                return f(e, {
                    tcn: t
                }, !0)
            }), e) : e
        },
        canMoveBackward: function canMoveBackward(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            if (0 === e.tree.selected.line && e.tree.selected.move - t < -1) return !1;
            var a = e.tree.lines || n(44).default.state.lines;
            return null !== d.a.findNode(a, e.tree.selected, -1 * t, !1)
        },
        canMoveForward: function canMoveForward(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                a = e.tree.lines || n(44).default.state.lines;
            return null !== d.a.findNode(a, e.tree.selected, t, !1)
        },
        changeSettings: v,
        clearAnalysis: function clearAnalysis(e) {
            var t = I.resetToMainLine(e),
                n = d.a.clearAnalysis(t.jce._lines());
            return t.jce.saveLines(n), l.b.add(t.history, l.a.TREE_CHANGE), c.a.updateState(e)
        },
        clearArrow: function clearArrow(e, t, n) {
            var a = d.a.getNode(e.jce._lines(), n) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            a.arrows || (a.arrows = []);
            var i = a.arrows.findIndex(function(e) {
                return r.a.isFileRankEqual(e.fromFileRank, t.fromFileRank) && r.a.isFileRankEqual(e.toFileRank, t.toFileRank)
            });
            return -1 !== i && (a.arrows.splice(i, 1), c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE)), e
        },
        clearBlinkingSquare: function clearBlinkingSquare(e, t) {
            return e.markings.blinkingSquares[t] && delete e.markings.blinkingSquares[t], e
        },
        clearBoard: function clearBoard(e) {
            return v(e, {
                rules: !1
            }), y(e, "8/8/8/8/8/8/8/8 w - - 0 1"), l.b.add(e.history, l.a.LOAD), c.a.updateState(e)
        },
        clearEffect: function clearEffect(e, t, n) {
            var a = d.a.getNode(e.jce._lines(), n) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            a.effects || (a.effects = []);
            var i = a.effects.findIndex(function(e) {
                return r.a.isFileRankEqual(e.square, t.square)
            });
            return -1 !== i && (a.effects.splice(i, 1), c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE)), e
        },
        clearMarkedSquare: function clearMarkedSquare(e, t, n) {
            var a = d.a.getNode(e.jce._lines(), n) || d.a.getNode(e.jce._lines(), r.a.getSelectedIds(e)) || e.tree.initialMarkings;
            a.squares || (a.squares = []);
            var i = a.squares.findIndex(function(e) {
                return r.a.isFileRankEqual(e, t)
            });
            return -1 !== i && (a.squares.splice(i, 1), c.a.updateState(e), l.b.add(e.history, l.a.TREE_CHANGE)), e
        },
        clearMarkings: _,
        clearNodes: function clearNodes(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = e.jce._lines();
            if (!n) return e;
            if (void 0 === t.line && void 0 === t.move) return n.forEach(function(e) {
                e.forEach(function(e, t) {
                    return d.a.clearNode(n, {
                        line: e.ids.line,
                        move: t
                    })
                })
            }), l.b.add(e.history, l.a.TREE_CHANGE), e;
            if (void 0 === t.move) {
                var a = d.a.getLine(e.jce._lines(), t.line);
                return a ? (a.forEach(function(e, t) {
                    return d.a.clearNode(n, {
                        line: a.id,
                        move: t
                    })
                }), l.b.add(e.history, l.a.TREE_CHANGE), e) : e
            }
            return d.a.getNode(n, t) ? (d.a.clearNode(n, t), l.b.add(e.history, l.a.TREE_CHANGE), e) : e
        },
        convertLanToFileRanks: function convertLanToFileRanks() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return {
                fromFileRank: {
                    file: w(e[0]),
                    rank: Number(e[1])
                },
                toFileRank: {
                    file: w(e[2]),
                    rank: Number(e[3])
                }
            }
        },
        createGame: O,
        createVariation: p,
        deleteLine: function deleteLine(e, t) {
            return e.jce.deletePosition(-1, t) ? (l.b.add(e.history, l.a.TREE_CHANGE), c.a.updateState(e), e) : null
        },
        deleteNode: x,
        deleteRemainingNodes: P,
        getCurrentFullLine: function getCurrentFullLine(e) {
            var t = e.jce._history().length - e.jce.ids().move - 1,
                n = e.jce.history(!0);
            return 0 === t ? n : n.slice(0, -t)
        },
        getPgn: function getPgn(e, t) {
            return r.a.getPgn(e, t)
        },
        getPgnHeaders: function getPgnHeaders(e) {
            return r.a.getHeaders(e)
        },
        getSelectedNode: function getSelectedNode(e) {
            return d.a.getSelectedNode(e)
        },
        getTcn: C,
        isMoveLegal: function isMoveLegal(e, t) {
            var n = !1;
            if (!e.settings.rules) return !0;
            for (var a = 0; a < e.setup.legalMoves.length; a++) {
                var i = e.setup.legalMoves[a];
                if (i.from === t.from && i.to === t.to) {
                    n = !0;
                    break
                }
            }
            return n
        },
        loadFromFen: y,
        loadFromLan: function loadFromLan(e, t, n, a) {
            var i = t.map(function(e) {
                return u.default.encodeTCN({
                    from: e.slice(0, 2),
                    to: e.slice(2, 4),
                    promotion: e.slice(4, 5) || void 0
                })
            }).join("");
            return I.loadFromTcn(e, i, n, a)
        },
        loadFromPgn: function loadFromPgn(e, t, n) {
            return t ? (r.a.loadPgn(e, Object(M.b)(t)), c.a.updateState(e), n ? Object(s.a)(e, e.tree.selected, n) : (l.b.add(e.history, l.a.LOAD), e)) : e
        },
        loadFromSanMoves: function loadFromSanMoves(e, t, n, a) {
            return t && t.length ? (n && r.a.load(e, n), t.forEach(function(t) {
                return f(e, {
                    san: t
                }, !0)
            }), c.a.updateState(e), a ? Object(s.a)(e, e.tree.selected, -1) : (l.b.add(e.history, l.a.LOAD), e)) : null
        },
        loadFromTcn: E,
        makeMove: f,
        makeOpponentMove: function makeOpponentMove(e, t) {
            return g(e, 3 - e.setup.playingAs), f(e, t), g(e, 3 - e.setup.playingAs), c.a.updateState(e)
        },
        markArrow: A,
        markEffect: j,
        markSquare: L,
        mergeTcn: function mergeTcn(e, t, n) {
            if ("string" != typeof t || e.settings.mainLineIsImmutable) return null;
            if ("" === t) return S(e), E(e, "", e.setup.fen);
            var a = function merge_tcn_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? merge_tcn_ownKeys(n, !0).forEach(function(t) {
                            i()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : merge_tcn_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e.tree.selected),
                o = C(e),
                r = t,
                c = e.history.length - 1;
            if (!(o.includes(r) || r.includes(o) || (o = D(e, o), r = D(e, r), o.includes(r) || r.includes(o)))) return E(e, r);
            if (r.length < o.length) Object(s.a)(e, {
                line: 0,
                move: r.length / 2 - 1
            }), P(e);
            else {
                if (!(r.length > o.length)) return e;
                var p;
                if (Object(s.a)(e, {
                        line: 0,
                        move: o.length / 2 - 1
                    }), r.slice(o.length).match(/.{2}/g).forEach(function(t) {
                        p = u.default.decodeTCN(t)[0], "Crazyhouse" !== e.variant && "Bughouse" !== e.variant || !p.drop || Object(T.a)(e, e.setup.sideToMove, p.drop), f(e, p, !0)
                    }), e.history.slice(c + 1).some(function(e) {
                        return e && e.type === l.a.ILLEGAL_MOVE
                    })) return Object(s.a)(e, a), P(e), e.history = e.history.slice(0, c), mergeTcn(e, D(e, r))
            }
            if (n) return Object(s.a)(e, e.tree.selected, -1);
            if (a.line !== e.tree.selected.line || a.move !== e.tree.selected.move) {
                var h = d.a.getNode(e.jce._lines(), a) ? a : e.tree.selected;
                return Object(s.a)(e, h)
            }
            return e
        },
        moveBackward: function moveBackward(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            return Object(s.a)(e, e.tree.selected, -1 * t, !1)
        },
        moveForward: function moveForward(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            return Object(s.a)(e, e.tree.selected, t, !1)
        },
        moveToEnd: function moveToEnd(e) {
            return d.a.isMainLine(e.tree.selected.line) || r.a.selectLine(e, 0), N(e), c.a.updateState(e)
        },
        moveToStart: function moveToStart(e) {
            return d.a.isMainLine(e.tree.selected.line) || r.a.selectLine(e, 0), S(e), c.a.updateState(e)
        },
        moveVariation: function moveVariation(e, t) {
            var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                a = d.a.getLine(e.jce._lines(), t);
            if (a && void 0 !== a.parentId) {
                var i = d.a.getLine(e.jce._lines(), a.parentId)[a.atMoveNode],
                    o = -1;
                if (i.lines.forEach(function(e, n) {
                        t === e && (o = n)
                    }), o > -1) {
                    var r = null;
                    n && o > 0 ? (r = i.lines[o - 1], i.lines[o - 1] = t, i.lines[o] = r) : !n && o < i.lines.length - 1 && (r = i.lines[o + 1], i.lines[o + 1] = t, i.lines[o] = r)
                }
                l.b.add(e.history, l.a.TREE_CHANGE)
            }
            return e
        },
        promoteVariation: function promoteVariation(e, t) {
            var n = t;
            void 0 === n && (n = e.tree.selected);
            var a = d.a.getLine(e.jce._lines(), n.line);
            if (a && void 0 !== a.parentId)
                for (var i = n.move, o = function _loop() {
                        if (e.settings.mainLineIsImmutable && d.a.isMainLine(a.parentId)) return "break";
                        var t = d.a.getLine(e.jce._lines(), a.parentId),
                            n = d.a.isContinuation(e.jce._lines(), a.id) ? 1 : 0,
                            o = a[n] && a[n].commentBefore,
                            s = a.atMoveNode,
                            l = a.slice(0);
                        a.length = 0, o && t[s - 1] && (t[s - 1].comment ? (" " !== t[s - 1].comment.substr(-1) && (t[s - 1].comment += " "), t[s - 1].comment += o) : t[s - 1].comment = o, delete l[n].commentBefore, delete a.initComment);
                        var c = t.slice(s),
                            u = c[0].lines.map(function(e) {
                                return e
                            });
                        delete c[0].lines, c.forEach(function(t, n) {
                            t.lines && t.lines.length && t.lines.forEach(function(t) {
                                var i = d.a.getLine(e.jce._lines(), t);
                                i.parentId = a.id, i.atMoveNode = n
                            })
                        }), t.length = s, l.forEach(function(n) {
                            n.ids = {
                                line: t.id,
                                move: t.length
                            }, n.lines && n.lines.length && n.lines.forEach(function(n) {
                                var a = d.a.getLine(e.jce._lines(), n);
                                a.parentId = t.id, a.atMoveNode = t.length
                            }), t.push(n)
                        }), c.forEach(function(e, t) {
                            e.ids = {
                                line: a.id,
                                move: t
                            }, a.push(e)
                        }), t[s].lines = u, t[s].lines.forEach(function(n) {
                            d.a.getLine(e.jce._lines(), n).parentId = t.id
                        }), r.a.selectNode(e, {
                            line: t.id,
                            move: s + i
                        }), a = d.a.getLine(e.jce._lines(), a.parentId), i = s + i
                    }; void 0 !== a.parentId && "break" !== o(););
            return e.jce.saveLines(e.tree.lines), l.b.add(e.history, l.a.TREE_CHANGE), c.a.updateState(e)
        },
        resetToMainLine: function resetToMainLine(e) {
            var t = function reset_to_main_line_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? reset_to_main_line_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : reset_to_main_line_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, e.tree.selected);
            d.a.isMainLine(e.tree.selected.line) || r.a.selectLine(e, 0), N(e);
            var n = e.tree.selected;
            return e.tree.lines.length = 1, e.tree.lines = d.a.rebuildIds(e.tree.lines), e.jce.saveLines(e.tree.lines), l.b.add(e.history, l.a.JUMP_TO_POSITION, {
                from: t,
                to: n
            }), c.a.updateState(e)
        },
        selectLineEnd: N,
        selectLineStart: S,
        selectNode: s.a,
        setPlayingAs: g,
        updateMarkings: function updateMarkings(e) {
            var t = e.arrow,
                n = e.effect,
                a = e.game,
                i = e.ids,
                o = e.square;
            return _(a, i, !1), t && A(a, t, i, !1), n && j({
                game: a,
                effect: n,
                ids: i,
                updateState: !1
            }), o && L(a, o, i, !1), c.a.updateState(a), l.b.add(a.history, l.a.TREE_CHANGE), a
        },
        updateNode: function updateNode(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = arguments.length > 2 ? arguments[2] : void 0,
                a = e.jce._lines(),
                i = d.a.findNode(a, t);
            if (!i || !n || n.commentBefore && !d.a.isFirstVisibleNode(a, t)) return null;
            var o = d.a.getLine(a, t.line);
            if (void 0 === n.commentBefore && d.a.isFirstVisibleNode(a, t) ? delete o.initComment : n.commentBefore && (o.initComment = n.commentBefore), n.annotation && (n.annotation = Object(k.b)(i, n.annotation) ? "" : Object(k.v)(n.annotation)), n.additionalAnnotation) {
                if (!Object(k.o)(n.additionalAnnotation)) return null;
                Object(k.a)(i, n.additionalAnnotation) && (n.additionalAnnotation = []), n.additionalAnnotation = [].concat(Object(k.v)(n.additionalAnnotation))
            }
            return Object.assign(i, n), l.b.add(e.history, l.a.UPDATE_NODE, {
                line: t.line,
                move: t.move
            }), c.a.updateState(e)
        },
        updatePgnHeaders: function updatePgnHeaders(e, t) {
            if (!t) return null;
            var n = Object.keys(t).reduce(function(e, n) {
                return "Date" === n && "number" == typeof t[n] && (t[n] = o.a.formatJSTimestampForPgn(t[n])), e.push(n), e.push(t[n]), e
            }, []);
            return r.a.updateHeaders(e, n), l.b.add(e.history, l.a.PGN_HEADERS_UPDATED), e.setup.result = c.a.getResult(e), e
        }
    }
}, function(e, t, n) {
    var a, i;
    /**
     * @author William DURAND <william.durand1@gmail.com>
     * @license MIT Licensed
     */
    void 0 === (i = "function" == typeof(a = function() {
        "use strict";
        var e = {},
            t = "en",
            n = [],
            a = new RegExp(/^\w+\: +(.+)$/),
            i = new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),
            o = new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),
            r = {
                locale: get_current_locale(),
                fallback: t,
                placeHolderPrefix: "%",
                placeHolderSuffix: "%",
                defaultDomain: "messages",
                pluralSeparator: "|",
                add: function(t, a, i, o) {
                    var r = o || this.locale || this.fallback,
                        s = i || this.defaultDomain;
                    return e[r] || (e[r] = {}), e[r][s] || (e[r][s] = {}), e[r][s][t] = a, !1 === function exists(e, t) {
                        for (var n = 0; n < e.length; n++)
                            if (t === e[n]) return !0;
                        return !1
                    }(n, s) && n.push(s), this
                },
                trans: function(e, t, n, a) {
                    var i = get_message(e, n, a, this.locale, this.fallback);
                    return replace_placeholders(i, t || {})
                },
                transChoice: function(e, t, n, s, l) {
                    var c = get_message(e, s, l, this.locale, this.fallback),
                        u = parseInt(t, 10);
                    return void 0 === (n = n || {}).count && (n.count = t), void 0 === c || isNaN(u) || (c = function pluralize(e, t, n) {
                        var s, l, c = [],
                            u = [],
                            d = e.split(r.pluralSeparator),
                            p = [];
                        for (s = 0; s < d.length; s++) {
                            var h = d[s];
                            i.test(h) ? (p = h.match(i), c[p[0]] = p[p.length - 1]) : a.test(h) ? (p = h.match(a), u.push(p[1])) : u.push(h)
                        }
                        for (l in c)
                            if (o.test(l))
                                if ((p = l.match(o))[1]) {
                                    var m, f = p[2].split(",");
                                    for (m in f)
                                        if (t == f[m]) return c[l]
                                } else {
                                    var g = convert_number(p[4]),
                                        b = convert_number(p[5]);
                                    if (("[" === p[3] ? t >= g : t > g) && ("]" === p[6] ? t <= b : t < b)) return c[l]
                                }
                        return u[function plural_position(e, t) {
                            var n = t;
                            switch ("pt_BR" === n && (n = "xbr"), n.length > 3 && (n = n.split("_")[0]), n) {
                                case "bo":
                                case "dz":
                                case "id":
                                case "ja":
                                case "jv":
                                case "ka":
                                case "km":
                                case "kn":
                                case "ko":
                                case "ms":
                                case "th":
                                case "tr":
                                case "vi":
                                case "zh":
                                    return 0;
                                case "af":
                                case "az":
                                case "bn":
                                case "bg":
                                case "ca":
                                case "da":
                                case "de":
                                case "el":
                                case "en":
                                case "eo":
                                case "es":
                                case "et":
                                case "eu":
                                case "fa":
                                case "fi":
                                case "fo":
                                case "fur":
                                case "fy":
                                case "gl":
                                case "gu":
                                case "ha":
                                case "he":
                                case "hu":
                                case "is":
                                case "it":
                                case "ku":
                                case "lb":
                                case "ml":
                                case "mn":
                                case "mr":
                                case "nah":
                                case "nb":
                                case "ne":
                                case "nl":
                                case "nn":
                                case "no":
                                case "om":
                                case "or":
                                case "pa":
                                case "pap":
                                case "ps":
                                case "pt":
                                case "so":
                                case "sq":
                                case "sv":
                                case "sw":
                                case "ta":
                                case "te":
                                case "tk":
                                case "ur":
                                case "zu":
                                    return 1 == e ? 0 : 1;
                                case "am":
                                case "bh":
                                case "fil":
                                case "fr":
                                case "gun":
                                case "hi":
                                case "ln":
                                case "mg":
                                case "nso":
                                case "xbr":
                                case "ti":
                                case "wa":
                                    return 0 === e || 1 == e ? 0 : 1;
                                case "be":
                                case "bs":
                                case "hr":
                                case "ru":
                                case "sr":
                                case "uk":
                                    return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
                                case "cs":
                                case "sk":
                                    return 1 == e ? 0 : e >= 2 && e <= 4 ? 1 : 2;
                                case "ga":
                                    return 1 == e ? 0 : 2 == e ? 1 : 2;
                                case "lt":
                                    return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2;
                                case "sl":
                                    return e % 100 == 1 ? 0 : e % 100 == 2 ? 1 : e % 100 == 3 || e % 100 == 4 ? 2 : 3;
                                case "mk":
                                    return e % 10 == 1 ? 0 : 1;
                                case "mt":
                                    return 1 == e ? 0 : 0 === e || e % 100 > 1 && e % 100 < 11 ? 1 : e % 100 > 10 && e % 100 < 20 ? 2 : 3;
                                case "lv":
                                    return 0 === e ? 0 : e % 10 == 1 && e % 100 != 11 ? 1 : 2;
                                case "pl":
                                    return 1 == e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 12 || e % 100 > 14) ? 1 : 2;
                                case "cy":
                                    return 1 == e ? 0 : 2 == e ? 1 : 8 == e || 11 == e ? 2 : 3;
                                case "ro":
                                    return 1 == e ? 0 : 0 === e || e % 100 > 0 && e % 100 < 20 ? 1 : 2;
                                case "ar":
                                    return 0 === e ? 0 : 1 == e ? 1 : 2 == e ? 2 : e >= 3 && e <= 10 ? 3 : e >= 11 && e <= 99 ? 4 : 5;
                                default:
                                    return 0
                            }
                        }(t, n)] || u[0] || void 0
                    }(c, u, l || this.locale || this.fallback)), replace_placeholders(c, n)
                },
                fromJSON: function(e) {
                    if ("string" == typeof e && (e = JSON.parse(e)), e.locale && (this.locale = e.locale), e.fallback && (this.fallback = e.fallback), e.defaultDomain && (this.defaultDomain = e.defaultDomain), e.translations)
                        for (var t in e.translations)
                            for (var n in e.translations[t])
                                for (var a in e.translations[t][n]) this.add(a, e.translations[t][n][a], n, t);
                    return this
                },
                reset: function() {
                    e = {}, n = [], this.locale = get_current_locale()
                }
            };

        function replace_placeholders(e, t) {
            var n, a = r.placeHolderPrefix,
                i = r.placeHolderSuffix;
            for (n in t) {
                var o = new RegExp(a + n + i, "g");
                if (o.test(e)) {
                    var s = String(t[n]).replace(new RegExp("\\$", "g"), "$$$$");
                    e = e.replace(o, s)
                }
            }
            return e
        }

        function get_message(t, a, i, o, r) {
            var s, l, c, u, d = i || o || r,
                p = a,
                h = d.split("_")[0];
            if (!(d in e))
                if (h in e) d = h;
                else {
                    if (!(r in e)) return t;
                    d = r
                }
            if (null == p)
                for (var m = 0; m < n.length; m++)
                    if (has_message(d, n[m], t) || has_message(h, n[m], t) || has_message(r, n[m], t)) {
                        p = n[m];
                        break
                    }
            if (has_message(d, p, t)) return e[d][p][t];
            for (; d.length > 2 && (s = d.length, l = d.split(/[\s_]+/), c = l[l.length - 1], u = c.length, 1 !== l.length);)
                if (has_message(d = d.substring(0, s - (u + 1)), p, t)) return e[d][p][t];
            return has_message(r, p, t) ? e[r][p][t] : t
        }

        function has_message(t, n, a) {
            return t in e && n in e[t] && a in e[t][n]
        }

        function convert_number(e) {
            return "-Inf" === e ? Number.NEGATIVE_INFINITY : "+Inf" === e || "Inf" === e ? Number.POSITIVE_INFINITY : parseInt(e, 10)
        }

        function get_current_locale() {
            return "undefined" != typeof document ? document.documentElement.lang.replace("-", "_") : t
        }
        return r
    }) ? a.call(t, n, t, e) : a) || (e.exports = i)
}, , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = function isRtl() {
        return "rtl" === document.querySelector("html").getAttribute("dir")
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return s
    }), n.d(t, "b", function() {
        return l
    }), n.d(t, "c", function() {
        return c
    }), n.d(t, "d", function() {
        return u
    }), n.d(t, "e", function() {
        return d
    }), n.d(t, "f", function() {
        return p
    }), n.d(t, "g", function() {
        return h
    }), n.d(t, "i", function() {
        return m
    }), n.d(t, "h", function() {
        return f
    });
    var a, i = n(3),
        o = n.n(i),
        r = n(0),
        s = /(M{1,2}|D{1,2}|Y{2,4}|.)/g,
        l = {
            DAY: "day",
            MONTH: "month",
            YEAR: "year"
        },
        c = {
            YEAR_MONTH_DATE: r.a.trans("Year + Month + Date"),
            YEAR_MONTH: r.a.trans("Year + Month Only"),
            YEAR: r.a.trans("Year Only")
        },
        u = {
            FIRST: 0,
            LAST: 11
        },
        d = [r.a.trans("January"), r.a.trans("February"), r.a.trans("March"), r.a.trans("April"), r.a.trans("May"), r.a.trans("June"), r.a.trans("July"), r.a.trans("August"), r.a.trans("September"), r.a.trans("October"), r.a.trans("November"), r.a.trans("December")],
        p = {
            BOTTOM: "bottom",
            LEFT: "left",
            RIGHT: "right",
            TOP: "top"
        },
        h = [r.a.trans("Sun"), r.a.trans("Mon"), r.a.trans("Tue"), r.a.trans("Wed"), r.a.trans("Thu"), r.a.trans("Fri"), r.a.trans("Sat")],
        m = {
            CALENDAR: "calendar",
            FORMAT: "format",
            MONTH: "month",
            YEAR: "year"
        },
        f = (a = {}, o()(a, c.YEAR, m.YEAR), o()(a, c.YEAR_MONTH, m.MONTH), o()(a, c.YEAR_MONTH_DATE, m.CALENDAR), a)
}, function(e, t, n) {
    e.exports = n(26)(43)
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(31),
        r = n(121);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    o.default.mixin(r.a);
    t.a = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            t = {},
            n = function createInstance(n) {
                var a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return e[n] && Object.keys(e[n]).length ? (t[n] = t[n] || function instantiate(e) {
                    return new o.default(_objectSpread({}, e, {
                        el: e.el,
                        render: function render(t) {
                            return t(e.component, {
                                props: e.propsData
                            })
                        },
                        store: e.store
                    }))
                }(_objectSpread({}, e[n], {}, a)), t[n]) : null
            };
        return {
            createInstance: n,
            createInstances: function createInstances(e) {
                e.forEach(function(e) {
                    return n(e)
                })
            },
            instances: t
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    });
    n(6);
    var a = {
            p: 1,
            n: 32,
            b: 256,
            r: 2048,
            q: 16384
        },
        i = function setHand(e, t, n) {
            return e.jce._hand[t] = n.split("").reduce(function(e, t) {
                return e + a[t]
            }, 0), e.setup.hand = e.jce.hand(), e
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = {
            AUTHENTICATE: "navigation-sidebar-authenticate-component",
            AUTHENTICATE_COLLAPSED: "navigation-sidebar-authenticate-collapsed",
            BADGE_HOME: "navigation-sidebar-home-badge",
            BADGE_INDEX: "navigation-sidebar-index-badge",
            BADGE_MESSAGES: "navigation-sidebar-messages-badge",
            BADGE_PLAY: "navigation-sidebar-play-badge",
            BOTTOM_LINK_EXPAND_COLLAPSE: "navigation-sidebar-expand-collapse-feature",
            BOTTOM_LINK_HELP: "navigation-sidebar-help-feature",
            BOTTOM_LINK_SEARCH: "navigation-sidebar-search-feature",
            BOTTOM_LINK_SETTINGS: "navigation-settings-link",
            BOTTOM_LINK_TOP_MENU: "navigation-toggle",
            DAILY_TIME_CONTROLS_BUTTON: "navigation-sidebar-play-button",
            HELP_POPOVER: "navigation-popover-help-component navigation-sidebar-feature-popover-help",
            LINK: "navigation-sidebar-category-component",
            LINK_HOME: "navigation-sidebar-home-category",
            LINK_INDEX: "navigation-sidebar-index-category",
            LINK_LEARN: "navigation-sidebar-learn-category",
            LINK_PLAY: "navigation-sidebar-play-category",
            LINK_SHARE: "navigation-sidebar-share-category",
            LOGO: "navigation-sidebar-primary-logo",
            LOGO_COLLAPSED: "navigation-sidebar-logo-collapsed",
            NAV_CLOSE_ICON: "nav-close-icon",
            NAV_OPEN_ICON: "nav-open-icon",
            NOTIFICATIONS_PANEL_CATCHMENT: "navigation-sidebar-notifications-catchment",
            SEARCH_BUTTON: "navigation-search-link",
            SEARCH_POPOVER: "navigation-sidebar-feature-popover-search",
            SECONDARY: "navigation-sidebar-secondary-component",
            SECONDARY_ACTIVE: "navigation-sidebar-secondary-active",
            SECONDARY_COLLAPSED: "navigation-sidebar-secondary-collapsed",
            SECONDARY_CONTROLS_SHOW: "navigation-sidebar-play-show",
            SECONDARY_DAILY_TIME_CONTROLS: "navigation-sidebar-play-daily",
            SECONDARY_ELEMENT: "navigation-sidebar-secondary-element",
            SECONDARY_LINK_DAILY: "navigation-secondary-dailychess",
            SECONDARY_LINK_LIVE: "navigation-secondary-livechess",
            SECONDARY_LIVE_TIME_CONTROLS: "navigation-sidebar-play-live",
            SECONDARY_NAVIGATION: "navigation-sidebar-secondary-navigation",
            SECONDARY_PANEL_HOME: "navigation-sidebar-home-component",
            SECONDARY_PANEL_LEARN: "navigation-sidebar-learn-component",
            SECONDARY_PANEL_NOTIFICATIONS: "navigation-sidebar-notifications-component",
            SECONDARY_PANEL_PLAY: "navigation-sidebar-play-component",
            SECONDARY_PANEL_SHARE: "navigation-sidebar-share-component",
            SECONDARY_WIDE: "navigation-sidebar-secondary-wide",
            SIDEBAR: "#sb",
            SIDEBAR_CATEGORIES_COLLAPSED: "navigation-sidebar-categories-collapsed",
            SIDEBAR_CATEGORY: "navigation-sidebar-category-component",
            SIDEBAR_CATEGORY_COLLAPSED: "navigation-sidebar-category-collapsed",
            SIDEBAR_COLLAPSED: "collapsed",
            SIDEBAR_FEATURE: "navigation-sidebar-feature-component",
            SIDEBAR_FEATURE_COLLAPSED: "navigation-sidebar-feature-collapsed",
            SIDEBAR_FEATURES: "navigation-sidebar-features-component",
            SIDEBAR_FEATURES_COLLAPSED: "navigation-sidebar-features-collapsed",
            SIDEBAR_FORCED_OPEN: "navigation-sidebar-open",
            SIDEBAR_GAMES: "navigations-sidebar-games",
            SIDEBAR_INTERNATIONAL: "nav-sidebar-wide",
            SIDEBAR_LINKS: "navigation-sidebar-primary-top",
            TIME_CONTROLS: "navigation-sidebar-play-daily",
            TV_COMPONENT: "navigation-sidebar-category-component navigation-sidebar-categories-watch",
            TV_ELEMENT: "chesstv",
            TV_EXCLAM: "navigation-sidebar-categories-exclamation",
            TV_POPOVER: "navigation-popover-watch-component navigation-sidebar-categories-popover-watch"
        },
        i = {
            DAILY_TIME_CONTROLS_HEADER: "daily-time-controls-header",
            LIVE_TIME_CONTROLS_HEADER: "live-time-controls-header",
            DAILY_TIME_CONTROLS_SIDEBAR: "daily-time-controls-sidebar",
            LIVE_TIME_CONTROLS_SIDEBAR: "live-time-controls-sidebar",
            MOBILE_NAV_TOGGLE: "mobile-nav-toggle",
            LANGUAGE_PICKER_MODAL: "language-picker-modal",
            MODAL_VIDEO: "modal-video"
        }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "modal-content",
            components: {
                SectionContainer: n(199).a
            }
        },
        i = n(142),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this.$createElement;
        return (this._self._c || e)("section-container", {
            class: this.$style.component,
            attrs: {
                "light-mode": ""
            }
        }, [this._t("default")], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, , function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return o
    }), n.d(t, "c", function() {
        return r
    }), n.d(t, "a", function() {
        return s
    });
    var a = n(0),
        i = n(8),
        o = {
            allBlogs: Object(i.a)("web_blog_all"),
            allBlogsByPage: function allBlogsByPage(e, t) {
                var n = {};
                return 1 !== e && (n.page = e), t && (n.orderBy = t), Object(i.a)("web_blog_all", n, !0)
            },
            becomeABlogger: Object(i.a)("web_blog_view", {
                url: "webmaster/how-to-become-a-top-blogger-for-chesscom"
            }),
            blogGoLive: function blogGoLive(e) {
                return Object(i.a)("web_blog_go_live", {
                    id: e
                })
            },
            blogVersion: function blogVersion(e, t) {
                return Object(i.a)("web_blog_post", {
                    id: e,
                    version: t
                })
            },
            blogs: Object(i.a)("web_blog_index"),
            blogsIndexByPage: function blogsIndexByPage(e) {
                var t = 1 !== e ? {
                    page: e
                } : null;
                return Object(i.a)("web_blog_index", t, !0)
            },
            blogIdeas: {
                playing: Object(i.a)("web_blog_post", {
                    title: a.a.trans("What got me playing chess")
                }),
                goals: Object(i.a)("web_blog_post", {
                    title: a.a.trans("My chess goals are...")
                }),
                best: Object(i.a)("web_blog_post", {
                    title: a.a.trans("My best chess win")
                })
            },
            blogsSearch: function blogsSearch(e) {
                return Object(i.a)("web_blog_search", {
                    keyword: e
                })
            },
            blogsSearchByPage: function blogsSearchByPage(e, t, n) {
                return Object(i.a)("web_blog_search", {
                    keyword: e,
                    page: t,
                    orderBy: n
                }, !0)
            },
            blogSettings: Object(i.a)("web_blog_settings_edit"),
            buryBlog: function buryBlog(e, t, n) {
                return Object(i.a)("web_content_set_buried", {
                    bury: e,
                    id: t,
                    class: n
                })
            },
            createBlog: Object(i.a)("web_blog_post"),
            deleteBlog: function deleteBlog(e, t) {
                return Object(i.a)("web_blog_delete", {
                    id: e,
                    _token: t
                })
            },
            editBlog: function editBlog(e) {
                return Object(i.a)("web_blog_post", {
                    id: e
                })
            },
            member: function member(e) {
                return Object(i.a)("web_member_view", {
                    username: e
                })
            },
            memberBlogs: function memberBlogs(e) {
                return Object(i.a)("web_blog_member", {
                    url: e
                })
            },
            memberBlogsByPage: function memberBlogsByPage(e, t, n) {
                return Object(i.a)("web_blog_member", {
                    url: e,
                    page: t,
                    orderBy: n
                }, !0)
            },
            reportSpam: function reportSpam(e) {
                return Object(i.a)("web_blog_report_spam", {
                    id: e
                })
            },
            topBloggers: Object(i.a)("web_blog_authors"),
            topBloggersByPage: function topBloggersByPage(e) {
                return Object(i.a)("web_blog_authors", {
                    page: e
                }, !0)
            }
        },
        r = {
            allBlogs: a.a.trans("All Blogs"),
            becomeABlogger: a.a.trans("Become a listed Chess.com top blogger!"),
            blogs: a.a.trans("Blogs"),
            blogStart: a.a.trans("Start Your Blog"),
            blogStartMsg: a.a.trans("This is your personal blog where you can share your chess thoughts. Some ideas to blog about:"),
            blogSettings: a.a.trans("Blog Settings"),
            blogIdeas: {
                playing: a.a.trans("What got me playing chess"),
                goals: a.a.trans("My chess goals are..."),
                best: a.a.trans("My best chess win")
            },
            buryBlog: a.a.trans("Bury Blog"),
            blogNotPublished: a.a.trans("<strong>NOTE:</strong> Your Blog has not yet been published. This is only a <strong>preview</strong>."),
            clickHere: a.a.trans("Click here"),
            createBlog: a.a.trans("Create Post"),
            delete: a.a.trans("Delete"),
            deleteBlog: a.a.trans("Delete Blog"),
            deleteConfirmation: a.a.trans("Are you sure you want to delete this blog?"),
            deleteSpamConfirmation: a.a.trans("Are you sure you want to delete post and report to akismet?"),
            edit: a.a.trans("Edit"),
            editBlog: a.a.trans("Edit Blog"),
            getListed: a.a.trans("Get Listed"),
            headline: a.a.trans("Headline"),
            mostRecent: a.a.trans("Most Recent"),
            mostViews: a.a.trans("Most Views"),
            myBlog: a.a.trans("My Blog"),
            moreInfo: a.a.trans("for more info."),
            no: a.a.trans("No"),
            noBlogPosts: a.a.trans("User doesn't have any blog posts"),
            publish: a.a.trans("Publish"),
            reportSpam: a.a.trans("Report Spam"),
            topBloggers: a.a.trans("Top Bloggers"),
            unburyBlog: a.a.trans("Unbury Blog"),
            yes: a.a.trans("Yes")
        },
        s = {
            BLOGS: "blogs",
            BLOGS_ID: "blog-id",
            CONFIRMATION_MODAL: "confirm-popover",
            CONFIRM_SUBMIT_MODAL: "confirm-submit-popover",
            INPUT_FOLLOW: "sidebar-input-follow",
            POST_HAS_IMAGE: "post-has-image",
            POST_IMAGE_INPUT: "blog_uploadedImages_main",
            POST_TINYMCE: "blog_body",
            PREVIEW_BUTTON: "blog_preview",
            ROOT_AUTHORS: "view-blogs-authors",
            ROOT_CATEGORY: "view-blogs-category",
            ROOT_INDEX: "view-blogs-index",
            ROOT_MEMBER: "view-blogs-member",
            ROOT_SINGLE: "view-blogs-single",
            SAVE_BUTTON: "blog_save"
        }
}, , function(e, t, n) {
    "use strict";
    var a = n(39),
        i = n(18),
        o = n(35),
        r = {
            name: "form-input",
            components: {
                IconFont: i.a
            },
            directives: {
                tooltip: o.a
            },
            mixins: [a.a],
            props: {
                ariaLabel: String,
                autocomplete: String,
                autofocus: Boolean,
                disabled: {
                    type: Boolean,
                    default: !1,
                    required: !1
                },
                iconLeft: {
                    type: String,
                    required: !1
                },
                iconLeftTooltip: {
                    type: String,
                    default: ""
                },
                iconRight: {
                    type: String,
                    required: !1
                },
                iconRightTooltip: {
                    type: String,
                    default: ""
                },
                id: String,
                maxlength: Number,
                name: String,
                placeholder: {
                    type: String,
                    required: !1
                },
                size: {
                    type: String,
                    required: !1
                },
                type: {
                    type: String,
                    default: "text"
                },
                value: {
                    type: [String, Number],
                    required: !1
                }
            },
            methods: {
                blurEvent: function blurEvent(e) {
                    this.$emit("blur", e)
                },
                focusEvent: function focusEvent(e) {
                    this.$emit("focus", e)
                },
                keyupEvent: function keyupEvent(e) {
                    this.$emit("keyup", e)
                },
                onIconClick: function onIconClick(e) {
                    this.$emit("icon-click-".concat(e))
                },
                updateValue: function updateValue(e) {
                    this.$emit("input", e)
                }
            }
        },
        s = n(201),
        l = n(5);
    var c = Object(l.a)(r, function() {
        var e, t, n = this,
            a = n.$createElement,
            i = n._self._c || a;
        return i("div", {
            class: n.componentClasses()
        }, [n.iconLeft ? i("icon-font", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: n.iconLeftTooltip,
                expression: "iconLeftTooltip"
            }],
            class: [n.$style.icon, n.$style.left],
            attrs: {
                "is-dark-mode": n.isDarkMode,
                name: n.iconLeft,
                theme: "primary"
            },
            on: {
                click: function(e) {
                    return n.onIconClick("left")
                }
            }
        }) : n._e(), n._v(" "), i("input", {
            class: [n.$style.input, (e = {}, e[n.$style.left] = n.iconLeft, e), (t = {}, t[n.$style.right] = n.iconRight, t), n.$style[n.size]],
            attrs: {
                "aria-label": n.ariaLabel,
                autocomplete: n.autocomplete,
                autofocus: n.autofocus,
                id: n.id,
                maxlength: n.maxlength,
                name: n.name,
                placeholder: n.placeholder,
                readonly: n.disabled,
                type: n.type
            },
            domProps: {
                value: n.value
            },
            on: {
                blur: function(e) {
                    return n.blurEvent(e)
                },
                focus: function(e) {
                    return n.focusEvent(e)
                },
                input: function(e) {
                    return n.updateValue(e.target.value)
                },
                keyup: function(e) {
                    return n.keyupEvent(e)
                }
            }
        }), n._v(" "), n.iconRight ? i("icon-font", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: n.iconRightTooltip,
                expression: "iconRightTooltip"
            }],
            class: [n.$style.icon, n.$style.right],
            attrs: {
                "is-dark-mode": n.isDarkMode,
                name: n.iconRight
            },
            on: {
                click: function(e) {
                    return n.onIconClick("right")
                }
            }
        }) : n._e()], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = s.default.locals || s.default
    }, null, null);
    t.a = c.exports
}, function(e, t, n) {
    e.exports = {
        component: "icon-font-component",
        primary: "icon-font-primary",
        darkMode: "icon-font-darkMode",
        secondary: "icon-font-secondary",
        tertiary: "icon-font-tertiary",
        chess: "icon-font-chess",
        captured: "icon-font-captured"
    }
}, , function(e, t, n) {
    e.exports = n(26)(85)
}, function(e, t, n) {
    "use strict";
    var a = {
        "bundles/web/images/game-preview-loading.png": "bundles/web/images/game-preview-loading.8677fb94.png",
        "bundles/web/images/image-default.svg": "bundles/web/images/image-default.52fd5825.svg",
        "bundles/web/images/noavatar_l.gif": "bundles/web/images/noavatar_l.3e62aedf.gif",
        "bundles/web/images/user-image.svg": "bundles/web/images/user-image.152ee336.svg",
        "bundles/web/images/web/learn-to-play.png": "bundles/web/images/web/learn-to-play.51d38c0a.png",
        "bundles/web/images/web/tablet.jpg": "bundles/web/images/web/tablet.f8b6e8c5.jpg",
        "bundles/web/images/svg/tic.svg": "bundles/web/images/svg/tic.b039b4f5.svg",
        "bundles/web/images/svg/white-tic.svg": "bundles/web/images/svg/white-tic.18d3027b.svg",
        "bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png": "bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.12c5cf39.png",
        "bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png": "bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.7cb87681.png",
        "bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json": "bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.f0a77302.json",
        "bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png": "bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.5fbafd33.png",
        "bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json": "bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.3c3eb885.json",
        "bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png": "bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.07c65378.png",
        "bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json": "bundles/web/images/webgl_data/2d/arcade/check-lightning-small.29ffee8a.json",
        "bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png": "bundles/web/images/webgl_data/2d/arcade/check-lightning-small.4174885c.png",
        "bundles/web/images/webgl_data/2d/arcade/check-lightning.json": "bundles/web/images/webgl_data/2d/arcade/check-lightning.9818146c.json",
        "bundles/web/images/webgl_data/2d/arcade/check-lightning.png": "bundles/web/images/webgl_data/2d/arcade/check-lightning.13d87b75.png",
        "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json": "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.090095b9.json",
        "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png": "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.14a5e64e.png",
        "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json": "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.8e89a03e.json",
        "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png": "bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.d00459f4.png",
        "bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png": "bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.2943ecd4.png",
        "bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png": "bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.6c485bae.png",
        "bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png": "bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.c955fccb.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.d04ec1d5.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.f505cdbc.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.16dcf372.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.b8f9f703.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.2f52761e.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.e63372ad.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.e1f5d8cf.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.fcbd9ed9.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.8d776f5a.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.3a45986a.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.e4b8d4a8.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.a0fc79f2.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.46ff1e1e.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.c4332bdf.png",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json": "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.d2c18ae4.json",
        "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png": "bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.ab25eede.png",
        "bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json": "bundles/web/images/webgl_data/2d/arcade/select-lightning-black.3407e009.json",
        "bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png": "bundles/web/images/webgl_data/2d/arcade/select-lightning-black.137b1116.png",
        "bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json": "bundles/web/images/webgl_data/2d/arcade/select-lightning-white.6c02602b.json",
        "bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png": "bundles/web/images/webgl_data/2d/arcade/select-lightning-white.2615abda.png",
        "bundles/web/images/webgl_data/2d/capture-dust.json": "bundles/web/images/webgl_data/2d/capture-dust.221e5b9d.json",
        "bundles/web/images/webgl_data/2d/capture-dust.png": "bundles/web/images/webgl_data/2d/capture-dust.eeec5f17.png",
        "bundles/web/images/webgl_data/2d/dust-big.json": "bundles/web/images/webgl_data/2d/dust-big.3978c9b2.json",
        "bundles/web/images/webgl_data/2d/dust-big.png": "bundles/web/images/webgl_data/2d/dust-big.df6ca2e5.png",
        "bundles/web/images/webgl_data/2d/dust-regular.json": "bundles/web/images/webgl_data/2d/dust-regular.c277df9e.json",
        "bundles/web/images/webgl_data/2d/dust-regular.png": "bundles/web/images/webgl_data/2d/dust-regular.f765f10c.png",
        "bundles/web/images/webgl_data/2d/dust-small.json": "bundles/web/images/webgl_data/2d/dust-small.e988c379.json",
        "bundles/web/images/webgl_data/2d/dust-small.png": "bundles/web/images/webgl_data/2d/dust-small.2fc95fc8.png",
        "bundles/web/images/webgl_data/2d/field-shadow.png": "bundles/web/images/webgl_data/2d/field-shadow.0819d939.png",
        "bundles/web/images/webgl_data/2d/hand.json": "bundles/web/images/webgl_data/2d/hand.a9ba7da1.json",
        "bundles/web/images/webgl_data/2d/hand.png": "bundles/web/images/webgl_data/2d/hand.70349a3a.png",
        "bundles/web/images/webgl_data/3d/board/board.json": "bundles/web/images/webgl_data/3d/board/board.f425db44.json",
        "bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.a3bf6bb5.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_8_bit.c238987b.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.4fa42cab.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_bases.5966f51d.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.9d31ef9e.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.f6436596.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.a7ed2c2a.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_blue.7d30c9fc.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.66e656e5.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_brown.f8e9e53d.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.75637678.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.34d5bf78.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.f3f69a8a.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.4ba59d4b.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.6fe2bbf7.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.ac2798f7.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.3913780e.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_dash.fe973b28.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.bfcc418d.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_glass.462df59a.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.ee28e65f.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_graffiti.ddc5ac93.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_green_notation.af017c39.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_green.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_green.944bda20.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.5f5188b1.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_grey.26eeeb0d.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.8a2dbe83.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.7e97a7c5.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_light_notation.ed019a76.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_light.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_light.fe79815a.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.a00264f3.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_lolz.cf1f0e6b.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.85730a04.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_marble.fb694be3.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.733ec2a6.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.c5708acd.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.b4deece6.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.106671ff.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.5b6fd2c5.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.a56f3a5d.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.2644fa29.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_metal.9e8343ff.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.8aa5eb20.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_neon.1c8ed3ca.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.0d446457.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_newspaper.940c4c9b.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.ac13f29e.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_orange.df689dfe.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.a6b83a1e.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_overlay.b76a5834.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.af97cabb.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_parchment.dac73d51.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.811ee777.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_pink.e3b56463.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.f9f8349a.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_purple.429e87cc.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_red_notation.51389339.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_red.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_red.4824adf7.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.3712caa6.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_sand.5eb8d889.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_shadow.png": "bundles/web/images/webgl_data/3d/board/textures/board_shadow.d490d6b4.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.dfa5e504.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_sky.f9014b7c.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.81db0ebf.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_stone.75e0be38.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.606335e2.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_tan.de0583bf.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.243f8730.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_tournament.ca792689.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.8def817e.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_translucent.05d18c94.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.cfb242b2.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_walnut.ef9a07ec.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.be4c9f8c.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_winboard.087df05e.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.b13541a6.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_wood.a1c1365b.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.6fe2bbf7.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_wooddark.ac2798f7.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.39bc254f.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_woodlight.cbd0cac3.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.15e78f80.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_woodmid.d30783ac.jpg",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png": "bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.d62e0a2a.png",
        "bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg": "bundles/web/images/webgl_data/3d/board/textures/board_woodolive.33fafd16.jpg",
        "bundles/web/images/webgl_data/3d/marking_arrow_L.json": "bundles/web/images/webgl_data/3d/marking_arrow_L.be09e498.json",
        "bundles/web/images/webgl_data/3d/marking_arrow_straight.json": "bundles/web/images/webgl_data/3d/marking_arrow_straight.a6b956b9.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.64337a24.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.ec7eb316.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.7395ab28.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.fc9672f5.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.cf1d93aa.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.0f8d79ee.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.b9912c7a.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.32238b68.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.9b4d155e.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.7329522b.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.8793f6ab.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.d0fd00a8.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.1bc4a10e.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.76894e32.json",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.0b5ee42e.png",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.33eada3e.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.9b25971e.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.a12ca378.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.b40ae1ef.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.e2b2685d.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.e8613ffe.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.d6ee554e.png",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.ea452b95.png",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.fc807ae3.png",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.f1a263b7.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.cfb7a7d9.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.c0d26492.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.fc320163.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.26bd2db6.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.5b2b7dca.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.add6f6cb.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.02639edc.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.15255deb.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.40e5ede4.jpg",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.2381b0ed.png",
        "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png": "bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.a85529f8.png"
    };
    n.d(t, "a", function() {
        return r
    });
    var i, o = window.Config ? window.Config["domain.static"] : "localhost:8081";
    i = window.Config && window.Config["domain.static"] ? "https" : "http";
    var r = function generateUrl(e) {
        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : i,
            r = t ? "".concat(n, "://").concat(o) : "",
            s = null != a[e] ? a[e] : e;
        return "".concat(r, "/").concat(s)
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    }), n.d(t, "c", function() {
        return o
    });
    var a = {
            getOptions: "web_user_callback_get_board_settings",
            getStyles: "web_themes_data_callback",
            updateOption: {
                animationType: "web_user_game_settings_email_callback_animation_type",
                boardStyle: "web_user_game_settings_email_callback_board_color",
                coordinates: "web_user_game_settings_email_callback_coordinates",
                darkMode: "web_user_game_settings_callback_dark_mode_toggle",
                highlightLegalMoves: "web_user_game_settings_email_callback_show_legal_moves_toggle",
                highlightMoves: "web_user_game_settings_email_callback_highlight_last_move_toggle",
                moveListDisplayType: "web_user_game_settings_email_callback_move_list_display_type",
                pieceStyle: "web_user_game_settings_email_callback_piece",
                playSounds: "web_user_game_settings_email_callback_sound_toggle",
                soundTheme: "web_user_game_settings_email_callback_sound_theme"
            }
        },
        i = [{
            key: "0",
            value: null
        }, {
            key: "1",
            value: "inside"
        }, {
            key: "2",
            value: "outside"
        }],
        o = {
            pieces: ["real3d"],
            animations: ["arcade", "natural"]
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    }), n.d(t, "b", function() {
        return o
    });
    var a = n(20),
        i = function getBoardContainerElement() {
            var e = a.h.board.substr(1),
                t = document.getElementsByClassName(e)[0];
            return t || null
        },
        o = function getBoardElement() {
            var e = i();
            if (!e) return null;
            var t = e.childNodes;
            return Array.from(t).find(function(e) {
                return 1 === e.nodeType
            })
        }
}, , function(e, t, n) {
    e.exports = {
        component: "modal-container-component",
        "parent-centered": "modal-container-parent-centered",
        bg: "modal-container-bg",
        enter: "modal-container-enter",
        leave: "modal-container-leave",
        "content-centered": "modal-container-content-centered"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(58),
        i = {
            expanded: null === document.querySelector("".concat(a.a.SIDEBAR, ".").concat(a.a.SIDEBAR_COLLAPSED)),
            forcedOpen: !1,
            isLive: "/live" === window.location.pathname.substr(0, 5),
            isLiveElement: document.querySelector("#live-app"),
            isVisible: !0,
            isWide: "en-US" !== document.documentElement.getAttribute("lang"),
            position: "horizontal",
            showingSecondary: null
        };
    t.a = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            t = [];
        return {
            emit: function emit(n, a) {
                t.filter(function(e) {
                    return e.type === n
                }).forEach(function(t) {
                    return t.handler(e, a)
                })
            },
            off: function off(e) {
                return -1 !== t.findIndex(function(t) {
                    return t.type === e.type && t.handler === e.handler
                }) && t.splice(t, 1), t
            },
            on: function on(e, n) {
                return t.push({
                    type: e,
                    handler: n
                }), t
            },
            state: e,
            subscriptions: t
        }
    }(i)
}, function(e, t, n) {
    e.exports = {
        component: "form-button-component",
        dark: "form-button-dark",
        "x-small": "form-button-x-small",
        small: "form-button-small",
        large: "form-button-large",
        "x-large": "form-button-x-large",
        "full-width": "form-button-full-width",
        basic: "form-button-basic",
        darkMode: "form-button-darkMode",
        primary: "form-button-primary",
        info: "form-button-info",
        danger: "form-button-danger"
    }
}, function(e, t, n) {
    e.exports = n(26)(44)
}, function(e, t, n) {
    "use strict";
    t.a = new class ScriptLoader {
        constructor() {
            this.insert = this.loadScript(function(e, t) {
                var n = document.createElement("script");
                return n.type = "text/javascript", n.src = e, t && Object.keys(t).forEach(function(e) {
                    n.setAttribute(e, t[e])
                }), document.body.appendChild(n), n
            })
        }
        loadScript(e) {
            var t = {};
            return function(n, a) {
                if (void 0 === t[n]) {
                    var i = new Promise(function(t, i) {
                        var o = e(n, a);
                        o.onload = function(e) {
                            t(e)
                        }, o.onreadystatechange = o.onload, o.onerror = function(e) {
                            i(e)
                        }
                    });
                    t[n] = i
                }
                return t[n]
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    }), n.d(t, "d", function() {
        return o
    }), n.d(t, "e", function() {
        return r
    }), n.d(t, "c", function() {
        return s
    }), n.d(t, "b", function() {
        return l
    });
    var a = n(10),
        i = {
            FIGURINE: "figurine",
            TEXT: "text"
        },
        o = {
            BLACK: 2,
            WHITE: 1
        },
        r = {
            BLACK: "black",
            WHITE: "white"
        },
        s = {
            B: "bishop",
            K: "king",
            N: "knight",
            R: "rook",
            Q: "queen"
        },
        l = function moveNotationTranslations() {
            return {
                B: a.a.trans("move_list.algebraic.B", null, "moves"),
                K: a.a.trans("move_list.algebraic.K", null, "moves"),
                N: a.a.trans("move_list.algebraic.N", null, "moves"),
                R: a.a.trans("move_list.algebraic.R", null, "moves"),
                Q: a.a.trans("move_list.algebraic.Q", null, "moves")
            }
        }
}, function(e, t, n) {
    "use strict";
    var a = n(289),
        i = n(36),
        o = n(254),
        r = function setAttributes(e, t) {
            var n = t.value.src,
                i = t.value.srcset ? "".concat(Object(a.a)(n), " 2x") : void 0;
            n && e.setAttribute("src", n), i && e.setAttribute("srcset", i), o.a.unobserve(e)
        };
    t.a = {
        bind: function bind(e, t) {
            i.a.$on("visibility-observer-change", function(n) {
                n === e && (r(e, t), e.dataset.visible = !0)
            }), o.a.observe(e)
        },
        componentUpdated: function componentUpdated(e, t) {
            void 0 !== e.dataset.visible && r(e, t)
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(9),
        i = n(28),
        o = n(0),
        r = n(138),
        s = [{
            value: "newest",
            label: o.a.trans("Most Recent")
        }, {
            value: "view_count",
            label: o.a.trans("Most Views")
        }],
        l = document.getElementById(a.f.FILTERS),
        c = l ? l.getAttribute(a.a.ICON_BUTTON) : null;
    t.a = Object(i.a)("#".concat(a.f.FILTERS), function() {
        return {
            component: r.a,
            propsData: {
                iconButton: c,
                onChange: function onChange() {},
                options: s,
                overlay: !0,
                value: s[0]
            }
        }
    })
}, function(e, t, n) {
    "use strict";
    t.a = {
        BOTTOM_LINK_MOUSE_ENTER: "BOTTOM_LINK_MOUSE_ENTER",
        EXPAND_COLLAPSE_CHANGE: "EXPAND_COLLAPSE_CHANGE",
        FEATURE_LINK_INIT: "FEATURE_LINK_INIT",
        FETCH_NOTIFICATIONS: "FETCH_NOTIFICATIONS",
        FETCH_NOTIFICATION_COUNT: "FETCH_NOTIFICATION_COUNT",
        HIDE_TIME_CONTROLS: "HIDE_TIME_CONTROLS",
        LINK_SECONDARY_HIDE: "LINK_SECONDARY_HIDE",
        LINK_SECONDARY_MOUNTS: "LINK_SECONDARY_MOUNTS",
        NAV_TOGGLED: "NAV_TOGGLED",
        NOTIFICATIONS_FETCHED: "NOTIFICATIONS_FETCHED",
        NOTIFICATIONS_PANEL_INIT: "NOTIFICATIONS_PANEL_INIT",
        OPEN_LANGUAGE_PICKER: "OPEN_LANGUAGE_PICKER",
        SECONDARY_CHANGE: "SECONDARY_CHANGE",
        SHOW_VIDEO_MODAL: "SHOW_VIDEO_MODAL",
        TOGGLE_DAILY_CONTROLS: "TOGGLE_DAILY_CONTROLS",
        TOGGLE_LIVE_CONTROLS: "TOGGLE_LIVE_CONTROLS",
        VIEW_MOUNTED: "VIEW_MOUNTED"
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-dropdown-component",
        select: "form-dropdown-select",
        filter: "form-dropdown-filter",
        "desktop-button": "form-dropdown-desktop-button",
        "mobile-button": "form-dropdown-mobile-button",
        value: "form-dropdown-value",
        chevron: "form-dropdown-chevron",
        options: "form-dropdown-options",
        left: "form-dropdown-left",
        "advanced-options": "form-dropdown-advanced-options",
        option: "form-dropdown-option",
        icon: "form-dropdown-icon",
        live960: "form-dropdown-live960",
        bullet: "form-dropdown-bullet",
        blitz: "form-dropdown-blitz",
        rapid: "form-dropdown-rapid",
        threecheck: "form-dropdown-threecheck",
        kingofthehill: "form-dropdown-kingofthehill",
        crazyhouse: "form-dropdown-crazyhouse",
        bughouse: "form-dropdown-bughouse",
        selected: "form-dropdown-selected",
        "short-title": "form-dropdown-short-title",
        overlay: "form-dropdown-overlay",
        separator: "form-dropdown-separator",
        flag: "form-dropdown-flag"
    }
}, function(e, t, n) {
    e.exports = {
        box: "modal-video-box",
        video: "modal-video-video",
        close: "modal-video-close"
    }
}, function(e, t, n) {
    e.exports = n(226)(64)
}, , function(e, t, n) {
    "use strict";
    var a = n(152),
        i = {};
    ["setTimeout", "setInterval", "clearTimeout", "clearInterval"].forEach(function(e) {
        i[e] = a.a[e].bind(a.a)
    }), t.a = i
}, function(e, t, n) {
    e.exports = n(26)(82)
}, function(e, t, n) {
    "use strict";
    n.d(t, "e", function() {
        return o
    }), n.d(t, "c", function() {
        return r
    }), n.d(t, "d", function() {
        return s
    }), n.d(t, "f", function() {
        return l
    }), n.d(t, "b", function() {
        return c
    }), n.d(t, "a", function() {
        return u
    }), n.d(t, "g", function() {
        return d
    });
    var a = n(3),
        i = n.n(a);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var o = function objectIsEmpty(e) {
        return e && !Object.keys(e).length
    };
    var r = function objectHasData() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        return e && Object.keys(e).length > 0
    };
    var s = function objectHasProp() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 ? arguments[1] : void 0;
            return Object.prototype.hasOwnProperty.call(e, t)
        },
        l = function objectWithExcludedProps(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            return Object.keys(e).filter(function(e) {
                return !t.includes(e)
            }).reduce(function(t, n) {
                return _objectSpread({}, t, i()({}, n, e[n]))
            }, {})
        },
        c = function invertObject(e) {
            return Object.keys(e).reduce(function(t, n) {
                return _objectSpread({}, t, i()({}, e[n], n))
            }, {})
        },
        u = function hasProperty(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        },
        d = function transformObjectBooleansToBinaryString(e) {
            return Object.keys(e).reduce(function(t, n) {
                var a = e[n];
                return "boolean" == typeof a && (a = a ? "1" : "0"), t[n] = a, t
            }, {})
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = function concatUrlParams(e) {
        var t = [];
        return e.forEach(function(e) {
            t.push(e.join("="))
        }), t
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "d", function() {
        return r
    }), n.d(t, "e", function() {
        return s
    }), n.d(t, "c", function() {
        return l
    }), n.d(t, "b", function() {
        return c
    });
    var a = n(0),
        i = n(8),
        o = {
            ARTICLE_ID: "data-article-id"
        },
        r = {
            articlesIndex: function articlesIndex(e, t) {
                var n = {};
                return 1 !== e && (n.page = e), t && (n.unpublished = t), Object(i.a)("web_article_index", n, !0)
            },
            articlesAuthors: Object(i.a)("web_articles_authors"),
            articlesSearch: function articlesSearch(e, t, n) {
                return Object(i.a)("web_article_search", {
                    keyword: e,
                    page: t,
                    orderBy: n
                }, !0)
            },
            category: function category(e) {
                return Object(i.a)("web_article_category", {
                    url: e
                })
            },
            categoryByPage: function categoryByPage(e, t, n) {
                var a = {
                    url: e
                };
                return 1 !== t && (a.page = t), n && (a.orderBy = n), Object(i.a)("web_article_category", a, !0)
            },
            createArticle: Object(i.a)("web_article_post"),
            curriculumForKids: Object(i.a)("web_article_view", {
                url: "free-chess-curriculum-for-parents-coaches"
            }),
            deleteArticle: function deleteArticle(e, t) {
                return Object(i.a)("web_article_delete", {
                    id: e,
                    _token: t
                })
            },
            editArticle: function editArticle(e) {
                return Object(i.a)("web_article_post", {
                    id: e
                })
            },
            articleVersion: function articleVersion(e, t) {
                return Object(i.a)("web_article_post", {
                    id: e,
                    version: t
                })
            },
            member: function member(e) {
                return Object(i.a)("web_member_view", {
                    username: e
                })
            },
            memberArticles: function memberArticles(e) {
                return Object(i.a)("web_article_member", {
                    username: e
                })
            },
            memberArticlesByPage: function memberArticlesByPage(e, t, n) {
                return Object(i.a)("web_article_member", {
                    username: e,
                    page: t,
                    orderBy: n
                }, !0)
            },
            studyPlans: Object(i.a)("web_article_view", {
                url: "study-plan-directory"
            }),
            toggleCommentsLock: function toggleCommentsLock(e) {
                return Object(i.a)("web_article_toggle_lock_comments", {
                    id: e
                })
            },
            translate: function translate(e) {
                return Object(i.a)("web_article_post", {
                    id: e
                })
            },
            unpublished: Object(i.a)("web_article_index", {
                unpublished: 1
            })
        },
        s = {
            articles: a.a.trans("Articles"),
            articleAuthors: a.a.trans("Article Authors"),
            authors: a.a.trans("Authors"),
            category: function category(e) {
                return a.a.trans(e, {}, "dynamic")
            },
            createArticle: a.a.trans("Create Article"),
            curriculumForKids: a.a.trans("Curriculum for Kids"),
            deleteArticle: a.a.trans("Delete Article"),
            deleteArticleConfirm: a.a.trans("Are you sure you want to delete this article?"),
            editArticle: a.a.trans("Edit Article"),
            headline: a.a.trans("Headline"),
            lockComments: a.a.trans("Lock Comments"),
            myArticles: a.a.trans("My Articles"),
            rss: a.a.trans("RSS"),
            studyPlans: a.a.trans("Study Plans"),
            translate: a.a.trans("Translate"),
            unlockComments: a.a.trans("Unlock Comments"),
            unpublished: a.a.trans("Unpublished")
        },
        l = {
            ARTICLES: "articles",
            ARTICLES_ID: "article-id",
            DATA_CATEGORY_URL: "data-category-url",
            DATA_CURRENT_PAGE: "data-current-page",
            DATA_KEYWORD: "data-keyword",
            DATA_ORDER_BY: "data-order-by",
            DATA_UNPUBLISHED: "data-unpublished",
            DATA_USERNAME: "data-username",
            PAGE_FILTERS: "page-filters",
            PAGINATION_BOTTOM: "pagination-bottom",
            PAGINATION_TOP: "pagination-top",
            POST_FORM_DATE: "form-date",
            POST_IMAGE_INPUT: "article_uploadedImages_main",
            POST_PREVIEW_BUTTON: "article_preview",
            POST_PUBLISH_BUTTON: "article_save",
            POST_TINYMCE: "article_body",
            PREVIEW_BUTTON: "article_preview",
            ROOT_AUTHORS: "view-articles-authors",
            ROOT_CATEGORY: "view-articles-category",
            ROOT_INDEX: "view-articles-index",
            ROOT_SINGLE: "view-articles-single",
            SAVE_BUTTON: "article_save"
        },
        c = {
            ARTICLES_SEARCH: "articlesSearch",
            CATEGORY_BY_PAGE: "categoryByPage",
            MEMBER_ARTICLES_BY_PAGE: "memberArticlesByPage"
        }
}, , function(e, t, n) {
    var a = n(132),
        i = n(151);
    e.exports = function isArrayLike(e) {
        return null != e && i(e.length) && !a(e)
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "loader-three-bounce",
            props: {
                isCircle: {
                    type: Boolean,
                    default: !1
                },
                size: {
                    type: Number,
                    default: 80
                }
            },
            computed: {
                dotCss: function dotCss() {
                    var e = "".concat(Math.round(this.size / 4), "px");
                    return {
                        width: e,
                        height: e
                    }
                }
            }
        },
        i = n(237),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            class: [t.$style.component, (e = {}, e[t.$style.circle] = t.isCircle, e)],
            style: {
                width: t.size + "px"
            }
        }, [a("div", {
            class: [t.$style.dot, t.$style.bounce1],
            style: t.dotCss
        }), t._v(" "), a("div", {
            class: [t.$style.dot, t.$style.bounce2],
            style: t.dotCss
        }), t._v(" "), a("div", {
            class: t.$style.dot,
            style: t.dotCss
        })])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = {
        HIDE_MODAL: "hide-modal",
        HIDE_MODAL_BACKGROUND_CLICK: "hide-background",
        HIDE_MODAL_SOCIAL_SHARE: "hide-modal-social-share",
        LOGIN_OR_REGISTER_MODAL: "LOGIN_OR_REGISTER_MODAL",
        MODAL_DID_HIDE: "modal-did-hide",
        SHOW_MODAL_SOCIAL_SHARE: "show-modal-social-share",
        SHOW_UPGRADE_MODAL: "show-upgrade-modal"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(64),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(79);

    function removeClassFromElement(e, t) {
        var n = document.getElementById(e);
        null === n && void 0 === n || n.classList.remove(t)
    }

    function addClassToElement(e, t) {
        var n = document.getElementById(e);
        null === n && void 0 === n || n.classList.add(t)
    }
    var i = n(9),
        o = n(48),
        r = n(53),
        s = n(105),
        l = n(103),
        c = n(7),
        u = n(19);

    function parseNewsResponse(e) {
        return e.map(function(e) {
            return Object.assign({}, e, {
                author: {
                    chessTitle: e.chess_title,
                    username: e.username,
                    url: c.a.generate("web_member_view", {
                        username: e.username
                    })
                },
                time: u.a.relative(1e3 * e.create_date),
                comments: Object(u.b)(e.comment_count),
                views: Object(u.b)(e.view_count),
                excerpt: e.body,
                image: e.image_url,
                isDraft: !e.is_live
            })
        })
    }

    function setNewsToHeadline(e) {
        return e && (e.isHeadline = !0), e
    }
    var d = n(72),
        p = (n(58), n(18)),
        h = n(46),
        m = {
            name: "modal-video",
            components: {
                IconFont: p.a,
                ModalContainer: h.a
            },
            props: {
                source: {
                    type: String,
                    required: !0
                }
            },
            mounted: function mounted() {
                var e = this;
                d.a.on(a.a.SHOW_VIDEO_MODAL, function() {
                    e.$refs.modal.show()
                })
            },
            methods: {
                hide: function hide() {
                    this.$refs.modal.hide()
                }
            }
        },
        f = n(108),
        g = n(5);
    Object(g.a)(m, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return t("modal-container", {
            ref: "modal"
        }, [t("div", {
            class: this.$style.box
        }, [t("div", {
            class: this.$style.video
        }, [t("iframe", {
            attrs: {
                allowfullscreen: "",
                frameborder: "0",
                height: "100%",
                width: "100%",
                src: this.source
            }
        }), this._v(" "), t("icon-font", {
            class: this.$style.close,
            attrs: {
                family: "chess",
                name: "x",
                theme: "primary"
            },
            on: {
                click: this.hide
            }
        })], 1)])])
    }, [], !1, function injectStyles(e) {
        this.$style = f.default.locals || f.default
    }, null, null).exports, n(31);

    function parseContentResponse(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            a = {
                articles: {
                    setHeadline: s.c,
                    parseContent: s.a
                },
                blogs: {
                    setHeadline: l.d,
                    parseContent: l.c
                },
                news: {
                    setHeadline: setNewsToHeadline,
                    parseContent: parseNewsResponse
                }
            };
        return Object.prototype.hasOwnProperty.call(a, e) ? (n && t[0] && (t[0] = a[e].setHeadline(t[0])), a[e].parseContent(t)) : t
    }

    function showFooterOnLoad() {
        window.addEventListener("load", function() {
            removeClassFromElement("".concat(i.f.NAVIGATION_FOOTER), "navigation-footer-hide"), Object(o.f)("layout-one-column-component") && addClassToElement("".concat(i.f.NAVIGATION_FOOTER), "navigation-footer-component-one-column"), Object(o.f)("layout-two-column-flipped-component") && addClassToElement("".concat(i.f.NAVIGATION_FOOTER), "navigation-footer-component-flipped-column")
        })
    }

    function stripTags(e) {
        return String(e).replace(/<[^>]+>/gm, "")
    }
    n.d(t, "b", function() {
        return parseContentResponse
    }), n.d(t, "d", function() {
        return showFooterOnLoad
    }), n.d(t, "e", function() {
        return stripTags
    }), n.d(t, "a", function() {
        return b
    }), n.d(t, "f", function() {
        return _
    }), n.d(t, "c", function() {
        return w
    });
    var b = function onEditBtnClick(e, t) {
            e.preventDefault(), t.classList.add(i.f.POST_CAN_EDIT_URL)
        },
        v = function ariaInBtn(e, t) {
            return e || t
        },
        y = function collapseBtn(e) {
            var t = e.currentTarget,
                n = t.getAttribute(i.a.ARIA_CONTROLS),
                a = t.getAttribute(i.a.CUSTOM_BTN_CLASS),
                o = t.getAttribute(i.a.CUSTOM_COLLAPSE_CLASS),
                r = i.f.COLLAPSED,
                s = i.f.HIDDEN;
            t.classList.toggle(v(a, r));
            var l = document.getElementById(n);
            l && l.classList.toggle(v(o, s))
        },
        _ = function toggleCollapse() {
            Array.from(document.querySelectorAll(".".concat(i.f.COLLAPSE))).forEach(function(e) {
                e.addEventListener("click", y)
            }), document.removeEventListener("DOMContentLoaded", toggleCollapse)
        },
        w = function rtlClass(e) {
            return Object(r.a)() ? e["right-to-left"] : ""
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = function getAllUrlParams(e) {
        var t = [];
        return e.substring(1).split("&").forEach(function(e) {
            t.push(e.split("="))
        }), t
    }
}, function(e, t, n) {
    "use strict";
    var a = n(71),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    });
    var a = "a",
        i = {
            paths: {
                boards: "".concat(a, "/b"),
                pieces: "".concat(a, "/b"),
                sounds: "".concat(a, "/chess-themes/sounds"),
                variants: "//betacssjs.chesscomfiles.com/bundles/web/images/variants",
                webglData: "/bundles/web/images/webgl_data"
            },
            defaultBoardOptions: {
                boardStyle: "green",
                pieceStyle: "neo",
                highlightColor: "#FFFF33",
                highlightOpacity: .5,
                arrowColor: "rgb(255, 168, 0)",
                flipped: !1,
                files: 8,
                ranks: 8
            }
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = function makeSvg(e) {
        var t = e.path,
            n = void 0 === t ? "" : t,
            a = e.size,
            i = void 0 === a ? 24 : a,
            o = e.viewBox,
            r = void 0 === o ? "0 0 18 19" : o;
        return '\n  <svg width="'.concat(i, '" height="').concat(i, '" viewBox="').concat(r, '">\n    ').concat(n, "\n  </svg>\n")
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "form-checkbox",
            props: {
                disabled: {
                    type: Boolean,
                    default: !1
                },
                id: {
                    type: String
                },
                label: {
                    type: String,
                    required: !0
                },
                name: {
                    type: String,
                    required: !0
                },
                value: {
                    type: Boolean,
                    required: !0
                }
            },
            methods: {
                setCheckboxStatus: function setCheckboxStatus(e) {
                    this.$emit("input", e)
                }
            }
        },
        i = n(220),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [n("input", {
            class: e.$style.checkbox,
            attrs: {
                type: "checkbox",
                disabled: e.disabled,
                id: e.id || e.name,
                name: e.name
            },
            domProps: {
                checked: e.value
            },
            on: {
                change: function(t) {
                    return e.setCheckboxStatus(t.target.checked)
                }
            }
        }), e._v(" "), n("label", {
            class: e.$style.label,
            attrs: {
                for: e.name
            }
        }, [e._v("\n    " + e._s(e.label) + "\n  ")])])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    var a = n(20),
        i = function animationChangeRequiresRefresh(e, t) {
            return a.l.animations.indexOf(e) > -1 || a.l.animations.indexOf(t) > -1
        },
        o = n(50),
        r = n(98),
        s = function buildEffect(e) {
            var t = e.icon,
                n = e.node;
            return {
                position: {
                    x: "right",
                    y: "top"
                },
                square: e.square || o.a.convertLanToFileRanks("".concat(n.from).concat(n.to)).toFileRank,
                template: Object(r.a)({
                    path: t,
                    size: "100%"
                })
            }
        },
        l = n(11),
        c = n(7),
        u = function seekGifUntilReady(e, t) {
            l.default.get(e).then(function(n) {
                202 === n.status ? setTimeout(seekGifUntilReady.bind(null, e, t), 2e3) : 200 === n.status && t(e)
            }).catch(function() {
                t(e)
            })
        },
        d = function getCustomAnimatedGif(e) {
            var t = e.tcn,
                n = e.flip,
                a = e.isChess960,
                i = e.initialPosition,
                o = c.a.generate("web_game_callback_create_dyn_gif_url"),
                r = {
                    tcn: t,
                    flip: n,
                    isChess960: a,
                    initialSetup: i
                };
            return l.default.post(o, r).then(function(e) {
                return new Promise(function(t) {
                    u(e.data, t)
                })
            })
        },
        p = n(69),
        h = function getShareUrl() {
            var e = window.document.documentElement.lang,
                t = window.location,
                n = e.split("-")[0];
            return t.pathname.split("/")[1] === n || "en" === n ? t.href : "".concat(t.protocol, "//").concat(t.hostname, "/").concat(n).concat(t.pathname)
        },
        m = function normalizeFen(e) {
            var t = e; - 1 !== t.indexOf("|") && (t = t.split("|")[0].trim());
            var n = t.split(" "),
                a = n[0].split("/");
            return a.length > 8 && (a.pop(), n[0] = a.join("/"), t = n.join(" ")), t
        },
        f = function pieceChangeRequiresRefresh(e, t) {
            var n = e === t,
                i = a.l.pieces.indexOf(e) > -1 || a.l.pieces.indexOf(t) > -1;
            return !n && i
        },
        g = function setBoardSize(e) {
            var t = document.querySelector(a.h.board);
            t && "number" == typeof e && (t.style.width = "".concat(e, "px"))
        },
        b = function showBoardResize() {
            var e = document.querySelector(a.h.resize);
            e && (e.style.visibility = "visible")
        };
    n.d(t, "a", function() {
        return i
    }), n.d(t, "b", function() {
        return s
    }), n.d(t, "c", function() {
        return p.a
    }), n.d(t, "d", function() {
        return d
    }), n.d(t, "e", function() {
        return h
    }), n.d(t, "f", function() {
        return m
    }), n.d(t, "g", function() {
        return f
    }), n.d(t, "h", function() {
        return g
    }), n.d(t, "i", function() {
        return b
    })
}, function(e, t, n) {
    "use strict";
    var a = n(302),
        i = n(13),
        o = n(23);
    t.a = function(e) {
        var t = Object(a.a)(e);
        return t && o.default.dispatch("alerts/create", {
            type: i.g.error,
            message: t
        }), Promise.reject(e)
    }
}, function(e, t, n) {
    "use strict";
    var a = n(73),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return parseAuthorsResponse
    }), n.d(t, "c", function() {
        return parseBlogsResponse
    }), n.d(t, "d", function() {
        return setBlogToHeadline
    }), n.d(t, "a", function() {
        return configureFilters
    });
    var a = n(87),
        i = n(95),
        o = n(19),
        r = n(28),
        s = n(9),
        l = n(61),
        c = n(78),
        u = n(7);

    function parseAuthorsResponse(e) {
        return e.map(function(e) {
            return Object.assign({}, e, {
                avatar: e.avatar_url,
                followers: Object(o.b)(e.follower_count),
                name: Object.prototype.hasOwnProperty.call(e, "first_name") ? "".concat(e.first_name, " ").concat(e.last_name ? e.last_name : "") : e.username
            })
        })
    }

    function parseBlogsResponse(e) {
        return e.map(function(e) {
            return Object.assign({}, e, {
                author: {
                    chessTitle: e.chess_title,
                    username: e.username,
                    url: u.a.generate("web_member_view", {
                        username: e.username
                    })
                },
                comments: Object(o.b)(e.comment_count),
                excerpt: e.body,
                isDraft: !e.is_live,
                image: e.image_url,
                time: o.a.relative(1e3 * e.create_date),
                views: Object(o.b)(e.view_count)
            })
        })
    }

    function setBlogToHeadline(e) {
        return e && (e.isHeadline = !0), e
    }

    function configureFilters() {
        var e = c.a[s.f.FILTERS],
            t = [{
                value: "create_date",
                label: l.c.mostRecent
            }, {
                value: "view_count",
                label: l.c.mostViews
            }],
            n = {
                onChange: function onChange(e) {
                    var t = e.value,
                        n = window.location.origin,
                        o = window.location.pathname,
                        r = Object(i.a)(window.location.search),
                        s = r.findIndex(function(e) {
                            return "orderBy" === e[0]
                        });
                    if (s >= 0) {
                        r[s] = ["orderBy", t];
                        var l = Object(a.a)(r).join("&");
                        window.location.href = "".concat(n).concat(o, "?").concat(l)
                    } else window.location.href = "".concat(n).concat(o, "?orderBy=").concat(t)
                },
                options: t,
                value: t[0]
            },
            o = document.getElementById(l.a.ROOT_MEMBER),
            u = o ? o.getAttribute("data-order-by") : "";
        if (u) {
            var d = t.find(function(e) {
                return e.value === u
            });
            d && (n.value = d)
        }
        c.a[s.f.FILTERS] = Object(r.b)(e, n)
    }
}, function(e, t, n) {
    "use strict";
    var a = n(1),
        i = n(4),
        o = n(45),
        r = n(6),
        s = n(16),
        l = n(2),
        c = function makePremove(e, t) {
            var n = i.a.getJCEMove(e, t);
            return null === n ? (a.b.add(e.history, a.a.ILLEGAL_MOVE), e) : l.a.isHead(e.jce._lines(), e.tree.selected) || e.settings.analysis ? e.settings.analysis ? void 0 : (o.a.premove(e, n) ? (a.b.add(e.history, a.a.PREMOVE), r.a.updateState(e)) : a.b.add(e.history, a.a.ILLEGAL_MOVE), e) : Object(s.a)(e, l.a.getHeadIds(e.jce._lines(), e.tree.selected.line))
        },
        u = function cancelPremoves(e) {
            return o.a.cancelPremoves(e) && (a.b.add(e.history, a.a.CANCEL_PREMOVES), r.a.updateState(e)), e
        },
        d = function consumePremove(e) {
            return e.premoves.length ? (o.a.consumePremove(e) ? (a.b.add(e.history, a.a.MAKE_MOVE), r.a.updateState(e)) : u(e), e) : e
        };
    n.d(t, "c", function() {
        return c
    }), n.d(t, "a", function() {
        return u
    }), n.d(t, "b", function() {
        return d
    })
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return parseArticlesResponse
    }), n.d(t, "b", function() {
        return parseAuthorsResponse
    }), n.d(t, "c", function() {
        return setArticleToHeadline
    });
    var a = n(7),
        i = n(19);
    n(88);

    function parseArticlesResponse(e) {
        var t = window.location.pathname.indexOf("articles") > -1;
        return e.length ? e.map(function(e) {
            return Object.assign({}, e, {
                author: {
                    chessTitle: e.chess_title,
                    username: e.username,
                    url: a.a.generate(t ? "web_article_member" : "web_member_view", {
                        username: e.username
                    })
                },
                time: i.a.relative(1e3 * e.create_date),
                comments: Object(i.b)(e.comment_count),
                views: Object(i.b)(e.view_count),
                excerpt: e.body,
                image: e.image_url
            })
        }) : e
    }

    function parseAuthorsResponse(e) {
        return e.length ? e.map(function(e) {
            return Object.assign({}, e, {
                followers: Object(i.b)(e.followers)
            })
        }) : e
    }

    function setArticleToHeadline(e) {
        return e && (e.isHeadline = !0), e
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    }), n.d(t, "c", function() {
        return s
    });
    var a = n(15),
        i = n(32),
        o = function hasTreeLines(e) {
            return Boolean(e && e.tree && e.tree.lines)
        },
        r = function normalizePgnAnnotation(e) {
            return Object.keys(a.c).forEach(function(t) {
                e = e.replace(new RegExp("\\".concat(t, "\\b"), "gm"), Object(i.v)(t))
            }), e
        },
        s = function updateScrollPosition(e) {
            var t = e.moveIds,
                n = e.moveList,
                a = e.scrollEl;
            if (t && n && a) {
                var i = n.getComponentRefByLineMove(t.line, t.move);
                if (i) {
                    var o = a.getBoundingClientRect(),
                        r = i.$el ? i.$el.getBoundingClientRect() : i.getBoundingClientRect(),
                        s = a.scrollTop,
                        l = o.top + Math.floor(o.height / 2) - r.top;
                    a.scrollTop = s - l
                }
            }
        }
}, function(e, t, n) {
    "use strict";
    var a = n(80),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(81),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    e.exports = n(26)(3)
}, function(e, t, n) {
    e.exports = {
        component: "section-container-component",
        visible: "section-container-visible"
    }
}, function(e, t, n) {
    e.exports = {
        component: "modal-content-component"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(9),
        i = n(299),
        o = n(47),
        r = n(53),
        s = n(33),
        l = n(0),
        c = {
            name: "confirm-popover",
            components: {
                formButton: s.a
            },
            data: function data() {
                return {
                    labels: {
                        cancelBtn: l.a.trans("Cancel"),
                        messageLabel: "",
                        yesBtn: l.a.trans("Yes")
                    },
                    onConfirm: function onConfirm() {},
                    position: {
                        placement: "top",
                        left: 0,
                        top: 0
                    },
                    visible: !1
                }
            },
            computed: {
                style: function style() {
                    var e = {
                        transform: "translate(".concat(this.position.left, "px, ").concat(this.position.top, "px)")
                    };
                    return Object(r.a)() && (e = {
                        transform: "translate(0, ".concat(this.position.top, "px)"),
                        left: "".concat(this.position.left, "px"),
                        right: "auto"
                    }), e
                }
            },
            methods: {
                hide: function hide() {
                    Array.from(document.querySelectorAll(".".concat(a.f.CONFIRM_OPEN))).forEach(function(e) {
                        return e.classList.remove(a.f.CONFIRM_OPEN)
                    }), this.visible = !1, this.removeListeners()
                },
                show: function show(e) {
                    var t = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "top";
                    this.visible = !0, this.addListeners(), this.$nextTick(function() {
                        t.position = Object(o.a)(e, t.$el, n, 10)
                    })
                },
                onYesClick: function onYesClick() {
                    this.hide(), this.onConfirm()
                },
                scrollListener: function scrollListener() {
                    var e = document.querySelector(".base-container");
                    e && e.addEventListener("scroll", this.hide, {
                        once: !0
                    })
                },
                clickListener: function clickListener() {
                    document.addEventListener("click", this.hide, {
                        capture: !0,
                        once: !0
                    })
                },
                addListeners: function addListeners() {
                    this.scrollListener(), this.clickListener()
                },
                removeListeners: function removeListeners() {
                    var e = document.querySelector(".base-container");
                    e && e.removeEventListener("scroll", this.scrollListener), document.removeEventListener("click", this.clickListener, !0)
                }
            }
        },
        u = n(238),
        d = n(5);
    var p = Object(d.a)(c, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.visible,
                    expression: "visible"
                }],
                ref: "modal",
                class: [e.$style.component, e.$style[e.position.placement]],
                style: e.style
            }, [n("div", {
                class: e.$style.inner
            }, [n("div", {
                class: e.$style.message,
                domProps: {
                    innerHTML: e._s(e.labels.messageLabel)
                }
            }), e._v(" "), n("div", {
                class: e.$style.buttons
            }, [n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "basic"
                },
                on: {
                    click: e.hide
                }
            }, [e._v("\n        " + e._s(e.labels.cancelBtn) + "\n      ")]), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "primary"
                },
                on: {
                    click: e.onYesClick
                }
            }, [e._v("\n        " + e._s(e.labels.yesBtn) + "\n      ")])], 1)])])
        }, [], !1, function injectStyles(e) {
            this.$style = u.default.locals || u.default
        }, null, null).exports,
        h = n(56);
    n.d(t, "b", function() {
        return f
    });
    var m, f = Object(h.a)({
            confirmPopover: {
                component: i.a,
                el: "#confirm-popover"
            },
            confirmPopoverInline: {
                component: p,
                el: "#confirm-popover-inline"
            }
        }),
        g = [];
    t.a = {
        bind: function bind(e, t) {
            var n = function directiveClickListener(n) {
                if (m = "modal" === t.value.type ? "confirmPopover" : "confirmPopoverInline", !document.getElementById(a.f.CONFIRM_POPOVER_INLINE)) {
                    var i = document.createElement("div");
                    i.setAttribute("id", a.f.CONFIRM_POPOVER_INLINE), document.body.appendChild(i)
                }
                var o = f.createInstance(m),
                    r = document.querySelector(".".concat(a.f.TOOLTIP_CLASS, ".").concat(a.f.TOOLTIP_TOP));
                o.$children[0].labels.messageLabel = t.value.message, o.$children[0].onConfirm = t.value.onConfirm, o.$children[0].show(n.target, t.value.placement), e.classList.add(a.f.CONFIRM_OPEN), r && r.classList.remove(a.f.TOOLTIP_TOP), n.preventDefault()
            };
            e.addEventListener("click", n), e.dataset.listenerIndex = g.length, g.push(n)
        },
        unbind: function unbind(e) {
            e.removeEventListener("click", g[e.dataset.listenerIndex])
        }
    }
}, function(e, t) {
    e.exports = function(e) {
        return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", {
            enumerable: !0,
            get: function() {
                return e.l
            }
        }), Object.defineProperty(e, "id", {
            enumerable: !0,
            get: function() {
                return e.i
            }
        }), e.webpackPolyfill = 1), e
    }
}, , , , function(e, t) {
    var n = Array.isArray;
    e.exports = n
}, , , function(e, t, n) {
    "use strict";
    var a = n(9),
        i = n(0),
        o = n(33),
        r = n(18),
        s = {
            name: "pagination-button",
            components: {
                FormButton: o.a,
                IconFont: r.a
            },
            props: {
                content: {
                    type: String,
                    required: !1
                },
                isActive: {
                    type: Boolean,
                    default: !1
                },
                icon: {
                    type: String,
                    required: !1
                },
                isDisabled: {
                    type: Boolean,
                    default: !1
                }
            }
        },
        l = n(204),
        c = n(5);
    var u = Object(c.a)(s, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("form-button", {
                class: [n.$style.component, (e = {}, e[n.$style.active] = n.isActive, e), (t = {}, t[n.$style.disabled] = n.isDisabled, t)],
                attrs: {
                    rel: "nofollow",
                    "aria-selected": n.isActive
                }
            }, [n.icon ? i("icon-font", {
                class: n.$style.icon,
                attrs: {
                    name: n.icon
                }
            }) : n._e(), n._v(" "), n.content ? i("span", {
                class: n.$style.content
            }, [n._v("\n    " + n._s(n.content) + "\n  ")]) : n._e()], 1)
        }, [], !1, function injectStyles(e) {
            this.$style = l.default.locals || l.default
        }, null, null).exports,
        d = {
            name: "pagination-spread"
        },
        p = n(205);
    var h = {
            name: "pagination",
            components: {
                PaginationButton: u,
                PaginationSpread: Object(c.a)(d, function() {
                    var e = this.$createElement,
                        t = this._self._c || e;
                    return t("div", {
                        class: this.$style.component
                    }, [t("span", {
                        class: this.$style.content
                    }, [this._v("...")])])
                }, [], !1, function pagination_spread_injectStyles(e) {
                    this.$style = p.default.locals || p.default
                }, null, null).exports
            },
            props: {
                changePage: {
                    type: Function,
                    required: !0
                },
                currentPage: {
                    type: Number,
                    required: !0
                },
                hasMoreProp: {
                    type: Boolean
                },
                morePages: {
                    type: Boolean,
                    default: !1
                },
                totalPages: {
                    type: Number,
                    default: 0
                },
                scrollTo: {
                    type: String
                },
                shouldHide: {
                    type: Boolean,
                    default: !1
                },
                showFirstLastButtons: {
                    type: Boolean,
                    default: !0
                },
                showTopButton: {
                    type: Boolean,
                    default: !1
                },
                updateURL: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    tabLimit: 4
                }
            },
            computed: {
                firstPage: function firstPage() {
                    return 1 === this.currentPage
                },
                lastPage: function lastPage() {
                    return this.hasMoreProp ? !1 === this.morePages : this.currentPage === this.totalPages
                },
                lastPageIsHidden: function lastPageIsHidden() {
                    return !this.pages.includes(this.totalPages)
                },
                pages: function pages() {
                    if (this.totalPages > 1) return this.generatePagesFromTotalPages();
                    if (this.hasMoreProp && this.morePages && 1 === this.currentPage) return [1, 2];
                    if (this.hasMoreProp && this.morePages && this.currentPage > 1) {
                        for (var pages = [], e = this.currentPage + 1; e > 0; e -= 1) pages.push(e);
                        return pages.reverse()
                    }
                    if (this.hasMoreProp && !this.morePages) {
                        for (var t = [], n = this.currentPage; n > 0; n -= 1) t.push(n);
                        return t.reverse()
                    }
                },
                showLowerEllipsis: function showLowerEllipsis() {
                    return this.currentPage > 1 && -1 === this.pages.indexOf(1) && !this.hasMoreProp
                },
                showPaginator: function showPaginator() {
                    return !this.shouldHide && (!(!this.hasMoreProp && this.totalPages <= 1) && !(this.hasMoreProp && !this.morePages && 1 === this.currentPage))
                },
                showUpperEllipsis: function showUpperEllipsis() {
                    return this.lastPageIsHidden && !this.hasMoreProp
                }
            },
            methods: {
                serialize: function serialize(e) {
                    return Object.keys(e).map(function(t) {
                        return "".concat(encodeURIComponent(t), "=").concat(encodeURIComponent(e[t]))
                    }).join("&")
                },
                isSamePage: function isSamePage(e) {
                    return this.currentPage === e
                },
                generatePagesFromTotalPages: function generatePagesFromTotalPages() {
                    var e = [];
                    if (this.totalPages <= this.tabLimit) {
                        for (var t = 1; t <= this.totalPages; t += 1) e.push(t);
                        return e
                    }
                    if (this.currentPage + this.tabLimit <= this.totalPages) {
                        for (var n = this.currentPage; n < this.currentPage + this.tabLimit; n += 1) e.push(n);
                        return e
                    }
                    for (var a = this.totalPages; a > this.totalPages - 4; a -= 1) e.push(a);
                    return e.reverse()
                },
                goToPageNumber: function goToPageNumber(e) {
                    return this.isSamePage(e) ? i.a.trans("Current Page, Page %pageNumber%", {
                        "%pageNumber%": e
                    }) : i.a.trans("Page %pageNumber%", {
                        "%pageNumber%": e
                    })
                },
                goToTop: function goToTop() {
                    var e = document.getElementById(this.scrollTo);
                    e || (e = document.getElementById(a.f.SCROLL_TOP_ANCHOR)), e.scrollIntoView({
                        behavior: "smooth",
                        block: "start"
                    })
                }
            }
        },
        m = n(206);
    var f = Object(c.a)(h, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [e.showTopButton ? n("pagination-button", {
            class: e.$style.top,
            attrs: {
                icon: "chevron-up",
                "aria-label": e.$trans("Back to Top"),
                content: e.$trans("Top")
            },
            nativeOn: {
                click: function(t) {
                    return e.goToTop()
                }
            }
        }) : e._e(), e._v(" "), e.showPaginator ? n("nav", {
            class: e.$style.pagination
        }, [e.firstPage || e.hasMoreProp || !e.showFirstLastButtons ? e._e() : n("pagination-button", {
            class: e.$style.first,
            attrs: {
                "aria-label": e.$trans("First Page"),
                content: e.$trans("First")
            },
            nativeOn: {
                click: function(t) {
                    return e.changePage(1)
                }
            }
        }), e._v(" "), n("pagination-button", {
            class: e.$style.prev,
            attrs: {
                icon: "chevron-left",
                "aria-label": e.$trans("Previous Page"),
                "is-disabled": e.firstPage
            },
            nativeOn: {
                click: function(t) {
                    return e.changePage(e.currentPage - 1)
                }
            }
        }), e._v(" "), e.showLowerEllipsis ? n("pagination-spread") : e._e(), e._v(" "), e._l(e.pages, function(t, a) {
            return n("pagination-button", {
                key: a,
                attrs: {
                    "aria-label": e.goToPageNumber(t),
                    content: t.toString(),
                    "is-active": e.isSamePage(t),
                    "is-disabled": e.isSamePage(t)
                },
                nativeOn: {
                    click: function(n) {
                        return e.changePage(t)
                    }
                }
            })
        }), e._v(" "), e.showUpperEllipsis ? n("pagination-spread") : e._e(), e._v(" "), n("pagination-button", {
            class: e.$style.next,
            attrs: {
                icon: "chevron-right",
                "aria-label": e.$trans("Next Page"),
                "is-disabled": e.lastPage
            },
            nativeOn: {
                click: function(t) {
                    return e.changePage(e.currentPage + 1)
                }
            }
        }), e._v(" "), e.lastPage || e.hasMoreProp || !e.showFirstLastButtons ? e._e() : n("pagination-button", {
            class: e.$style.last,
            attrs: {
                "aria-label": e.$trans("Last Page"),
                content: e.$trans("Last")
            },
            nativeOn: {
                click: function(t) {
                    return e.changePage(-1)
                }
            }
        })], 2) : e._e()], 1)
    }, [], !1, function pagination_injectStyles(e) {
        this.$style = m.default.locals || m.default
    }, null, null);
    t.a = f.exports
}, function(e, t, n) {
    "use strict";
    var a = n(10);
    t.a = {
        methods: {
            $trans: a.b,
            $transChoice: a.c
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(18),
        i = n(35),
        o = {
            name: "icon-button",
            components: {
                IconFont: a.a
            },
            directives: {
                Tooltip: i.a
            },
            props: {
                action: Function,
                btnColor: String,
                iconName: {
                    type: String,
                    required: !0
                },
                label: {
                    type: String,
                    required: !0
                }
            },
            methods: {
                onClick: function onClick(e) {
                    this.action ? this.action(e) : this.$emit("click", e)
                }
            }
        },
        r = n(247),
        s = n(5);
    var l = Object(s.a)(o, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("button", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: {
                    content: e.label,
                    delay: 100
                },
                expression: "{\n    content: label,\n    delay: 100\n  }"
            }],
            class: [e.$style.link, e.$style[e.btnColor]],
            attrs: {
                type: "button",
                "aria-label": e.label
            },
            on: {
                click: e.onClick
            }
        }, [n("icon-font", {
            class: [e.$style.icon],
            attrs: {
                theme: "primary",
                name: e.iconName
            }
        })], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = r.default.locals || r.default
    }, null, null);
    t.a = l.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    });
    var a = n(23),
        i = function registerModules(e) {
            Object.keys(e).forEach(function(t) {
                var n = e[t];
                a.default.state && a.default.state[t] || a.default.registerModule(t, n)
            })
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "d", function() {
        return searchUsername
    }), n.d(t, "c", function() {
        return reportUser
    }), n.d(t, "b", function() {
        return fetchUserPopoverData
    }), n.d(t, "a", function() {
        return fetchReportReasonsData
    });
    var a = n(12),
        i = n(11),
        o = n(7);

    function searchUsername(e) {
        return i.default.get(a.o.usernameSearch({
            query: e
        }))
    }

    function reportUser(e) {
        return i.default.post(o.a.generate(a.e.REPORT_USER), {
            abuser_username: e.username,
            reason_id: e.picked,
            other_reason: e.otherReason,
            block_user: e.blockUser,
            reporter_url: window.location.href
        })
    }

    function fetchUserPopoverData(e) {
        return new Promise(function(t, n) {
            e && "null" !== e || n(new Error("Username was not given."));
            var r = o.a.generate(a.e.USER_POPUP, {
                username: e
            });
            t(i.default.get(r))
        })
    }

    function fetchReportReasonsData() {
        var e = o.a.generate("web_user_callback_report_reasons");
        return i.default.get(e)
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-input-component",
        darkMode: "form-input-darkMode",
        input: "form-input-input",
        textarea: "form-input-textarea",
        wrapper: "form-input-wrapper",
        icon: "form-input-icon",
        left: "form-input-left",
        right: "form-input-right",
        large: "form-input-large"
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-select-component",
        darkMode: "form-select-darkMode",
        icon: "form-select-icon",
        large: "form-select-large"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "confirm-popover-modal",
        messageLabel: "confirm-popover-messageLabel",
        buttons: "confirm-popover-buttons",
        regular: "confirm-popover-regular"
    }
}, function(e, t, n) {
    e.exports = {
        component: "pagination-button-component",
        icon: "pagination-button-icon",
        content: "pagination-button-content",
        disabled: "pagination-button-disabled",
        active: "pagination-button-active"
    }
}, function(e, t, n) {
    e.exports = {
        component: "pagination-spread-component",
        content: "pagination-spread-content"
    }
}, function(e, t, n) {
    e.exports = {
        component: "pagination-component",
        wrapper: "pagination-wrapper",
        pagination: "pagination-pagination",
        first: "pagination-first",
        prev: "pagination-prev",
        last: "pagination-last",
        next: "pagination-next",
        top: "pagination-top"
    }
}, function(e, t) {
    var n = Object.prototype;
    e.exports = function isPrototype(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || n)
    }
}, function(e, t, n) {
    var a = n(85),
        i = n(55),
        o = "[object AsyncFunction]",
        r = "[object Function]",
        s = "[object GeneratorFunction]",
        l = "[object Proxy]";
    e.exports = function isFunction(e) {
        if (!i(e)) return !1;
        var t = a(e);
        return t == r || t == s || t == o || t == l
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "section-title",
            components: {
                IconFont: n(18).a
            },
            props: {
                icon: {
                    type: String,
                    required: !1
                }
            },
            methods: {
                close: function close(e) {
                    this.$emit("close", e)
                }
            }
        },
        i = n(239),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [e.icon ? n("div", {
            staticClass: "icon-font-chess",
            class: [e.$style["main-icon"], e.icon]
        }) : e._e(), e._v(" "), n("span", {
            class: e.$style.name
        }, [e._t("default")], 2), e._v(" "), n("div", {
            staticClass: "icon-font-chess x",
            class: e.$style.icon,
            on: {
                click: e.close
            }
        })])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    }), n.d(t, "c", function() {
        return o
    }), n.d(t, "d", function() {
        return r
    }), n.d(t, "e", function() {
        return s
    }), n.d(t, "f", function() {
        return l
    });
    n(7);
    var a = {
            speedChessChampionshipUrl: "data-speed-chess-championship-url",
            challengeUser: "data-challenge-user",
            loginAndGoRoute: "data-route-login-and-go",
            registerRoute: "data-route-register",
            routes: "data-routes",
            showChallengeUser: "data-show-challenge-user"
        },
        i = {
            CLOSE: "close",
            COLLAPSED: "collapsed",
            HOVER: "hover",
            NO_REDIRECT: "noredirect",
            OPEN: "open",
            WIDE: "wide"
        },
        o = {
            CLOSE_SHAREABLE_URL_MODAL: "CLOSE_SHAREABLE_URL_MODAL",
            OPEN_SHAREABLE_URL_MODAL: "OPEN_SHAREABLE_URL_MODAL",
            SEND_NEW_GAME_SEEK: "SEND_NEW_GAME_SEEK",
            SEND_NEW_GAME_SEEK_SUCCESS: "SEND_NEW_GAME_SEEK_SUCCESS",
            SHOW_NEW_GAME_MODAL: "SHOW_NEW_GAME_MODAL",
            START_DIRECT_CHAT: "START_DIRECT_CHAT"
        },
        r = {
            MOBILE_WIDTH: 960,
            TOOLTIP_OFFSET: 8
        },
        s = {
            COLLAPSED: 50,
            DEFAULT: 145,
            MOBILE: 0,
            WIDE: 180
        },
        l = {
            FRIEND_RESULTS: ".svelte-friend-result",
            LESSONS_CONTAINER: ".lessons-container",
            LOGOUT_FORM: ".form.logout",
            LOGOUT_TRIGGER: "#sb .logout",
            MAIN_NAV: "#sb",
            MAIN_NAV_CONNECT_LINK: "#sb .link.connect",
            MAIN_NAV_HOME_LINK: "#sb .link.home",
            MAIN_NAV_LINKS: "#sb .menu > .link",
            MAIN_NAV_LOGIN_LINK: "#sb .login",
            MAIN_NAV_PLAY_LINK: "#sb .link.play",
            MAIN_NAV_REGISTER_LINK: ".signup.register",
            MAIN_TOP_NAV: "#sb .menu.top",
            MAIN_TOP_NAV_LINKS: "#sb .menu.top > .link",
            TOOLTIP: ".svelte-tooltip",
            TOOLTIP_TRIGGER: "[data-tooltip-content]"
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return s
    }), n.d(t, "b", function() {
        return l
    }), n.d(t, "c", function() {
        return c
    }), n.d(t, "d", function() {
        return u
    }), n.d(t, "e", function() {
        return d
    }), n.d(t, "f", function() {
        return p
    });
    var a = n(41),
        i = n(7),
        o = n(0),
        r = Object(a.d)().slice(0, -13),
        s = {
            BACKGROUND: "data-background",
            CHESS_TV_EXTRA_BUTTONS: "data-chess-tv-extra-buttons"
        },
        l = {
            SOCIAL_INVITE: "social-invite",
            SOCIAL_SHARE: "social-share"
        },
        c = {
            android: function android() {
                return i.a.generate("web_play_app_view", {
                    type: "android"
                }, !0)
            },
            ios: function ios() {
                return i.a.generate("web_play_app_view", {
                    type: "ios"
                }, !0)
            },
            index: function index() {
                return i.a.generate("web_index", {}, !0)
            },
            register: function register() {
                return i.a.generate("web_security_register", {}, !0)
            },
            windows: function windows() {
                return i.a.generate("web_play_app_view", {
                    type: "windows-phone"
                }, !0)
            }
        },
        u = {
            discord: function discord() {
                return "https://discordapp.com/invite/VYJV9H3"
            },
            facebook: function facebook() {
                return "http://www.facebook.com/sharer.php?u=".concat(Object(a.c)())
            },
            linkedin: function linkedin() {
                return "https://www.linkedin.com/shareArticle?mini=true&url=".concat(Object(a.c)(), "&title=").concat(Object(a.d)(), "&summary=").concat(Object(a.d)(), "&source=Chess.com")
            },
            reddit: function reddit() {
                return "http://reddit.com/r/chess/submit?url=".concat(Object(a.c)(), "&title=").concat(Object(a.d)())
            },
            stumbleupon: function stumbleupon() {
                return "http://www.stumbleupon.com/submit?url=".concat(Object(a.c)(), "&title=").concat(Object(a.d)())
            },
            tumblr: function tumblr() {
                return "http://www.tumblr.com/share/link?url=".concat(Object(a.c)(), "&name=").concat(Object(a.d)(), "&description=").concat(Object(a.d)())
            },
            twitch: function twitch() {
                return "https://www.chess.com/twitch"
            },
            twitter: function twitter() {
                return "https://twitter.com/intent/tweet?text=".concat(r, "&url=").concat(Object(a.c)())
            }
        },
        d = {
            addFavorites: o.a.trans("Add to Favorites"),
            android: o.a.trans("Android App"),
            discord: o.a.trans("Discord"),
            facebook: o.a.trans("Facebook"),
            gamesToday: o.a.trans("Games Today"),
            google: o.a.trans("Google+"),
            instagram: o.a.trans("Instagram"),
            ios: o.a.trans("iOS App"),
            members: o.a.trans("Members"),
            playersOnline: o.a.trans("Players Online"),
            print: o.a.trans("Print"),
            titledOnline: o.a.trans("Titled Online"),
            twitch: o.a.trans("Twitch"),
            twitter: o.a.trans("Twitter"),
            windows: o.a.trans("Windows App"),
            youtube: o.a.trans("Youtube"),
            sendEmail: o.a.trans("Send by Mail"),
            shareFacebook: o.a.trans("Share on Facebook"),
            shareGplus: o.a.trans("Share on Google Plus"),
            shareLinkedIn: o.a.trans("Share on LinkedIn"),
            shareReddit: o.a.trans("Share on Reddit"),
            shareStumbleUpon: o.a.trans("Share on StumbleUpon"),
            shareTumblr: o.a.trans("Post to Tumblr"),
            shareTwitter: o.a.trans("Share on Twitter"),
            showMore: o.a.trans("Show More")
        },
        p = {
            facebook: "https://www.facebook.com/chess",
            instagram: "https://www.instagram.com/wwwchesscom/",
            twitch: "https://www.twitch.tv/chess",
            twitter: "https://twitter.com/chesscom",
            youtube: "https://www.youtube.com/user/wwwChesscom"
        }
}, function(e, t) {
    e.exports = function identity(e) {
        return e
    }
}, function(e, t, n) {
    var a = n(359),
        i = n(362);
    e.exports = function getNative(e, t) {
        var n = i(e, t);
        return a(n) ? n : void 0
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "form-dropdown",
            components: {
                IconFont: n(18).a
            },
            props: {
                advancedOptionsClass: {
                    type: Boolean,
                    default: !1
                },
                alignDropdown: {
                    type: String,
                    default: "right"
                },
                colorIcons: {
                    type: Boolean,
                    default: !1
                },
                countryFlag: {
                    type: Number,
                    default: 2
                },
                iconButton: {
                    type: String,
                    default: ""
                },
                labelKey: {
                    type: String,
                    default: "label"
                },
                onChange: {
                    type: Function,
                    required: !1
                },
                options: {
                    type: Array,
                    required: !0
                },
                overlay: {
                    type: Boolean,
                    default: !1
                },
                shortTitle: {
                    type: Boolean,
                    default: !1
                },
                shortTitleKey: {
                    type: String,
                    default: "shortTitle"
                },
                value: {
                    type: Object,
                    required: !0
                },
                valueKey: {
                    type: String,
                    default: "value"
                }
            },
            data: function data() {
                return {
                    showOptions: !1
                }
            },
            methods: {
                setSelectedOption: function setSelectedOption(e) {
                    this.toggleOptions(), this.value !== e && (this.$emit("input", e), this.onChange && this.onChange(e))
                },
                toggleOptions: function toggleOptions() {
                    this.showOptions = !this.showOptions
                }
            }
        },
        i = n(107),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e, t, n, a = this,
            i = a.$createElement,
            o = a._self._c || i;
        return o("div", {
            class: a.$style.component
        }, [a.iconButton ? o("div", {
            class: (e = {}, e[a.$style["mobile-button"]] = a.iconButton, e),
            on: {
                click: function(e) {
                    return a.toggleOptions()
                }
            }
        }, [o("icon-font", {
            class: a.$style.filter,
            attrs: {
                name: a.iconButton
            }
        })], 1) : a._e(), a._v(" "), o("div", {
            class: [a.$style.select, (t = {}, t[a.$style["desktop-button"]] = a.iconButton, t)],
            on: {
                click: function(e) {
                    return a.toggleOptions()
                }
            }
        }, [a.value.icon ? o("icon-font", {
            class: a.$style.icon,
            attrs: {
                theme: "primary",
                name: a.value.icon
            }
        }) : a._e(), a._v(" "), a.value.countryId ? o("div", {
            class: [a.$style.flag, "country-flags-component country-flags-large country-" + a.value.countryId]
        }) : a._e(), a._v(" "), o("span", {
            class: a.$style.value
        }, [a._v(a._s(a.value[a.labelKey]) + "‎")]), a._v(" "), o("icon-font", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: a.showOptions,
                expression: "showOptions"
            }],
            class: a.$style.chevron,
            attrs: {
                name: "chevron-up"
            }
        }), a._v(" "), o("icon-font", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !a.showOptions,
                expression: "!showOptions"
            }],
            class: a.$style.chevron,
            attrs: {
                name: "chevron-bottom"
            }
        })], 1), a._v(" "), a.overlay ? o("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: a.showOptions,
                expression: "showOptions"
            }],
            class: a.$style.overlay,
            on: {
                click: function(e) {
                    return a.toggleOptions()
                }
            }
        }) : a._e(), a._v(" "), o("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: a.showOptions,
                expression: "showOptions"
            }],
            class: [a.$style.options, (n = {}, n[a.$style["advanced-options"]] = a.advancedOptionsClass, n), [a.$style[a.alignDropdown]]]
        }, a._l(a.options, function(e) {
            var t, n;
            return e.separator ? e.separator ? o("span", {
                class: a.$style.separator
            }) : a._e() : o("span", {
                key: e[a.valueKey],
                class: [a.$style.option, (t = {}, t[a.$style.selected] = e === a.value, t)],
                on: {
                    click: function(t) {
                        return a.setSelectedOption(e)
                    }
                }
            }, [e.icon && !e.noIconInsideDropdown ? o("icon-font", {
                class: [a.$style.icon, (n = {}, n[a.$style[e.icon]] = a.colorIcons, n)],
                attrs: {
                    theme: "primary",
                    name: e.icon
                }
            }) : a._e(), a._v(" "), e.countryId ? o("div", {
                class: [a.$style.flag, "country-flags-component country-" + e.countryId]
            }) : a._e(), a._v(" "), a.shortTitle ? o("span", {
                class: a.$style["short-title"]
            }, [a._v("\n        " + a._s(e[a.shortTitleKey]) + "\n      ")]) : a._e(), a._v(" "), o("span", {
                class: a.$style.label
            }, [a._v("\n        " + a._s(e[a.labelKey]) + "\n      ")])], 1)
        }), 0)])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = function isValidEmail(e) {
            return /^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/.test(e)
        },
        i = function isValidUsername(e) {
            return "string" == typeof e && e.length >= 3 && e.length <= 20 && /^[0-9A-Z\u017F\u212A]+([\x2D_][0-9A-Z\u017F\u212A]+)*$/i.test(e)
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return _async
    }), n.d(t, "b", function() {
        return _await
    }), n.d(t, "d", function() {
        return _continueIgnored
    }), n.d(t, "c", function() {
        return _catch
    });

    function _async(e) {
        return function() {
            for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
            try {
                return Promise.resolve(e.apply(this, t))
            } catch (e) {
                return Promise.reject(e)
            }
        }
    }

    function _await(e, t, n) {
        return n ? t ? t(e) : e : (e && e.then || (e = Promise.resolve(e)), t ? e.then(t) : e)
    }

    function _continueIgnored(e) {
        if (e && e.then) return e.then(_empty)
    }

    function _catch(e, t) {
        try {
            var n = e()
        } catch (e) {
            return t(e)
        }
        return n && n.then ? n.then(void 0, t) : n
    }

    function _empty() {}
}, function(e, t, n) {
    "use strict";
    var a = n(110),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(111),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    var a = n(349),
        i = n(350),
        o = n(351),
        r = n(352),
        s = n(353);

    function ListCache(e) {
        var t = -1,
            n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n;) {
            var a = e[t];
            this.set(a[0], a[1])
        }
    }
    ListCache.prototype.clear = a, ListCache.prototype.delete = i, ListCache.prototype.get = o, ListCache.prototype.has = r, ListCache.prototype.set = s, e.exports = ListCache
}, function(e, t, n) {
    var a = n(145);
    e.exports = function assocIndexOf(e, t) {
        for (var n = e.length; n--;)
            if (a(e[n][0], t)) return n;
        return -1
    }
}, function(e, t) {
    e.exports = function eq(e, t) {
        return e === t || e != e && t != t
    }
}, function(e, t, n) {
    var a = n(137)(Object, "create");
    e.exports = a
}, function(e, t, n) {
    var a = n(372);
    e.exports = function getMapData(e, t) {
        var n = e.__data__;
        return a(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-textarea-component",
        darkMode: "form-textarea-darkMode",
        autosize: "form-textarea-autosize",
        vertical: "form-textarea-vertical",
        "full-width": "form-textarea-full-width"
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-checkbox-component",
        checkbox: "form-checkbox-checkbox",
        label: "form-checkbox-label"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(82),
        i = n.n(a),
        o = n(309),
        r = n.n(o).a;
    t.a = new class logger_AmplitudeLogger {
        init() {
            if (this.initialized) return !0;
            var e = window.context || {};
            return i.a.getInstance().init(e.amplitudeKey, null, {
                includeUtm: !0,
                includeReferrer: !0,
                includeGclid: !0
            }), null != e && null != e.user && i.a.getInstance().setUserId(e.user.id), this.initialized = !0, !0
        }
        logEvent(e, t, n, a) {
            var o = this,
                r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0;
            this.init() ? (this.setUserProperties(n), this.incrementUserProperties(a), i.a.getInstance().logEvent(e, t || {})) : r < 3 && setTimeout(function() {
                o.logEvent(e, t, n, a, r + 1)
            }, 1e3)
        }
        setUserProperties(e) {
            this.init() && null != e && i.a.getInstance().setUserProperties(e)
        }
        incrementUserProperties(e) {
            if (this.init() && null != e) {
                var t = new i.a.Identify;
                r(e, function(e, n) {
                    t.add(n, e)
                }), i.a.getInstance().identify(t)
            }
        }
        logSocialShare() {
            this.logEvent("Social - SocialShare", null, null, {
                numSocialShares: 1
            })
        }
        logOnboardChangeAvatar(e) {
            this.logEvent("Onboard - Avatar", null, {
                hasAvatar: e
            })
        }
        logOnboardChangeTheme(e) {
            this.logEvent("Onboard - Theme", null, {
                themeName: e
            })
        }
        logAccountClose(e) {
            this.logEvent("User - AccountClose", e)
        }
        logStartCheckout(e) {
            var t = e.plan,
                n = e.version,
                a = e.userProps;
            this.logEvent("Upgrade - Checkout", {
                plan: t,
                version: n
            }, a)
        }
        logSubmitPayment(e) {
            this.logEvent("Upgrade - SubmitPayment", {
                auth: e
            })
        }
        logAccountDowngrade(e, t) {
            this.logEvent("Upgrade - Cancel", e, t)
        }
        logAccountDowngradeTrial(e, t) {
            this.logEvent("Upgrade - CancelTrial", e, t)
        }
        logVideoComplete(e, t, n, a) {
            this.logEvent("Videos - Complete", {
                skillLevels: e,
                category: t,
                title: n,
                author: a
            })
        }
        logVideoStart(e, t, n, a) {
            this.logEvent("Videos - Start", {
                skillLevels: e,
                category: t,
                title: n,
                author: a
            }, null, {
                numVideos: 1
            })
        }
    }
}, function(e, t) {
    var n = 9007199254740991;
    e.exports = function isLength(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= n
    }
}, function(e, t, n) {
    "use strict";
    (function(e) {
        var n = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {};
        t.a = n
    }).call(this, n(304))
}, , , function(e, t, n) {
    e.exports = {
        component: "loader-three-bounce-component",
        circle: "loader-three-bounce-circle",
        dot: "loader-three-bounce-dot",
        animate: "loader-three-bounce-animate",
        bounce1: "loader-three-bounce-bounce1",
        bounce2: "loader-three-bounce-bounce2"
    }
}, function(e, t, n) {
    e.exports = {
        component: "confirm-popover-inline-component",
        inner: "confirm-popover-inline-inner",
        top: "confirm-popover-inline-top",
        right: "confirm-popover-inline-right",
        bottom: "confirm-popover-inline-bottom",
        left: "confirm-popover-inline-left",
        message: "confirm-popover-inline-message",
        buttons: "confirm-popover-inline-buttons",
        button: "confirm-popover-inline-button"
    }
}, function(e, t, n) {
    e.exports = {
        component: "section-title-dismissible-component",
        icon: "section-title-dismissible-icon",
        "main-icon": "section-title-dismissible-main-icon",
        name: "section-title-dismissible-name"
    }
}, function(e, t, n) {
    e.exports = {
        component: "modal-chessboard-container-component",
        "chessboard-mirror": "modal-chessboard-container-chessboard-mirror",
        "no-pointer-events": "modal-chessboard-container-no-pointer-events",
        bg: "modal-chessboard-container-bg",
        transition: "modal-chessboard-container-transition",
        enter: "modal-chessboard-container-enter",
        leave: "modal-chessboard-container-leave",
        "right-to-left": "modal-chessboard-container-right-to-left"
    }
}, function(e, t, n) {
    e.exports = {
        component: "adyen-card-deprecated-component",
        "text-center": "adyen-card-deprecated-text-center",
        label: "adyen-card-deprecated-label",
        loader: "adyen-card-deprecated-loader",
        input: "adyen-card-deprecated-input",
        "input-error": "adyen-card-deprecated-input-error",
        "new-card": "adyen-card-deprecated-new-card",
        button: "adyen-card-deprecated-button",
        "card-detail-row": "adyen-card-deprecated-card-detail-row",
        "saved-card": "adyen-card-deprecated-saved-card",
        "saved-expiration": "adyen-card-deprecated-saved-expiration",
        "saved-change": "adyen-card-deprecated-saved-change"
    }
}, function(e, t, n) {
    e.exports = {
        component: "adyen-card-new-component",
        "text-center": "adyen-card-new-text-center",
        label: "adyen-card-new-label",
        loader: "adyen-card-new-loader",
        input: "adyen-card-new-input",
        "input-error": "adyen-card-new-input-error",
        "new-card": "adyen-card-new-new-card",
        button: "adyen-card-new-button",
        "card-detail-row": "adyen-card-new-card-detail-row",
        "saved-card": "adyen-card-new-saved-card",
        "saved-expiration": "adyen-card-new-saved-expiration",
        "saved-change": "adyen-card-new-saved-change"
    }
}, function(e, t, n) {
    e.exports = {
        component: "paypal-component",
        "text-center": "paypal-text-center",
        button: "paypal-button"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-membership-icon-component",
        "level-30": "user-membership-icon-level-30",
        gold: "user-membership-icon-gold",
        "level-40": "user-membership-icon-level-40",
        platinum: "user-membership-icon-platinum",
        "level-50": "user-membership-icon-level-50",
        diamond: "user-membership-icon-diamond",
        "level-90": "user-membership-icon-level-90",
        staff: "user-membership-icon-staff",
        "level-80": "user-membership-icon-level-80",
        mod: "user-membership-icon-mod",
        moderator: "user-membership-icon-moderator",
        "level-5": "user-membership-icon-level-5",
        "level-8": "user-membership-icon-level-8",
        cheater: "user-membership-icon-cheater",
        unspecifiedClosed: "user-membership-icon-unspecifiedClosed",
        "level-6": "user-membership-icon-level-6",
        abuser: "user-membership-icon-abuser",
        "level-7": "user-membership-icon-level-7",
        voluntarilyClosed: "user-membership-icon-voluntarilyClosed",
        "level-10": "user-membership-icon-level-10",
        basic: "user-membership-icon-basic",
        level: "user-membership-icon-level",
        middle: "user-membership-icon-middle",
        large: "user-membership-icon-large",
        responsive: "user-membership-icon-responsive",
        "x-large": "user-membership-icon-x-large"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "modal-gift-membership-modal",
        header: "modal-gift-membership-header",
        title: "modal-gift-membership-title",
        close: "modal-gift-membership-close",
        icon: "modal-gift-membership-icon",
        plans: "modal-gift-membership-plans",
        plan: "modal-gift-membership-plan",
        paymentinfo: "modal-gift-membership-paymentinfo",
        methods: "modal-gift-membership-methods",
        paymentmethods: "modal-gift-membership-paymentmethods",
        methodicon: "modal-gift-membership-methodicon",
        paypal: "modal-gift-membership-paypal",
        card: "modal-gift-membership-card",
        anothercard: "modal-gift-membership-anothercard",
        info: "modal-gift-membership-info",
        terms: "modal-gift-membership-terms",
        submit: "modal-gift-membership-submit",
        order: "modal-gift-membership-order",
        promo: "modal-gift-membership-promo",
        message: "modal-gift-membership-message",
        benefits: "modal-gift-membership-benefits",
        benefit: "modal-gift-membership-benefit",
        pict: "modal-gift-membership-pict",
        puzzle: "modal-gift-membership-puzzle",
        lesson: "modal-gift-membership-lesson",
        video: "modal-gift-membership-video",
        analysis: "modal-gift-membership-analysis",
        explorer: "modal-gift-membership-explorer",
        noads: "modal-gift-membership-noads",
        "payment-processing": "modal-gift-membership-payment-processing",
        "receipt-button": "modal-gift-membership-receipt-button"
    }
}, function(e, t, n) {
    e.exports = {
        link: "icon-button-link",
        icon: "icon-button-icon",
        label: "icon-button-label",
        blue: "icon-button-blue",
        grey: "icon-button-grey",
        red: "icon-button-red"
    }
}, function(e, t, n) {
    e.exports = {
        link: "labeled-icon-button-link",
        icon: "labeled-icon-button-icon",
        label: "labeled-icon-button-label",
        blue: "labeled-icon-button-blue",
        grey: "labeled-icon-button-grey",
        red: "labeled-icon-button-red"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(39),
        i = {
            name: "form-select",
            components: {
                IconFont: n(18).a
            },
            mixins: [a.a],
            props: {
                ariaLabel: {
                    type: String,
                    required: !1
                },
                emptyOption: {
                    type: String
                },
                icon: {
                    type: String,
                    default: "caret-down"
                },
                id: {
                    type: String,
                    required: !1
                },
                labelKey: {
                    type: String,
                    default: "label"
                },
                name: {
                    type: String,
                    required: !1
                },
                onChange: {
                    type: Function,
                    required: !1
                },
                options: {
                    type: Array,
                    required: !0
                },
                placeholderText: {
                    type: String,
                    required: !1
                },
                size: {
                    type: String,
                    required: !1
                },
                value: {
                    type: [String, Number],
                    required: !1
                },
                valueKey: {
                    type: String,
                    default: "value"
                }
            },
            methods: {
                getLabel: function getLabel(e) {
                    return this.labelKey ? e[this.labelKey] : e
                },
                getValue: function getValue(e) {
                    return this.valueKey ? e[this.valueKey] : e
                },
                setSelectedOption: function setSelectedOption(e) {
                    this.$emit("input", e), this.onChange && this.onChange()
                }
            }
        },
        o = n(202),
        r = n(5);
    var s = Object(r.a)(i, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("select", {
            class: e.$style[e.size],
            attrs: {
                "aria-label": e.ariaLabel,
                id: e.id,
                name: e.name
            },
            on: {
                change: function(t) {
                    return e.setSelectedOption(t.target.value)
                }
            }
        }, [e.placeholderText ? n("option", {
            attrs: {
                disabled: "",
                hidden: "",
                selected: "",
                value: ""
            }
        }, [e._v("\n      " + e._s(e.placeholderText) + "\n    ")]) : e._e(), e._v(" "), e.emptyOption ? n("option", {
            attrs: {
                selected: "",
                value: ""
            }
        }, [e._v("\n      " + e._s(e.emptyOption) + "\n    ")]) : e._e(), e._v(" "), e._l(e.options, function(t, a) {
            return n("option", {
                key: a,
                attrs: {
                    disabled: t.disabled,
                    hidden: t.hidden
                },
                domProps: {
                    selected: e.getValue(t) === e.value,
                    value: e.getValue(t)
                }
            }, [e._v(e._s(e.getLabel(t)) + "\n    ")])
        })], 2), e._v(" "), n("icon-font", {
            class: e.$style.icon,
            attrs: {
                theme: "primary",
                name: e.icon
            }
        })], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = o.default.locals || o.default
    }, null, null);
    t.a = s.exports
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(17),
        r = n(20),
        s = n(420);
    t.a = {
        data: function data() {
            return {
                isDarkMode: o.c("isDarkMode")
            }
        },
        mounted: function mounted() {
            var e = this;
            s.a.$on(r.j.DARK_MODE_CHANGE, function(t) {
                e.isDarkMode = t
            })
        },
        methods: {
            componentClasses: function componentClasses() {
                var e;
                return e = {}, i()(e, this.$style.component, !0), i()(e, this.$style.darkMode, this.isDarkMode), e
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(35),
        i = n(12),
        o = {
            name: "user-chess-title",
            directives: {
                Tooltip: a.a
            },
            props: {
                title: {
                    type: String,
                    required: !0
                },
                url: {
                    type: String,
                    required: !1
                }
            },
            data: function data() {
                return {
                    fullTitle: i.h[this.title]
                }
            },
            computed: {
                isLink: function isLink() {
                    return Boolean(this.url)
                }
            }
        },
        r = n(263),
        s = n(5);
    var l = Object(s.a)(o, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.isLink ? n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.fullTitle,
                expression: "fullTitle"
            }],
            class: e.$style.component,
            attrs: {
                href: e.url
            },
            domProps: {
                textContent: e._s(e.title)
            }
        }) : n("span", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.fullTitle,
                expression: "fullTitle"
            }],
            class: e.$style.component,
            domProps: {
                textContent: e._s(e.title)
            }
        })
    }, [], !1, function injectStyles(e) {
        this.$style = r.default.locals || r.default
    }, null, null);
    t.a = l.exports
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "user-username",
            props: {
                theme: {
                    type: String,
                    required: !0
                },
                isClickable: {
                    type: Boolean,
                    default: !0
                },
                url: {
                    type: String,
                    required: !1
                },
                username: {
                    type: String,
                    required: !0
                },
                openNewTab: {
                    type: Boolean,
                    required: !1
                }
            },
            computed: {
                getTargetIfClickable: function getTargetIfClickable() {
                    return this.openNewTab ? "_blank" : null
                },
                isLink: function isLink() {
                    return Boolean(this.url)
                }
            }
        },
        i = n(264),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e, t = this,
            n = t.$createElement;
        return (t._self._c || n)(t.isClickable ? "a" : "span", {
            tag: "component",
            class: [t.$style.component, t.$style[t.theme], (e = {}, e[t.$style.link] = t.isClickable, e)],
            attrs: {
                href: t.isClickable ? t.url : null,
                target: t.getTargetIfClickable
            },
            domProps: {
                textContent: t._s(t.username)
            }
        })
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, , function(e, t, n) {
    "use strict";
    var a = n(12),
        i = {
            name: "user-membership-icon",
            props: {
                membership: {
                    type: Number,
                    required: !0
                },
                size: {
                    type: String
                }
            },
            data: function data() {
                return {
                    membershipIcon: a.l[this.membership]
                }
            },
            computed: {
                isBasic: function isBasic() {
                    return this.membership === a.k.basic
                }
            }
        },
        o = n(245),
        r = n(5);
    var s = Object(r.a)(i, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.membershipIcon && !e.isBasic ? n("span", {
            class: [e.$style["level-" + e.membership], e.$style["" + e.size], e.$style.component]
        }) : e._e()
    }, [], !1, function injectStyles(e) {
        this.$style = o.default.locals || o.default
    }, null, null);
    t.a = s.exports
}, , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = {
            default: ["#B58863", "#F0D9B5", null, ".png", "#ffff33"],
            "8_bit": ["#6a9b41", "#f3f3f4", "8_bit", ".png", "#ffff33"],
            bases: ["#c26b38", "#efcca1", "bases", ".jpg", "#f5cc2a"],
            blue: ["#4D6D92", "#ECECD7", "blue", ".png", "#00a5ff"],
            brown: ["#B58863", "#F0D9B5", "brown", ".png", "#ffff33"],
            bubblegum: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            burled_wood: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            dark_wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            dash: ["#6b3a27", "#bd9257", "dash", ".jpg", "#eca722"],
            glass: ["#282f3f", "#667188", "glass", ".png", "#5b91b3"],
            graffiti: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            green: ["#779952", "#edeed1", "green", ".png", "#ffff33"],
            icy_sea: ["#7a9db2", "#c5d5dc", "icy_sea", ".jpg", "#5ed7f1"],
            light: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            lolz: ["#909898", "#e0e9e9", "lolz", ".jpg", "#a3becd"],
            marble: ["#706b66", "#c7bdaa", "marble", ".jpg", "#f0db86"],
            metal: ["#6e6e6e", "#c9c9c9", "metal", ".jpg", "#a3becd"],
            nature: ["#8c976e", "#c3d1a4", "translucent", ".png", "#eef396"],
            neon: ["#636363", "#b9b9b9", "neon", ".png", "#6d90a6"],
            newspaper: ["#5a5956", "#5a5956", "newspaper", ".jpg", "#99976e"],
            orange: ["#D08B18", "#FCE4B2", "orange", ".png", "#ffff33"],
            overlay: ["#789ebd", "#4878a0", "overlay", ".png", "#0d9acf"],
            parchment: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            purple: ["#8877B7", "#EFEFEF", "purple", ".png", "#7dacc9"],
            red: ["#BA5546", "#F0D8BF", "red", ".png", "#f8f893"],
            sand: ["#b8a590", "#e5d3c4", "sand", ".jpg", "#e2bc87"],
            sky: ["#c2d7e2", "#efefef", "sky", ".png", "#65daf7"],
            stone: ["#666463", "#c8c3bd", "stone", ".jpg", "#36525f"],
            tan: ["#D08B18", "#FCE4B2", "tan", ".png", "#f7d84a"],
            tournament: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            translucent: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            walnut: ["#835f42", "#c0a684", "walnut", ".jpg", "#d1a52d"],
            wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            grey: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            pink: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            natural: ["#D08B18", "#FCE4B2", "tan", ".png", "#f0e464"],
            winboard: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            blackwhite: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            marbleblue: ["#c2d7e2", "#efefef", "marbleblue", ".jpg", "#65daf7"],
            marblebrown: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            marblegreen: ["#706b66", "#c7bdaa", "marblegreen", ".jpg", "#f0db86"],
            wooddark: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            woodlight: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            woodmid: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            woodolive: ["#6e6e6e", "#c9c9c9", "woodolive", ".jpg", "#a3becd"]
        },
        i = {
            modern2: {
                imgPath: "modern",
                imgFormat: ".png"
            },
            lines: {
                imgPath: "alpha",
                imgFormat: ".png"
            },
            "3dwood": {
                imgPath: "3d_wood",
                imgFormat: ".png"
            },
            "3dplastic": {
                imgPath: "3d_plastic",
                imgFormat: ".png"
            },
            "3dchesskid": {
                imgPath: "3d_chesskid",
                imgFormat: ".png"
            }
        }
}, function(e, t, n) {
    (function(e) {
        var a = n(74),
            i = n(294),
            o = t && !t.nodeType && t,
            r = o && "object" == typeof e && e && !e.nodeType && e,
            s = r && r.exports === o ? a.Buffer : void 0,
            l = (s ? s.isBuffer : void 0) || i;
        e.exports = l
    }).call(this, n(113)(e))
}, function(e, t, n) {
    "use strict";
    var a = n(24),
        i = n.n(a),
        o = n(68),
        r = n(41);
    t.a = class BoardHelper {
        static getAnimationType(e) {
            return "battle" === e ? "default" : e
        }
        static getAnimationTypes(e, t) {
            if (!Array.isArray(e)) return e;
            var n = i()(e),
                a = ["battle"];
            return o.c.pieces.indexOf(t) >= 0 && (a = a.concat(o.c.animations)), a.forEach(function(e) {
                var t = n.findIndex(function(t) {
                    return t.code === e
                });
                t > -1 && n.splice(t, 1)
            }), n
        }
        static getPieceStyles(e) {
            if (!Array.isArray(e) || "IE" !== Object(r.b)().name) return e;
            var t = e.findIndex(function(e) {
                return "real3d" === e.code
            });
            return t > -1 && e.splice(t, 1), e
        }
        static getCoordinatePositioning(e) {
            var t = o.b.find(function(t) {
                return [t.key, t.value].includes(e)
            });
            return t ? t.value : null
        }
        static pieceChangeRequiresRefresh(e, t) {
            var n = e === t,
                a = o.c.pieces.indexOf(e) > -1 || o.c.pieces.indexOf(t) > -1;
            return !n && a
        }
        static animationChangeRequiresRefresh(e, t) {
            return o.c.animations.indexOf(e) > -1 || o.c.animations.indexOf(t) > -1
        }
        static validateSize(e, t, n, a) {
            var i = Math.min(e, t);
            return i = Math.max(i, n), i = (i = Math.floor(i / a) * a) >= n ? i : i + a
        }
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-avatar-component",
        link: "user-avatar-link",
        status: "user-avatar-status",
        online: "user-avatar-online",
        live: "user-avatar-live",
        image: "user-avatar-image"
    }
}, function(e, t, n) {
    e.exports = {
        component: "account-not-activated-component",
        first: "account-not-activated-first",
        alert: "account-not-activated-alert"
    }
}, function(e, t, n) {
    e.exports = {
        component: "select-trophy-component",
        pagination: "select-trophy-pagination",
        top: "select-trophy-top",
        bottom: "select-trophy-bottom",
        "trophies-grid": "select-trophy-trophies-grid",
        trophy: "select-trophy-trophy",
        "trophy-image": "select-trophy-trophy-image",
        search: "select-trophy-search",
        "pagination-wrapper": "select-trophy-pagination-wrapper"
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-error-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "send-trophy-component",
        change: "send-trophy-change",
        textarea: "send-trophy-textarea",
        left: "send-trophy-left",
        right: "send-trophy-right",
        error: "send-trophy-error",
        description: "send-trophy-description"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-chess-title-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-username-component",
        link: "user-username-link",
        gray: "user-username-gray",
        blue: "user-username-blue",
        current: "user-username-current",
        dark: "user-username-dark",
        "blue-with-dark-mode": "user-username-blue-with-dark-mode"
    }
}, function(e, t, n) {
    e.exports = {
        component: "sent-trophy-component",
        left: "sent-trophy-left",
        from: "sent-trophy-from",
        message: "sent-trophy-message",
        success: "sent-trophy-success",
        icon: "sent-trophy-icon"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "trophy-popover-modal",
        section: "trophy-popover-section"
    }
}, function(e, t, n) {
    e.exports = {
        component: "admin-actions-component",
        separator: "admin-actions-separator"
    }
}, function(e, t, n) {
    e.exports = {
        link: "icon-link-link",
        icon: "icon-link-icon",
        label: "icon-link-label",
        blue: "icon-link-blue",
        grey: "icon-link-grey",
        red: "icon-link-red"
    }
}, function(e, t, n) {
    e.exports = {
        link: "labeled-icon-link-link",
        icon: "labeled-icon-link-icon",
        label: "labeled-icon-link-label",
        blue: "labeled-icon-link-blue",
        grey: "labeled-icon-link-grey",
        red: "labeled-icon-link-red"
    }
}, function(e, t, n) {
    e.exports = {
        component: "chat-options-dropdown-component",
        close: "chat-options-dropdown-close",
        title: "chat-options-dropdown-title"
    }
}, function(e, t, n) {
    e.exports = {
        component: "analysis-options-dropdown-component",
        close: "analysis-options-dropdown-close",
        title: "analysis-options-dropdown-title"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-actions-component",
        "icons-list": "user-actions-icons-list",
        more: "user-actions-more",
        caret: "user-actions-caret",
        buttonsList: "user-actions-buttonsList"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-flair-status-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-rating-component",
        icon: "user-rating-icon",
        rating: "user-rating-rating"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-flair-icon-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "user-tagline-component",
        username: "user-tagline-username",
        rating: "user-tagline-rating",
        darkMode: "user-tagline-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        popover: "user-popover-popover",
        bottom: "user-popover-bottom",
        top: "user-popover-top",
        component: "user-popover-component",
        "avatar-placeholder": "user-popover-avatar-placeholder",
        profile: "user-popover-profile",
        meta: "user-popover-meta",
        info: "user-popover-info",
        onlive: "user-popover-onlive",
        online: "user-popover-online",
        status: "user-popover-status",
        details: "user-popover-details",
        secondary: "user-popover-secondary",
        loader: "user-popover-loader",
        actions: "user-popover-actions",
        ratings: "user-popover-ratings",
        confirm: "user-popover-confirm"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "modal-with-footer-modal",
        newbie: "modal-with-footer-newbie",
        content: "modal-with-footer-content",
        header: "modal-with-footer-header",
        icon: "modal-with-footer-icon",
        footer: "modal-with-footer-footer"
    }
}, function(e, t, n) {
    e.exports = {
        component: "modal-user-report-component",
        title: "modal-user-report-title",
        status: "modal-user-report-status",
        close: "modal-user-report-close",
        radio: "modal-user-report-radio",
        subcategories: "modal-user-report-subcategories",
        error: "modal-user-report-error",
        label: "modal-user-report-label",
        "checkbox-row-label": "modal-user-report-checkbox-row-label",
        textarea: "modal-user-report-textarea",
        content: "modal-user-report-content",
        wrapper: "modal-user-report-wrapper",
        button: "modal-user-report-button"
    }
}, function(e, t, n) {
    e.exports = {
        "placeholder-popover": "user-popover-placeholder-popover",
        bottom: "user-popover-bottom",
        top: "user-popover-top",
        "placeholder-component": "user-popover-placeholder-component",
        "placeholder-profile": "user-popover-placeholder-profile",
        "placeholder-avatar": "user-popover-placeholder-avatar",
        "placeholder-info": "user-popover-placeholder-info"
    }
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = {
            name: "section-container",
            mixins: [n(222).a],
            props: {
                overflow: {
                    type: String,
                    required: !1
                }
            },
            computed: {
                componentClasses: function componentClasses() {
                    var e = this.overflow,
                        t = this.$style;
                    return [t.component, i()({}, t[e], e), this.themeClasses()]
                }
            }
        },
        r = n(141),
        s = n(5);
    var l = Object(s.a)(o, function() {
        var e = this.$createElement;
        return (this._self._c || e)("div", {
            class: this.componentClasses
        }, [this._t("default")], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = r.default.locals || r.default
    }, null, null);
    t.a = l.exports
}, , function(e, t, n) {
    "use strict";
    var a = n(125),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(126),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(127),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(128),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(129),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(130),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    var a = n(292),
        i = n(208),
        o = n(117),
        r = n(174),
        s = n(209),
        l = n(210),
        c = Object.prototype.hasOwnProperty;
    e.exports = function arrayLikeKeys(e, t) {
        var n = o(e),
            u = !n && i(e),
            d = !n && !u && r(e),
            p = !n && !u && !d && l(e),
            h = n || u || d || p,
            m = h ? a(e.length, String) : [],
            f = m.length;
        for (var g in e) !t && !c.call(e, g) || h && ("length" == g || d && ("offset" == g || "parent" == g) || p && ("buffer" == g || "byteLength" == g || "byteOffset" == g) || s(g, f)) || m.push(g);
        return m
    }
}, function(e, t, n) {
    var a = n(293),
        i = n(66),
        o = Object.prototype,
        r = o.hasOwnProperty,
        s = o.propertyIsEnumerable,
        l = a(function() {
            return arguments
        }()) ? a : function(e) {
            return i(e) && r.call(e, "callee") && !s.call(e, "callee")
        };
    e.exports = l
}, function(e, t) {
    var n = 9007199254740991,
        a = /^(?:0|[1-9]\d*)$/;
    e.exports = function isIndex(e, t) {
        var i = typeof e;
        return !!(t = null == t ? n : t) && ("number" == i || "symbol" != i && a.test(e)) && e > -1 && e % 1 == 0 && e < t
    }
}, function(e, t, n) {
    var a = n(295),
        i = n(234),
        o = n(235),
        r = o && o.isTypedArray,
        s = r ? i(r) : a;
    e.exports = s
}, function(e, t) {
    e.exports = function overArg(e, t) {
        return function(n) {
            return e(t(n))
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(255),
        i = n.n(a),
        o = n(7),
        r = n(68),
        s = n(175);
    t.a = {
        getDefaultOptions: function getDefaultOptions() {
            return {
                allowMarkings: !0,
                animationType: "default",
                autoPromote: !1,
                boardStyle: "green",
                captureKeyStrokes: !0,
                coordinates: "inside",
                darkMode: !1,
                diagramStyle: !0,
                enabled: !0,
                highlightColor: "#f8f893",
                highlightLegalMoves: !1,
                highlightMoves: !0,
                highlightOpacity: .5,
                isWhiteOnBottom: !1,
                legalPositionCheck: "full",
                moveMethod: "drag",
                overlayInAnalysisMode: !0,
                pieceStyle: "neo",
                playSounds: !0,
                premoveHighlightColor: "#f42a32",
                premoveHighlightOpacity: .5,
                real3D: !1,
                rounded: !0,
                soundTheme: "default"
            }
        },
        getOptions: function getOptions() {
            return i.a.get(o.a.generate(r.a.getOptions)).then(function(e) {
                return e.data
            }).then(function(e) {
                return {
                    animationType: s.a.getAnimationType(e.animationType),
                    boardSize: e.boardSize,
                    boardStyle: e.colorScheme,
                    darkMode: e.darkMode,
                    highlightLegalMoves: Boolean(e.highlightLegalMoves),
                    highlightMoves: "1" === e.highlightMoves,
                    isWhiteOnBottom: Boolean(e.isWhiteOnBottom),
                    moveListDisplayType: e.moveListDisplayType,
                    moveMethod: e.moveMethod,
                    pieceStyle: e.pieceStyle,
                    playSounds: "1" === e.playSounds,
                    soundTheme: e.soundTheme,
                    coordinates: s.a.getCoordinatePositioning(e.boardCoords)
                }
            })
        },
        getStyles: function getStyles() {
            return i.a.get(o.a.generate(r.a.getStyles)).then(function(e) {
                return e.data
            })
        },
        updateOption: function updateOption(e, t) {
            var n = o.a.generate(r.a.updateOption[e]);
            return i.a.post(n, {
                action: t
            }).then(function(e) {
                return e.data
            })
        }
    }
}, function(e, t, n) {
    var a = n(291)();
    e.exports = a
}, function(e, t, n) {
    "use strict";
    var a = n(249),
        i = n.n(a);
    t.a = i.a
}, , , function(e, t, n) {
    var a = n(307);
    e.exports = function baseAssignValue(e, t, n) {
        "__proto__" == t && a ? a(e, t, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : e[t] = n
    }
}, function(e, t, n) {
    var a, i, o;
    /*!
    	autosize 4.0.1
    	license: MIT
    	http://www.jacklmoore.com/autosize
    */
    i = [e, t], void 0 === (o = "function" == typeof(a = function(e, t) {
        "use strict";
        var n, a, i = "function" == typeof Map ? new Map : (n = [], a = [], {
                has: function has(e) {
                    return n.indexOf(e) > -1
                },
                get: function get(e) {
                    return a[n.indexOf(e)]
                },
                set: function set(e, t) {
                    -1 === n.indexOf(e) && (n.push(e), a.push(t))
                },
                delete: function _delete(e) {
                    var t = n.indexOf(e);
                    t > -1 && (n.splice(t, 1), a.splice(t, 1))
                }
            }),
            o = function createEvent(e) {
                return new Event(e, {
                    bubbles: !0
                })
            };
        try {
            new Event("test")
        } catch (e) {
            o = function createEvent(e) {
                var t = document.createEvent("Event");
                return t.initEvent(e, !0, !1), t
            }
        }

        function assign(e) {
            if (e && e.nodeName && "TEXTAREA" === e.nodeName && !i.has(e)) {
                var t = null,
                    n = null,
                    a = null,
                    r = function pageResize() {
                        e.clientWidth !== n && update()
                    },
                    s = function(t) {
                        window.removeEventListener("resize", r, !1), e.removeEventListener("input", update, !1), e.removeEventListener("keyup", update, !1), e.removeEventListener("autosize:destroy", s, !1), e.removeEventListener("autosize:update", update, !1), Object.keys(t).forEach(function(n) {
                            e.style[n] = t[n]
                        }), i.delete(e)
                    }.bind(e, {
                        height: e.style.height,
                        resize: e.style.resize,
                        overflowY: e.style.overflowY,
                        overflowX: e.style.overflowX,
                        wordWrap: e.style.wordWrap
                    });
                e.addEventListener("autosize:destroy", s, !1), "onpropertychange" in e && "oninput" in e && e.addEventListener("keyup", update, !1), window.addEventListener("resize", r, !1), e.addEventListener("input", update, !1), e.addEventListener("autosize:update", update, !1), e.style.overflowX = "hidden", e.style.wordWrap = "break-word", i.set(e, {
                        destroy: s,
                        update: update
                    }),
                    function init() {
                        var n = window.getComputedStyle(e, null);
                        "vertical" === n.resize ? e.style.resize = "none" : "both" === n.resize && (e.style.resize = "horizontal"), t = "content-box" === n.boxSizing ? -(parseFloat(n.paddingTop) + parseFloat(n.paddingBottom)) : parseFloat(n.borderTopWidth) + parseFloat(n.borderBottomWidth), isNaN(t) && (t = 0), update()
                    }()
            }

            function changeOverflow(t) {
                var n = e.style.width;
                e.style.width = "0px", e.offsetWidth, e.style.width = n, e.style.overflowY = t
            }

            function resize() {
                if (0 !== e.scrollHeight) {
                    var a = function getParentOverflows(e) {
                            for (var t = []; e && e.parentNode && e.parentNode instanceof Element;) e.parentNode.scrollTop && t.push({
                                node: e.parentNode,
                                scrollTop: e.parentNode.scrollTop
                            }), e = e.parentNode;
                            return t
                        }(e),
                        i = document.documentElement && document.documentElement.scrollTop;
                    e.style.height = "", e.style.height = e.scrollHeight + t + "px", n = e.clientWidth, a.forEach(function(e) {
                        e.node.scrollTop = e.scrollTop
                    }), i && (document.documentElement.scrollTop = i)
                }
            }

            function update() {
                resize();
                var t = Math.round(parseFloat(e.style.height)),
                    n = window.getComputedStyle(e, null),
                    i = "content-box" === n.boxSizing ? Math.round(parseFloat(n.height)) : e.offsetHeight;
                if (i !== t ? "hidden" === n.overflowY && (changeOverflow("scroll"), resize(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight) : "hidden" !== n.overflowY && (changeOverflow("hidden"), resize(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(e, null).height)) : e.offsetHeight), a !== i) {
                    a = i;
                    var r = o("autosize:resized");
                    try {
                        e.dispatchEvent(r)
                    } catch (e) {}
                }
            }
        }

        function destroy(e) {
            var t = i.get(e);
            t && t.destroy()
        }

        function update(e) {
            var t = i.get(e);
            t && t.update()
        }
        var r = null;
        "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((r = function autosize(e) {
            return e
        }).destroy = function(e) {
            return e
        }, r.update = function(e) {
            return e
        }) : ((r = function autosize(e, t) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], function(e) {
                return assign(e)
            }), e
        }).destroy = function(e) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], destroy), e
        }, r.update = function(e) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], update), e
        }), t.default = r, e.exports = t.default
    }) ? a.apply(t, i) : a) || (e.exports = o)
}, function(e, t, n) {
    "use strict";
    var a = n(148),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(149),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    var a = n(207),
        i = n(297),
        o = n(90);
    e.exports = function keys(e) {
        return o(e) ? a(e) : i(e)
    }
}, function(e, t, n) {
    "use strict";
    t.a = {
        props: {
            darkMode: {
                type: Boolean,
                default: !1
            },
            lightMode: {
                type: Boolean,
                default: !1
            }
        },
        methods: {
            themeClasses: function themeClasses() {
                return {
                    "light-mode": this.lightMode,
                    "dark-mode": this.darkMode
                }
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(37),
        i = function getValue(e, t) {
            return a.a.isString(t) && a.a.isObject(e) ? e[t] : a.a.isFunction(t) ? t(e) : void 0
        },
        o = function compareValues(e, t, n, a) {
            var o = i(e, n),
                r = i(t, n);
            return null == o ? 1 : null == r ? -1 : o > r ? "desc" === a ? -1 : 1 : o < r ? "desc" === a ? 1 : -1 : 0
        };
    t.a = {
        remove: function remove(e, t) {
            var n = a.a.isFunction(t) ? e.findIndex(t) : e.indexOf(t); - 1 !== n && e.splice(n, 1)
        },
        range: function range(e, t) {
            for (var n = [], a = e; a < t; a++) n.push(a);
            return n
        },
        uniq: function uniq(e, t) {
            return a.a.isFunction(t) ? e.filter(function(n, a) {
                return e.findIndex(function(e) {
                    return t(e) === t(n)
                }) === a
            }) : t ? e.filter(function(n, a) {
                return e.findIndex(function(e) {
                    return e[t] === n[t]
                }) === a
            }) : e.filter(function(t, n) {
                return e.indexOf(t) === n
            })
        },
        sortBy: function sortBy(e, t, n) {
            var i = a.a.isArray(t) ? t : [t],
                r = a.a.isArray(n) ? n : [n],
                s = e.slice(0);
            return s.sort(function(e, t) {
                for (var n = 0, a = 0; a < i.length && 0 === n; a++) n = o(e, t, i[a], r[a]);
                return n
            }), s
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    }), n.d(t, "e", function() {
        return s
    }), n.d(t, "f", function() {
        return l
    }), n.d(t, "c", function() {
        return c
    }), n.d(t, "d", function() {
        return u
    });
    var a = n(43),
        i = n(12),
        o = function getCharacterCountClasses(e, t) {
            var n = [t["char-count"]],
                i = a.e - e.length;
            if (i < 10) {
                var o = Math.floor(i / 2);
                n.push(t["warning-".concat(o)])
            }
            return n
        },
        r = function getFlairDomElement() {
            return document.querySelector("[".concat(a.a.FLAIR, "]"))
        },
        s = function getUsernameFromDom() {
            var e = document.querySelector("[".concat(a.a.USERNAME, "]"));
            return e ? e.getAttribute(a.a.USERNAME) : ""
        },
        l = function parseFlair(e) {
            if (!e) return i.c;
            var t = JSON.parse(e.dataset.flairProfile);
            return t && t.code || (t = i.c), t
        },
        c = function getFlairHref(e) {
            var t = e.code,
                n = e.flairMembership,
                o = e.selfIsPremium;
            return n >= i.k.moderator ? i.o.about() : n === i.k.cheater || n === i.k.abuser ? a.g.communityGuidelines() : i.a.includes(t) ? "" : o ? "".concat(a.g.settings()).concat(a.d) : i.o.membership("flair")
        },
        u = function getFlairTooltip(e) {
            var t = e.code,
                n = e.flairMembership;
            return n >= i.k.staff ? i.p.staff : n >= i.k.moderator ? i.p.moderator : n < i.k.basic ? i.m[n] : i.a.includes(t) ? i.m[i.k.unspecifiedClosed] : i.p.showYourFlair
        }
}, , function(e, t) {
    e.exports = amplitudeDLL
}, , , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return i
    }), n.d(t, "b", function() {
        return o
    }), n.d(t, "c", function() {
        return r
    }), n.d(t, "d", function() {
        return s
    }), n.d(t, "e", function() {
        return l
    }), n.d(t, "f", function() {
        return c
    }), n.d(t, "g", function() {
        return u
    }), n.d(t, "j", function() {
        return d
    }), n.d(t, "k", function() {
        return p
    }), n.d(t, "l", function() {
        return h
    }), n.d(t, "m", function() {
        return m
    }), n.d(t, "n", function() {
        return f
    }), n.d(t, "o", function() {
        return g
    }), n.d(t, "p", function() {
        return b
    }), n.d(t, "q", function() {
        return v
    }), n.d(t, "i", function() {
        return y
    }), n.d(t, "h", function() {
        return _
    });
    var a = n(0),
        i = {
            createNewDiagram: "web_tinymce_get_chessdiagram"
        },
        o = {
            K: "K",
            k: "k",
            Q: "Q",
            q: "q"
        },
        r = {
            K: !1,
            Q: !1,
            k: !1,
            q: !1
        },
        s = {
            BLACK: "black",
            WHITE: "white"
        },
        l = {
            BLACK: "b",
            WHITE: "w"
        },
        c = {
            DEFAULT: "-",
            FULLMOVE_DEFAULT: "1",
            HALFMOVE_DEFAULT: "0"
        },
        u = {
            CHESS_GAME: "chessGame",
            CHESS_PROBLEM: "chessProblem",
            SIMPLE_DIAGRAM: "simpleDiagram"
        },
        d = {
            INVALID_GAME_URL: a.a.trans("We cannot find the game in that URL.")
        },
        p = {
            daily: "game",
            games: "game_archive",
            live: "game_live",
            votechess: "votechess_game"
        },
        h = /https?:\/\/(?:www.)?chess(?:-dev|-\d+)?.com\/(votechess|games|daily|live)\/(?:game|view)\/(\d+)\/?/,
        m = {
            CHEVRON_BOTTOM: "chevron-bottom",
            CHEVRON_UP: "chevron-up"
        },
        f = {
            desktop: 900,
            mobile: 640
        },
        g = (a.a.trans("No Result (*)"), a.a.trans("White Won (1-0)"), a.a.trans("Black Won (0-1)"), a.a.trans("Draw (1/2-1/2)"), {
            DETAILS: "details",
            MOVES: "moves",
            SETUP: "setup",
            THEME: "theme"
        }),
        b = {
            LOAD_FEN: "fen",
            LOAD_MULTIPGN: "multipgn",
            LOAD_PGN: "pgn",
            LOAD_URL: "url",
            SETUP_POSITION: "setup-position"
        },
        v = [{
            label: a.a.trans("White to move"),
            value: "white"
        }, {
            label: a.a.trans("Black to move"),
            value: "black"
        }],
        y = [{
            label: "-",
            value: "-"
        }, {
            label: "a6",
            value: "a6"
        }, {
            label: "b6",
            value: "b6"
        }, {
            label: "c6",
            value: "c6"
        }, {
            label: "d6",
            value: "d6"
        }, {
            label: "e6",
            value: "e6"
        }, {
            label: "f6",
            value: "f6"
        }, {
            label: "g6",
            value: "g6"
        }, {
            label: "h6",
            value: "h6"
        }],
        _ = [{
            label: "-",
            value: "-"
        }, {
            label: "a3",
            value: "a3"
        }, {
            label: "b3",
            value: "b3"
        }, {
            label: "c3",
            value: "c3"
        }, {
            label: "d3",
            value: "d3"
        }, {
            label: "e3",
            value: "e3"
        }, {
            label: "f3",
            value: "f3"
        }, {
            label: "g3",
            value: "g3"
        }, {
            label: "h3",
            value: "h3"
        }]
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "labeled-icon-button",
            components: {
                IconFont: n(18).a
            },
            props: {
                action: Function,
                btnColor: String,
                iconName: {
                    type: String,
                    required: !0
                },
                label: {
                    type: String,
                    required: !0
                }
            },
            methods: {
                onClick: function onClick(e) {
                    this.action ? this.action(e) : this.$emit("click", e)
                }
            }
        },
        i = n(248),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("button", {
            class: [e.$style.link, e.$style[e.btnColor]],
            attrs: {
                type: "button"
            },
            on: {
                click: e.onClick
            }
        }, [n("icon-font", {
            class: [e.$style.icon],
            attrs: {
                theme: "primary",
                name: e.iconName
            }
        }), e._v(" "), n("span", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.label)
            }
        })], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = {
            default: ["#B58863", "#F0D9B5", null, ".png", "#ffff33"],
            "8_bit": ["#6a9b41", "#f3f3f4", "8_bit", ".png", "#ffff33"],
            bases: ["#c26b38", "#efcca1", "bases", ".jpg", "#f5cc2a"],
            blue: ["#4D6D92", "#ECECD7", "blue", ".png", "#00a5ff"],
            brown: ["#B58863", "#F0D9B5", "brown", ".png", "#ffff33"],
            bubblegum: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            burled_wood: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            dark_wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            dash: ["#6b3a27", "#bd9257", "dash", ".jpg", "#eca722"],
            glass: ["#282f3f", "#667188", "glass", ".png", "#5b91b3"],
            graffiti: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            green: ["#779952", "#edeed1", "green", ".png", "#ffff33"],
            icy_sea: ["#7a9db2", "#c5d5dc", "icy_sea", ".jpg", "#5ed7f1"],
            light: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            lolz: ["#909898", "#e0e9e9", "lolz", ".jpg", "#a3becd"],
            marble: ["#706b66", "#c7bdaa", "marble", ".jpg", "#f0db86"],
            metal: ["#6e6e6e", "#c9c9c9", "metal", ".jpg", "#a3becd"],
            nature: ["#8c976e", "#c3d1a4", "translucent", ".png", "#eef396"],
            neon: ["#636363", "#b9b9b9", "neon", ".png", "#6d90a6"],
            newspaper: ["#5a5956", "#5a5956", "newspaper", ".jpg", "#99976e"],
            orange: ["#D08B18", "#FCE4B2", "orange", ".png", "#ffff33"],
            overlay: ["#789ebd", "#4878a0", "overlay", ".png", "#0d9acf"],
            parchment: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            purple: ["#8877B7", "#EFEFEF", "purple", ".png", "#7dacc9"],
            red: ["#BA5546", "#F0D8BF", "red", ".png", "#f8f893"],
            sand: ["#b8a590", "#e5d3c4", "sand", ".jpg", "#e2bc87"],
            sky: ["#c2d7e2", "#efefef", "sky", ".png", "#65daf7"],
            stone: ["#666463", "#c8c3bd", "stone", ".jpg", "#36525f"],
            tan: ["#D08B18", "#FCE4B2", "tan", ".png", "#f7d84a"],
            tournament: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            translucent: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            walnut: ["#835f42", "#c0a684", "walnut", ".jpg", "#d1a52d"],
            wood: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            grey: ["#aaaaaa", "#dcdcdc", "light", ".png", "#a4b8c4"],
            pink: ["#f9cdd3", "#fff3f3", "bubblegum", ".png", "#de5d6f"],
            natural: ["#D08B18", "#FCE4B2", "tan", ".png", "#f0e464"],
            winboard: ["#316549", "#ebece8", "tournament", ".jpg", "#a4c25b"],
            blackwhite: ["#667188", "#282f3f", "translucent", ".png", "#5b91b3"],
            marbleblue: ["#c2d7e2", "#efefef", "marbleblue", ".jpg", "#65daf7"],
            marblebrown: ["#b96f18", "#aeaeae", "graffiti", ".jpg", "#f39011"],
            marblegreen: ["#706b66", "#c7bdaa", "marblegreen", ".jpg", "#f0db86"],
            wooddark: ["#895132", "#d9b088", "burled_wood", ".jpg", "#ee9016"],
            woodlight: ["#B58863", "#F0D9B5", "parchment", ".jpg", "#d8cc66"],
            woodmid: ["#8d675e", "#e7cdb2", "dark_wood", ".jpg", "#cc9122"],
            woodolive: ["#6e6e6e", "#c9c9c9", "woodolive", ".jpg", "#a3becd"]
        },
        i = {
            modern2: {
                imgPath: "modern",
                imgFormat: ".png"
            },
            lines: {
                imgPath: "alpha",
                imgFormat: ".png"
            },
            "3dwood": {
                imgPath: "3d_wood",
                imgFormat: ".png"
            },
            "3dplastic": {
                imgPath: "3d_plastic",
                imgFormat: ".png"
            },
            "3dchesskid": {
                imgPath: "3d_chesskid",
                imgFormat: ".png"
            }
        }
}, function(e, t, n) {
    var a = n(213),
        i = n(221);
    e.exports = function baseForOwn(e, t) {
        return e && a(e, t, i)
    }
}, function(e, t) {
    e.exports = function baseUnary(e) {
        return function(t) {
            return e(t)
        }
    }
}, function(e, t, n) {
    (function(e) {
        var a = n(296),
            i = t && !t.nodeType && t,
            o = i && "object" == typeof e && e && !e.nodeType && e,
            r = o && o.exports === i && a.process,
            s = function() {
                try {
                    return r && r.binding && r.binding("util")
                } catch (e) {}
            }();
        e.exports = s
    }).call(this, n(113)(e))
}, function(e, t, n) {
    var a = n(136);
    e.exports = function castFunction(e) {
        return "function" == typeof e ? e : a
    }
}, function(e, t, n) {
    "use strict";
    var a = n(155),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(156),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(157),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(158),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a, i = {},
        o = {},
        r = ["visa", "master-card", "american-express", "diners-club", "discover", "jcb", "unionpay", "maestro", "mir"];

    function clone(e) {
        var t;
        return e ? (delete(t = JSON.parse(JSON.stringify(e))).prefixPattern, delete t.exactPattern, t) : null
    }

    function findType(e) {
        return o[e] || i[e]
    }

    function creditCardType(e) {
        var t, n, i = [],
            o = [];
        if (!("string" == typeof e || e instanceof String)) return [];
        for (n = 0; n < a.length; n++) t = findType(a[n]), 0 !== e.length ? t.exactPattern.test(e) ? o.push(clone(t)) : t.prefixPattern.test(e) && i.push(clone(t)) : i.push(clone(t));
        return o.length ? o : i
    }

    function getCardPosition(e, t) {
        var n = a.indexOf(e);
        if (!t && -1 === n) throw new Error('"' + e + '" is not a supported card type.');
        return n
    }
    a = clone(r), i.visa = {
        niceType: "Visa",
        type: "visa",
        prefixPattern: /^4$/,
        exactPattern: /^4\d*$/,
        gaps: [4, 8, 12],
        lengths: [16, 18, 19],
        code: {
            name: "CVV",
            size: 3
        }
    }, i["master-card"] = {
        niceType: "Mastercard",
        type: "master-card",
        prefixPattern: /^(5|5[1-5]|2|22|222|222[1-9]|2[3-6]|27|27[0-2]|2720)$/,
        exactPattern: /^(5[1-5]|222[1-9]|22[3-9]|2[3-6]|27[0-1]|2720)\d*$/,
        gaps: [4, 8, 12],
        lengths: [16],
        code: {
            name: "CVC",
            size: 3
        }
    }, i["american-express"] = {
        niceType: "American Express",
        type: "american-express",
        prefixPattern: /^(3|34|37)$/,
        exactPattern: /^3[47]\d*$/,
        isAmex: !0,
        gaps: [4, 10],
        lengths: [15],
        code: {
            name: "CID",
            size: 4
        }
    }, i["diners-club"] = {
        niceType: "Diners Club",
        type: "diners-club",
        prefixPattern: /^(3|3[0689]|30[0-5])$/,
        exactPattern: /^3(0[0-5]|[689])\d*$/,
        gaps: [4, 10],
        lengths: [14, 16, 19],
        code: {
            name: "CVV",
            size: 3
        }
    }, i.discover = {
        niceType: "Discover",
        type: "discover",
        prefixPattern: /^(6|60|601|6011|65|64|64[4-9])$/,
        exactPattern: /^(6011|65|64[4-9])\d*$/,
        gaps: [4, 8, 12],
        lengths: [16, 19],
        code: {
            name: "CID",
            size: 3
        }
    }, i.jcb = {
        niceType: "JCB",
        type: "jcb",
        prefixPattern: /^(2|21|213|2131|1|18|180|1800|3|35)$/,
        exactPattern: /^(2131|1800|35)\d*$/,
        gaps: [4, 8, 12],
        lengths: [16, 17, 18, 19],
        code: {
            name: "CVV",
            size: 3
        }
    }, i.unionpay = {
        niceType: "UnionPay",
        type: "unionpay",
        prefixPattern: /^((6|62|62\d|(621(?!83|88|98|99))|622(?!06)|627[02,06,07]|628(?!0|1)|629[1,2])|622018)$/,
        exactPattern: /^(((620|(621(?!83|88|98|99))|622(?!06|018)|62[3-6]|627[02,06,07]|628(?!0|1)|629[1,2]))\d*|622018\d{12})$/,
        gaps: [4, 8, 12],
        lengths: [16, 17, 18, 19],
        code: {
            name: "CVN",
            size: 3
        }
    }, i.maestro = {
        niceType: "Maestro",
        type: "maestro",
        prefixPattern: /^(5|5[06-9]|6\d*)$/,
        exactPattern: /^(5[06-9]|6[37])\d*$/,
        gaps: [4, 8, 12],
        lengths: [12, 13, 14, 15, 16, 17, 18, 19],
        code: {
            name: "CVC",
            size: 3
        }
    }, i.mir = {
        niceType: "Mir",
        type: "mir",
        prefixPattern: /^(2|22|220|220[0-4])$/,
        exactPattern: /^(220[0-4])\d*$/,
        gaps: [4, 8, 12],
        lengths: [16, 17, 18, 19],
        code: {
            name: "CVP2",
            size: 3
        }
    }, creditCardType.getTypeInfo = function(e) {
        return clone(findType(e))
    }, creditCardType.removeCard = function(e) {
        var t = getCardPosition(e);
        a.splice(t, 1)
    }, creditCardType.addCard = function(e) {
        var t = getCardPosition(e.type, !0);
        o[e.type] = e, -1 === t && a.push(e.type)
    }, creditCardType.changeOrder = function(e, t) {
        var n = getCardPosition(e);
        a.splice(n, 1), a.splice(t, 0, e)
    }, creditCardType.resetModifications = function() {
        a = clone(r), o = {}
    }, creditCardType.types = {
        VISA: "visa",
        MASTERCARD: "master-card",
        AMERICAN_EXPRESS: "american-express",
        DINERS_CLUB: "diners-club",
        DISCOVER: "discover",
        JCB: "jcb",
        UNIONPAY: "unionpay",
        MAESTRO: "maestro",
        MIR: "mir"
    }, e.exports = creditCardType
}, function(e, t, n) {
    "use strict";
    var a = n(159),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(160),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(161),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(162),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(163),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(164),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(165),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    var a = n(330),
        i = n(55),
        o = "Expected a function";
    e.exports = function throttle(e, t, n) {
        var r = !0,
            s = !0;
        if ("function" != typeof e) throw new TypeError(o);
        return i(n) && (r = "leading" in n ? !!n.leading : r, s = "trailing" in n ? !!n.trailing : s), a(e, t, {
            leading: r,
            maxWait: t,
            trailing: s
        })
    }
}, , , , function(e, t, n) {
    "use strict";
    var a = n(67),
        i = {
            name: "user-avatar",
            directives: {
                ImageDefer: n(77).a
            },
            props: {
                image: {
                    type: String,
                    required: !0
                },
                isLive: {
                    type: Boolean,
                    default: !1
                },
                isOnline: {
                    type: Boolean,
                    default: !1
                },
                url: {
                    type: String,
                    required: !1
                }
            },
            computed: {
                isLink: function isLink() {
                    return Boolean(this.url)
                },
                blankImage: function blankImage() {
                    return Object(a.a)("bundles/web/images/user-image.svg")
                }
            }
        },
        o = n(258),
        r = n(5);
    var s = Object(r.a)(i, function() {
        var e, t, n, a = this,
            i = a.$createElement,
            o = a._self._c || i;
        return o("a", {
            class: [a.$style.component, (e = {}, e[a.$style.link] = a.isLink, e)],
            attrs: {
                href: a.url
            }
        }, [o("img", {
            directives: [{
                name: "image-defer",
                rawName: "v-image-defer",
                value: {
                    src: a.image,
                    srcset: !0
                },
                expression: "{src: image, srcset: true}"
            }],
            class: a.$style.image,
            attrs: {
                src: a.blankImage
            }
        }), a._v(" "), a.isOnline || a.isLive ? o("span", {
            class: [a.$style.status, (t = {}, t[a.$style.online] = a.isOnline, t), (n = {}, n[a.$style.live] = a.isLive, n)]
        }) : a._e()])
    }, [], !1, function injectStyles(e) {
        this.$style = o.default.locals || o.default
    }, null, null);
    t.a = s.exports
}, function(e, t, n) {
    "use strict";
    var a = n(36),
        i = null;
    t.a = new class VisibilityObserver {
        constructor() {
            var e = this;
            return null == i && (i = this, this.observer = new IntersectionObserver(function(t) {
                t.forEach(function(t) {
                    t.intersectionRatio > 0 && (a.a.$emit("visibility-observer-change", t.target), e.observer.unobserve(t.target))
                })
            }, {
                rootMargin: "200px 0px",
                threshold: .01
            })), i
        }
        observe(e) {
            this.observer.observe(e)
        }
        unobserve(e) {
            this.observer.unobserve(e)
        }
    }
}, function(e, t, n) {
    e.exports = n(26)(16)
}, function(e, t, n) {
    var a = n(207),
        i = n(382),
        o = n(90);
    e.exports = function keysIn(e) {
        return o(e) ? a(e, !0) : i(e)
    }
}, function(e, t, n) {
    "use strict";
    var a = n(218),
        i = n.n(a),
        o = {
            name: "form-textarea",
            mixins: [n(39).a],
            props: {
                ariaLabel: {
                    type: String,
                    required: !1
                },
                autosize: {
                    type: Boolean,
                    default: !1
                },
                onEnter: {
                    type: Function,
                    required: !1
                },
                name: {
                    type: String,
                    required: !1
                },
                placeholder: {
                    type: String,
                    required: !1
                },
                value: {
                    type: String,
                    required: !1
                }
            },
            mounted: function mounted() {
                this.autosize && (i()(this.$el), this.$el.addEventListener("autosize:resized", this.resizeEvent))
            },
            beforeDestroy: function beforeDestroy() {
                this.autosize && this.$el.removeEventListener("autosize:resized", this.resizeEvent)
            },
            methods: {
                blurEvent: function blurEvent(e) {
                    this.$emit("blur", e)
                },
                focusEvent: function focusEvent(e) {
                    this.$emit("focus", e)
                },
                handleEnter: function handleEnter(e) {
                    var t = this;
                    this.onEnter && !e.shiftKey && (e.preventDefault(), this.onEnter(), this.$nextTick(function() {
                        i.a.update(t.$el)
                    }))
                },
                resizeEvent: function resizeEvent() {
                    var e = this;
                    this.$nextTick(function() {
                        e.$emit("resize")
                    })
                },
                updateValue: function updateValue(e) {
                    this.$emit("input", e)
                }
            }
        },
        r = n(219),
        s = n(5);
    var l = Object(s.a)(o, function() {
        var e, t = this,
            n = t.$createElement;
        return (t._self._c || n)("textarea", {
            class: [t.componentClasses(), (e = {}, e[t.$style.autosize] = t.autosize, e)],
            attrs: {
                "aria-label": t.ariaLabel,
                name: t.name,
                placeholder: t.placeholder
            },
            domProps: {
                value: t.value
            },
            on: {
                blur: function(e) {
                    return t.blurEvent(e)
                },
                focus: function(e) {
                    return t.focusEvent(e)
                },
                input: function(e) {
                    return t.updateValue(e.target.value)
                },
                keydown: function(e) {
                    return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.handleEnter(e)
                }
            }
        })
    }, [], !1, function injectStyles(e) {
        this.$style = r.default.locals || r.default
    }, null, null);
    t.a = l.exports
}, function(e, t, n) {
    "use strict";
    var a = n(176),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(177),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(178),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(179),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(180),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(181),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(182),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(183),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(184),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(185),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(186),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(187),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(188),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(189),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(190),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(191),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(192),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(193),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(194),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(195),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(196),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(197),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(198),
        i = n.n(a);
    t.default = i.a
}, , function(e, t, n) {
    "use strict";
    var a = n(310),
        i = n.n(a);
    t.a = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(17),
        i = n(109),
        o = JSON.parse(i.default.get("chessComAppState")),
        r = o && o.user && o.user.isImpersonating || Object(a.g)();
    t.a = r ? {} : o || {}
}, function(e, t, n) {
    "use strict";
    var a = n(123),
        i = n(56),
        o = n(36),
        r = n(23),
        s = n(320),
        l = n(41),
        c = n(53);

    function setPopoverPosition(e) {
        var t, n = Object(l.e)() && window.innerWidth < 768;
        return Object(c.a)() ? t = "left: auto; right: ".concat(e.right, "px; top: ").concat(e.top, "px;") : (t = "transform: translate(".concat(e.left, "px, ").concat(e.top, "px);"), n && (t = "transform: translateY(".concat(e.top, "px);"))), t
    }
    var u = {
            hideUserPopover: function hideUserPopover(e) {
                e.isHovered = !1, e.show = !1
            },
            hover: function hover(e) {
                e.isHovered = !0
            },
            resetUser: function resetUser(e) {
                e.user = {
                    avatarUrl: "",
                    bestRating: 0,
                    bestRatingType: "",
                    chessTitle: "",
                    country: {},
                    joinDate: "",
                    lastLoginDate: "",
                    membership: {},
                    onlineStatus: "",
                    username: ""
                }
            },
            showUserPopover: function showUserPopover(e) {
                e.show = !0
            },
            setPosition: function setPosition(e, t) {
                e.position = t
            },
            setUser: function setUser(e, t) {
                e.user = t
            }
        },
        d = n(3),
        p = n.n(d),
        h = n(124);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var m = {
            namespaced: !0,
            mutations: u,
            actions: {
                fetchUserPopover: function fetchUserPopover(e, t) {
                    var n = e.commit;
                    Object(h.b)(t).then(function(e) {
                        n("setUser", function _objectSpread(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? ownKeys(n, !0).forEach(function(t) {
                                    p()(e, t, n[t])
                                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                })
                            }
                            return e
                        }({}, e.data, {
                            username: t
                        }))
                    }).catch(function() {
                        n("setUser", {
                            userNotExist: !0
                        })
                    })
                }
            },
            state: {
                isHovered: !1,
                show: !1,
                user: {
                    avatarUrl: "",
                    bestRating: 0,
                    bestRatingType: "",
                    chessTitle: "",
                    country: {},
                    joinDate: "",
                    lastLoginDate: "",
                    membership: {},
                    onlineStatus: "",
                    username: ""
                },
                position: {
                    x: "right",
                    y: "bottom",
                    top: 0,
                    left: 0
                }
            }
        },
        f = n(134),
        g = n(17),
        b = n(47),
        v = n(25),
        y = n(12),
        _ = n(300),
        w = {
            namespaced: !0,
            mutations: {
                newMessage: function newMessage(e, t) {
                    e.message = t
                }
            },
            state: {
                message: null
            }
        },
        O = n(7),
        k = n(317),
        S = n(313),
        x = n(122),
        P = {
            name: "admin-actions",
            components: {
                IconButton: x.a
            },
            props: {
                canModerate: {
                    type: Boolean,
                    default: !1
                },
                clientName: String,
                canWarnOnChat: Boolean,
                canModerateOnChat: Boolean
            }
        },
        C = n(267),
        M = n(5);
    var T = Object(M.a)(P, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.canModerate ? n("icon-button", {
                attrs: {
                    "icon-name": "flag",
                    "btn-color": "red",
                    label: e.$trans("Warn")
                },
                on: {
                    click: function(t) {
                        return e.$emit("warn-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerate ? n("icon-button", {
                attrs: {
                    "icon-name": "chat-x",
                    "btn-color": "red",
                    label: e.$trans("Mute")
                },
                on: {
                    click: function(t) {
                        return e.$emit("mute-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerate ? n("icon-button", {
                attrs: {
                    "icon-name": "exit",
                    "btn-color": "red",
                    label: e.$trans("Kick")
                },
                on: {
                    click: function(t) {
                        return e.$emit("kick-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerate ? n("icon-button", {
                attrs: {
                    "icon-name": "user-block",
                    "btn-color": "red",
                    label: e.$trans("Ban")
                },
                on: {
                    click: function(t) {
                        return e.$emit("ban-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerate && e.clientName ? n("icon-button", {
                attrs: {
                    "icon-name": "circle-info",
                    label: e.clientName
                }
            }) : e._e(), e._v(" "), e.canModerate && (e.canWarnOnChat || e.canModerateOnChat) ? n("div", {
                class: e.$style.separator
            }) : e._e(), e._v(" "), e.canWarnOnChat ? n("icon-button", {
                attrs: {
                    "icon-name": "flag",
                    "btn-color": "red",
                    label: e.$trans("Chat Warn")
                },
                on: {
                    click: function(t) {
                        return e.$emit("chat-warn-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerateOnChat ? n("icon-button", {
                attrs: {
                    "icon-name": "chat-x",
                    "btn-color": "red",
                    label: e.$trans("Chat Mute")
                },
                on: {
                    click: function(t) {
                        return e.$emit("chat-mute-user")
                    }
                }
            }) : e._e(), e._v(" "), e.canModerateOnChat ? n("icon-button", {
                attrs: {
                    "icon-name": "exit",
                    "btn-color": "red",
                    label: e.$trans("Chat Kick")
                },
                on: {
                    click: function(t) {
                        return e.$emit("chat-kick-user")
                    }
                }
            }) : e._e()], 1)
        }, [], !1, function injectStyles(e) {
            this.$style = C.default.locals || C.default
        }, null, null).exports,
        E = n(322),
        A = n(33),
        j = n(91),
        L = n(35),
        D = n(24),
        N = n.n(D),
        I = n(18),
        $ = {
            name: "icon-link",
            components: {
                IconFont: I.a
            },
            directives: {
                Tooltip: L.a
            },
            props: {
                url: String,
                iconColor: String,
                iconName: {
                    type: String,
                    required: !0
                },
                label: {
                    type: String,
                    required: !0
                }
            }
        },
        B = n(268);
    var R = Object(M.a)($, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: {
                        content: e.label,
                        delay: 100
                    },
                    expression: "{\n    content: label,\n    delay: 100\n  }"
                }],
                class: [e.$style.link, e.$style[e.iconColor]],
                attrs: {
                    href: e.url
                },
                on: {
                    click: function(t) {
                        return e.$emit("click", t)
                    }
                }
            }, [n("icon-font", {
                class: [e.$style.icon],
                attrs: {
                    theme: "primary",
                    name: e.iconName
                }
            })], 1)
        }, [], !1, function icon_link_injectStyles(e) {
            this.$style = B.default.locals || B.default
        }, null, null).exports,
        F = n(230),
        z = {
            name: "labeled-icon-button",
            components: {
                IconFont: I.a
            },
            props: {
                url: String,
                iconColor: String,
                iconName: {
                    type: String,
                    required: !0
                },
                label: {
                    type: String,
                    required: !0
                }
            }
        },
        U = n(269);
    var G = Object(M.a)(z, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("a", {
                class: [e.$style.link, e.$style[e.iconColor]],
                attrs: {
                    href: e.url
                },
                on: {
                    click: function(t) {
                        return e.$emit("click", t)
                    }
                }
            }, [n("icon-font", {
                class: [e.$style.icon],
                attrs: {
                    theme: "primary",
                    name: e.iconName
                }
            }), e._v(" "), n("span", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.label)
                }
            })], 1)
        }, [], !1, function labeled_icon_link_injectStyles(e) {
            this.$style = U.default.locals || U.default
        }, null, null).exports,
        H = {
            methods: {
                hasVisibleDropdown: function hasVisibleDropdown() {
                    return Object.values(this.dropdown).some(function(e) {
                        return "block" === e.display
                    })
                },
                createDropdown: function createDropdown(e) {
                    var t = {
                        dropdown: {}
                    };
                    return e.forEach(function(e) {
                        t.dropdown[e] = {
                            display: "none",
                            transform: "translate(0, 0)"
                        }
                    }), t
                },
                hideDropdown: function hideDropdown() {
                    var e = this;
                    Object.keys(this.dropdown).forEach(function(t) {
                        e.dropdown[t].display = "none"
                    })
                },
                showDropdown: function showDropdown(e, t, n) {
                    var a = this,
                        i = document.querySelector('ul[data-dropdown="'.concat(t, '"]'));
                    i && ("block" === this.dropdown[t].display ? this.dropdown[t].display = "none" : (this.hideDropdown(), this.dropdown[t].display = "block", this.$nextTick(function() {
                        var o = e.target.getBoundingClientRect(),
                            r = i.getBoundingClientRect(),
                            s = r.width,
                            l = r.height,
                            c = Object(b.b)(o, l, s);
                        n && n(c);
                        var u = c.left,
                            d = c.top;
                        a.dropdown[t].transform = "translate(".concat(u, "px, ").concat(d, "px)")
                    })))
                }
            }
        };

    function chat_options_dropdownvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var V = {
            name: "chat-options-dropdown",
            directives: {
                Tooltip: L.a
            },
            mixins: [H],
            props: {
                target: {
                    type: HTMLElement,
                    required: !0
                },
                position: {
                    type: Object,
                    required: !0
                },
                chatOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                }
            },
            data: function data() {
                return function chat_options_dropdownvue_type_script_lang_js_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? chat_options_dropdownvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                            p()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : chat_options_dropdownvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, this.createDropdown(["chat"]))
            },
            mounted: function mounted() {
                var e = this,
                    t = {
                        target: this.target
                    };
                this.showDropdown(t, "chat", function(t) {
                    t.left -= e.position.left, t.top -= e.position.top
                })
            },
            methods: {
                onClickOption: function onClickOption(e, t) {
                    e.roomId = t, this.$emit("option-selected", e)
                }
            }
        },
        W = n(270);
    var K = Object(M.a)(V, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("ul", {
            class: e.$style.component,
            style: e.dropdown.chat,
            attrs: {
                "data-dropdown": "chat"
            }
        }, [e._l(e.chatOptions, function(t) {
            return n("li", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: t.title,
                    expression: "chatOption.title"
                }],
                key: t.roomId,
                domProps: {
                    textContent: e._s(t.title)
                },
                on: {
                    click: function(n) {
                        return e.onClickOption(n, t.roomId)
                    }
                }
            })
        }), e._v(" "), e._m(0), e._v(" "), e._m(1), e._v(" "), n("i", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.$trans("Close"),
                expression: "$trans('Close')"
            }],
            class: [e.$style.close, "icon-x"],
            on: {
                click: function(t) {
                    return e.$emit("hide")
                }
            }
        })], 2)
    }, [function() {
        var e = this,
            t = e.$createElement;
        return (e._self._c || t)("li", {
            domProps: {
                textContent: e._s(e.$trans("Private Chat"))
            },
            on: {
                click: function(t) {
                    return e.onClickOption(t)
                }
            }
        })
    }, function() {
        var e = this.$createElement;
        return (this._self._c || e)("span", {
            class: this.$style.title,
            domProps: {
                textContent: this._s(this.$trans("Chat"))
            }
        })
    }], !1, function chat_options_dropdown_injectStyles(e) {
        this.$style = W.default.locals || W.default
    }, null, null).exports;

    function analysis_options_dropdownvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var q = {
            name: "analysis-options-dropdown",
            directives: {
                Tooltip: L.a
            },
            mixins: [H],
            props: {
                target: {
                    type: HTMLElement,
                    required: !0
                },
                position: {
                    type: Object,
                    required: !0
                },
                analysisOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                }
            },
            data: function data() {
                return function analysis_options_dropdownvue_type_script_lang_js_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? analysis_options_dropdownvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                            p()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_options_dropdownvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, this.createDropdown(["analysis"]))
            },
            mounted: function mounted() {
                var e = this,
                    t = {
                        target: this.target
                    };
                this.showDropdown(t, "analysis", function(t) {
                    t.left -= e.position.left, t.top -= e.position.top
                })
            },
            methods: {
                onClickOption: function onClickOption(e, t) {
                    e.examineId = t, this.$emit("option-selected", e)
                }
            }
        },
        Y = n(271);
    var X = Object(M.a)(q, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("ul", {
                class: e.$style.component,
                style: e.dropdown.analysis,
                attrs: {
                    "data-dropdown": "analysis"
                }
            }, [e._l(e.analysisOptions, function(t) {
                return n("li", {
                    directives: [{
                        name: "tooltip",
                        rawName: "v-tooltip",
                        value: t.title,
                        expression: "analysisOption.title"
                    }],
                    key: t.examineId,
                    domProps: {
                        textContent: e._s(t.title)
                    },
                    on: {
                        click: function(n) {
                            return e.onClickOption(n, t.examineId)
                        }
                    }
                })
            }), e._v(" "), e._m(0), e._v(" "), n("i", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Close"),
                    expression: "$trans('Close')"
                }],
                class: [e.$style.close, "icon-x"],
                on: {
                    click: function(t) {
                        return e.$emit("hide")
                    }
                }
            })], 2)
        }, [function() {
            var e = this.$createElement;
            return (this._self._c || e)("span", {
                class: this.$style.title,
                domProps: {
                    textContent: this._s(this.$trans("Analysis Board"))
                }
            })
        }], !1, function analysis_options_dropdown_injectStyles(e) {
            this.$style = Y.default.locals || Y.default
        }, null, null).exports,
        Q = {
            name: "user-actions",
            components: {
                IconFont: I.a,
                IconButton: x.a,
                IconLink: R,
                LabeledIconButton: F.a,
                LabeledIconLink: G,
                ChatOptionsDropdown: K,
                AnalysisOptionsDropdown: X
            },
            props: {
                avatar: String,
                canAddFriend: Boolean,
                canBlockUser: Boolean,
                canReportUser: Boolean,
                canCreateChallenge: Boolean,
                canFollowUser: Boolean,
                canGiftMembership: Boolean,
                canRemoveFriend: Boolean,
                canSendMessage: Boolean,
                canInviteToChat: Boolean,
                canSendTrophy: Boolean,
                canUnblockUser: Boolean,
                canUnfollowUser: Boolean,
                canUseGlobalChat: Boolean,
                isEnabled: Boolean,
                hasInboundFriendRequest: Boolean,
                hasOutboundFriendRequest: Boolean,
                loggedAsAnother: Boolean,
                username: String,
                canObserveGame: {
                    type: Boolean,
                    default: !1
                },
                isBughousePartner: {
                    type: Boolean,
                    default: !1
                },
                challengeUrl: String,
                canCancelFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                canDeclineFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                canAcceptFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                archiveUrl: String,
                chatOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                position: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                canInviteToAnalysis: {
                    type: Boolean,
                    default: !1
                },
                analysisOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                isConfirmVisible: {
                    type: Boolean,
                    default: !1
                },
                showBughousePartner: {
                    type: Boolean,
                    default: !1
                },
                membershipUrl: String
            },
            data: function data() {
                return {
                    allActions: !1,
                    chatDropdownTarget: null,
                    analysisDropdownTarget: null,
                    buttonsListStyle: null
                }
            },
            computed: {
                showGlobalChatButton: function showGlobalChatButton() {
                    return this.canUseGlobalChat && !this.canInviteToChat
                }
            },
            methods: {
                getIconComponent: function getIconComponent(e) {
                    return e ? R : x.a
                },
                getIconLabeledComponent: function getIconLabeledComponent(e) {
                    return e ? G : F.a
                },
                hidePopover: function hidePopover() {
                    this.$emit("user-popover-hide")
                },
                onClickChallenge: function onClickChallenge(e) {
                    this.challengeUrl ? this.hidePopover() : (e.username = this.username, e.avatar = this.avatar, this.$emit("create-challenge", e))
                },
                onClickMessage: function onClickMessage(e) {
                    e.username = this.username, e.avatar = this.avatar, this.$emit("send-message", e)
                },
                onClickChat: function onClickChat(e) {
                    this.chatOptions.length ? this.chatDropdownTarget = e.target : this.onClickChatOption(e)
                },
                onClickChatOption: function onClickChatOption(e) {
                    this.hideChatDropdown(), this.$emit("request-chat", e)
                },
                onClickAnalysis: function onClickAnalysis(e) {
                    this.analysisDropdownTarget = e.target
                },
                onClickAnalysisOption: function onClickAnalysisOption(e) {
                    this.hideAnalysisDropdown(), this.$emit("invite-analysis", e)
                },
                onClickAddFriend: function onClickAddFriend() {
                    this.$emit("add-friend")
                },
                onClickCancelFriendRequest: function onClickCancelFriendRequest() {
                    this.$emit("cancel-friend-request")
                },
                onClickDeclineFriendRequest: function onClickDeclineFriendRequest() {
                    this.$emit("decline-friend-request")
                },
                onClickTrophy: function onClickTrophy(e) {
                    e.username = this.username, this.$emit("show-trophy", e)
                },
                onClickGift: function onClickGift() {
                    this.$emit("show-gift")
                },
                onClickArchive: function onClickArchive(e) {
                    this.archiveUrl ? this.hidePopover() : (e.username = this.username, this.$emit("show-archive", e))
                },
                onClickRemoveFriend: function onClickRemoveFriend() {
                    this.$emit("remove-friend")
                },
                onClickAcceptFriendRequest: function onClickAcceptFriendRequest() {
                    this.$emit("accept-friend-request")
                },
                onClickFollowUser: function onClickFollowUser() {
                    this.$emit("follow-user")
                },
                onClickUnfollowUser: function onClickUnfollowUser() {
                    this.$emit("unfollow-user")
                },
                onClickBlockUser: function onClickBlockUser() {
                    this.$emit("block-user")
                },
                onClickUnblockUser: function onClickUnblockUser() {
                    this.$emit("unblock-user")
                },
                onClickReport: function onClickReport() {
                    this.$emit("show-report")
                },
                onClickObserve: function onClickObserve() {
                    this.$emit("observe-user")
                },
                onClickPartner: function onClickPartner() {
                    this.$emit("bughouse-partner")
                },
                onClickUnpartner: function onClickUnpartner() {
                    this.$emit("bughouse-unpartner")
                },
                showAllActions: function showAllActions() {
                    var e = this;
                    this.allActions = !0, this.$nextTick(function() {
                        var t = document.getElementsByClassName(e.$style.buttonsList)[0];
                        if (t) {
                            var n = N()(t.children),
                                a = Math.max.apply(Math, N()(n.map(function(e) {
                                    return e.offsetHeight
                                })));
                            e.buttonsListStyle = {
                                height: "".concat(a * Math.round(n.length / 2), "px")
                            }
                        }
                        e.$nextTick(function() {
                            e.$emit("all-actions-shown")
                        })
                    })
                },
                startDirectChat: function startDirectChat() {
                    this.hidePopover(), this.$emit("start-direct-chat")
                },
                hideChatDropdown: function hideChatDropdown() {
                    this.chatDropdownTarget = null
                },
                hideAnalysisDropdown: function hideAnalysisDropdown() {
                    this.analysisDropdownTarget = null
                }
            }
        },
        Z = n(272);
    var J = Object(M.a)(Q, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.allActions ? e._e() : n("div", {
                class: e.$style["icons-list"]
            }, [e.canCreateChallenge ? n(e.getIconComponent(e.challengeUrl), {
                tag: "component",
                attrs: {
                    "icon-name": "chess-board-plus",
                    label: e.$trans("Challenge"),
                    url: e.challengeUrl
                },
                on: {
                    click: e.onClickChallenge
                }
            }) : e._e(), e._v(" "), e.showGlobalChatButton ? n("icon-button", {
                attrs: {
                    "icon-name": "chat",
                    label: e.$trans("Chat")
                },
                on: {
                    click: e.startDirectChat
                }
            }) : e._e(), e._v(" "), e.canSendMessage ? n("icon-button", {
                attrs: {
                    "icon-name": "mail-plus",
                    label: e.$trans("Message")
                },
                on: {
                    click: e.onClickMessage
                }
            }) : e._e(), e._v(" "), e.canInviteToChat ? n("icon-button", {
                attrs: {
                    "icon-name": "chat",
                    label: e.$trans("Chat")
                },
                on: {
                    click: e.onClickChat
                }
            }) : e._e(), e._v(" "), e.canAddFriend ? n("icon-button", {
                attrs: {
                    "icon-name": "user-plus",
                    label: e.$trans("Add Friend")
                },
                on: {
                    click: e.onClickAddFriend
                }
            }) : e._e(), e._v(" "), e.canAcceptFriendRequest ? n("icon-button", {
                attrs: {
                    "icon-name": "user-plus",
                    label: e.$trans("Accept Request")
                },
                on: {
                    click: e.onClickAcceptFriendRequest
                }
            }) : e._e(), e._v(" "), e.canDeclineFriendRequest ? n("icon-button", {
                attrs: {
                    "btn-color": "grey",
                    "icon-name": "user-x",
                    label: e.$trans("Decline Request")
                },
                on: {
                    click: e.onClickDeclineFriendRequest
                }
            }) : e._e(), e._v(" "), e.canCancelFriendRequest ? n("icon-button", {
                attrs: {
                    "btn-color": "grey",
                    "icon-name": "user-x",
                    label: e.$trans("Cancel Request")
                },
                on: {
                    click: e.onClickCancelFriendRequest
                }
            }) : e._e(), e._v(" "), e.canRemoveFriend ? n("icon-button", {
                attrs: {
                    "icon-name": "user-x",
                    label: e.$trans("Remove Friend")
                },
                on: {
                    click: e.onClickRemoveFriend
                }
            }) : e._e(), e._v(" "), e.canGiftMembership ? n(e.getIconComponent(e.membershipUrl), {
                tag: "component",
                attrs: {
                    "btn-color": "blue",
                    "icon-color": "blue",
                    "icon-name": "display-slider",
                    label: e.$trans("Gift Membership"),
                    url: e.membershipUrl
                },
                on: {
                    click: e.onClickGift
                }
            }) : e._e(), e._v(" "), e.canObserveGame ? n("icon-button", {
                attrs: {
                    "icon-name": "binoculars",
                    label: e.$trans("Observe Game")
                },
                on: {
                    click: e.onClickObserve
                }
            }) : e._e(), e._v(" "), e.canReportUser ? n("icon-button", {
                attrs: {
                    "icon-name": "circle-danger",
                    label: e.$trans("Report")
                },
                on: {
                    click: e.onClickReport
                }
            }) : e._e(), e._v(" "), e.loggedAsAnother ? e._e() : n(e.getIconComponent(e.archiveUrl), {
                tag: "component",
                attrs: {
                    "icon-name": "chess-board-folder",
                    label: e.$trans("Archive"),
                    url: e.archiveUrl
                },
                on: {
                    click: e.onClickArchive
                }
            }), e._v(" "), e.loggedAsAnother && e.isEnabled ? n("button", {
                class: e.$style.more,
                attrs: {
                    type: "button"
                },
                on: {
                    click: e.showAllActions
                }
            }, [e._v("\n      " + e._s(e.$trans("More")) + "\n      "), n("icon-font", {
                class: e.$style.caret,
                attrs: {
                    name: "caret-down",
                    theme: "primary"
                }
            })], 1) : e._e()], 1), e._v(" "), e.allActions && !e.isConfirmVisible ? n("div", {
                class: e.$style.buttonsList,
                style: e.buttonsListStyle
            }, [e.canCreateChallenge ? n(e.getIconLabeledComponent(e.challengeUrl), {
                tag: "component",
                attrs: {
                    "icon-name": "chess-board-plus",
                    label: e.$trans("Challenge"),
                    url: e.challengeUrl
                },
                on: {
                    click: e.onClickChallenge
                }
            }) : e._e(), e._v(" "), e.showGlobalChatButton ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "chat",
                    label: e.$trans("Chat")
                },
                on: {
                    click: e.startDirectChat
                }
            }) : e._e(), e._v(" "), e.canSendMessage ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "mail-plus",
                    label: e.$trans("Message")
                },
                on: {
                    click: e.onClickMessage
                }
            }) : e._e(), e._v(" "), e.canInviteToChat ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "chat",
                    label: e.$trans("Chat")
                },
                on: {
                    click: e.onClickChat
                }
            }) : e._e(), e._v(" "), e.canAddFriend ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "user-plus",
                    label: e.$trans("Add Friend")
                },
                on: {
                    click: e.onClickAddFriend
                }
            }) : e._e(), e._v(" "), e.canAcceptFriendRequest ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "user-plus",
                    label: e.$trans("Accept Request")
                },
                on: {
                    click: e.onClickAcceptFriendRequest
                }
            }) : e._e(), e._v(" "), e.canDeclineFriendRequest ? n("labeled-icon-button", {
                attrs: {
                    "btn-color": "grey",
                    "icon-name": "user-x",
                    label: e.$trans("Decline Request")
                },
                on: {
                    click: e.onClickDeclineFriendRequest
                }
            }) : e._e(), e._v(" "), e.canCancelFriendRequest ? n("labeled-icon-button", {
                attrs: {
                    "btn-color": "grey",
                    "icon-name": "user-x",
                    label: e.$trans("Cancel Request")
                },
                on: {
                    click: e.onClickCancelFriendRequest
                }
            }) : e._e(), e._v(" "), e.canRemoveFriend ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "user-x",
                    label: e.$trans("Remove Friend")
                },
                on: {
                    click: e.onClickRemoveFriend
                }
            }) : e._e(), e._v(" "), e.canObserveGame ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "binoculars",
                    label: e.$trans("Observe")
                },
                on: {
                    click: e.onClickObserve
                }
            }) : e._e(), e._v(" "), e.canFollowUser ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "follow",
                    label: e.$trans("Follow")
                },
                on: {
                    click: e.onClickFollowUser
                }
            }) : e._e(), e._v(" "), e.canUnfollowUser ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "unfollow",
                    label: e.$trans("Unfollow")
                },
                on: {
                    click: e.onClickUnfollowUser
                }
            }) : e._e(), e._v(" "), e.canGiftMembership ? n("labeled-icon-button", {
                attrs: {
                    "btn-color": "blue",
                    "icon-name": "display-slider",
                    label: e.$trans("Gift Membership")
                },
                on: {
                    click: e.onClickGift
                }
            }) : e._e(), e._v(" "), e.canSendTrophy ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "trophy-plus",
                    label: e.$trans("Give Award")
                },
                on: {
                    click: e.onClickTrophy
                }
            }) : e._e(), e._v(" "), e.showBughousePartner && !e.isBughousePartner ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "bughouse",
                    label: e.$trans("Partner")
                },
                on: {
                    click: e.onClickPartner
                }
            }) : e._e(), e._v(" "), e.showBughousePartner && e.isBughousePartner ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "bughouse",
                    label: e.$trans("Unpartner")
                },
                on: {
                    click: e.onClickUnpartner
                }
            }) : e._e(), e._v(" "), e.canInviteToAnalysis ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "chess-board-search",
                    label: e.$trans("Analysis Board")
                },
                on: {
                    click: e.onClickAnalysis
                }
            }) : e._e(), e._v(" "), n(e.getIconLabeledComponent(e.archiveUrl), {
                tag: "component",
                attrs: {
                    "icon-name": "chess-board-folder",
                    label: e.$trans("Archive"),
                    url: e.archiveUrl
                },
                on: {
                    click: e.onClickArchive
                }
            }), e._v(" "), e.canBlockUser ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "circle-block",
                    label: e.$trans("Block")
                },
                on: {
                    click: e.onClickBlockUser
                }
            }) : e._e(), e._v(" "), e.canUnblockUser ? n("labeled-icon-button", {
                attrs: {
                    "btn-color": "red",
                    "icon-name": "circle-block",
                    label: e.$trans("Unblock")
                },
                on: {
                    click: e.onClickUnblockUser
                }
            }) : e._e(), e._v(" "), e.canReportUser ? n("labeled-icon-button", {
                attrs: {
                    "icon-name": "circle-danger",
                    label: e.$trans("Report")
                },
                on: {
                    click: e.onClickReport
                }
            }) : e._e()], 1) : e._e(), e._v(" "), e.chatDropdownTarget ? n("chat-options-dropdown", {
                attrs: {
                    target: e.chatDropdownTarget,
                    position: e.position,
                    "chat-options": e.chatOptions
                },
                on: {
                    "option-selected": e.onClickChatOption,
                    hide: e.hideChatDropdown
                }
            }) : e._e(), e._v(" "), e.analysisDropdownTarget ? n("analysis-options-dropdown", {
                attrs: {
                    target: e.analysisDropdownTarget,
                    position: e.position,
                    "analysis-options": e.analysisOptions
                },
                on: {
                    "option-selected": e.onClickAnalysisOption,
                    hide: e.hideAnalysisDropdown
                }
            }) : e._e()], 1)
        }, [], !1, function user_actions_injectStyles(e) {
            this.$style = Z.default.locals || Z.default
        }, null, null).exports,
        ee = n(253),
        te = {
            name: "user-flair-status",
            props: {
                status: {
                    type: String,
                    required: !0
                }
            }
        },
        ne = n(273);
    var ae = Object(M.a)(te, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return this.status.length ? t("div", {
                class: this.$style.component,
                domProps: {
                    textContent: this._s(this.status)
                }
            }) : this._e()
        }, [], !1, function user_flair_status_injectStyles(e) {
            this.$style = ne.default.locals || ne.default
        }, null, null).exports,
        ie = {
            name: "user-rating",
            components: {
                IconFont: I.a
            },
            props: {
                icon: {
                    type: String,
                    required: !0
                },
                rating: {
                    type: Number,
                    required: !0
                }
            }
        },
        oe = n(274);
    var re = Object(M.a)(ie, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("span", {
                class: e.$style.component
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    theme: "primary",
                    name: e.icon
                }
            }), e._v(" "), n("span", {
                class: e.$style.rating
            }, [e._v("\n    " + e._s(e.rating) + "\n  ")])], 1)
        }, [], !1, function user_rating_injectStyles(e) {
            this.$style = oe.default.locals || oe.default
        }, null, null).exports,
        se = n(316),
        le = {
            name: "user-popover",
            components: {
                LoaderThreeBounce: j.a,
                UserAvatar: ee.a,
                UserFlairStatus: ae,
                UserRating: re,
                UserTagline: se.a,
                UserActions: J,
                FormButton: A.a,
                AdminActions: T
            },
            directives: {
                Tooltip: L.a,
                ClickOutside: E.a
            },
            props: {
                avatar: {
                    type: String,
                    required: !0
                },
                ratings: {
                    type: Array,
                    required: !0
                },
                chessTitle: {
                    type: String,
                    required: !1
                },
                country: {
                    type: Object,
                    required: !1
                },
                flair: {
                    type: Object,
                    default: function _default() {
                        return {
                            code: "",
                            status: ""
                        }
                    }
                },
                isEnabled: {
                    type: Boolean
                },
                isLoading: {
                    type: Boolean,
                    default: !1
                },
                joinedDate: String,
                lastLoginDate: String,
                membership: {
                    type: Number,
                    required: !1
                },
                onlineStatus: {
                    type: [Boolean, String],
                    required: !1
                },
                usernameElementRef: {
                    type: HTMLElement,
                    required: !0
                },
                username: {
                    type: String,
                    required: !1
                },
                canAddFriend: Boolean,
                canBlockUser: Boolean,
                canUseGlobalChat: Boolean,
                canReportUser: Boolean,
                canCreateChallenge: Boolean,
                canFollowUser: Boolean,
                canGiftMembership: Boolean,
                canRemoveFriend: Boolean,
                canSendMessage: Boolean,
                canInviteToChat: Boolean,
                canSendTrophy: Boolean,
                canUnblockUser: Boolean,
                canUnfollowUser: Boolean,
                loggedAsAnother: Boolean,
                canMuteUser: {
                    type: Boolean,
                    default: !1
                },
                canObserveGame: {
                    type: Boolean,
                    default: !1
                },
                isBughousePartner: {
                    type: Boolean,
                    default: !1
                },
                shouldShowModeration: {
                    type: Boolean,
                    default: !1
                },
                challengeUrl: String,
                canCancelFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                canDeclineFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                canAcceptFriendRequest: {
                    type: Boolean,
                    default: !1
                },
                archiveUrl: String,
                chatOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                canInviteToAnalysis: {
                    type: Boolean,
                    default: !1
                },
                analysisOptions: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                canModerate: {
                    type: Boolean,
                    default: !1
                },
                clientName: String,
                canWarnOnChat: Boolean,
                canModerateOnChat: Boolean,
                showBughousePartner: {
                    type: Boolean,
                    default: !1
                },
                openProfileOnNewTab: {
                    type: Boolean,
                    required: !1
                },
                membershipUrl: String
            },
            data: function data() {
                return {
                    isLive: y.i,
                    isOnline: y.j,
                    offset: 12,
                    translations: y.p,
                    confirmMessage: null,
                    confirmCallback: null,
                    position: {
                        x: 0,
                        y: 0,
                        top: 0,
                        left: 0
                    }
                }
            },
            computed: {
                adminActionsIsVisible: function adminActionsIsVisible() {
                    return this.canModerate || this.canWarnOnChat || this.canModerateOnChat
                },
                memberUrl: function memberUrl() {
                    return O.a.generate("web_member_view", {
                        username: this.username
                    })
                },
                ratingsToShow: function ratingsToShow() {
                    return this.ratings.slice(0, 3)
                },
                isConfirmVisible: function isConfirmVisible() {
                    return !!this.confirmMessage && !!this.confirmCallback
                },
                inlineStyles: function inlineStyles() {
                    return setPopoverPosition(this.position)
                }
            },
            mounted: function mounted() {
                this.updatePopoverPosition()
            },
            methods: {
                onMouseEnter: function onMouseEnter() {
                    clearTimeout(this.hideTimeout)
                },
                onMouseLeave: function onMouseLeave() {
                    var e = this;
                    this.hideTimeout = setTimeout(function() {
                        e.hidePopover()
                    }, 500)
                },
                hidePopover: function hidePopover() {
                    this.$emit("user-popover-hide")
                },
                onConfirmYes: function onConfirmYes() {
                    this.confirmCallback && this.confirmCallback(), this.onConfirmNo()
                },
                onConfirmNo: function onConfirmNo() {
                    this.confirmMessage = null, this.confirmCallback = null
                },
                onClickRemoveFriend: function onClickRemoveFriend() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to remove this friend from your list?"), this.confirmCallback = function() {
                        return e.$emit("remove-friend")
                    }
                },
                onClickBlockUser: function onClickBlockUser() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to block this user?"), this.confirmCallback = function() {
                        return e.$emit("block-user")
                    }
                },
                onClickWarn: function onClickWarn() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to warn this user?"), this.confirmCallback = function() {
                        return e.$emit("warn-user")
                    }
                },
                onClickMute: function onClickMute() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to mute this user?"), this.confirmCallback = function() {
                        return e.$emit("mute-user")
                    }
                },
                onClickKick: function onClickKick() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to kick this user?"), this.confirmCallback = function() {
                        return e.$emit("kick-user")
                    }
                },
                onClickBan: function onClickBan() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to ban this user?"), this.confirmCallback = function() {
                        return e.$emit("ban-user")
                    }
                },
                onClickChatWarn: function onClickChatWarn() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to warn this user?"), this.confirmCallback = function() {
                        return e.$emit("chat-warn-user")
                    }
                },
                onClickChatMute: function onClickChatMute() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to mute this user?"), this.confirmCallback = function() {
                        return e.$emit("chat-mute-user")
                    }
                },
                onClickChatKick: function onClickChatKick() {
                    var e = this;
                    this.confirmMessage = this.$trans("Are you sure you want to kick this user?"), this.confirmCallback = function() {
                        return e.$emit("chat-kick-user")
                    }
                },
                updatePopoverPosition: function updatePopoverPosition() {
                    if (this.usernameElementRef && this.$refs.userPopover) {
                        var e = this.usernameElementRef.getBoundingClientRect(),
                            t = this.$refs.userPopover.offsetHeight;
                        this.position = Object(b.b)(e, t)
                    }
                }
            }
        },
        ce = n(277);
    var ue = Object(M.a)(le, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                directives: [{
                    name: "click-outside",
                    rawName: "v-click-outside",
                    value: e.onMouseLeave,
                    expression: "onMouseLeave"
                }],
                ref: "userPopover",
                class: [e.$style.popover, e.$style[e.position.x], e.$style[e.position.y]],
                style: e.inlineStyles,
                on: {
                    mouseenter: e.onMouseEnter,
                    mouseleave: e.onMouseLeave
                }
            }, [n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.profile
            }, [n("div", {
                class: e.$style.meta
            }, [e.username ? n("user-avatar", {
                attrs: {
                    image: e.avatar,
                    "is-live": e.onlineStatus && e.isLive(e.onlineStatus),
                    "is-online": e.onlineStatus && e.isOnline(e.onlineStatus),
                    url: e.memberUrl
                }
            }) : e._e(), e._v(" "), e.username ? e._e() : n("div", {
                class: e.$style["avatar-placeholder"]
            }), e._v(" "), e.username ? n("div", {
                class: e.$style.info
            }, [n("user-tagline", {
                attrs: {
                    "username-theme": "blue",
                    country: e.country,
                    "flair-code": e.flair ? e.flair.code : "",
                    membership: e.membership,
                    "open-profile-on-new-tab": e.openProfileOnNewTab,
                    title: e.chessTitle,
                    url: e.memberUrl,
                    username: e.username
                }
            }), e._v(" "), n("user-flair-status", {
                attrs: {
                    status: e.flair ? e.flair.status : ""
                }
            }), e._v(" "), n("div", {
                class: e.$style.ratings
            }, e._l(e.ratingsToShow, function(e) {
                return n("user-rating", {
                    directives: [{
                        name: "tooltip",
                        rawName: "v-tooltip",
                        value: e.label,
                        expression: "rating.label"
                    }],
                    key: e.type,
                    attrs: {
                        icon: e.icon,
                        rating: e.value
                    }
                })
            }), 1)], 1) : e._e(), e._v(" "), e.username ? e._e() : n("div", {
                class: e.$style.info
            }, [n("loader-three-bounce", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.isLoading,
                    expression: "isLoading"
                }],
                class: e.$style.loader,
                attrs: {
                    size: 40
                }
            })], 1)], 1), e._v(" "), e.joinedDate && e.username ? n("div", {
                class: e.$style.secondary
            }, [n("div", {
                domProps: {
                    textContent: e._s(e.translations.joinedDate(e.joinedDate))
                }
            }), e._v(" "), n("div", {
                class: e.$style.status
            }, [e.isLive(e.onlineStatus) ? n("div", {
                class: e.$style.onlive,
                domProps: {
                    textContent: e._s(e.translations.inLiveNow)
                }
            }) : e._e(), e._v(" "), e.isOnline(e.onlineStatus) ? n("div", {
                class: e.$style.online,
                domProps: {
                    textContent: e._s(e.translations.onlineNow)
                }
            }) : e._e(), e._v(" "), !e.lastLoginDate || e.isOnline(e.onlineStatus) || e.isLive(e.onlineStatus) ? e._e() : n("div", {
                domProps: {
                    textContent: e._s(e.translations.lastOnline(e.lastLoginDate))
                }
            })])]) : e._e(), e._v(" "), e.username ? e._e() : n("div", {
                class: e.$style.secondary
            })]), e._v(" "), e.adminActionsIsVisible ? n("admin-actions", {
                attrs: {
                    "can-moderate": e.canModerate,
                    "client-name": e.clientName,
                    "can-warn-on-chat": e.canWarnOnChat,
                    "can-moderate-on-chat": e.canModerateOnChat
                },
                on: {
                    "warn-user": e.onClickWarn,
                    "mute-user": e.onClickMute,
                    "kick-user": e.onClickKick,
                    "ban-user": e.onClickBan,
                    "chat-warn-user": e.onClickChatWarn,
                    "chat-mute-user": e.onClickChatMute,
                    "chat-kick-user": e.onClickChatKick
                }
            }) : e._e(), e._v(" "), n("div", {
                class: e.$style.actions
            }, [e.username ? n("user-actions", {
                attrs: {
                    avatar: e.avatar,
                    "can-add-friend": e.canAddFriend,
                    "can-block-user": e.canBlockUser,
                    "can-create-challenge": e.canCreateChallenge,
                    "can-follow-user": e.canFollowUser,
                    "can-gift-membership": e.canGiftMembership,
                    "can-remove-friend": e.canRemoveFriend,
                    "can-report-user": e.canReportUser,
                    "can-send-message": e.canSendMessage,
                    "can-invite-to-chat": e.canInviteToChat,
                    "can-send-trophy": e.canSendTrophy,
                    "can-unblock-user": e.canUnblockUser,
                    "can-unfollow-user": e.canUnfollowUser,
                    "can-use-global-chat": e.canUseGlobalChat,
                    "can-cancel-friend-request": e.canCancelFriendRequest,
                    "can-decline-friend-request": e.canDeclineFriendRequest,
                    "can-accept-friend-request": e.canAcceptFriendRequest,
                    "logged-as-another": e.loggedAsAnother,
                    username: e.username,
                    "can-observe-game": e.canObserveGame,
                    "is-bughouse-partner": e.isBughousePartner,
                    "challenge-url": e.challengeUrl,
                    "archive-url": e.archiveUrl,
                    "chat-options": e.chatOptions,
                    position: e.position,
                    "can-invite-to-analysis": e.canInviteToAnalysis,
                    "analysis-options": e.analysisOptions,
                    "is-enabled": e.isEnabled,
                    "is-confirm-visible": e.isConfirmVisible,
                    "show-bughouse-partner": e.showBughousePartner,
                    "membership-url": e.membershipUrl
                },
                on: {
                    "all-actions-shown": e.updatePopoverPosition,
                    "remove-friend": e.onClickRemoveFriend,
                    "block-user": e.onClickBlockUser,
                    "user-popover-hide": e.hidePopover,
                    "create-challenge": function(t) {
                        return e.$emit("create-challenge", t)
                    },
                    "send-message": function(t) {
                        return e.$emit("send-message", t)
                    },
                    "add-friend": function(t) {
                        return e.$emit("add-friend", t)
                    },
                    "cancel-friend-request": function(t) {
                        return e.$emit("cancel-friend-request", t)
                    },
                    "decline-friend-request": function(t) {
                        return e.$emit("decline-friend-request", t)
                    },
                    "show-gift": function(t) {
                        return e.$emit("show-gift", t)
                    },
                    "show-archive": function(t) {
                        return e.$emit("show-archive", t)
                    },
                    "start-direct-chat": function(t) {
                        return e.$emit("start-direct-chat")
                    },
                    "mute-user": function(t) {
                        return e.$emit("mute-user", t)
                    },
                    "accept-friend-request": function(t) {
                        return e.$emit("accept-friend-request", t)
                    },
                    "follow-user": function(t) {
                        return e.$emit("follow-user", t)
                    },
                    "unfollow-user": function(t) {
                        return e.$emit("unfollow-user", t)
                    },
                    "unblock-user": function(t) {
                        return e.$emit("unblock-user", t)
                    },
                    "show-report": function(t) {
                        return e.$emit("show-report", t)
                    },
                    "show-trophy": function(t) {
                        return e.$emit("show-trophy", t)
                    },
                    "observe-user": function(t) {
                        return e.$emit("observe-user", t)
                    },
                    "bughouse-partner": function(t) {
                        return e.$emit("bughouse-partner", t)
                    },
                    "bughouse-unpartner": function(t) {
                        return e.$emit("bughouse-unpartner", t)
                    },
                    "request-chat": function(t) {
                        return e.$emit("request-chat", t)
                    },
                    "invite-analysis": function(t) {
                        return e.$emit("invite-analysis", t)
                    }
                }
            }) : e._e()], 1)], 1), e._v(" "), e.isConfirmVisible ? n("div", {
                class: e.$style.confirm
            }, [n("p", {
                domProps: {
                    innerHTML: e._s(e.confirmMessage)
                }
            }), e._v(" "), n("div", [n("form-button", {
                attrs: {
                    size: "small",
                    theme: "basic"
                },
                on: {
                    click: e.onConfirmNo
                }
            }, [e._v("\n        " + e._s(e.$trans("No")) + "\n      ")]), e._v(" "), n("form-button", {
                attrs: {
                    size: "small",
                    theme: "primary"
                },
                on: {
                    click: e.onConfirmYes
                }
            }, [e._v("\n        " + e._s(e.$trans("Yes")) + "\n      ")])], 1)]) : e._e()])
        }, [], !1, function user_popover_injectStyles(e) {
            this.$style = ce.default.locals || ce.default
        }, null, null).exports,
        de = n(314);

    function user_popovervue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function user_popovervue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? user_popovervue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                p()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : user_popovervue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var pe = {
            name: "user-popover-widget",
            components: {
                giftMembershipModal: _.a,
                UserReportModal: de.a,
                UserPopover: ue,
                TrophyPopover: S.a
            },
            data: function data() {
                return {
                    clickListener: null,
                    isLoading: !1,
                    showGiftMembershipModal: !1,
                    isUserReportModalVisible: !1,
                    isChallengePopoverVisible: !1,
                    isTrophyPopoverVisible: !1,
                    scrollContainer: null,
                    elementRef: null
                }
            },
            computed: user_popovervue_type_script_lang_js_objectSpread({}, Object(v.mapState)({
                show: function show(e) {
                    return e.userPopover.show
                },
                user: function user(e) {
                    return e.userPopover.user
                },
                username: function username(e) {
                    return e.user.username
                },
                position: function position(e) {
                    return e.userPopover.position
                }
            }), {
                ratings: function ratings() {
                    var e = this.user,
                        t = e.bestRating,
                        n = e.bestRatingType,
                        a = e.topPuzzleRushScore,
                        ratings = [{
                            type: n,
                            icon: n,
                            value: t
                        }];
                    return a && ratings.push({
                        type: "puzzle",
                        icon: "fire-puzzle",
                        value: a
                    }), ratings
                },
                canAddFriend: function canAddFriend() {
                    return this.loggedAsAnother && !this.user.areFriends && !this.user.isFriendRequestFromUserExists && !this.user.isFriendRequestExists && this.user.isEnabled
                },
                canBlockUser: function canBlockUser() {
                    return this.loggedAsAnother && !this.user.areFriends && !this.user.isBlocked && this.user.isEnabled && this.user.membership && this.user.membership.level < y.k.moderator
                },
                canUseGlobalChat: function canUseGlobalChat() {
                    return this.loggedAsAnother && this.user.isEnabled
                },
                canCreateChallenge: function canCreateChallenge() {
                    return this.loggedAsAnother && this.user.isEnabled
                },
                canFollowUser: function canFollowUser() {
                    return this.loggedAsAnother && !this.user.isTracked && this.user.isEnabled
                },
                canGiftMembership: function canGiftMembership() {
                    return this.user.canReceiveGiftMembership && this.user.isEnabled
                },
                canRemoveFriend: function canRemoveFriend() {
                    return this.loggedAsAnother && this.user.areFriends
                },
                canReportUser: function canReportUser() {
                    return this.loggedAsAnother && !this.user.isModerator && !this.user.isStaff
                },
                canSendMessage: function canSendMessage() {
                    return this.loggedAsAnother && this.user.isMessageable && this.user.isEnabled
                },
                canSendTrophy: function canSendTrophy() {
                    return this.canSendMessage && this.user.isEnabled
                },
                canUnblockUser: function canUnblockUser() {
                    return this.loggedAsAnother && this.user.isBlocked && this.user.isEnabled
                },
                canUnfollowUser: function canUnfollowUser() {
                    return this.loggedAsAnother && this.user.isTracked && this.user.isEnabled
                },
                hasInboundFriendRequest: function hasInboundFriendRequest() {
                    return this.loggedAsAnother && this.user.isFriendRequestFromUserExists
                },
                hasOutboundFriendRequest: function hasOutboundFriendRequest() {
                    return this.loggedAsAnother && this.user.isFriendRequestExists
                },
                canCancelFriendRequest: function canCancelFriendRequest() {
                    return this.hasOutboundFriendRequest && !this.hasInboundFriendRequest
                },
                canAcceptFriendRequest: function canAcceptFriendRequest() {
                    return this.hasInboundFriendRequest
                },
                loggedAsAnother: function loggedAsAnother() {
                    return this.username && this.username !== this.user.username
                },
                membershipNumber: function membershipNumber() {
                    return Object(g.e)(this.user.membership ? this.user.membership.level : null, this.user.isEnabled)
                },
                inlineStyles: function inlineStyles() {
                    return setPopoverPosition(this.position)
                },
                areFriends: function areFriends() {
                    return this.user.areFriends
                }
            }),
            created: function created() {
                Object(a.a)({
                    modalMessages: w,
                    trophies: k.a
                })
            },
            mounted: function mounted() {
                var e = this;
                this.scrollContainer = document.querySelector(".base-container") || document.body, o.a.$on("userPopover/show", function(t, n) {
                    if (e.$store.dispatch("userPopover/fetchUserPopover", t).then(function() {
                            e.isLoading = !1
                        }), e.$store.commit("userPopover/resetUser"), null != t) {
                        e.clickListener = document.addEventListener("click", function(t) {
                            (e.user.userNotExist || e.$refs.userPopover && t.target !== e.$refs.userPopover.$el && !e.$refs.userPopover.$el.contains(t.target) && !document.getElementById(y.n.USER_POPOVER_CONTAINER).contains(t.target)) && e.hideUserPopup()
                        }, !0), setTimeout(function() {
                            e.user.username || e.user.userNotExist || (e.isLoading = !0)
                        }, 500), e.scrollContainer.addEventListener("scroll", e.hideUserPopup), e.elementRef = n;
                        var a = Object(b.b)(n.getBoundingClientRect());
                        e.$store.commit("userPopover/setPosition", a), e.$store.commit("userPopover/showUserPopover")
                    }
                }), o.a.$on("userPopover/hide", this.hideUserPopup)
            },
            beforeDestroy: function beforeDestroy() {
                this.removeListeners()
            },
            methods: user_popovervue_type_script_lang_js_objectSpread({}, Object(v.mapMutations)({
                hideUserPopover: "userPopover/hideUserPopover",
                setRecipientIsFriend: "trophies/setRecipientIsFriend",
                setRecipientUsername: "trophies/setRecipientUsername"
            }), {
                onChallenge: function onChallenge(e) {
                    this.hideUserPopup(), window.postMessage({
                        key: f.c.SHOW_NEW_GAME_MODAL,
                        challengeUser: {
                            avatar_url: e.avatar,
                            username: e.username
                        }
                    }, window.location.origin)
                },
                onMessage: function onMessage(e) {
                    this.hideUserPopup(), window.postMessage({
                        event: "SHOW_MESSAGE_MODAL",
                        user: {
                            avatar_url: e.avatar,
                            username: e.username
                        }
                    }, window.location.origin)
                },
                onTrophy: function onTrophy(e) {
                    this.hideUserPopup(), this.setRecipientUsername(e.username), this.isTrophyPopoverVisible = !0
                },
                acceptFriendRequest: function acceptFriendRequest() {
                    this.$store.dispatch("user/approveFriendRequest", this.user.username).then(this.reload)
                },
                addFriend: function addFriend() {
                    this.$store.dispatch("user/addFriend", this.user.username).then(this.reload)
                },
                blockUser: function blockUser() {
                    this.$store.dispatch("user/blockUser", this.user.username).then(this.reload)
                },
                cancelFriendRequest: function cancelFriendRequest() {
                    this.$store.dispatch("user/cancelFriendRequest", this.user.username).then(this.reload)
                },
                deleteFriend: function deleteFriend() {
                    this.$store.dispatch("user/deleteFriend", this.user.username).then(this.reload)
                },
                hideUserPopup: function hideUserPopup() {
                    this.setRecipientIsFriend(this.areFriends), this.hideUserPopover(), this.removeListeners(), this.isLoading = !1
                },
                reload: function reload() {
                    return this.$store.dispatch("userPopover/fetchUserPopover", this.user.username)
                },
                removeListeners: function removeListeners() {
                    document.removeEventListener("click", this.clickListener, !0), this.scrollContainer.removeEventListener("scroll", this.hideUserPopup)
                },
                trackUser: function trackUser() {
                    this.$store.dispatch("user/trackUser", this.user.username).then(this.reload)
                },
                unblockUser: function unblockUser() {
                    this.$store.dispatch("user/unblockUser", this.user.username).then(this.reload)
                },
                untrackUser: function untrackUser() {
                    this.$store.dispatch("user/untrackUser", this.user.username).then(this.reload)
                },
                showGiftModal: function showGiftModal() {
                    this.hideUserPopup(), this.showGiftMembershipModal = !0
                },
                hideGiftMembershipModal: function hideGiftMembershipModal() {
                    this.showGiftMembershipModal = !1
                },
                showReportModal: function showReportModal() {
                    this.hideUserPopup(), this.isUserReportModalVisible = !0
                },
                hideUserReportModal: function hideUserReportModal() {
                    this.isUserReportModalVisible = !1
                },
                hideChallengePopover: function hideChallengePopover() {
                    this.isChallengePopoverVisible = !1
                },
                hideTrophyPopover: function hideTrophyPopover() {
                    this.isTrophyPopoverVisible = !1
                },
                showArchive: function showArchive(e) {
                    window.location.href = O.a.generate("web_archive_index", {
                        username: e.username
                    })
                },
                startDirectChat: function startDirectChat() {
                    var e = f.c.START_DIRECT_CHAT,
                        t = {
                            avatarUrl: this.user.avatarUrl,
                            id: this.user.uuid,
                            username: this.user.username
                        };
                    window.postMessage({
                        key: e,
                        payload: t
                    }, window.location.origin)
                }
            })
        },
        he = n(280);
    var me = Object(M.a)(pe, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", [e.user.userNotExist ? e._e() : n("div", {
            attrs: {
                id: "user-popover"
            }
        }, [e.show ? n("user-popover", {
            ref: "userPopover",
            attrs: {
                avatar: e.user.avatarUrl,
                "can-add-friend": e.canAddFriend,
                "can-block-user": e.canBlockUser,
                "can-create-challenge": e.canCreateChallenge,
                "can-follow-user": e.canFollowUser,
                "can-gift-membership": e.canGiftMembership,
                "can-remove-friend": e.canRemoveFriend,
                "can-report-user": e.canReportUser,
                "can-send-message": e.canSendMessage,
                "can-send-trophy": e.canSendTrophy,
                "can-unblock-user": e.canUnblockUser,
                "can-unfollow-user": e.canUnfollowUser,
                "can-use-global-chat": e.canUseGlobalChat,
                "can-cancel-friend-request": e.canCancelFriendRequest,
                "can-accept-friend-request": e.canAcceptFriendRequest,
                "chess-title": e.user.chessTitle,
                country: {
                    name: e.user.countryName,
                    code: e.user.countryId
                },
                flair: e.user.flair,
                "is-enabled": e.user.isEnabled,
                "is-loading": e.isLoading,
                "joined-date": e.user.joinDate,
                "last-login-date": e.user.lastLoginDate,
                "logged-as-another": e.loggedAsAnother,
                membership: e.membershipNumber,
                "online-status": e.user.onlineStatus,
                ratings: e.ratings,
                username: e.user.username,
                "username-element-ref": e.elementRef
            },
            on: {
                "accept-friend-request": e.acceptFriendRequest,
                "add-friend": e.addFriend,
                "block-user": e.blockUser,
                "cancel-friend-request": e.cancelFriendRequest,
                "create-challenge": e.onChallenge,
                "follow-user": e.trackUser,
                "remove-friend": e.deleteFriend,
                "send-message": e.onMessage,
                "show-archive": e.showArchive,
                "show-gift": e.showGiftModal,
                "show-report": e.showReportModal,
                "show-trophy": e.onTrophy,
                "start-direct-chat": e.startDirectChat,
                "unblock-user": e.unblockUser,
                "unfollow-user": e.untrackUser,
                "user-popover-hide": e.hideUserPopup
            }
        }) : e._e(), e._v(" "), e.isUserReportModalVisible ? n("user-report-modal", {
            attrs: {
                username: e.user.username
            },
            on: {
                "modal-did-hide": e.hideUserReportModal
            }
        }) : e._e(), e._v(" "), e.showGiftMembershipModal ? n("gift-membership-modal", {
            attrs: {
                "receiver-username": e.user.username,
                "receiver-id": e.user.userId,
                "sender-username": e.username
            },
            on: {
                "hide-modal": e.hideGiftMembershipModal
            }
        }) : e._e(), e._v(" "), e.isTrophyPopoverVisible ? n("trophy-popover", {
            on: {
                hide: e.hideTrophyPopover
            }
        }) : e._e()], 1), e._v(" "), e.user.userNotExist && e.show ? n("div", {
            class: [e.$style["placeholder-popover"], e.$style[e.position.x], e.$style[e.position.y]],
            style: e.inlineStyles
        }, [n("div", {
            class: e.$style["placeholder-component"]
        }, [n("div", {
            class: e.$style["placeholder-profile"]
        }, [n("div", {
            class: e.$style["placeholder-avatar"]
        }), e._v(" "), n("div", {
            class: e.$style["placeholder-info"],
            domProps: {
                textContent: e._s(e.$trans("Member name does not exist"))
            }
        })])])]) : e._e()])
    }, [], !1, function user_user_popover_injectStyles(e) {
        this.$style = he.default.locals || he.default
    }, null, null).exports;
    n.d(t, "b", function() {
        return ge
    }), Object(a.a)({
        user: s.a,
        userPopover: m
    });
    var fe, ge = Object(i.a)({
            userPopover: {
                component: me,
                el: "#user-popover",
                store: r.default
            }
        }),
        be = document.querySelector(".base-container") || document.body,
        ve = 0,
        ye = function documentClickListener(e) {
            var t = document.getElementById("userPopover");
            if (!t || e.target !== t && !t.contains(e.target)) {
                document.removeEventListener("click", documentClickListener, !0);
                var n = !fe || e.target !== fe && !fe.contains(e.target),
                    a = null === fe.getAttribute("href");
                n ? ve = 0 : a && setTimeout(function() {
                    ve = 0
                }, 0)
            }
        },
        _e = function documentScrollListener() {
            be.removeEventListener("scroll", documentScrollListener), ve = 0
        },
        we = function directiveClickListener(e) {
            fe = e.target, 0 === ve && (ve += 1, ge.createInstance("userPopover"), o.a.$emit("userPopover/show", e.currentTarget.dataset.username, e.target), e.preventDefault(), document.addEventListener("click", ye, !0), be.addEventListener("scroll", _e))
        };
    t.a = {
        bind: function bind(e, t) {
            if (!t.value) return !1;
            e.dataset.username = t.value, e.addEventListener("click", we)
        },
        unbind: function unbind(e) {
            e.removeEventListener("click", we)
        },
        update: function update(e, t) {
            e.dataset.username = t.value
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "e", function() {
        return a
    }), n.d(t, "a", function() {
        return i
    }), n.d(t, "d", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    }), n.d(t, "c", function() {
        return s
    });
    var a = "webkitTransform" in document.body.style ? "webkitTransform" : "transform",
        i = function cssHexToNumber(e) {
            var t = e.replace("#", "");
            return 3 === e.length && (t = "".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2])), parseInt(t, 16)
        },
        o = function getXYFromEvent(e, t) {
            var n = t.getBoundingClientRect(),
                a = e.touches ? e.pointer.x : e.clientX,
                i = e.touches ? e.pointer.y : e.clientY;
            return {
                x: a - n.left,
                y: i - n.top,
                boardRect: n
            }
        },
        r = function getFileRankFromEvent(e, t, n, a, i) {
            return function getFileRankFromCoords(e, t, n, a, i) {
                var o = e.boardRect.width / a,
                    r = Math.floor(e.x / o),
                    s = Math.floor(e.y / o);
                return {
                    file: i ? n - r : r + 1,
                    rank: i ? s + 1 : a - s
                }
            }(o(e, t), 0, n, a, i)
        },
        s = function getPieceFromEvent(e) {
            var t = e.target.getAttribute("data-type"),
                n = e.target.getAttribute("data-color");
            return {
                type: t,
                color: Number(n)
            }
        }
}, , function(e, t, n) {
    var a = n(137)(n(74), "Map");
    e.exports = a
}, function(e, t, n) {
    var a = n(211)(Object.getPrototypeOf, Object);
    e.exports = a
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = function pixelDensity(e, t) {
            if (e) {
                var n = "@2x";
                return /\.svg$/.test(e) ? e : ([1.5, 3, 4].indexOf(t) > -1 && (n = "@".concat(t, "x")), e.replace(/(\.\w+)$/, function(e) {
                    return n + e
                }))
            }
        },
        i = function retinaImageSrcset(e) {
            if (!e) return null;
            var t = e.substring(e.lastIndexOf("/") + 1),
                n = e.replace(t, "");
            return "".concat(e, ", ").concat(n).concat(a(t), " 2x")
        }
}, , function(e, t) {
    e.exports = function createBaseFor(e) {
        return function(t, n, a) {
            for (var i = -1, o = Object(t), r = a(t), s = r.length; s--;) {
                var l = r[e ? s : ++i];
                if (!1 === n(o[l], l, o)) break
            }
            return t
        }
    }
}, function(e, t) {
    e.exports = function baseTimes(e, t) {
        for (var n = -1, a = Array(e); ++n < e;) a[n] = t(n);
        return a
    }
}, function(e, t, n) {
    var a = n(85),
        i = n(66),
        o = "[object Arguments]";
    e.exports = function baseIsArguments(e) {
        return i(e) && a(e) == o
    }
}, function(e, t) {
    e.exports = function stubFalse() {
        return !1
    }
}, function(e, t, n) {
    var a = n(85),
        i = n(151),
        o = n(66),
        r = {};
    r["[object Float32Array]"] = r["[object Float64Array]"] = r["[object Int8Array]"] = r["[object Int16Array]"] = r["[object Int32Array]"] = r["[object Uint8Array]"] = r["[object Uint8ClampedArray]"] = r["[object Uint16Array]"] = r["[object Uint32Array]"] = !0, r["[object Arguments]"] = r["[object Array]"] = r["[object ArrayBuffer]"] = r["[object Boolean]"] = r["[object DataView]"] = r["[object Date]"] = r["[object Error]"] = r["[object Function]"] = r["[object Map]"] = r["[object Number]"] = r["[object Object]"] = r["[object RegExp]"] = r["[object Set]"] = r["[object String]"] = r["[object WeakMap]"] = !1, e.exports = function baseIsTypedArray(e) {
        return o(e) && i(e.length) && !!r[a(e)]
    }
}, function(e, t, n) {
    e.exports = n(26)(79)
}, function(e, t, n) {
    var a = n(131),
        i = n(298),
        o = Object.prototype.hasOwnProperty;
    e.exports = function baseKeys(e) {
        if (!a(e)) return i(e);
        var t = [];
        for (var n in Object(e)) o.call(e, n) && "constructor" != n && t.push(n);
        return t
    }
}, function(e, t, n) {
    var a = n(211)(Object.keys, Object);
    e.exports = a
}, function(e, t, n) {
    "use strict";
    var a = n(9),
        i = n(36),
        o = n(33),
        r = n(46),
        s = n(59),
        l = n(0),
        c = {
            name: "confirm-popover",
            components: {
                formButton: o.a,
                ModalContainer: r.a,
                ModalContent: s.a
            },
            props: {
                additionalClass: String,
                messageLabel: String,
                yesBtnLabel: String,
                cancelBtnLabel: String,
                onCancel: Function
            },
            data: function data() {
                return {
                    labels: {
                        cancelBtnLabel: l.a.trans("Cancel"),
                        messageLabel: "",
                        yesBtnLabel: l.a.trans("Yes")
                    },
                    onConfirm: function onConfirm() {}
                }
            },
            created: function created() {
                null != this.messageLabel && (this.labels.messageLabel = this.messageLabel), null != this.yesBtnLabel && (this.labels.yesBtnLabel = this.yesBtnLabel), null != this.cancelBtnLabel && (this.labels.cancelBtnLabel = this.cancelBtnLabel)
            },
            mounted: function mounted() {
                var e = this;
                i.a.$on(a.d.SHOW_MODAL, function(t) {
                    "string" == typeof t && (e.labels.messageLabel = t), e.show()
                })
            },
            methods: {
                hide: function hide() {
                    this.$refs.modalContainer.hide()
                },
                show: function show() {
                    this.$refs.modalContainer.show()
                },
                onYesClick: function onYesClick() {
                    this.hide(), "function" == typeof this.onConfirm && this.onConfirm()
                },
                onCancelClick: function onCancelClick() {
                    this.hide(), "function" == typeof this.onCancel && this.onCancel()
                }
            }
        },
        u = n(203),
        d = n(5);
    var p = Object(d.a)(c, function() {
        var e, t, n = this,
            a = n.$createElement,
            i = n._self._c || a;
        return i("modal-container", {
            ref: "modalContainer"
        }, [i("modal-content", {
            ref: "modal",
            class: n.$style.modal
        }, [i("div", {
            class: n.$style.messageLabel
        }, [n._v(n._s(n.labels.messageLabel))]), n._v(" "), i("div", {
            class: n.$style.buttons
        }, [i("form-button", {
            class: [n.$style.button, (e = {}, e[n.$style["" + n.additionalClass]] = n.additionalClass, e)],
            attrs: {
                size: "large",
                theme: "basic",
                "cancel-btn": n.labels.cancelBtnLabel
            },
            on: {
                click: n.onCancelClick
            }
        }, [n._v("\n        " + n._s(n.labels.cancelBtnLabel) + "\n      ")]), n._v(" "), i("form-button", {
            class: [n.$style.button, (t = {}, t[n.$style["" + n.additionalClass]] = n.additionalClass, t)],
            attrs: {
                size: "large",
                theme: "primary",
                "yes-btn": n.labels.yesBtnLabel
            },
            on: {
                click: n.onYesClick
            }
        }, [n._v("\n        " + n._s(n.labels.yesBtnLabel) + "\n      ")])], 1)])], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = u.default.locals || u.default
    }, null, null);
    t.a = p.exports
}, function(e, t, n) {
    "use strict";
    var a, i = n(7),
        o = n(0),
        r = ["encryptedCardNumber", "encryptedExpiryMonth", "encryptedExpiryYear", "encryptedSecurityCode"],
        s = {
            blocked: o.a.trans("This card is blocked. Please try a different card."),
            cvvWrong: o.a.trans("Your CVV/CSV security code is wrong. Please check your card details and try again."),
            exceededLimit: o.a.trans("Your card has exceeded its limit. Please try a different card."),
            expired: o.a.trans("This card is expired. Please try a different card."),
            fraud: o.a.trans("Your transaction could not be processed at this time. Error 2777."),
            invalidNumber: o.a.trans("This card number is invalid. Please check your card details and try again."),
            invalidPin: o.a.trans("Your pin number is invalid. Please check your card details and try again."),
            transactionFailed: o.a.trans("Your transaction failed. Please check your card details and try again."),
            unacceptable: o.a.trans("This card is not accepted. Please try a different card.")
        },
        l = {
            "3d-secure: Authentication failed": s.transactionFailed,
            "Acquirer Fraud": s.fraud,
            "Authentication Required": s.transactionFailed,
            "Blocked Card": s.blocked,
            Cancelled: s.transactionFailed,
            "CVC Declined": s.cvvWrong,
            Refused: s.transactionFailed,
            "Declined Non Generic": s.transactionFailed,
            "Acquirer Error": s.transactionFailed,
            "Expired Card": s.expired,
            FRAUD: s.fraud,
            "FRAUD-CANCELLED": s.fraud,
            "Invalid Amount": s.transactionFailed,
            "Invalid Card Number": s.invalidNumber,
            "Invalid Pin": s.invalidPin,
            "Issuer Suspected Fraud": s.fraud,
            "Issuer Unavailable": s.transactionFailed,
            "Not enough balance": s.exceededLimit,
            "Not Submitted": s.transactionFailed,
            "Not supported": s.unacceptable,
            Pending: s.transactionFailed,
            "Pin tries exceeded": s.invalidPin,
            "Pin validation not possible": s.invalidPin,
            Referral: s.transactionFailed,
            "Restricted Card": s.unacceptable,
            "Revocation Of Auth": s.unacceptable,
            "Shopper Cancelled": s.transactionFailed,
            "Withdrawal count exceeded": s.exceededLimit,
            "Withdrawal amount exceeded": s.exceededLimit,
            "Transaction Not Permitted": s.fraud,
            Unknown: s.transactionFailed
        },
        c = "vue-data-seed",
        u = {
            CARD: "card",
            PAYPAL: "paypal",
            LOCAL: "local"
        },
        d = {
            adyenPayWithCredit: function adyenPayWithCredit() {
                return i.a.generate("web_payment_adyen_pay_credit_card")
            },
            adyenUpdatePaymentMethod: function adyenUpdatePaymentMethod() {
                return i.a.generate("web_payment_adyen_authorise_card")
            },
            adyenPayWithLocal: function adyenPayWithLocal(e) {
                return i.a.generate("web_payment_adyen_forward_local_payment", e)
            },
            giftMemberships: function giftMemberships() {
                return i.a.generate("web_gift_callback_memberships")
            },
            listStoredPaymentMethods: function listStoredPaymentMethods() {
                return i.a.generate("web_payment_adyen_list_stored_payment_methods")
            },
            localPaymentMethods: function localPaymentMethods(e) {
                return i.a.generate("web_payment_adyen_list_local_payments", e)
            },
            paypalMembershipPayment: function paypalMembershipPayment(e) {
                return i.a.generate("web_payment_paypal_prepare_recurring", e)
            },
            paypalGiftPayment: function paypalGiftPayment(e) {
                return i.a.generate("web_payment_paypal_gift", e)
            }
        },
        p = (o.a.trans("Diamond Membership (Yearly)"), o.a.trans("Diamond Membership (Monthly)"), o.a.trans("Platinum Membership (Yearly)"), o.a.trans("Platinum Membership (Monthly)"), o.a.trans("Gold Membership (Yearly)"), o.a.trans("Gold Membership (Monthly)"), o.a.trans("Diamond Membership (1 Year)"), o.a.trans("Diamond Membership (1 Month)"), o.a.trans("Platinum Membership (1 Year)"), o.a.trans("Platinum Membership (1 Month)"), o.a.trans("Gold Membership (1 Year)"), o.a.trans("Gold Membership (1 Month)"), function getErrorMessage(e) {
            return l[e] ? l[e] : l.Unknown
        }),
        h = n(311),
        m = n(3),
        f = n.n(m),
        g = "show-gift-membership-modal",
        b = {
            analysis: function analysis() {
                return i.a.generate("web_archive_index")
            },
            downgradeAction: i.a.generate("web_membership_cancel", {}, !0),
            explorer: function explorer() {
                return i.a.generate("explorer_index")
            },
            goHome: i.a.generate("web_user_home"),
            giftPayment: function giftPayment(e) {
                return i.a.generate("web_membership_gift", e)
            },
            lessons: function lessons() {
                return i.a.generate("web_cm_mentor")
            },
            live: function live() {
                return i.a.generate("web_live")
            },
            membershipPayment: function membershipPayment(e) {
                return i.a.generate("web_payment_index", e)
            },
            payment: function payment(e) {
                return i.a.generate("web_membership", e)
            },
            policiesAgreement: function policiesAgreement() {
                return i.a.generate("web_policies_agreement")
            },
            puzzles: function puzzles() {
                return i.a.generate("web_tactic_index")
            },
            videos: function videos() {
                return i.a.generate("web_video_index")
            }
        },
        v = {
            DIAMOND_YEARLY: "diamond_yearly",
            DIAMOND_MONTHLY: "diamond_monthly",
            PLATINUM_YEARLY: "platinum_yearly",
            PLATINUM_MONTHLY: "platinum_monthly",
            GOLD_YEARLY: "gold_yearly",
            GOLD_MONTHLY: "gold_monthly"
        },
        y = "diamond",
        _ = {
            YEARLY: "yearly",
            MONTHLY: "monthly"
        },
        w = [{
            sku: v.GOLD_MONTHLY,
            description: o.a.trans("1 Month Gold")
        }, {
            sku: v.DIAMOND_MONTHLY,
            description: o.a.trans("1 Month Diamond")
        }, {
            sku: v.DIAMOND_YEARLY,
            description: o.a.trans("1 Year Diamond")
        }],
        O = (a = {}, f()(a, v.GOLD_MONTHLY, "$5"), f()(a, v.DIAMOND_MONTHLY, "$14"), f()(a, v.DIAMOND_YEARLY, "$99"), a),
        k = {
            giftGive: function giftGive(e) {
                return o.a.trans("Give the gift of chess to %user%!", {
                    "%user%": e
                })
            },
            giftGiven: function giftGiven(e) {
                return o.a.trans("Gift Given to %user%!", {
                    "%user%": e
                })
            },
            paymentTerms: function paymentTerms() {
                return o.a.trans('I agree to <a href="%href%" target="_blank">payment terms</a>.', {
                    "%href%": b.policiesAgreement()
                })
            },
            thanksToYou: function thanksToYou(e) {
                return o.a.trans("Thanks to you, %user% can now enjoy unlimited chess!", {
                    "%user%": e
                })
            },
            membershipProduct: function membershipProduct(e, t, n) {
                return o.a.trans("1 %duration% %product% (%amount%)", {
                    "%duration%": e,
                    "%product%": t.charAt(0).toUpperCase() + t.slice(1),
                    "%amount%": n
                })
            }
        },
        S = [{
            id: 1,
            label: o.a.trans("Unlimited Puzzles"),
            icon: "puzzle",
            link: b.puzzles
        }, {
            id: 2,
            label: o.a.trans("Unlimited Lessons"),
            icon: "lesson",
            link: b.lessons
        }, {
            id: 3,
            label: o.a.trans("Deep Analysis"),
            icon: "analysis",
            link: b.analysis
        }, {
            id: 4,
            label: o.a.trans("Video Lessons"),
            icon: "video",
            link: b.videos
        }, {
            id: 5,
            label: o.a.trans("Full Explorer"),
            icon: "explorer",
            link: b.explorer
        }, {
            id: 6,
            label: o.a.trans("Play Ad Free!"),
            icon: "noads",
            link: b.live
        }],
        x = (o.a.trans("Not using Premium features"), o.a.trans("Too expensive"), o.a.trans("Technical issues"), o.a.trans("Using another site/app"), o.a.trans("Less interested in chess right now"), o.a.trans("Other"), n(319)),
        P = n.n(x),
        C = n(241),
        M = n.n(C),
        T = n(139),
        E = n(33),
        A = n(63),
        j = n(99),
        L = n(166),
        D = n(91),
        N = n(11);

    function submitAdyenPayment(e) {
        return N.default.post(d.adyenPayWithCredit(), e)
    }

    function updateAdyenPaymentMethod(e) {
        return N.default.post(d.adyenUpdatePaymentMethod(), e)
    }
    var I = {
            name: "adyen-card-payment",
            components: {
                FormButton: E.a,
                FormInput: A.a,
                FormCheckbox: j.a,
                FormSelect: L.a,
                LoaderThreeBounce: D.a
            },
            props: {
                adyenKey: {
                    type: String,
                    required: !0,
                    default: window.context.adyenKey
                },
                currencyCode: {
                    type: String,
                    required: !1,
                    default: "USD"
                },
                formMode: {
                    type: String,
                    default: "payment",
                    validator: function validator(e) {
                        return -1 !== ["update", "payment"].indexOf(e)
                    }
                },
                generationTime: {
                    type: String,
                    required: !0
                },
                giftData: Object,
                isFetchingSavedPaymentDetails: {
                    type: Boolean,
                    required: !0,
                    default: !1
                },
                isGift: {
                    type: Boolean,
                    default: !1
                },
                productSku: {
                    type: String,
                    validator: function validator(e) {
                        return Object.values(v).includes(e)
                    }
                },
                queryParams: Object,
                redirectOnSuccess: {
                    type: Boolean,
                    default: !0
                },
                savedPaymentDetails: Object,
                buttonText: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    adyenInstance: {},
                    adyenValidation: {},
                    adyenEncryptedField: {},
                    adyenErrorResponse: "",
                    cardData: {
                        number: "",
                        cvc: "",
                        holderName: "",
                        expiryMonth: "",
                        expiryYear: "",
                        generationtime: ""
                    },
                    expiryMonthOptions: this.fillIntegerRange(1, 12),
                    expiryYearOptions: this.getYearOptions(),
                    isSubmitting: !1,
                    newPaymentMethod: !1,
                    userEmail: ""
                }
            },
            computed: {
                cardPlaceholder: function cardPlaceholder() {
                    var e = "•".repeat(this.cardTypeDetails.lengths[0]);
                    return this.prettyCardNumberFormatter(e)
                },
                cvcPlaceholder: function cvcPlaceholder() {
                    return "•".repeat(this.cardTypeDetails.code.size)
                },
                cardTypeDetails: function cardTypeDetails() {
                    var e = M()(this.cardData.number);
                    return e.length ? e[0] : {
                        niceType: "Undefined",
                        type: "undefined",
                        gaps: [4, 8, 12],
                        lengths: [16, 19],
                        code: {
                            name: "CVV",
                            size: 3
                        }
                    }
                },
                checkNewPaymentFormValid: function checkNewPaymentFormValid() {
                    return !(!(!this.isSubmitting && this.userEmail && this.userEmail.length > 0) || this.isMaestro)
                },
                formCanSubmit: function formCanSubmit() {
                    return !this.isSubmitting && this.hasSavedCreditCard ? "update" !== this.formMode : this.checkNewPaymentFormValid
                },
                displaySavedCard: function displaySavedCard() {
                    var e = this.savedPaymentDetails.creditCard;
                    return e ? this.$trans("Use card on file - ending %lastfour%", {
                        "%lastfour%": e.number
                    }) : ""
                },
                emailFromContext: function emailFromContext() {
                    return window.context.user.email
                },
                generalValidationError: function generalValidationError() {
                    return Object.keys(this.adyenValidate).length > 0 && this.adyenValidate.unkown.length > 0
                },
                hasSavedCreditCard: function hasSavedCreditCard() {
                    return null != this.savedPaymentDetails.creditCard && !this.newPaymentMethod
                },
                isMaestro: function isMaestro() {
                    return this.cardTypeDetails.type === C.types.MAESTRO
                },
                maxCardNumberLength: function maxCardNumberLength() {
                    var e = this.cardTypeDetails,
                        t = e.lengths,
                        n = e.gaps;
                    return t[t.length - 1] + n.length
                },
                prettyCardNumber: function prettyCardNumber() {
                    var e = this.cardData.number;
                    return this.cardTypeDetails ? this.prettyCardNumberFormatter(e) : e
                },
                showCardNumberError: function showCardNumberError() {
                    return this.hasValidationError("number") || "undefined" === this.cardTypeDetails.type
                },
                isValidEmail: function isValidEmail() {
                    return Object(T.a)(this.userEmail)
                },
                showNewCardForm: function showNewCardForm() {
                    return !this.isFetchingSavedPaymentDetails && (!this.hasSavedCreditCard || this.newPaymentMethod)
                },
                showRenewsAutomaticallyMessage: function showRenewsAutomaticallyMessage() {
                    return !this.isGift && "payment" === this.formMode
                },
                showSubmitButton: function showSubmitButton() {
                    return "update" !== this.formMode || !this.hasSavedCreditCard
                }
            },
            mounted: function mounted() {
                this.adyenSetup(), this.userEmail = this.emailFromContext
            },
            methods: {
                adyenEncrypt: function adyenEncrypt() {
                    this.adyenEncryptedField = this.adyenInstance.encrypt(this.cardData), this.adyenValidation.encryption = this.adyenEncryptedField.length > 0
                },
                adyenSetup: function adyenSetup() {
                    this.adyenInstance = P.a.createEncryption(this.adyenKey, {})
                },
                adyenValidate: function adyenValidate() {
                    var e = this.adyenInstance.validate(this.cardData);
                    this.adyenValidation = e, e.valid || (this.isSubmitting = !1, this.$emit("paymentprocessing", !1))
                },
                fillIntegerRange: function fillIntegerRange(e, t) {
                    var n = [];
                    return Array(t - e + 1).fill().forEach(function(t, a) {
                        var i = (e + a).toString();
                        n.push({
                            value: i,
                            label: i
                        })
                    }), n
                },
                handleFormSubmit: function handleFormSubmit() {
                    this.$emit("paymentprocessing", !0), this.isSubmitting = !0, this.showNewCardForm ? this.handleValidationEncryption() : this.routeRequestFromFormMode()
                },
                handleValidationEncryption: function handleValidationEncryption() {
                    this.cardData.generationtime = this.generationTime, this.adyenValidate(), this.adyenValidation.valid && (this.adyenEncrypt(), this.adyenEncryptedField && this.routeRequestFromFormMode())
                },
                hasValidationError: function hasValidationError(e) {
                    return Object.keys(this.adyenValidation).length > 0 && Object.prototype.hasOwnProperty.call(this.adyenValidation, e) && !this.adyenValidation[e]
                },
                getYearOptions: function getYearOptions() {
                    var e = (new Date).getFullYear(),
                        t = e + 20;
                    return this.fillIntegerRange(e, t)
                },
                prettyCardNumberFormatter: function prettyCardNumberFormatter(e) {
                    for (var t = this.cardTypeDetails.gaps, n = [].concat(0, t, e.length), a = [], i = 0; n[i] < e.length;) {
                        var o = n[i],
                            r = Math.min(n[i + 1], e.length);
                        a.push(e.substring(o, r)), i++
                    }
                    return a.join(" ")
                },
                routeRequestFromFormMode: function routeRequestFromFormMode() {
                    switch (this.formMode) {
                        case "update":
                            this.submitUpdatePaymentMethod();
                            break;
                        default:
                            this.submitPayment()
                    }
                },
                submitPayment: function submitPayment() {
                    var e = this,
                        t = {
                            email: this.userEmail,
                            hasRecurrentContract: this.hasSavedCreditCard.toString(),
                            paymentMethod: "credit-card",
                            plan: this.productSku
                        };
                    (this.adyenEncryptedField.length && (t.adyenEncryptedField = this.adyenEncryptedField, t.hasRecurrentContract = "false"), this.giftData && Object.keys(this.giftData).length && (t.giftMessage = this.giftData.giftMessage, t.giftReceiverEmail = this.giftData.giftReceiverEmail, t.giftReceiverId = this.giftData.giftReceiverId, t.giftReceiverUsername = this.giftData.giftReceiverUsername), this.queryParams && Object.keys(this.queryParams).length) && Object.keys(this.queryParams).forEach(function(n) {
                        t[n] = e.queryParams[n]
                    });
                    submitAdyenPayment(t).then(function(t) {
                        e.$emit("paymentprocessing", !1), 201 === t.status && (e.redirectOnSuccess && window.location.assign(t.headers.location), e.$emit("paymentsuccessful", {
                            receiptLink: t.headers.location,
                            success: !0
                        })), "Refused" === t.data.resultCode && (e.$emit("paymenterror", "Refused"), e.isSubmitting = !1, e.adyenErrorResponse = p(t.data.refusalReason))
                    }).catch(function(t) {
                        e.$emit("paymentprocessing", !1), e.$emit("paymenterror", t), e.isSubmitting = !1, e.adyenErrorResponse = p(t.response.data.message)
                    })
                },
                submitUpdatePaymentMethod: function submitUpdatePaymentMethod() {
                    var e = this;
                    updateAdyenPaymentMethod({
                        paymentMethod: "credit-card",
                        hasRecurrentContract: "false",
                        email: this.userEmail,
                        action: "update",
                        adyenEncryptedField: this.adyenEncryptedField
                    }).then(function(t) {
                        e.$emit("paymentprocessing", !1), 201 === t.status && (e.redirectOnSuccess ? window.location.assign(t.headers.location) : e.$emit("paymentsuccessful", {
                            receiptLink: t.headers.location,
                            success: !0
                        })), "Refused" === t.data.resultCode && (e.$emit("paymenterror", "Refused"), e.isSubmitting = !1, e.adyenErrorResponse = t.data.refusalReason)
                    }).catch(function(t) {
                        e.$emit("paymentprocessing", !1), e.$emit("paymenterror", t), e.isSubmitting = !1, e.adyenErrorResponse = t.response.data.message
                    })
                },
                stripNumber: function stripNumber(e) {
                    return e.replace(/\D/g, "")
                },
                enableNewPaymentMethod: function enableNewPaymentMethod() {
                    this.newPaymentMethod = !0
                },
                updateCardNumber: function updateCardNumber(e) {
                    this.adyenValidation = {}, this.cardData.number = this.stripNumber(e)
                }
            }
        },
        $ = n(242),
        B = n(5);
    var R = Object(B.a)(I, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: [e.$style.component]
            }, [e.isFetchingSavedPaymentDetails ? n("loader-three-bounce", {
                class: e.$style.loader,
                attrs: {
                    size: 60
                }
            }) : e.hasSavedCreditCard ? [n("form-checkbox", {
                class: e.$style["saved-card"],
                attrs: {
                    name: "saved-card",
                    label: e.displaySavedCard,
                    value: e.hasSavedCreditCard
                },
                on: {
                    input: e.enableNewPaymentMethod
                }
            }), e._v(" "), e.showRenewsAutomaticallyMessage ? n("p", {
                class: e.$style["text-center"],
                domProps: {
                    textContent: e._s(e.$trans("Subscription renews automatically. Cancel at any time."))
                }
            }) : e._e()] : e._e(), e._v(" "), e.showNewCardForm ? [e.emailFromContext ? e._e() : n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.$trans("Email Address")) + "\n      "), n("form-input", {
                attrs: {
                    type: "email"
                },
                model: {
                    value: e.userEmail,
                    callback: function(t) {
                        e.userEmail = t
                    },
                    expression: "userEmail"
                }
            }), e._v(" "), e.isValidEmail ? e._e() : n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("Please add an email address"))
                }
            })], 1), e._v(" "), n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.$trans("Card Number")) + "\n      "), n("form-input", {
                attrs: {
                    "data-test-name": "card-number",
                    type: "tel",
                    maxlength: e.maxCardNumberLength,
                    placeholder: e.cardPlaceholder,
                    value: e.prettyCardNumber
                },
                on: {
                    input: e.updateCardNumber
                }
            }), e._v(" "), e.showCardNumberError ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("The card number is incorrect"))
                }
            }) : e._e()], 1), e._v(" "), n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.$trans("Holder Name")) + "\n      "), n("form-input", {
                attrs: {
                    "data-test-name": "card-holder-name",
                    type: "text"
                },
                model: {
                    value: e.cardData.holderName,
                    callback: function(t) {
                        e.$set(e.cardData, "holderName", t)
                    },
                    expression: "cardData.holderName"
                }
            }), e._v(" "), e.hasValidationError("holderName") ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("Please make sure you have entered your credit card information correctly"))
                }
            }) : e._e()], 1), e._v(" "), n("div", {
                class: e.$style["card-detail-row"]
            }, [n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.$trans("Month")) + "\n        "), n("form-select", {
                attrs: {
                    "data-test-name": "card-expiry-month",
                    "placeholder-text": "MM",
                    options: e.expiryMonthOptions
                },
                model: {
                    value: e.cardData.expiryMonth,
                    callback: function(t) {
                        e.$set(e.cardData, "expiryMonth", t)
                    },
                    expression: "cardData.expiryMonth"
                }
            }), e._v(" "), e.hasValidationError("expiryMonth") ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("The card's expiration month is invalid"))
                }
            }) : e._e()], 1), e._v(" "), n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.$trans("Year")) + "\n        "), n("form-select", {
                attrs: {
                    "data-test-name": "card-expiry-year",
                    "placeholder-text": "YYYY",
                    options: e.expiryYearOptions
                },
                model: {
                    value: e.cardData.expiryYear,
                    callback: function(t) {
                        e.$set(e.cardData, "expiryYear", t)
                    },
                    expression: "cardData.expiryYear"
                }
            }), e._v(" "), e.hasValidationError("expiryYear") ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("The card's expiration year is invalid"))
                }
            }) : e._e()], 1), e._v(" "), n("label", {
                class: e.$style.label
            }, [e._v(e._s(e.cardTypeDetails.code.name) + "\n        "), n("form-input", {
                attrs: {
                    "data-test-name": "card-cvc",
                    type: "tel",
                    maxlength: e.cardTypeDetails.code.size,
                    placeholder: e.cvcPlaceholder
                },
                model: {
                    value: e.cardData.cvc,
                    callback: function(t) {
                        e.$set(e.cardData, "cvc", t)
                    },
                    expression: "cardData.cvc"
                }
            }), e._v(" "), e.hasValidationError("cvc") ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("The card's security code is invalid"))
                }
            }) : e._e()], 1)]), e._v(" "), e.showRenewsAutomaticallyMessage ? n("p", {
                class: e.$style["text-center"],
                domProps: {
                    textContent: e._s(e.$trans("Subscription renews automatically. Cancel at any time."))
                }
            }) : e._e(), e._v(" "), e.hasValidationError("encryption") ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("There was an error processing the request."))
                }
            }) : e._e(), e._v(" "), e.isMaestro ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("Unfortunately Maestro Cards are not supported for recurring payments. Please use another credit card."))
                }
            }) : e._e()] : e._e(), e._v(" "), e.generalValidationError ? n("div", {
                class: e.$style["input-error"],
                domProps: {
                    textContent: e._s(e.$trans("There was an error processing the request. Please try again."))
                }
            }) : e._e(), e._v(" "), e.adyenErrorResponse ? n("div", {
                class: [e.$style["input-error"], e.$style["text-center"]],
                domProps: {
                    innerHTML: e._s(e.adyenErrorResponse)
                }
            }) : e._e(), e._v(" "), e.showSubmitButton ? e._e() : n("div", {
                class: e.$style["saved-change"],
                domProps: {
                    textContent: e._s(e.$trans("Change"))
                },
                on: {
                    click: function(t) {
                        return e.enableNewPaymentMethod()
                    }
                }
            }), e._v(" "), n("form-button", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.showSubmitButton,
                    expression: "showSubmitButton"
                }],
                attrs: {
                    "data-test-name": "card-submit",
                    size: "large",
                    theme: "primary",
                    disabled: !e.formCanSubmit,
                    "full-width": !0
                },
                on: {
                    click: e.handleFormSubmit
                }
            }, [e._v("\n    " + e._s(e.buttonText) + "\n  ")])], 2)
        }, [], !1, function injectStyles(e) {
            this.$style = $.default.locals || $.default
        }, null, null).exports,
        F = n(75);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                f()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var z = {
            name: "adyen-card-payment",
            components: {
                FormButton: E.a,
                FormInput: A.a,
                FormCheckbox: j.a,
                LoaderThreeBounce: D.a
            },
            props: {
                adyenKey: {
                    type: String,
                    required: !0,
                    default: window.context.adyenKey
                },
                currencyCode: {
                    type: String,
                    required: !1,
                    default: "USD"
                },
                formMode: {
                    type: String,
                    default: "payment",
                    validator: function validator(e) {
                        return -1 !== ["update", "payment"].indexOf(e)
                    }
                },
                giftData: Object,
                isFetchingSavedPaymentDetails: {
                    type: Boolean,
                    required: !0,
                    default: !1
                },
                isGift: {
                    type: Boolean,
                    default: !1
                },
                productSku: {
                    type: String,
                    validator: function validator(e) {
                        return Object.values(v).includes(e)
                    }
                },
                queryParams: Object,
                redirectOnSuccess: {
                    type: Boolean,
                    default: !0
                },
                savedPaymentDetails: Object,
                buttonText: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    adyenErrorResponse: "",
                    cardData: null,
                    errors: r.reduce(function(e, t) {
                        return e[t] = !1, e
                    }, {}),
                    isFormValid: !1,
                    isMaestro: !1,
                    isSubmitting: !1,
                    newPaymentMethod: !1,
                    securedFields: null,
                    userEmail: ""
                }
            },
            computed: {
                checkNewPaymentFormValid: function checkNewPaymentFormValid() {
                    return !this.isSubmitting && this.userEmail && this.userEmail.length > 0 && !this.isMaestro && this.isFormValid
                },
                formCanSubmit: function formCanSubmit() {
                    return !this.isSubmitting && this.hasSavedCreditCard ? "update" !== this.formMode : this.checkNewPaymentFormValid
                },
                displaySavedCard: function displaySavedCard() {
                    var e = this.savedPaymentDetails.creditCard;
                    return e ? this.$trans("Use card on file - ending %lastfour%", {
                        "%lastfour%": e.number
                    }) : ""
                },
                emailFromContext: function emailFromContext() {
                    return window.context.user.email
                },
                hasSavedCreditCard: function hasSavedCreditCard() {
                    return null != this.savedPaymentDetails.creditCard && !this.newPaymentMethod
                },
                isValidEmail: function isValidEmail() {
                    return Object(T.a)(this.userEmail)
                },
                showNewCardForm: function showNewCardForm() {
                    return !this.isFetchingSavedPaymentDetails && (!this.hasSavedCreditCard || this.newPaymentMethod)
                },
                showRenewsAutomaticallyMessage: function showRenewsAutomaticallyMessage() {
                    return !this.isGift && "payment" === this.formMode
                },
                showSubmitButton: function showSubmitButton() {
                    return "update" !== this.formMode || !this.hasSavedCreditCard
                }
            },
            watch: {
                showNewCardForm: function showNewCardForm(e) {
                    e && !this.securedFields && this.adyenSetup()
                }
            },
            mounted: function mounted() {
                this.userEmail = this.emailFromContext
            },
            methods: {
                adyenSetup: function adyenSetup() {
                    var e = this;
                    F.a.insert("".concat(window.context.adyenLoadingContext, "sdk/3.0.0/adyen.js")).then(function() {
                        window.checkout = new window.AdyenCheckout({
                            locale: "en-US",
                            originKey: window.context.adyenOriginKey,
                            loadingContext: window.context.adyenLoadingContext
                        }), window.securedFields = window.checkout.create("securedfields", {
                            type: "card",
                            groupTypes: ["maestro", "maestrouk"],
                            onBrand: function onBrand(t) {
                                var n = t.brand;
                                e.isMaestro = n.includes("maestro")
                            },
                            onChange: function onChange(t) {
                                var n = t.isValid,
                                    a = t.data;
                                e.isFormValid = n, n && (e.cardData = a.paymentMethod)
                            },
                            onFieldValid: function onFieldValid(t) {
                                var n = t.encryptedFieldName,
                                    a = t.valid;
                                e.errors[n] = !a
                            }
                        }).mount(".cards-div")
                    })
                },
                handleFormSubmit: function handleFormSubmit() {
                    this.$emit("paymentprocessing", !0), this.isSubmitting = !0, "update" === this.formMode ? this.submitUpdatePaymentMethod() : this.submitPayment()
                },
                submitPayment: function submitPayment() {
                    var e = this,
                        t = {
                            email: this.userEmail,
                            hasRecurrentContract: this.hasSavedCreditCard.toString(),
                            paymentMethod: "credit-card",
                            plan: this.productSku
                        };
                    (this.hasSavedCreditCard || (t = _objectSpread({}, t, {}, this.cardData)), this.giftData && Object.keys(this.giftData).length && (t.giftMessage = this.giftData.giftMessage, t.giftReceiverEmail = this.giftData.giftReceiverEmail, t.giftReceiverId = this.giftData.giftReceiverId, t.giftReceiverUsername = this.giftData.giftReceiverUsername), this.queryParams && Object.keys(this.queryParams).length) && Object.keys(this.queryParams).forEach(function(n) {
                        t[n] = e.queryParams[n]
                    });
                    submitAdyenPayment(t).then(function(t) {
                        e.$emit("paymentprocessing", !1), 201 === t.status && (e.redirectOnSuccess && window.location.assign(t.headers.location), e.$emit("paymentsuccessful", {
                            receiptLink: t.headers.location,
                            success: !0
                        })), "Refused" === t.data.resultCode && (e.$emit("paymenterror", "Refused"), e.isSubmitting = !1, e.adyenErrorResponse = p(t.data.refusalReason))
                    }).catch(function(t) {
                        e.$emit("paymentprocessing", !1), e.$emit("paymenterror", t), e.isSubmitting = !1, e.adyenErrorResponse = p(t.response.data.message)
                    })
                },
                submitUpdatePaymentMethod: function submitUpdatePaymentMethod() {
                    var e = this;
                    updateAdyenPaymentMethod(_objectSpread({}, this.cardData, {
                        email: this.userEmail,
                        paymentMethod: "credit-card",
                        hasRecurrentContract: "false",
                        action: "update"
                    })).then(function(t) {
                        e.$emit("paymentprocessing", !1), 201 === t.status && (e.redirectOnSuccess ? window.location.assign(t.headers.location) : e.$emit("paymentsuccessful", {
                            receiptLink: t.headers.location,
                            success: !0
                        })), "Refused" === t.data.resultCode && (e.$emit("paymenterror", "Refused"), e.isSubmitting = !1, e.adyenErrorResponse = p(t.data.refusalReason))
                    }).catch(function(t) {
                        e.$emit("paymentprocessing", !1), e.$emit("paymenterror", t), e.isSubmitting = !1, e.adyenErrorResponse = p(t.response.data.message)
                    })
                },
                enableNewPaymentMethod: function enableNewPaymentMethod() {
                    this.newPaymentMethod = !0
                }
            }
        },
        U = n(243);
    var G = {
            name: "user-settings-update-payment-method",
            components: {
                AdyenCardDeprecated: R,
                AdyenCardNew: Object(B.a)(z, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "cards-div",
                        class: [e.$style.component]
                    }, [n("div", {
                        staticClass: "js-chckt-pm__pm-holder"
                    }, [e.isFetchingSavedPaymentDetails ? n("loader-three-bounce", {
                        class: e.$style.loader,
                        attrs: {
                            size: 60
                        }
                    }) : e.hasSavedCreditCard ? [n("form-checkbox", {
                        class: e.$style["saved-card"],
                        attrs: {
                            name: "saved-card",
                            label: e.displaySavedCard,
                            value: e.hasSavedCreditCard
                        },
                        on: {
                            input: e.enableNewPaymentMethod
                        }
                    }), e._v(" "), e.showRenewsAutomaticallyMessage ? n("p", {
                        class: e.$style["text-center"],
                        domProps: {
                            textContent: e._s(e.$trans("Subscription renews automatically. Cancel at any time."))
                        }
                    }) : e._e()] : e._e(), e._v(" "), e.showNewCardForm ? [e.emailFromContext ? e._e() : n("label", {
                        class: e.$style.label
                    }, [e._v(e._s(e.$trans("Email Address")) + "\n        "), n("form-input", {
                        attrs: {
                            type: "email"
                        },
                        model: {
                            value: e.userEmail,
                            callback: function(t) {
                                e.userEmail = t
                            },
                            expression: "userEmail"
                        }
                    }), e._v(" "), e.isValidEmail ? e._e() : n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("Please add an email address"))
                        }
                    })], 1), e._v(" "), n("label", {
                        class: e.$style.label
                    }, [e._v(e._s(e.$trans("Card Number")) + "\n        "), n("span", {
                        class: e.$style.input,
                        attrs: {
                            "data-cse": "encryptedCardNumber"
                        }
                    }), e._v(" "), e.errors.encryptedCardNumber ? n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("The card number is incorrect"))
                        }
                    }) : e._e()]), e._v(" "), n("div", {
                        class: e.$style["card-detail-row"]
                    }, [n("label", {
                        class: e.$style.label
                    }, [e._v(e._s(e.$trans("Month")) + "\n          "), n("span", {
                        class: e.$style.input,
                        attrs: {
                            "data-cse": "encryptedExpiryMonth"
                        }
                    }), e._v(" "), e.errors.encryptedExpiryMonth ? n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("The card's expiration month is invalid"))
                        }
                    }) : e._e()]), e._v(" "), n("label", {
                        class: e.$style.label
                    }, [e._v(e._s(e.$trans("Year")) + "\n          "), n("span", {
                        class: e.$style.input,
                        attrs: {
                            "data-cse": "encryptedExpiryYear"
                        }
                    }), e._v(" "), e.errors.encryptedExpiryYear ? n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("The card's expiration year is invalid"))
                        }
                    }) : e._e()]), e._v(" "), n("label", {
                        class: e.$style.label
                    }, [e._v(e._s(e.$trans("Code (CVC)")) + "\n          "), n("span", {
                        class: e.$style.input,
                        attrs: {
                            "data-cse": "encryptedSecurityCode"
                        }
                    }), e._v(" "), e.errors.encryptedSecurityCode ? n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("The card's security code is invalid"))
                        }
                    }) : e._e()])]), e._v(" "), e.showRenewsAutomaticallyMessage ? n("p", {
                        class: e.$style["text-center"],
                        domProps: {
                            textContent: e._s(e.$trans("Subscription renews automatically. Cancel at any time."))
                        }
                    }) : e._e(), e._v(" "), e.isMaestro ? n("div", {
                        class: e.$style["input-error"],
                        domProps: {
                            textContent: e._s(e.$trans("Unfortunately Maestro Cards are not supported for recurring payments. Please use another credit card."))
                        }
                    }) : e._e()] : e._e(), e._v(" "), e.adyenErrorResponse ? n("div", {
                        class: [e.$style["input-error"], e.$style["text-center"]],
                        domProps: {
                            innerHTML: e._s(e.adyenErrorResponse)
                        }
                    }) : e._e(), e._v(" "), e.showSubmitButton ? e._e() : n("div", {
                        class: e.$style["saved-change"],
                        domProps: {
                            textContent: e._s(e.$trans("Change"))
                        },
                        on: {
                            click: function(t) {
                                return e.enableNewPaymentMethod()
                            }
                        }
                    }), e._v(" "), n("form-button", {
                        directives: [{
                            name: "show",
                            rawName: "v-show",
                            value: e.showSubmitButton,
                            expression: "showSubmitButton"
                        }],
                        attrs: {
                            "data-test-name": "card-submit",
                            size: "large",
                            theme: "primary",
                            disabled: !e.formCanSubmit,
                            "full-width": !0
                        },
                        on: {
                            click: e.handleFormSubmit
                        }
                    }, [e._v("\n      " + e._s(e.buttonText) + "\n    ")])], 2)])
                }, [], !1, function adyen_card_new_injectStyles(e) {
                    this.$style = U.default.locals || U.default
                }, null, null).exports
            },
            props: {
                adyenKey: {
                    type: String,
                    required: !0,
                    default: window.context.adyenKey
                },
                currencyCode: {
                    type: String,
                    required: !1,
                    default: "USD"
                },
                formMode: {
                    type: String,
                    default: "payment",
                    validator: function validator(e) {
                        return -1 !== ["update", "payment"].indexOf(e)
                    }
                },
                generationTime: {
                    type: String,
                    required: !0
                },
                giftData: Object,
                isFetchingSavedPaymentDetails: {
                    type: Boolean,
                    required: !0,
                    default: !1
                },
                isGift: {
                    type: Boolean,
                    default: !1
                },
                newAdyenEnabled: {
                    type: Boolean,
                    deafult: !1
                },
                productSku: {
                    type: String,
                    validator: function validator(e) {
                        return Object.values(v).includes(e)
                    }
                },
                queryParams: Object,
                redirectOnSuccess: {
                    type: Boolean,
                    default: !0
                },
                savedPaymentDetails: Object,
                buttonText: {
                    type: String,
                    required: !0
                }
            },
            computed: {
                useNewPaymentMethod: function useNewPaymentMethod() {
                    return this.newAdyenEnabled || function getNewAdyenEnabled() {
                        var e = document.querySelector("#".concat(c));
                        return e && Object(h.a)(e.dataset.newAdyen)
                    }()
                }
            }
        },
        H = Object(B.a)(G, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return e.useNewPaymentMethod ? n("adyen-card-new", e._g(e._b({}, "adyen-card-new", e.$props, !1), e.$listeners)) : n("adyen-card-deprecated", e._g(e._b({}, "adyen-card-deprecated", e.$props, !1), e.$listeners))
        }, [], !1, null, null, null).exports,
        V = n(36),
        W = n(18),
        K = n(46),
        q = n(59);

    function paypalvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Y = {
            name: "paypal",
            components: {
                FormButton: E.a
            },
            props: {
                currencyCode: {
                    type: String,
                    required: !1,
                    default: "USD"
                },
                isGift: {
                    type: Boolean,
                    required: !0
                },
                generationTime: {
                    type: String,
                    required: !1
                },
                giftData: {
                    type: Object,
                    required: !1
                },
                productSku: {
                    type: String,
                    required: !0,
                    validator: function validator(e) {
                        return Object.values(v).includes(e)
                    }
                },
                queryParams: {
                    type: Object,
                    required: !1
                }
            },
            data: function data() {
                return {
                    paymentsRoutes: d
                }
            },
            computed: {
                actionLink: function actionLink() {
                    return this.isGift ? this.paymentsRoutes.paypalGiftPayment({
                        sku: this.productSku
                    }) : this.paymentsRoutes.paypalMembershipPayment(function paypalvue_type_script_lang_js_objectSpread(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {};
                            t % 2 ? paypalvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                                f()(e, t, n[t])
                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : paypalvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                            })
                        }
                        return e
                    }({
                        sku: this.productSku
                    }, this.queryParams))
                },
                buttonText: function buttonText() {
                    return this.isGift ? this.$trans("Buy a gift with PayPal") : this.$trans("Upgrade with PayPal")
                }
            }
        },
        X = n(244);
    var Q = Object(B.a)(Y, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.isGift ? e._e() : n("p", {
                class: e.$style["text-center"]
            }, [e._v("\n    " + e._s(e.$trans("Subscription renews automatically. Cancel at any time.")) + "\n  ")]), e._v(" "), n("form", {
                attrs: {
                    method: "post",
                    action: e.actionLink
                }
            }, [n("input", {
                attrs: {
                    name: "cur",
                    type: "hidden"
                },
                domProps: {
                    value: e.currencyCode
                }
            }), e._v(" "), n("input", {
                attrs: {
                    name: "generationTime",
                    type: "hidden"
                },
                domProps: {
                    value: e.generationTime
                }
            }), e._v(" "), e.isGift ? [n("input", {
                attrs: {
                    name: "giftMessage",
                    type: "hidden"
                },
                domProps: {
                    value: e.giftData.giftMessage
                }
            }), e._v(" "), e.giftData.giftReceiverId ? n("input", {
                attrs: {
                    name: "giftReceiverId",
                    type: "hidden"
                },
                domProps: {
                    value: e.giftData.giftReceiverId
                }
            }) : e._e(), e._v(" "), e.giftData.giftReceiverEmail ? n("input", {
                attrs: {
                    name: "giftReceiverEmail",
                    type: "hidden"
                },
                domProps: {
                    value: e.giftData.giftReceiverEmail
                }
            }) : e._e()] : e._e(), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    "full-width": !0,
                    size: "large",
                    theme: "primary",
                    type: "submit"
                }
            }, [e._v("\n      " + e._s(e.buttonText) + "\n    ")])], 2)])
        }, [], !1, function paypal_injectStyles(e) {
            this.$style = X.default.locals || X.default
        }, null, null).exports,
        Z = n(171),
        J = n(12),
        ee = {
            name: "modal-gift-membership",
            components: {
                AdyenCard: H,
                IconFont: W.a,
                ModalContainer: K.a,
                ModalContent: q.a,
                Paypal: Q,
                UserMembershipIcon: Z.a
            },
            props: {
                hiddenByDefault: {
                    type: Boolean,
                    default: !1
                },
                receiverUsername: {
                    type: String
                },
                receiverId: {
                    type: Number
                },
                senderUsername: {
                    type: String,
                    required: !0
                },
                standAlone: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    benefits: S,
                    prices: O,
                    currentGateway: u.CARD,
                    defaultModalProducts: w,
                    gatewayStrings: u,
                    isFetchingSavedPaymentDetails: !0,
                    membershipRoute: J.o.membership(),
                    paymentProcessing: !1,
                    paymentReceiptLink: "",
                    paymentSuccess: !1,
                    planLengths: _,
                    savedPaymentDetails: {},
                    selectedLength: _.YEARLY,
                    selectedPlanLevel: y,
                    translations: k,
                    userId: 0,
                    username: ""
                }
            },
            computed: {
                adyenKey: function adyenKey() {
                    return window.context.adyenKey
                },
                generationTime: function generationTime() {
                    return this.savedPaymentDetails.generationTime || ""
                },
                giftData: function giftData() {
                    return {
                        giftReceiverUsername: this.username || this.receiverUsername,
                        giftReceiverId: this.userId || this.receiverId
                    }
                },
                planLengthOptions: function planLengthOptions() {
                    return Object.values(_)
                },
                selectedSku: function selectedSku() {
                    return "".concat(this.selectedPlanLevel, "_").concat(this.selectedLength)
                },
                titleString: function titleString() {
                    var e = this.giftData.giftReceiverUsername,
                        t = this.paymentSuccess ? "giftGiven" : "giftGive";
                    return k[t](e)
                }
            },
            mounted: function mounted() {
                var e = this;
                this.hiddenByDefault || (this.$refs.modalContainer.show(), this.fetchSavedPaymentDetails(), this.getGiftMemberships()), this.standAlone && V.a.$on(g, function(t) {
                    var n = t.username,
                        a = t.userId;
                    e.username = n, e.userId = a, e.$refs.modalContainer.show(), e.fetchSavedPaymentDetails(), e.getGiftMemberships()
                })
            },
            methods: {
                getGiftMemberships: function getGiftMemberships() {
                    var e = this;
                    return function service_getGiftMemberships() {
                        return N.default.get(d.giftMemberships())
                    }().then(function(t) {
                        var n = t.data;
                        return e.prices = n
                    })
                },
                hide: function hide() {
                    this.modalDidHide(), this.standAlone && this.$refs.modalContainer.hide()
                },
                modalDidHide: function modalDidHide() {
                    this.$emit("hide-modal")
                },
                displayRadioChecked: function displayRadioChecked(e) {
                    return "".concat(this.selectedPlanLevel, "_").concat(this.selectedLength) === e
                },
                fetchSavedPaymentDetails: function fetchSavedPaymentDetails() {
                    var e = this;
                    (function getSavedPaymentMethods() {
                        return N.default.get(d.listStoredPaymentMethods())
                    })().then(function(e) {
                        return e.data
                    }).then(function(t) {
                        return e.savedPaymentDetails = t
                    }).then(function() {
                        return e.isFetchingSavedPaymentDetails = !1
                    })
                },
                handlePaymentProcessing: function handlePaymentProcessing(e) {
                    this.paymentProcessing = e
                },
                handlePaymentSuccess: function handlePaymentSuccess(e) {
                    this.paymentProcessing = !1, this.paymentSuccess = e.success, this.paymentReceiptLink = e.receiptLink
                },
                setSelectedProduct: function setSelectedProduct(e) {
                    var t = e.split("_");
                    this.selectedPlanLevel = t[0], this.selectedLength = t[1]
                },
                visibleMethod: function visibleMethod(e) {
                    return this.currentGateway === e
                }
            }
        },
        te = n(246);
    var ne = Object(B.a)(ee, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-container", {
            ref: "modalContainer",
            on: {
                "modal-did-hide": e.modalDidHide,
                hide: e.hide
            }
        }, [n("modal-content", {
            class: e.$style.modal
        }, [n("button", {
            class: e.$style.close,
            attrs: {
                type: "button"
            },
            on: {
                click: e.hide
            }
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                name: "x",
                theme: "primary"
            }
        })], 1), e._v(" "), n("div", {
            class: e.$style.header
        }, [n("a", {
            attrs: {
                href: e.membershipRoute
            }
        }, [n("user-membership-icon", {
            class: e.$style.icon,
            attrs: {
                membership: 50,
                size: "x-large"
            }
        })], 1), e._v(" "), n("h3", {
            class: e.$style.title,
            domProps: {
                textContent: e._s(e.titleString)
            }
        })]), e._v(" "), e.paymentSuccess ? [n("div", {
            class: e.$style.promo
        }, [n("p", {
            class: e.$style.message,
            domProps: {
                innerHTML: e._s(e.translations.thanksToYou(e.giftData.giftReceiverUsername))
            }
        }), e._v(" "), n("a", {
            class: e.$style["receipt-button"],
            attrs: {
                href: e.paymentReceiptLink
            }
        }, [e._v("\n          " + e._s(e.$trans("Order Receipt")) + "\n        ")]), e._v(" "), n("div", {
            class: e.$style.benefits
        }, e._l(e.benefits, function(t) {
            return n("a", {
                key: t.id,
                class: e.$style.benefit,
                attrs: {
                    href: t.link(),
                    title: t.label
                }
            }, [n("span", {
                class: [e.$style.pict, e.$style[t.icon]]
            }), e._v("\n\n            " + e._s(t.label) + "\n          ")])
        }), 0)])] : [n("div", {
            class: e.$style.plans
        }, e._l(e.defaultModalProducts, function(t) {
            return n("label", {
                key: t.sku,
                class: e.$style.plan,
                on: {
                    click: function(n) {
                        return e.setSelectedProduct(t.sku)
                    }
                }
            }, [n("input", {
                attrs: {
                    type: "radio"
                },
                domProps: {
                    checked: e.displayRadioChecked(t.sku)
                }
            }), e._v("\n\n          " + e._s(t.description) + " (" + e._s(e.prices[t.sku]) + ")\n        ")])
        }), 0), e._v(" "), n("div", {
            class: e.$style.paymentinfo
        }, [n("div", {
            class: e.$style.methods
        }, [n("label", {
            class: e.$style.paymentmethods
        }, [n("input", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: e.currentGateway,
                expression: "currentGateway"
            }],
            attrs: {
                checked: "checked",
                name: "method",
                type: "radio"
            },
            domProps: {
                value: e.gatewayStrings.CARD,
                checked: e._q(e.currentGateway, e.gatewayStrings.CARD)
            },
            on: {
                change: function(t) {
                    e.currentGateway = e.gatewayStrings.CARD
                }
            }
        }), e._v(" "), n("icon-font", {
            class: e.$style.methodicon,
            attrs: {
                family: "chess",
                name: "card",
                theme: "primary"
            }
        })], 1), e._v(" "), n("label", {
            class: e.$style.paymentmethods
        }, [n("input", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: e.currentGateway,
                expression: "currentGateway"
            }],
            attrs: {
                name: "method",
                type: "radio"
            },
            domProps: {
                value: e.gatewayStrings.PAYPAL,
                checked: e._q(e.currentGateway, e.gatewayStrings.PAYPAL)
            },
            on: {
                change: function(t) {
                    e.currentGateway = e.gatewayStrings.PAYPAL
                }
            }
        }), e._v(" "), n("icon-font", {
            class: [e.$style.methodicon, e.$style.paypal],
            attrs: {
                family: "chess",
                name: "paypal",
                theme: "primary"
            }
        })], 1)]), e._v(" "), n("adyen-card", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.visibleMethod(e.gatewayStrings.CARD),
                expression: "visibleMethod(gatewayStrings.CARD)"
            }],
            attrs: {
                "adyen-key": e.adyenKey,
                "gift-data": e.giftData,
                "generation-time": e.generationTime,
                "is-gift": !0,
                "is-fetching-saved-payment-details": e.isFetchingSavedPaymentDetails,
                "new-adyen-enabled": e.prices.enableNewAdyen,
                "product-sku": e.selectedSku,
                "saved-payment-details": e.savedPaymentDetails,
                "redirect-on-success": !1,
                "button-text": e.$trans("Give Gift"),
                "form-mode": "payment"
            },
            on: {
                paymentprocessing: e.handlePaymentProcessing,
                paymentsuccessful: e.handlePaymentSuccess
            }
        }), e._v(" "), n("paypal", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.visibleMethod(e.gatewayStrings.PAYPAL),
                expression: "visibleMethod(gatewayStrings.PAYPAL)"
            }],
            attrs: {
                "gift-data": e.giftData,
                "generation-time": e.generationTime,
                "is-gift": !0,
                "product-sku": e.selectedSku
            }
        }), e._v(" "), n("div", {
            class: e.$style.terms,
            domProps: {
                innerHTML: e._s(e.translations.paymentTerms())
            }
        }), e._v(" "), n("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.paymentProcessing,
                expression: "paymentProcessing"
            }],
            class: e.$style["payment-processing"]
        }, [e._v("\n          " + e._s(e.$trans("Processing...")) + "\n        ")])], 1)]], 2)], 1)
    }, [], !1, function modal_gift_membership_injectStyles(e) {
        this.$style = te.default.locals || te.default
    }, null, null);
    t.a = ne.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "b", function() {
        return i
    }), n.d(t, "c", function() {
        return o
    }), n.d(t, "a", function() {
        return r
    }), n.d(t, "d", function() {
        return s
    });
    var a = function replaceAll(e, t, n) {
            return e.split(t).join(n)
        },
        i = function htmlDecode(e) {
            return (new DOMParser).parseFromString("<!doctype html><body>".concat(e), "text/html").body.textContent
        },
        o = function htmlEncode(e) {
            for (var t = [60, 62], n = e.length, a = []; n--;) {
                var i = e[n].charCodeAt();
                t.indexOf(i) > -1 ? a[n] = "&#".concat(i, ";") : a[n] = e[n]
            }
            return a.join("")
        },
        r = function convertUrls(e, t) {
            var n = "\\b((?:https?://)?((?:[a-zA-Z0-9-]+\\.)+(?:chess|chesskid|chesspersonality|twitch|prochessleague|youtube)\\.com(?:/[\\w#!:.?+=&;%@!-/]*)?))\\b",
                i = function replacement(e, t, n, a, i) {
                    return a > 0 && ("@" === i.substr(a - 1, 1) || '"' === i.substr(a - 1, 1) || "=" === i.substr(a - 1, 1) || "</a>" === i.substr(a + e.length, 4)) ? e : '<a href="https://'.concat(n, '" class="auto-converted" target="_blank">').concat(t, "</a>")
                };
            Object.assign({
                allDomains: !1
            }, t).allDomains && (n += "|\\b((?:(https?://)|(www\\.))([-A-Z0-9+&@#/%=~_|$?!:,.]*[A-Z0-9+&@#/%=~_|$]))", i = function replacement(e, t, n, a, i, o, r, s, l) {
                return t && n && "@" === l.substr(s - 1, 1) ? e : t && n ? '<a href="https://'.concat(n, '" class="auto-converted" target="_blank">').concat(t, "</a>") : '<a href="'.concat(i || "http://").concat(o || "").concat(r || "", '" class="auto-converted" target="_blank">').concat(a, "</a>")
            });
            var o = a(String(e), "&nbsp;", " &nbsp;");
            return o = o.replace(new RegExp(n, "gi"), i), o = a(String(o), " &nbsp;", "&nbsp;")
        },
        s = function userMention(e) {
            return String(e).replace(/(^|[^a-zA-Z0-9_!#$%&*@＠])([@＠]([a-zA-Z0-9_-]{3,20}))/g, function(e, t, n, a) {
                return "".concat(t, '<span class="v-user-popover" v-user-popover="\'').concat(a, "'\" data-username=\"'").concat(a, "'\"> ").concat(n, "</span>")
            })
        }
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return r
    });
    var a = n(13),
        i = n(0),
        o = function getMessageFromError(e) {
            if (e.response && 401 !== e.response.status) return (e.response.data && e.response.data.message ? e.response.data.message : a.b.badRequest) || e.response.statusText
        },
        r = function getMessageFromErrorOrDefault(e) {
            return o(e) || i.a.trans("An error occurred")
        }
}, function(e, t, n) {
    "use strict";
    var a = n(7);
    t.a = function() {
        return -1 !== window.location.href.indexOf(a.a.generate("web_2fa_login"))
    }
}, function(e, t, n) {
    e.exports = n(226)(4)
}, function(e, t, n) {
    var a = n(342),
        i = n(217);
    e.exports = function copyObject(e, t, n, o) {
        var r = !n;
        n || (n = {});
        for (var s = -1, l = t.length; ++s < l;) {
            var c = t[s],
                u = o ? o(n[c], e[c], c, n, e) : void 0;
            void 0 === u && (u = e[c]), r ? i(n, c, u) : a(n, c, u)
        }
        return n
    }
}, function(e, t, n) {
    var a = n(217),
        i = n(145);
    e.exports = function assignMergeValue(e, t, n) {
        (void 0 === n || i(e[t], n)) && (void 0 !== n || t in e) || a(e, t, n)
    }
}, function(e, t, n) {
    var a = n(137),
        i = function() {
            try {
                var e = a(Object, "defineProperty");
                return e({}, "", {}), e
            } catch (e) {}
        }();
    e.exports = i
}, function(e, t) {
    e.exports = function safeGet(e, t) {
        return "__proto__" == t ? void 0 : e[t]
    }
}, function(e, t, n) {
    var a = n(233),
        i = n(236);
    e.exports = function forOwn(e, t) {
        return e && a(e, i(t))
    }
}, function(e, t, n) {
    var a = n(348),
        i = n(384)(function(e, t, n) {
            a(e, t, n)
        });
    e.exports = i
}, function(e, t, n) {
    "use strict";
    t.a = function(e) {
        return "1" === e
    }
}, function(e, t, n) {
    "use strict";
    var a, i = n(69),
        o = n(94),
        r = n(214),
        s = {
            name: "modal-container",
            props: {
                boardClass: {
                    type: String,
                    default: ""
                },
                closeOnBackgroundClick: {
                    type: Boolean,
                    default: !0
                },
                easeTransition: {
                    type: Boolean,
                    default: !0
                },
                transition: {
                    type: Object
                }
            },
            data: function data() {
                return {
                    componentStyleTop: "calc(50% + 0px)",
                    rtlClass: o.c,
                    visible: !1
                }
            },
            computed: {
                componentClasses: function componentClasses() {
                    var e = [this.$style["chessboard-mirror"]];
                    return this.visible || e.push(this.$style["no-pointer-events"]), this.easeTransition && e.push(this.$style.transition), e
                }
            },
            created: function created() {
                a = Object(r.a)(this.onResize, 100), window.addEventListener("resize", a)
            },
            beforeDestroy: function beforeDestroy() {
                window.removeEventListener("resize", a)
            },
            methods: {
                hide: function hide() {
                    this.visible = !1
                },
                onBackgroundClick: function onBackgroundClick() {
                    this.closeOnBackgroundClick && this.hide()
                },
                onResize: function onResize() {
                    var e = this.$refs["chessboard-mirror"],
                        t = document.getElementsByClassName(this.boardClass)[0] || Object(i.b)(),
                        n = {
                            height: t.clientHeight,
                            width: t.clientWidth
                        };
                    if (e && (e.style.height = "".concat(n.height, "px"), e.style.width = "".concat(n.width, "px")), this.$refs.content) {
                        var a = this.$refs.content.children[0] || this.$refs.content;
                        this.componentStyleTop = function calculateChessboardStyleTop(e) {
                            var t = e.boardHeight,
                                n = e.modalHeight,
                                a = Math.max(n - t, 0) / 2;
                            return "calc(50% + ".concat(a, "px)")
                        }({
                            boardHeight: n.height,
                            modalHeight: a.getBoundingClientRect().height
                        })
                    }
                },
                show: function show(e) {
                    this.onResize(e), this.visible = !0
                }
            }
        },
        l = n(240),
        c = n(5);
    var u = Object(c.a)(s, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            ref: "chessboard-mirror",
            class: e.componentClasses
        }, [n("transition", {
            attrs: {
                "enter-active-class": e.transition ? e.transition.enter : e.$style.enter,
                "leave-active-class": e.transition ? e.transition.leave : e.$style.leave
            }
        }, [e.visible ? n("div", {
            class: [e.$style.component, e.transition && e.transition.modal || "", e.rtlClass(e.$style)],
            style: {
                top: e.componentStyleTop
            }
        }, [n("div", {
            class: e.$style.bg,
            on: {
                click: e.onBackgroundClick
            }
        }), e._v(" "), n("div", {
            ref: "content"
        }, [e._t("default")], 2)]) : e._e()])], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = l.default.locals || l.default
    }, null, null);
    t.a = u.exports
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(25),
        r = n(7),
        s = n(0),
        l = {
            name: "account-not-activated",
            props: {
                alert: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    labels: {
                        helpPath: s.a.trans('If you need help, please contact our <a href="%href%">Help and Support Team</a>', {
                            "%href%": r.a.generate("web_help")
                        }),
                        changeEmail: s.a.trans('Please click on the link in your email to verify your account. <a href="%href%">Resend Verification Email</a>', {
                            "%href%": r.a.generate("web_user_settings_change_email")
                        })
                    }
                }
            }
        },
        c = n(259),
        u = n(5);
    var d = Object(u.a)(l, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("p", {
                class: e.$style.alert
            }, [e._v("\n    " + e._s(e.alert) + "\n  ")]), e._v(" "), n("p", {
                class: e.$style.first,
                domProps: {
                    innerHTML: e._s(e.labels.changeEmail)
                }
            }), e._v(" "), n("p", {
                domProps: {
                    innerHTML: e._s(e.labels.helpPath)
                }
            })])
        }, [], !1, function injectStyles(e) {
            this.$style = c.default.locals || c.default
        }, null, null).exports,
        p = n(49),
        h = n(46),
        m = n(59),
        f = n(133),
        g = n(63),
        b = n(77),
        v = n(120);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var y = {
            name: "select-trophy",
            components: {
                FormInput: g.a,
                Pagination: v.a
            },
            directives: {
                ImageDefer: b.a
            },
            data: function data() {
                return {
                    funTrophiesLimit: 110,
                    trophySearch: ""
                }
            },
            computed: function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(o.mapState)("trophies", ["allTrophiesToGive", "finishedLoadingTrophies", "meta", "trophyType"]), {
                filteredTrophies: function filteredTrophies() {
                    var e = this.trophySearch.toLowerCase();
                    return this.allTrophiesToGive.filter(function(t) {
                        return t.name.toLowerCase().includes(e)
                    })
                }
            }),
            methods: {
                getMoreTrophies: function getMoreTrophies(e) {
                    this.$store.dispatch("trophies/getAllTrophies", {
                        page: e
                    })
                },
                getAllAvailableTrophies: function getAllAvailableTrophies() {
                    if (this.trophySearch.length > 1) return !1;
                    this.$store.dispatch("trophies/getAllTrophies", {
                        limit: this.funTrophiesLimit
                    })
                },
                handleSearch: function handleSearch() {
                    this.trophySearch.length < 1 ? this.getMoreTrophies(1) : this.getAllAvailableTrophies()
                },
                selectTrophyToGive: function selectTrophyToGive(e) {
                    this.$store.commit("trophies/setSelectedTrophy", e), this.$store.commit("trophies/setModalState", p.a.modalStates.send)
                }
            }
        },
        _ = n(260);
    var w = Object(u.a)(y, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style["pagination-wrapper"]
            }, [e.meta.page > 1 || e.meta.more ? n("pagination", {
                class: [e.$style.pagination],
                attrs: {
                    "change-page": e.getMoreTrophies,
                    "current-page": e.meta.page,
                    "has-more-prop": !0,
                    "more-pages": e.meta.more
                },
                on: {
                    changePage: e.getMoreTrophies
                }
            }) : e._e(), e._v(" "), n("form-input", {
                class: e.$style.search,
                attrs: {
                    placeholder: e.$trans("Search")
                },
                on: {
                    input: e.handleSearch
                },
                model: {
                    value: e.trophySearch,
                    callback: function(t) {
                        e.trophySearch = t
                    },
                    expression: "trophySearch"
                }
            })], 1), e._v(" "), n("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.finishedLoadingTrophies,
                    expression: "finishedLoadingTrophies"
                }],
                class: e.$style["trophies-grid"]
            }, e._l(e.filteredTrophies, function(t) {
                return n("div", {
                    key: t.id,
                    class: e.$style.trophy
                }, [n("a", {
                    on: {
                        click: function(n) {
                            return n.preventDefault(), e.selectTrophyToGive(t)
                        }
                    }
                }, [n("img", {
                    directives: [{
                        name: "image-defer",
                        rawName: "v-image-defer",
                        value: {
                            src: t.image_url,
                            srcset: !0
                        },
                        expression: "{\n            src: trophy.image_url,\n            srcset: true\n          }"
                    }],
                    class: e.$style["trophy-image"],
                    attrs: {
                        height: "97",
                        width: "97",
                        alt: t.name
                    }
                })]), e._v(" "), n("div", {
                    domProps: {
                        textContent: e._s(t.name)
                    }
                })])
            }), 0), e._v(" "), e.meta.page > 1 || e.meta.more ? n("pagination", {
                class: [e.$style.pagination, e.$style.bottom],
                attrs: {
                    "change-page": e.getMoreTrophies,
                    "current-page": e.meta.page,
                    "has-more-prop": !0,
                    "more-pages": e.meta.more
                },
                on: {
                    changePage: e.getMoreTrophies
                }
            }) : e._e()], 1)
        }, [], !1, function select_trophy_injectStyles(e) {
            this.$style = _.default.locals || _.default
        }, null, null).exports,
        O = n(33),
        k = {
            name: "form-error"
        },
        S = n(261);
    var x = Object(u.a)(k, function() {
            var e = this.$createElement;
            return (this._self._c || e)("div", {
                class: this.$style.component
            }, [this._t("default")], 2)
        }, [], !1, function form_error_injectStyles(e) {
            this.$style = S.default.locals || S.default
        }, null, null).exports,
        P = n(257);

    function send_trophyvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var C = {
            name: "send-trophy",
            components: {
                FormButton: O.a,
                FormError: x,
                FormTextarea: P.a
            },
            directives: {
                ImageDefer: b.a
            },
            data: function data() {
                return {
                    labels: {
                        changeLink: s.a.trans("change"),
                        sendTrophy: s.a.trans("Send Award")
                    }
                }
            },
            computed: function send_trophyvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? send_trophyvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : send_trophyvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(o.mapState)({
                disableSendButton: function disableSendButton(e) {
                    return e.trophies.disableSendButton
                },
                errorMessage: function errorMessage(e) {
                    return e.trophies.errorMessage
                },
                isFriend: function isFriend(e) {
                    return e.trophies.recipientIsFriend
                },
                selectedTrophy: function selectedTrophy(e) {
                    return e.trophies.selectedTrophy
                },
                user: function user(e) {
                    return e.user
                }
            }), {
                message: {
                    get: function get() {
                        return this.$store.state.trophies.message
                    },
                    set: function set(e) {
                        this.$store.commit("trophies/setMessage", e)
                    }
                }
            }),
            methods: {
                changeSelectedTrophy: function changeSelectedTrophy() {
                    this.$store.commit("trophies/setErrorMessage", ""), this.$store.commit("trophies/setModalState", p.a.modalStates.select)
                },
                sendSelectedTrophy: function sendSelectedTrophy() {
                    var e = this;
                    this.$store.commit("trophies/setErrorMessage", ""), this.$store.dispatch("trophies/sendTrophyToUser").then(function() {
                        e.$store.commit("trophies/setModalState", p.a.modalStates.sent)
                    })
                }
            }
        },
        M = n(262);
    var T = Object(u.a)(C, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.left
            }, [n("img", {
                directives: [{
                    name: "image-defer",
                    rawName: "v-image-defer",
                    value: {
                        src: e.selectedTrophy.image_url,
                        srcset: !0
                    },
                    expression: "{\n        src: selectedTrophy.image_url,\n        srcset: true\n      }"
                }],
                attrs: {
                    height: "135",
                    width: "135",
                    alt: e.selectedTrophy.name
                }
            }), e._v(" "), n("p", [e._v("\n      " + e._s(e.selectedTrophy.name) + "\n    ")]), e._v(" "), n("a", {
                class: e.$style.change,
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.changeSelectedTrophy()
                    }
                }
            }, [e._v("\n      " + e._s(e.labels.changeLink) + "\n    ")])]), e._v(" "), n("div", {
                class: e.$style.right
            }, [n("p", {
                class: e.$style.description
            }, [e._v("\n      " + e._s(e.selectedTrophy.description) + "\n    ")]), e._v(" "), e.isFriend ? n("form-textarea", {
                class: e.$style.textarea,
                attrs: {
                    autosize: !0
                },
                model: {
                    value: e.message,
                    callback: function(t) {
                        e.message = t
                    },
                    expression: "message"
                }
            }) : e._e(), e._v(" "), n("form-button", {
                attrs: {
                    size: "large",
                    theme: "basic",
                    disabled: e.disableSendButton
                },
                on: {
                    click: e.sendSelectedTrophy
                }
            }, [e._v("\n      " + e._s(e.labels.sendTrophy) + "\n    ")]), e._v(" "), e.errorMessage ? n("form-error", {
                class: e.$style.error
            }, [e._v("\n      " + e._s(e.errorMessage) + "\n    ")]) : e._e()], 1)])
        }, [], !1, function send_trophy_injectStyles(e) {
            this.$style = M.default.locals || M.default
        }, null, null).exports,
        E = n(19),
        A = n(18),
        j = n(168),
        L = n(169);

    function sent_trophyvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var D = {
            name: "sent-trophy",
            components: {
                IconFont: A.a,
                UserChessTitle: j.a,
                UserUsername: L.a
            },
            directives: {
                ImageDefer: b.a
            },
            data: function data() {
                return {
                    labels: {
                        from: s.a.trans("from"),
                        sent: s.a.trans("Sent")
                    },
                    createDate: E.a.numeric()
                }
            },
            computed: function sent_trophyvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? sent_trophyvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : sent_trophyvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(o.mapState)({
                message: function message(e) {
                    return e.trophies.message
                },
                selectedTrophy: function selectedTrophy(e) {
                    return e.trophies.selectedTrophy
                },
                user: function user(e) {
                    return e.user
                }
            }), {
                memberViewOfSender: function memberViewOfSender() {
                    return r.a.generate("web_member_view", {
                        username: this.user.username
                    })
                }
            }),
            mounted: function mounted() {
                setTimeout(function() {}, 5e3)
            }
        },
        N = n(265);
    var I = Object(u.a)(D, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [n("div", {
            class: e.$style.left
        }, [n("img", {
            directives: [{
                name: "image-defer",
                rawName: "v-image-defer",
                value: {
                    src: e.selectedTrophy.image_url,
                    srcset: !0
                },
                expression: "{\n        src: selectedTrophy.image_url,\n        srcset: true\n    }"
            }],
            attrs: {
                width: "135",
                height: "135",
                src: e.selectedTrophy.image_url,
                alt: e.selectedTrophy.name
            }
        })]), e._v(" "), n("div", {
            class: e.$style.right
        }, [n("h1", [e._v(e._s(e.selectedTrophy.name))]), e._v(" "), n("div", {
            class: e.$style.from
        }, [e._v("\n      " + e._s(e.labels.from) + ":\n      "), e.user.chessTitle ? n("user-chess-title", {
            attrs: {
                title: e.user.chessTitle
            }
        }) : e._e(), e._v(" "), n("user-username", {
            attrs: {
                theme: "gray",
                username: e.user.username
            }
        }), e._v("\n\n      " + e._s(e.createDate) + "\n    ")], 1), e._v(" "), n("p", {
            class: e.$style.message
        }, [e._v("\n      " + e._s(e.message) + "\n    ")]), e._v(" "), n("p", {
            class: e.$style.success
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                name: "checkmark"
            }
        }), e._v("\n      " + e._s(e.labels.sent) + "\n    ")], 1)])])
    }, [], !1, function sent_trophy_injectStyles(e) {
        this.$style = N.default.locals || N.default
    }, null, null).exports;

    function trophy_popovervue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var $ = {
            name: "give-trophy-modal",
            components: {
                AccountNotActivated: d,
                ModalContainer: h.a,
                ModalContent: m.a,
                SectionTitleDismissible: f.a,
                SelectTrophy: w,
                SendTrophy: T,
                SentTrophy: I
            },
            data: function data() {
                return {
                    labels: {
                        activateAccount: s.a.trans("You must activate your account before you can send trophies.")
                    },
                    modalStates: p.a.modalStates
                }
            },
            computed: function trophy_popovervue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? trophy_popovervue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : trophy_popovervue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(o.mapState)({
                isFriend: function isFriend(e) {
                    return e.trophies.recipientIsFriend
                },
                modalState: function modalState(e) {
                    return e.trophies.modalState
                },
                user: function user(e) {
                    return e.user
                }
            }), {
                title: function title() {
                    return this.modalState === p.a.modalStates.select ? s.a.trans("Select a Trophy") : this.modalState === p.a.modalStates.send ? this.isFriend ? s.a.trans("Add a Message") : s.a.trans("Send Award") : this.modalState === p.a.modalStates.sent ? s.a.trans("Trophy Sent!") : void 0
                }
            }),
            mounted: function mounted() {
                this.user.isActivated && this.$store.dispatch("trophies/getAllTrophies", {
                    page: 1
                }), this.show()
            },
            methods: {
                hide: function hide() {
                    this.$store.commit("trophies/setModalState", p.a.modalStates.select), this.$store.commit("trophies/setMessage", ""), this.$store.commit("trophies/setErrorMessage", ""), this.$refs.modalContainer.hide(), this.$emit("hide")
                },
                show: function show() {
                    this.$refs.modalContainer.show()
                }
            }
        },
        B = n(266);
    var R = Object(u.a)($, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-container", {
            ref: "modalContainer",
            on: {
                hide: e.hide
            }
        }, [n("modal-content", {
            ref: "modal",
            class: e.$style.modal
        }, [n("section-title-dismissible", {
            on: {
                close: e.hide
            }
        }, [e._v("\n      " + e._s(e.title) + "\n    ")]), e._v(" "), n("div", {
            class: e.$style.section
        }, [e.user.isActivated ? e.modalState === e.modalStates.select ? n("select-trophy") : e.modalState === e.modalStates.send ? n("send-trophy") : e.modalState === e.modalStates.sent ? n("sent-trophy", {
            on: {
                close: e.hide
            }
        }) : e._e() : n("account-not-activated", {
            attrs: {
                alert: e.labels.activateAccount
            }
        })], 1)], 1)], 1)
    }, [], !1, function trophy_popover_injectStyles(e) {
        this.$style = B.default.locals || B.default
    }, null, null);
    t.a = R.exports
}, function(e, t, n) {
    "use strict";
    var a = n(124),
        i = n(12),
        o = n(33),
        r = n(99),
        s = n(92),
        l = n(18),
        c = n(312),
        u = n(46),
        d = n(59),
        p = {
            name: "game-over-modal",
            components: {
                IconFont: l.a,
                ModalChessboardContainer: c.a,
                ModalContainer: u.a,
                ModalContent: d.a
            },
            props: {
                centerOverParent: {
                    type: Boolean,
                    default: !1
                },
                newbie: {
                    type: Boolean,
                    default: !1
                },
                component: {
                    type: String,
                    default: "modal-container"
                }
            },
            methods: {
                modalDidHide: function modalDidHide() {
                    this.$emit(s.a.MODAL_DID_HIDE)
                },
                showModal: function showModal() {
                    this.$refs.modalContainer.show()
                },
                hideModal: function hideModal() {
                    this.$refs.modalContainer && this.$refs.modalContainer.hide(), this.$emit("hide-modal")
                }
            }
        },
        h = n(278),
        m = n(5);
    var f = Object(m.a)(p, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a(t.component, {
                ref: "modalContainer",
                tag: "component",
                attrs: {
                    "center-over-parent": t.centerOverParent
                },
                on: {
                    "modal-did-hide": t.modalDidHide
                }
            }, [a("modal-content", {
                class: [t.$style.modal, (e = {}, e[t.$style.newbie] = t.newbie, e)]
            }, [t.newbie ? t._e() : a("div", {
                class: t.$style.header
            }, [a("icon-font", {
                class: t.$style.icon,
                attrs: {
                    family: "chess",
                    theme: "primary",
                    name: "x"
                },
                on: {
                    click: t.hideModal
                }
            })], 1), t._v(" "), a("div", {
                class: t.$style.content
            }, [t._t("content")], 2), t._v(" "), a("div", {
                class: t.$style.footer
            }, [t._t("footer")], 2)])], 1)
        }, [], !1, function injectStyles(e) {
            this.$style = h.default.locals || h.default
        }, null, null).exports,
        g = n(133),
        b = {
            name: "modal-user-report",
            components: {
                FormButton: o.a,
                FormCheckbox: r.a,
                ModalWithFooter: f,
                SectionTitleDismissible: g.a
            },
            props: {
                username: {
                    required: !0,
                    type: String
                }
            },
            data: function data() {
                return {
                    translations: i.p,
                    reportReasons: {},
                    picked: 0,
                    selectedCategory: 0,
                    otherReason: "",
                    blockUser: !1,
                    status: ""
                }
            },
            computed: {
                blockUserLabel: function blockUserLabel() {
                    return "".concat(this.translations.block, " ").concat(this.username, "?")
                },
                showError: function showError() {
                    return 0 === this.otherReason.length && 6 === this.picked
                },
                isDisabled: function isDisabled() {
                    return 0 === this.picked || this.showError
                },
                statusText: function statusText() {
                    return "success" === this.status ? this.$trans("user.report_abuse_success", {
                        "%1$s%": this.username
                    }) : "failed" === this.status ? this.$trans("user.report_abuse_failure") : void 0
                },
                footerButtonText: function footerButtonText() {
                    return this.status ? this.$trans("Close") : this.$trans("Cancel")
                }
            },
            created: function created() {
                var e = this;
                Object(a.a)().then(function(t) {
                    var n = t.data;
                    e.reportReasons = n.filter(function(e) {
                        return !e.parent_reason
                    }).map(function(e) {
                        return e.subcategories = n.filter(function(t) {
                            return t.parent_reason && t.parent_reason === e.id
                        }), e
                    })
                })
            },
            mounted: function mounted() {
                this.$refs.modal.showModal()
            },
            methods: {
                report: function report(e, t, n, i) {
                    var o = this,
                        r = {
                            username: e,
                            picked: t,
                            otherReason: n,
                            blockUser: i
                        };
                    Object(a.c)(r).then(function() {
                        i && o.$emit("block-user", {
                            username: o.username
                        }), o.status = "success"
                    }).catch(function() {
                        return o.status = "failed"
                    })
                },
                restoreDefaults: function restoreDefaults() {
                    this.picked = 0, this.otherReason = "", this.blockUser = !1, this.status = ""
                },
                hide: function hide() {
                    this.$refs.modal && this.$refs.modal.hideModal()
                },
                modalDidHide: function modalDidHide() {
                    this.$emit("modal-did-hide"), this.restoreDefaults()
                },
                selectCategory: function selectCategory(e) {
                    this.selectedCategory = e
                }
            }
        },
        v = n(279);
    var y = Object(m.a)(b, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-with-footer", {
            ref: "modal",
            class: e.$style.component,
            on: {
                "modal-did-hide": e.modalDidHide
            }
        }, [n("template", {
            slot: "content"
        }, [n("h3", {
            class: e.$style.title
        }, [e._v(e._s(e.translations.reportUser(e.username)))]), e._v(" "), e.status ? n("p", {
            class: e.$style.status,
            domProps: {
                textContent: e._s(e.statusText)
            }
        }) : n("div", {
            class: e.$style.content
        }, [e._l(e.reportReasons, function(t) {
            return n("div", {
                key: t.id,
                class: e.$style.radio
            }, [n("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: e.picked,
                    expression: "picked"
                }],
                attrs: {
                    id: t.id,
                    type: "radio"
                },
                domProps: {
                    value: t.id,
                    checked: e._q(e.picked, t.id)
                },
                on: {
                    click: function(n) {
                        return e.selectCategory(t.id)
                    },
                    change: function(n) {
                        e.picked = t.id
                    }
                }
            }), e._v(" "), n("label", {
                class: e.$style.label,
                attrs: {
                    for: t.id
                }
            }, [e._v(e._s(t.name))]), e._v(" "), n("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.id === e.selectedCategory && t.subcategories.length,
                    expression: "reason.id === selectedCategory && reason.subcategories.length"
                }],
                class: e.$style.subcategories
            }, e._l(t.subcategories, function(t) {
                return n("div", {
                    key: t.id,
                    class: e.$style.radio
                }, [n("input", {
                    directives: [{
                        name: "model",
                        rawName: "v-model",
                        value: e.picked,
                        expression: "picked"
                    }],
                    attrs: {
                        id: t.id,
                        type: "radio"
                    },
                    domProps: {
                        value: t.id,
                        checked: e._q(e.picked, t.id)
                    },
                    on: {
                        change: function(n) {
                            e.picked = t.id
                        }
                    }
                }), e._v(" "), n("label", {
                    class: e.$style.label,
                    attrs: {
                        for: t.id
                    }
                }, [e._v(e._s(t.name))])])
            }), 0)])
        }), e._v(" "), n("textarea", {
            directives: [{
                name: "model",
                rawName: "v-model",
                value: e.otherReason,
                expression: "otherReason"
            }],
            class: e.$style.textarea,
            domProps: {
                value: e.otherReason
            },
            on: {
                input: function(t) {
                    t.target.composing || (e.otherReason = t.target.value)
                }
            }
        }), e._v(" "), n("span", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.showError,
                expression: "showError"
            }],
            class: e.$style.error
        }, [e._v(e._s(e.translations.userReportError))])], 2)]), e._v(" "), n("div", {
            attrs: {
                slot: "footer"
            },
            slot: "footer"
        }, [e.status ? e._e() : n("div", {
            class: e.$style.wrapper
        }, [n("form-checkbox", {
            attrs: {
                name: "block",
                label: e.blockUserLabel
            },
            model: {
                value: e.blockUser,
                callback: function(t) {
                    e.blockUser = t
                },
                expression: "blockUser"
            }
        })], 1), e._v(" "), n("div", {
            class: e.$style.wrapper
        }, [n("form-button", {
            class: e.$style.button,
            attrs: {
                size: "large",
                theme: "basic"
            },
            on: {
                click: e.hide
            }
        }, [e._v(e._s(e.footerButtonText) + "\n      ")]), e._v(" "), e.status ? e._e() : n("form-button", {
            class: e.$style.button,
            attrs: {
                theme: "primary",
                size: "large",
                disabled: e.isDisabled
            },
            on: {
                click: function(t) {
                    return t.preventDefault(), e.report(e.username, e.picked, e.otherReason, e.blockUser)
                }
            }
        }, [e._v("\n        " + e._s(e.translations.report) + "\n      ")])], 1)])], 2)
    }, [], !1, function modal_user_report_injectStyles(e) {
        this.$style = v.default.locals || v.default
    }, null, null);
    t.a = y.exports
}, function(e, t, n) {
    "use strict";
    var a = n(12),
        i = {
            name: "flair",
            components: {
                IconFont: n(18).a
            },
            props: {
                available: {
                    type: Boolean,
                    default: !0
                },
                showTheNothingFlair: {
                    type: Boolean,
                    default: !1
                },
                code: {
                    type: String,
                    default: a.c.code
                },
                size: {
                    type: String
                }
            },
            computed: {
                isNothing: function isNothing() {
                    return this.code === a.c.code
                }
            }
        },
        o = n(5),
        r = Object(o.a)(i, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return this.showTheNothingFlair || !this.isNothing ? t("span", {
                class: ["flair-component", "flair-" + this.code, "flair-" + this.size]
            }) : this._e()
        }, [], !1, null, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    var a = n(12),
        i = n(324),
        o = n(168),
        r = n(325),
        s = n(169),
        l = {
            name: "user-tagline",
            components: {
                CountryFlag: i.a,
                UserChessTitle: o.a,
                UserFlairIcon: r.a,
                UserUsername: s.a
            },
            props: {
                country: {
                    type: Object,
                    required: !1
                },
                flairCode: {
                    type: String
                },
                isUsernameClickable: {
                    type: Boolean,
                    default: !0
                },
                isDarkMode: Boolean,
                iconAnchorIsEnabled: {
                    type: Boolean,
                    default: !0
                },
                membership: {
                    type: Number,
                    default: a.k.basic
                },
                rating: {
                    type: Number,
                    required: !1
                },
                title: {
                    type: String,
                    required: !1
                },
                url: {
                    type: String,
                    required: !1
                },
                usernameTheme: {
                    type: String,
                    default: "blue"
                },
                titleUrl: {
                    type: String,
                    required: !1
                },
                username: {
                    type: String,
                    required: !0
                },
                openProfileOnNewTab: {
                    type: Boolean,
                    required: !1
                }
            }
        },
        c = n(276),
        u = n(5);
    var d = Object(u.a)(l, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            class: [t.$style.component, (e = {}, e[t.$style.darkMode] = t.isDarkMode, e)]
        }, [t.title ? a("user-chess-title", {
            attrs: {
                url: t.titleUrl,
                title: t.title
            }
        }) : t._e(), t._v(" "), a("user-username", {
            class: t.$style.username,
            attrs: {
                "is-clickable": t.isUsernameClickable,
                "open-new-tab": t.openProfileOnNewTab,
                theme: t.isDarkMode ? "dark" : t.usernameTheme,
                url: t.url,
                username: t.username
            }
        }), t._v(" "), t.rating ? a("span", {
            class: t.$style.rating
        }, [t._v("\n    (" + t._s(t.rating) + ")\n  ")]) : t._e(), t._v(" "), t.country ? a("country-flag", {
            attrs: {
                code: t.country.code,
                name: t.country.name
            }
        }) : t._e(), t._v(" "), t.flairCode || t.membership ? a("user-flair-icon", {
            attrs: {
                code: t.flairCode,
                membership: t.membership
            }
        }) : t._e()], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = c.default.locals || c.default
    }, null, null);
    t.a = d.exports
}, function(e, t, n) {
    "use strict";
    var a = n(301),
        i = n(13),
        o = n(11),
        r = n(7),
        s = n(0),
        l = {
            getUserTrophies: function getUserTrophies(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    s = {
                        username: t.username,
                        trophyType: t.trophyType
                    };
                return o.default.get(r.a.generate("web_member_callback_trophy_list", s)).then(function(e) {
                    if (e.data) return n("setUserTrophies", e.data), localStorage.set("user_trophies", e.data, 60), e.data
                }).catch(function() {
                    var e = i.g.error;
                    a("alerts/create", {
                        type: e,
                        message: i.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            getAllTrophies: function getAllTrophies(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    s = e.state;
                n("setFinishedLoading", !1);
                var l = Object.assign({}, {
                    type: s.trophyType
                }, t);
                return o.default.get(r.a.generate("web_callback_get_trophies", l)).then(function(e) {
                    e.data && n("setAllTrophies", e.data)
                }).catch(function() {
                    var e = i.g.error;
                    a("alerts/create", {
                        type: e,
                        message: i.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            getTrophyShowcase: function getTrophyShowcase(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                return o.default.get(r.a.generate("web_user_trophy_showcase_callback", {
                    username: t
                })).then(function(e) {
                    e.data && n("setUserShowcaseTrophies", e.data)
                }).catch(function() {
                    var e = i.g.error;
                    a("alerts/create", {
                        type: e,
                        message: i.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            getUserTrophyCount: function getUserTrophyCount(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                return o.default.get(r.a.generate("web_callback_count_user_trophies", {
                    username: t
                })).then(function(e) {
                    e.data && n("setUserTrophiesCount", e.data.count)
                }).catch(function() {
                    var e = i.g.error;
                    a("alerts/create", {
                        type: e,
                        message: i.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            featureTrophy: function featureTrophy(e, t) {
                var n = e.dispatch,
                    a = t.trophyId,
                    l = t.featured,
                    c = t.username,
                    u = {
                        id: a,
                        featured: l
                    };
                return o.default.post(r.a.generate("web_feature_trophy_callback", u)).then(function(e) {
                    var t = i.g.success,
                        a = function prepAlertMessage(e) {
                            return e.data && e.data.message || i.b.DEFAULT
                        }(e);
                    n("alerts/create", {
                        type: t,
                        message: a
                    }, {
                        root: !0
                    }), n("getTrophyShowcase", c)
                }).catch(function() {
                    var e = i.g.error,
                        t = s.a.trans("Error featuring trophies. Please try again later.");
                    n("alerts/create", {
                        type: e,
                        message: t
                    }, {
                        root: !0
                    })
                })
            },
            sendTrophyToUser: function sendTrophyToUser(e) {
                var t = e.commit,
                    n = e.state,
                    i = {
                        username: n.recipientUsername,
                        trophyId: n.selectedTrophy.id,
                        message: Object(a.c)(n.message)
                    };
                return "number" == typeof n.gameId && (i[n.isLiveGame ? "gameLiveId" : "gameId"] = n.gameId), t("disableSendButton", !0), o.default.post(r.a.generate("web_award_trophy_callback", i)).then(function() {
                    t("disableSendButton", !1)
                }).catch(function(e) {
                    return t("setErrorMessage", e.response.data.message), t("disableSendButton", !1), Promise.reject(e)
                })
            }
        },
        c = {
            allTrophiesToGive: [],
            disableSendButton: !1,
            errorMessage: "",
            finishedLoadingTrophies: !1,
            gameId: null,
            hideShowcase: !1,
            isLiveGame: !1,
            message: "",
            meta: {
                currentPage: 1,
                morePages: !1
            },
            recipientIsFriend: !1,
            modalState: n(49).a.modalStates.select,
            recipientUsername: null,
            selectedTrophy: null,
            trophies: [],
            trophyType: "social",
            userShowcaseTrophies: [],
            userTrophies: [],
            userTrophyCount: 0
        };
    t.a = {
        namespaced: !0,
        actions: l,
        mutations: {
            disableSendButton: function disableSendButton(e, t) {
                e.disableSendButton = t
            },
            setUserTrophies: function setUserTrophies(e, t) {
                e.userTrophies = t
            },
            setAllTrophies: function setAllTrophies(e, t) {
                e.trophies = t.data, e.meta = t.meta, e.allTrophiesToGive = t.data, e.finishedLoadingTrophies = !0
            },
            setErrorMessage: function setErrorMessage(e, t) {
                e.errorMessage = t
            },
            setFinishedLoading: function setFinishedLoading(e, t) {
                e.finishedLoadingTrophies = t
            },
            setGameId: function setGameId(e, t) {
                e.gameId = t
            },
            setIsLiveGame: function setIsLiveGame(e, t) {
                e.isLiveGame = t
            },
            setMessage: function setMessage(e, t) {
                e.message = t
            },
            setModalState: function setModalState(e, t) {
                e.modalState = t
            },
            setRecipientIsFriend: function setRecipientIsFriend(e, t) {
                e.recipientIsFriend = t
            },
            setRecipientUsername: function setRecipientUsername(e, t) {
                e.recipientUsername = t
            },
            setSelectedTrophy: function setSelectedTrophy(e, t) {
                e.selectedTrophy = t
            },
            setTrophyType: function setTrophyType(e, t) {
                e.trophyType = t
            },
            setUserShowcaseTrophies: function setUserShowcaseTrophies(e, t) {
                e.hideShowcase = 0 === t.length, e.userShowcaseTrophies = t
            },
            setUserTrophiesCount: function setUserTrophiesCount(e, t) {
                e.userTrophyCount = t
            }
        },
        state: c
    }
}, function(e, t) {
    e.exports = function arrayEach(e, t) {
        for (var n = -1, a = null == e ? 0 : e.length; ++n < a && !1 !== t(e[n], n, e););
        return e
    }
}, function(e, t) {
    ! function(t, n) {
        ! function() {
            try {
                new Uint8Array(1), new Uint32Array(1), new Int32Array(1);
                return
            } catch (e) {}

            function f(e, t) {
                return this.slice(e, t)
            }

            function c(e, t) {
                arguments.length < 2 && (t = 0);
                for (var n = 0, a = e.length; n < a; ++n, ++t) this[t] = 255 & e[n]
            }

            function d(e) {
                var t;
                if ("number" == typeof e) {
                    t = new Array(e);
                    for (var n = 0; n < e; ++n) t[n] = 0
                } else t = e.slice(0);
                return t.subarray = f, t.buffer = t, t.byteLength = t.length, t.set = c, "object" == typeof e && e.buffer && (t.buffer = e.buffer), t
            }
            try {
                window.Uint8Array = d
            } catch (e) {}
            try {
                window.Uint32Array = d
            } catch (e) {}
            try {
                window.Int32Array = d
            } catch (e) {}
        }(),
        function() {
            try {
                if ("undefined" == typeof window) return;
                if ("btoa" in window) return;
                var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                window.btoa = function(t) {
                    var n, a, i = "";
                    for (n = 0, a = t.length; n < a; n += 3) {
                        var o = 255 & t.charCodeAt(n),
                            r = 255 & t.charCodeAt(n + 1),
                            s = 255 & t.charCodeAt(n + 2),
                            l = (3 & o) << 4 | r >> 4,
                            c = n + 1 < a ? (15 & r) << 2 | s >> 6 : 64,
                            u = n + 2 < a ? 63 & s : 64;
                        i += e.charAt(o >> 2) + e.charAt(l) + e.charAt(c) + e.charAt(u)
                    }
                    return i
                }
            } catch (e) {}
        }();
        var a, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            o = "=";

        function BigInteger(e, t, n) {
            null != e && ("number" == typeof e ? this.fromNumber(e, t, n) : null == t && "string" != typeof e ? this.fromString(e, 256) : this.fromString(e, t))
        }

        function nbi() {
            return new BigInteger(null)
        }
        "Microsoft Internet Explorer" == navigator.appName ? (BigInteger.prototype.am = function am2(e, t, n, a, i, o) {
            for (var r = 32767 & t, s = t >> 15; --o >= 0;) {
                var l = 32767 & this[e],
                    c = this[e++] >> 15,
                    u = s * l + c * r;
                i = ((l = r * l + ((32767 & u) << 15) + n[a] + (1073741823 & i)) >>> 30) + (u >>> 15) + s * c + (i >>> 30), n[a++] = 1073741823 & l
            }
            return i
        }, a = 30) : "Netscape" != navigator.appName ? (BigInteger.prototype.am = function am1(e, t, n, a, i, o) {
            for (; --o >= 0;) {
                var r = t * this[e++] + n[a] + i;
                i = Math.floor(r / 67108864), n[a++] = 67108863 & r
            }
            return i
        }, a = 26) : (BigInteger.prototype.am = function am3(e, t, n, a, i, o) {
            for (var r = 16383 & t, s = t >> 14; --o >= 0;) {
                var l = 16383 & this[e],
                    c = this[e++] >> 14,
                    u = s * l + c * r;
                i = ((l = r * l + ((16383 & u) << 14) + n[a] + i) >> 28) + (u >> 14) + s * c, n[a++] = 268435455 & l
            }
            return i
        }, a = 28), BigInteger.prototype.DB = a, BigInteger.prototype.DM = (1 << a) - 1, BigInteger.prototype.DV = 1 << a;
        BigInteger.prototype.FV = Math.pow(2, 52), BigInteger.prototype.F1 = 52 - a, BigInteger.prototype.F2 = 2 * a - 52;
        var r, s, l = "0123456789abcdefghijklmnopqrstuvwxyz",
            u = new Array;
        for (r = "0".charCodeAt(0), s = 0; s <= 9; ++s) u[r++] = s;
        for (r = "a".charCodeAt(0), s = 10; s < 36; ++s) u[r++] = s;
        for (r = "A".charCodeAt(0), s = 10; s < 36; ++s) u[r++] = s;

        function int2char(e) {
            return l.charAt(e)
        }

        function intAt(e, t) {
            var n = u[e.charCodeAt(t)];
            return null == n ? -1 : n
        }

        function nbv(e) {
            var t = nbi();
            return t.fromInt(e), t
        }

        function nbits(e) {
            var t, n = 1;
            return 0 != (t = e >>> 16) && (e = t, n += 16), 0 != (t = e >> 8) && (e = t, n += 8), 0 != (t = e >> 4) && (e = t, n += 4), 0 != (t = e >> 2) && (e = t, n += 2), 0 != (t = e >> 1) && (e = t, n += 1), n
        }

        function Classic(e) {
            this.m = e
        }

        function Montgomery(e) {
            this.m = e, this.mp = e.invDigit(), this.mpl = 32767 & this.mp, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t
        }

        function Arcfour() {
            this.i = 0, this.j = 0, this.S = new Array
        }
        Classic.prototype.convert = function cConvert(e) {
            return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e
        }, Classic.prototype.revert = function cRevert(e) {
            return e
        }, Classic.prototype.reduce = function cReduce(e) {
            e.divRemTo(this.m, null, e)
        }, Classic.prototype.mulTo = function cMulTo(e, t, n) {
            e.multiplyTo(t, n), this.reduce(n)
        }, Classic.prototype.sqrTo = function cSqrTo(e, t) {
            e.squareTo(t), this.reduce(t)
        }, Montgomery.prototype.convert = function montConvert(e) {
            var t = nbi();
            return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(BigInteger.ZERO) > 0 && this.m.subTo(t, t), t
        }, Montgomery.prototype.revert = function montRevert(e) {
            var t = nbi();
            return e.copyTo(t), this.reduce(t), t
        }, Montgomery.prototype.reduce = function montReduce(e) {
            for (; e.t <= this.mt2;) e[e.t++] = 0;
            for (var t = 0; t < this.m.t; ++t) {
                var n = 32767 & e[t],
                    a = n * this.mpl + ((n * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM;
                for (e[n = t + this.m.t] += this.m.am(0, a, e, t, 0, this.m.t); e[n] >= e.DV;) e[n] -= e.DV, e[++n]++
            }
            e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e)
        }, Montgomery.prototype.mulTo = function montMulTo(e, t, n) {
            e.multiplyTo(t, n), this.reduce(n)
        }, Montgomery.prototype.sqrTo = function montSqrTo(e, t) {
            e.squareTo(t), this.reduce(t)
        }, BigInteger.prototype.copyTo = function bnpCopyTo(e) {
            for (var t = this.t - 1; t >= 0; --t) e[t] = this[t];
            e.t = this.t, e.s = this.s
        }, BigInteger.prototype.fromInt = function bnpFromInt(e) {
            this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0
        }, BigInteger.prototype.fromString = function bnpFromString(e, t) {
            var n;
            if (16 == t) n = 4;
            else if (8 == t) n = 3;
            else if (256 == t) n = 8;
            else if (2 == t) n = 1;
            else if (32 == t) n = 5;
            else {
                if (4 != t) return void this.fromRadix(e, t);
                n = 2
            }
            this.t = 0, this.s = 0;
            for (var a = e.length, i = !1, o = 0; --a >= 0;) {
                var r = 8 == n ? 255 & e[a] : intAt(e, a);
                r < 0 ? "-" == e.charAt(a) && (i = !0) : (i = !1, 0 == o ? this[this.t++] = r : o + n > this.DB ? (this[this.t - 1] |= (r & (1 << this.DB - o) - 1) << o, this[this.t++] = r >> this.DB - o) : this[this.t - 1] |= r << o, (o += n) >= this.DB && (o -= this.DB))
            }
            8 == n && 0 != (128 & e[0]) && (this.s = -1, o > 0 && (this[this.t - 1] |= (1 << this.DB - o) - 1 << o)), this.clamp(), i && BigInteger.ZERO.subTo(this, this)
        }, BigInteger.prototype.clamp = function bnpClamp() {
            for (var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e;) --this.t
        }, BigInteger.prototype.dlShiftTo = function bnpDLShiftTo(e, t) {
            var n;
            for (n = this.t - 1; n >= 0; --n) t[n + e] = this[n];
            for (n = e - 1; n >= 0; --n) t[n] = 0;
            t.t = this.t + e, t.s = this.s
        }, BigInteger.prototype.drShiftTo = function bnpDRShiftTo(e, t) {
            for (var n = e; n < this.t; ++n) t[n - e] = this[n];
            t.t = Math.max(this.t - e, 0), t.s = this.s
        }, BigInteger.prototype.lShiftTo = function bnpLShiftTo(e, t) {
            var n, a = e % this.DB,
                i = this.DB - a,
                o = (1 << i) - 1,
                r = Math.floor(e / this.DB),
                s = this.s << a & this.DM;
            for (n = this.t - 1; n >= 0; --n) t[n + r + 1] = this[n] >> i | s, s = (this[n] & o) << a;
            for (n = r - 1; n >= 0; --n) t[n] = 0;
            t[r] = s, t.t = this.t + r + 1, t.s = this.s, t.clamp()
        }, BigInteger.prototype.rShiftTo = function bnpRShiftTo(e, t) {
            t.s = this.s;
            var n = Math.floor(e / this.DB);
            if (n >= this.t) t.t = 0;
            else {
                var a = e % this.DB,
                    i = this.DB - a,
                    o = (1 << a) - 1;
                t[0] = this[n] >> a;
                for (var r = n + 1; r < this.t; ++r) t[r - n - 1] |= (this[r] & o) << i, t[r - n] = this[r] >> a;
                a > 0 && (t[this.t - n - 1] |= (this.s & o) << i), t.t = this.t - n, t.clamp()
            }
        }, BigInteger.prototype.subTo = function bnpSubTo(e, t) {
            for (var n = 0, a = 0, i = Math.min(e.t, this.t); n < i;) a += this[n] - e[n], t[n++] = a & this.DM, a >>= this.DB;
            if (e.t < this.t) {
                for (a -= e.s; n < this.t;) a += this[n], t[n++] = a & this.DM, a >>= this.DB;
                a += this.s
            } else {
                for (a += this.s; n < e.t;) a -= e[n], t[n++] = a & this.DM, a >>= this.DB;
                a -= e.s
            }
            t.s = a < 0 ? -1 : 0, a < -1 ? t[n++] = this.DV + a : a > 0 && (t[n++] = a), t.t = n, t.clamp()
        }, BigInteger.prototype.multiplyTo = function bnpMultiplyTo(e, t) {
            var n = this.abs(),
                a = e.abs(),
                i = n.t;
            for (t.t = i + a.t; --i >= 0;) t[i] = 0;
            for (i = 0; i < a.t; ++i) t[i + n.t] = n.am(0, a[i], t, i, 0, n.t);
            t.s = 0, t.clamp(), this.s != e.s && BigInteger.ZERO.subTo(t, t)
        }, BigInteger.prototype.squareTo = function bnpSquareTo(e) {
            for (var t = this.abs(), n = e.t = 2 * t.t; --n >= 0;) e[n] = 0;
            for (n = 0; n < t.t - 1; ++n) {
                var a = t.am(n, t[n], e, 2 * n, 0, 1);
                (e[n + t.t] += t.am(n + 1, 2 * t[n], e, 2 * n + 1, a, t.t - n - 1)) >= t.DV && (e[n + t.t] -= t.DV, e[n + t.t + 1] = 1)
            }
            e.t > 0 && (e[e.t - 1] += t.am(n, t[n], e, 2 * n, 0, 1)), e.s = 0, e.clamp()
        }, BigInteger.prototype.divRemTo = function bnpDivRemTo(e, t, n) {
            var a = e.abs();
            if (!(a.t <= 0)) {
                var i = this.abs();
                if (i.t < a.t) return null != t && t.fromInt(0), void(null != n && this.copyTo(n));
                null == n && (n = nbi());
                var o = nbi(),
                    r = this.s,
                    s = e.s,
                    l = this.DB - nbits(a[a.t - 1]);
                l > 0 ? (a.lShiftTo(l, o), i.lShiftTo(l, n)) : (a.copyTo(o), i.copyTo(n));
                var c = o.t,
                    u = o[c - 1];
                if (0 != u) {
                    var d = u * (1 << this.F1) + (c > 1 ? o[c - 2] >> this.F2 : 0),
                        p = this.FV / d,
                        h = (1 << this.F1) / d,
                        m = 1 << this.F2,
                        f = n.t,
                        g = f - c,
                        b = null == t ? nbi() : t;
                    for (o.dlShiftTo(g, b), n.compareTo(b) >= 0 && (n[n.t++] = 1, n.subTo(b, n)), BigInteger.ONE.dlShiftTo(c, b), b.subTo(o, o); o.t < c;) o[o.t++] = 0;
                    for (; --g >= 0;) {
                        var v = n[--f] == u ? this.DM : Math.floor(n[f] * p + (n[f - 1] + m) * h);
                        if ((n[f] += o.am(0, v, n, g, 0, c)) < v)
                            for (o.dlShiftTo(g, b), n.subTo(b, n); n[f] < --v;) n.subTo(b, n)
                    }
                    null != t && (n.drShiftTo(c, t), r != s && BigInteger.ZERO.subTo(t, t)), n.t = c, n.clamp(), l > 0 && n.rShiftTo(l, n), r < 0 && BigInteger.ZERO.subTo(n, n)
                }
            }
        }, BigInteger.prototype.invDigit = function bnpInvDigit() {
            if (this.t < 1) return 0;
            var e = this[0];
            if (0 == (1 & e)) return 0;
            var t = 3 & e;
            return (t = (t = (t = (t = t * (2 - (15 & e) * t) & 15) * (2 - (255 & e) * t) & 255) * (2 - ((65535 & e) * t & 65535)) & 65535) * (2 - e * t % this.DV) % this.DV) > 0 ? this.DV - t : -t
        }, BigInteger.prototype.isEven = function bnpIsEven() {
            return 0 == (this.t > 0 ? 1 & this[0] : this.s)
        }, BigInteger.prototype.exp = function bnpExp(e, t) {
            if (e > 4294967295 || e < 1) return BigInteger.ONE;
            var n = nbi(),
                a = nbi(),
                i = t.convert(this),
                o = nbits(e) - 1;
            for (i.copyTo(n); --o >= 0;)
                if (t.sqrTo(n, a), (e & 1 << o) > 0) t.mulTo(a, i, n);
                else {
                    var r = n;
                    n = a, a = r
                }
            return t.revert(n)
        }, BigInteger.prototype.toString = function bnToString(e) {
            if (this.s < 0) return "-" + this.negate().toString(e);
            var t;
            if (16 == e) t = 4;
            else if (8 == e) t = 3;
            else if (2 == e) t = 1;
            else if (32 == e) t = 5;
            else {
                if (4 != e) return this.toRadix(e);
                t = 2
            }
            var n, a = (1 << t) - 1,
                i = !1,
                o = "",
                r = this.t,
                s = this.DB - r * this.DB % t;
            if (r-- > 0)
                for (s < this.DB && (n = this[r] >> s) > 0 && (i = !0, o = int2char(n)); r >= 0;) s < t ? (n = (this[r] & (1 << s) - 1) << t - s, n |= this[--r] >> (s += this.DB - t)) : (n = this[r] >> (s -= t) & a, s <= 0 && (s += this.DB, --r)), n > 0 && (i = !0), i && (o += int2char(n));
            return i ? o : "0"
        }, BigInteger.prototype.negate = function bnNegate() {
            var e = nbi();
            return BigInteger.ZERO.subTo(this, e), e
        }, BigInteger.prototype.abs = function bnAbs() {
            return this.s < 0 ? this.negate() : this
        }, BigInteger.prototype.compareTo = function bnCompareTo(e) {
            var t = this.s - e.s;
            if (0 != t) return t;
            var n = this.t;
            if (0 != (t = n - e.t)) return this.s < 0 ? -t : t;
            for (; --n >= 0;)
                if (0 != (t = this[n] - e[n])) return t;
            return 0
        }, BigInteger.prototype.bitLength = function bnBitLength() {
            return this.t <= 0 ? 0 : this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM)
        }, BigInteger.prototype.mod = function bnMod(e) {
            var t = nbi();
            return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(BigInteger.ZERO) > 0 && e.subTo(t, t), t
        }, BigInteger.prototype.modPowInt = function bnModPowInt(e, t) {
            var n;
            return n = e < 256 || t.isEven() ? new Classic(t) : new Montgomery(t), this.exp(e, n)
        }, BigInteger.ZERO = nbv(0), BigInteger.ONE = nbv(1), Arcfour.prototype.init = function ARC4init(e) {
            var t, n, a;
            for (t = 0; t < 256; ++t) this.S[t] = t;
            for (n = 0, t = 0; t < 256; ++t) n = n + this.S[t] + e[t % e.length] & 255, a = this.S[t], this.S[t] = this.S[n], this.S[n] = a;
            this.i = 0, this.j = 0
        }, Arcfour.prototype.next = function ARC4next() {
            var e;
            return this.i = this.i + 1 & 255, this.j = this.j + this.S[this.i] & 255, e = this.S[this.i], this.S[this.i] = this.S[this.j], this.S[this.j] = e, this.S[e + this.S[this.i] & 255]
        };
        var d, p, h, m = 256;

        function rng_seed_time() {
            ! function rng_seed_int(e) {
                p[h++] ^= 255 & e, p[h++] ^= e >> 8 & 255, p[h++] ^= e >> 16 & 255, p[h++] ^= e >> 24 & 255, h >= m && (h -= m)
            }((new Date).getTime())
        }
        if (null == p) {
            p = [], h = 0;
            try {
                if (window.crypto && window.crypto.getRandomValues) {
                    var f = new Uint8Array(32);
                    for (window.crypto.getRandomValues(f), O = 0; O < 32; ++O) p[h++] = f[O]
                } else if (window.msCrypto && window.msCrypto.getRandomValues) {
                    f = new Uint8Array(32);
                    for (window.msCrypto.getRandomValues(f), O = 0; O < 32; ++O) p[h++] = f[O]
                } else if (window.crypto && window.crypto.random) {
                    var g = window.crypto.random(32);
                    for (O = 0; O < g.length; ++O) p[h++] = 255 & g.charCodeAt(O)
                }
            } catch (e) {}
            for (; h < m;) O = Math.floor(65536 * Math.random()), p[h++] = O >>> 8, p[h++] = 255 & O;
            h = 0, rng_seed_time()
        }

        function rng_get_byte() {
            if (null == d) {
                for (rng_seed_time(), (d = function prng_newstate() {
                        return new Arcfour
                    }()).init(p), h = 0; h < p.length; ++h) p[h] = 0;
                h = 0
            }
            return d.next()
        }

        function SecureRandom() {}

        function RSAKey() {
            this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null
        }

        function q(e) {
            throw e
        }
        SecureRandom.prototype.nextBytes = function rng_get_bytes(e) {
            var t;
            for (t = 0; t < e.length; ++t) e[t] = rng_get_byte()
        }, RSAKey.prototype.doPublic = function RSADoPublic(e) {
            return e.modPowInt(this.e, this.n)
        }, RSAKey.prototype.setPublic = function RSASetPublic(e, t) {
            null != e && null != t && e.length > 0 && t.length > 0 ? (this.n = function parseBigInt(e, t) {
                return new BigInteger(e, t)
            }(e, 16), this.e = parseInt(t, 16)) : alert("Invalid RSA public key")
        }, RSAKey.prototype.encrypt = function RSAEncrypt(e) {
            var t = function pkcs1pad2(e, t) {
                if (t < e.length + 11) return alert("Message too long for RSA"), null;
                for (var n = new Array, a = e.length - 1; a >= 0 && t > 0;) n[--t] = e[a--];
                n[--t] = 0;
                for (var i = new SecureRandom, o = new Array; t > 2;) {
                    for (o[0] = 0; 0 == o[0];) i.nextBytes(o);
                    n[--t] = o[0]
                }
                return n[--t] = 2, n[--t] = 0, new BigInteger(n)
            }(e, this.n.bitLength() + 7 >> 3);
            if (null == t) return null;
            var n = this.doPublic(t);
            if (null == n) return null;
            var a = n.toString(16);
            return 0 == (1 & a.length) ? a : "0" + a
        }, RSAKey.prototype.encrypt_b64 = function RSAEncryptB64(e) {
            var t = this.encrypt(e);
            return t ? function hex2b64(e) {
                var t, n, a = "";
                for (t = 0; t + 3 <= e.length; t += 3) n = parseInt(e.substring(t, t + 3), 16), a += i.charAt(n >> 6) + i.charAt(63 & n);
                for (t + 1 == e.length ? (n = parseInt(e.substring(t, t + 1), 16), a += i.charAt(n << 2)) : t + 2 == e.length && (n = parseInt(e.substring(t, t + 2), 16), a += i.charAt(n >> 2) + i.charAt((3 & n) << 4));
                    (3 & a.length) > 0;) a += o;
                return a
            }(t) : null
        };
        var v, _, w, O = void 0,
            k = !1,
            S = {
                cipher: {},
                hash: {},
                keyexchange: {},
                mode: {},
                misc: {},
                codec: {},
                exception: {
                    corrupt: function(e) {
                        this.toString = function() {
                            return "CORRUPT: " + this.message
                        }, this.message = e
                    },
                    invalid: function(e) {
                        this.toString = function() {
                            return "INVALID: " + this.message
                        }, this.message = e
                    },
                    bug: function(e) {
                        this.toString = function() {
                            return "BUG: " + this.message
                        }, this.message = e
                    },
                    notReady: function(e) {
                        this.toString = function() {
                            return "NOT READY: " + this.message
                        }, this.message = e
                    }
                }
            };

        function y(e, t, n) {
            4 !== t.length && q(new S.exception.invalid("invalid aes block size"));
            var a = e.b[n],
                i = t[0] ^ a[0],
                o = t[n ? 3 : 1] ^ a[1],
                r = t[2] ^ a[2];
            t = t[n ? 1 : 3] ^ a[3];
            var s, l, c, u, d = a.length / 4 - 2,
                p = 4,
                h = [0, 0, 0, 0];
            e = (s = e.k[n])[0];
            var m = s[1],
                f = s[2],
                g = s[3],
                b = s[4];
            for (u = 0; u < d; u++) s = e[i >>> 24] ^ m[o >> 16 & 255] ^ f[r >> 8 & 255] ^ g[255 & t] ^ a[p], l = e[o >>> 24] ^ m[r >> 16 & 255] ^ f[t >> 8 & 255] ^ g[255 & i] ^ a[p + 1], c = e[r >>> 24] ^ m[t >> 16 & 255] ^ f[i >> 8 & 255] ^ g[255 & o] ^ a[p + 2], t = e[t >>> 24] ^ m[i >> 16 & 255] ^ f[o >> 8 & 255] ^ g[255 & r] ^ a[p + 3], p += 4, i = s, o = l, r = c;
            for (u = 0; 4 > u; u++) h[n ? 3 & -u : u] = b[i >>> 24] << 24 ^ b[o >> 16 & 255] << 16 ^ b[r >> 8 & 255] << 8 ^ b[255 & t] ^ a[p++], s = i, i = o, o = r, r = t, t = s;
            return h
        }

        function g(e, t) {
            var n, a, i, o = t.slice(0),
                r = e.r,
                s = e.b,
                l = r[0],
                c = r[1],
                u = r[2],
                d = r[3],
                p = r[4],
                h = r[5],
                m = r[6],
                f = r[7];
            for (n = 0; 64 > n; n++) 16 > n ? a = o[n] : (a = o[n + 1 & 15], i = o[n + 14 & 15], a = o[15 & n] = (a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) + (i >>> 17 ^ i >>> 19 ^ i >>> 10 ^ i << 15 ^ i << 13) + o[15 & n] + o[n + 9 & 15] | 0), a = a + f + (p >>> 6 ^ p >>> 11 ^ p >>> 25 ^ p << 26 ^ p << 21 ^ p << 7) + (m ^ p & (h ^ m)) + s[n], f = m, m = h, h = p, p = d + a | 0, d = u, u = c, l = a + ((c = l) & u ^ d & (c ^ u)) + (c >>> 2 ^ c >>> 13 ^ c >>> 22 ^ c << 30 ^ c << 19 ^ c << 10) | 0;
            r[0] = r[0] + l | 0, r[1] = r[1] + c | 0, r[2] = r[2] + u | 0, r[3] = r[3] + d | 0, r[4] = r[4] + p | 0, r[5] = r[5] + h | 0, r[6] = r[6] + m | 0, r[7] = r[7] + f | 0
        }

        function C(e, t) {
            var n, a = S.random.w[e],
                i = [];
            for (n in a) a.hasOwnProperty(n) && i.push(a[n]);
            for (n = 0; n < i.length; n++) i[n](t)
        }

        function E(e) {
            "undefined" != typeof window && window.performance && "function" == typeof window.performance.now ? S.random.addEntropy(window.performance.now(), e, "loadtime") : S.random.addEntropy((new Date).valueOf(), e, "loadtime")
        }

        function A(e) {
            e.b = B(e).concat(B(e)), e.A = new S.cipher.aes(e.b)
        }

        function B(e) {
            for (var t = 0; 4 > t && (e.f[t] = e.f[t] + 1 | 0, !e.f[t]); t++);
            return e.A.encrypt(e.f)
        }

        function D(e, t) {
            return function() {
                t.apply(e, arguments)
            }
        }
        void 0 !== e && e.exports && (e.exports = S), S.cipher.aes = function(e) {
            this.k[0][0][0] || this.D();
            var t, n, a, i, o = this.k[0][4],
                r = this.k[1],
                s = 1;
            for (4 !== (t = e.length) && 6 !== t && 8 !== t && q(new S.exception.invalid("invalid aes key size")), this.b = [a = e.slice(0), i = []], e = t; e < 4 * t + 28; e++) n = a[e - 1], (0 == e % t || 8 === t && 4 == e % t) && (n = o[n >>> 24] << 24 ^ o[n >> 16 & 255] << 16 ^ o[n >> 8 & 255] << 8 ^ o[255 & n], 0 == e % t && (n = n << 8 ^ n >>> 24 ^ s << 24, s = s << 1 ^ 283 * (s >> 7))), a[e] = a[e - t] ^ n;
            for (t = 0; e; t++, e--) n = a[3 & t ? e : e - 4], i[t] = 4 >= e || 4 > t ? n : r[0][o[n >>> 24]] ^ r[1][o[n >> 16 & 255]] ^ r[2][o[n >> 8 & 255]] ^ r[3][o[255 & n]]
        }, S.cipher.aes.prototype = {
            encrypt: function(e) {
                return y(this, e, 0)
            },
            decrypt: function(e) {
                return y(this, e, 1)
            },
            k: [
                [
                    [],
                    [],
                    [],
                    [],
                    []
                ],
                [
                    [],
                    [],
                    [],
                    [],
                    []
                ]
            ],
            D: function() {
                var e, t, n, a, i, o, r, s = this.k[0],
                    l = this.k[1],
                    c = s[4],
                    u = l[4],
                    d = [],
                    p = [];
                for (e = 0; 256 > e; e++) p[(d[e] = e << 1 ^ 283 * (e >> 7)) ^ e] = e;
                for (t = n = 0; !c[t]; t ^= a || 1, n = p[n] || 1)
                    for (o = (o = n ^ n << 1 ^ n << 2 ^ n << 3 ^ n << 4) >> 8 ^ 255 & o ^ 99, c[t] = o, u[o] = t, r = 16843009 * (i = d[e = d[a = d[t]]]) ^ 65537 * e ^ 257 * a ^ 16843008 * t, i = 257 * d[o] ^ 16843008 * o, e = 0; 4 > e; e++) s[e][t] = i = i << 24 ^ i >>> 8, l[e][o] = r = r << 24 ^ r >>> 8;
                for (e = 0; 5 > e; e++) s[e] = s[e].slice(0), l[e] = l[e].slice(0)
            }
        }, S.bitArray = {
            bitSlice: function(e, t, n) {
                return e = S.bitArray.P(e.slice(t / 32), 32 - (31 & t)).slice(1), n === O ? e : S.bitArray.clamp(e, n - t)
            },
            extract: function(e, t, n) {
                var a = Math.floor(-t - n & 31);
                return (-32 & (t + n - 1 ^ t) ? e[t / 32 | 0] << 32 - a ^ e[t / 32 + 1 | 0] >>> a : e[t / 32 | 0] >>> a) & (1 << n) - 1
            },
            concat: function(e, t) {
                if (0 === e.length || 0 === t.length) return e.concat(t);
                var n = e[e.length - 1],
                    a = S.bitArray.getPartial(n);
                return 32 === a ? e.concat(t) : S.bitArray.P(t, a, 0 | n, e.slice(0, e.length - 1))
            },
            bitLength: function(e) {
                var t = e.length;
                return 0 === t ? 0 : 32 * (t - 1) + S.bitArray.getPartial(e[t - 1])
            },
            clamp: function(e, t) {
                if (32 * e.length < t) return e;
                var n = (e = e.slice(0, Math.ceil(t / 32))).length;
                return t &= 31, 0 < n && t && (e[n - 1] = S.bitArray.partial(t, e[n - 1] & 2147483648 >> t - 1, 1)), e
            },
            partial: function(e, t, n) {
                return 32 === e ? t : (n ? 0 | t : t << 32 - e) + 1099511627776 * e
            },
            getPartial: function(e) {
                return Math.round(e / 1099511627776) || 32
            },
            equal: function(e, t) {
                if (S.bitArray.bitLength(e) !== S.bitArray.bitLength(t)) return k;
                var n, a = 0;
                for (n = 0; n < e.length; n++) a |= e[n] ^ t[n];
                return 0 === a
            },
            P: function(e, t, n, a) {
                var i;
                for (i = 0, a === O && (a = []); 32 <= t; t -= 32) a.push(n), n = 0;
                if (0 === t) return a.concat(e);
                for (i = 0; i < e.length; i++) a.push(n | e[i] >>> t), n = e[i] << 32 - t;
                return i = e.length ? e[e.length - 1] : 0, e = S.bitArray.getPartial(i), a.push(S.bitArray.partial(t + e & 31, 32 < t + e ? n : a.pop(), 1)), a
            },
            l: function(e, t) {
                return [e[0] ^ t[0], e[1] ^ t[1], e[2] ^ t[2], e[3] ^ t[3]]
            },
            byteswapM: function(e) {
                var t, n;
                for (t = 0; t < e.length; ++t) n = e[t], e[t] = n >>> 24 | n >>> 8 & 65280 | (65280 & n) << 8 | n << 24;
                return e
            }
        }, S.codec.utf8String = {
            fromBits: function(e) {
                var t, n, a = "",
                    i = S.bitArray.bitLength(e);
                for (t = 0; t < i / 8; t++) 0 == (3 & t) && (n = e[t / 4]), a += String.fromCharCode(n >>> 24), n <<= 8;
                return decodeURIComponent(escape(a))
            },
            toBits: function(e) {
                e = unescape(encodeURIComponent(e));
                var t, n = [],
                    a = 0;
                for (t = 0; t < e.length; t++) a = a << 8 | e.charCodeAt(t), 3 == (3 & t) && (n.push(a), a = 0);
                return 3 & t && n.push(S.bitArray.partial(8 * (3 & t), a)), n
            }
        }, S.codec.hex = {
            fromBits: function(e) {
                var t, n = "";
                for (t = 0; t < e.length; t++) n += (0xf00000000000 + (0 | e[t])).toString(16).substr(4);
                return n.substr(0, S.bitArray.bitLength(e) / 4)
            },
            toBits: function(e) {
                var t, n, a = [];
                for (n = (e = e.replace(/\s|0x/g, "")).length, e += "00000000", t = 0; t < e.length; t += 8) a.push(0 ^ parseInt(e.substr(t, 8), 16));
                return S.bitArray.clamp(a, 4 * n)
            }
        }, S.codec.base64 = {
            J: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            fromBits: function(e, t, n) {
                var a = "",
                    i = 0,
                    o = S.codec.base64.J,
                    r = 0,
                    s = S.bitArray.bitLength(e);
                for (n && (o = o.substr(0, 62) + "-_"), n = 0; 6 * a.length < s;) a += o.charAt((r ^ e[n] >>> i) >>> 26), 6 > i ? (r = e[n] << 6 - i, i += 26, n++) : (r <<= 6, i -= 6);
                for (; 3 & a.length && !t;) a += "=";
                return a
            },
            toBits: function(e, t) {
                e = e.replace(/\s|=/g, "");
                var n, a, i = [],
                    o = 0,
                    r = S.codec.base64.J,
                    s = 0;
                for (t && (r = r.substr(0, 62) + "-_"), n = 0; n < e.length; n++) 0 > (a = r.indexOf(e.charAt(n))) && q(new S.exception.invalid("this isn't base64!")), 26 < o ? (o -= 26, i.push(s ^ a >>> o), s = a << 32 - o) : s ^= a << 32 - (o += 6);
                return 56 & o && i.push(S.bitArray.partial(56 & o, s, 1)), i
            }
        }, S.codec.base64url = {
            fromBits: function(e) {
                return S.codec.base64.fromBits(e, 1, 1)
            },
            toBits: function(e) {
                return S.codec.base64.toBits(e, 1)
            }
        }, S.hash.sha256 = function(e) {
            this.b[0] || this.D(), e ? (this.r = e.r.slice(0), this.o = e.o.slice(0), this.h = e.h) : this.reset()
        }, S.hash.sha256.hash = function(e) {
            return (new S.hash.sha256).update(e).finalize()
        }, S.hash.sha256.prototype = {
            blockSize: 512,
            reset: function() {
                return this.r = this.N.slice(0), this.o = [], this.h = 0, this
            },
            update: function(e) {
                "string" == typeof e && (e = S.codec.utf8String.toBits(e));
                var t, n = this.o = S.bitArray.concat(this.o, e);
                for (t = this.h, e = this.h = t + S.bitArray.bitLength(e), t = 512 + t & -512; t <= e; t += 512) g(this, n.splice(0, 16));
                return this
            },
            finalize: function() {
                var e, t = this.o,
                    n = this.r;
                for (e = (t = S.bitArray.concat(t, [S.bitArray.partial(1, 1)])).length + 2; 15 & e; e++) t.push(0);
                for (t.push(Math.floor(this.h / 4294967296)), t.push(0 | this.h); t.length;) g(this, t.splice(0, 16));
                return this.reset(), n
            },
            N: [],
            b: [],
            D: function() {
                function f(e) {
                    return 4294967296 * (e - Math.floor(e)) | 0
                }
                var e, t = 0,
                    n = 2;
                e: for (; 64 > t; n++) {
                    for (e = 2; e * e <= n; e++)
                        if (0 == n % e) continue e;
                    8 > t && (this.N[t] = f(Math.pow(n, .5))), this.b[t] = f(Math.pow(n, 1 / 3)), t++
                }
            }
        }, S.mode.ccm = {
            name: "ccm",
            encrypt: function(e, t, n, a, i) {
                var o, r = t.slice(0),
                    s = S.bitArray,
                    l = s.bitLength(n) / 8,
                    c = s.bitLength(r) / 8;
                for (i = i || 64, a = a || [], 7 > l && q(new S.exception.invalid("ccm: iv must be at least 7 bytes")), o = 2; 4 > o && c >>> 8 * o; o++);
                return o < 15 - l && (o = 15 - l), n = s.clamp(n, 8 * (15 - o)), t = S.mode.ccm.L(e, t, n, a, i, o), r = S.mode.ccm.p(e, r, n, t, i, o), s.concat(r.data, r.tag)
            },
            decrypt: function(e, t, n, a, i) {
                i = i || 64, a = a || [];
                var o = S.bitArray,
                    r = o.bitLength(n) / 8,
                    s = o.bitLength(t),
                    l = o.clamp(t, s - i),
                    c = o.bitSlice(t, s - i);
                s = (s - i) / 8;
                for (7 > r && q(new S.exception.invalid("ccm: iv must be at least 7 bytes")), t = 2; 4 > t && s >>> 8 * t; t++);
                return t < 15 - r && (t = 15 - r), n = o.clamp(n, 8 * (15 - t)), l = S.mode.ccm.p(e, l, n, c, i, t), e = S.mode.ccm.L(e, l.data, n, a, i, t), o.equal(l.tag, e) || q(new S.exception.corrupt("ccm: tag doesn't match")), l.data
            },
            L: function(e, t, n, a, i, o) {
                var r = [],
                    s = S.bitArray,
                    l = s.l;
                if (((i /= 8) % 2 || 4 > i || 16 < i) && q(new S.exception.invalid("ccm: invalid tag length")), (4294967295 < a.length || 4294967295 < t.length) && q(new S.exception.bug("ccm: can't deal with 4GiB or more data")), o = [s.partial(8, (a.length ? 64 : 0) | i - 2 << 2 | o - 1)], (o = s.concat(o, n))[3] |= s.bitLength(t) / 8, o = e.encrypt(o), a.length)
                    for (65279 >= (n = s.bitLength(a) / 8) ? r = [s.partial(16, n)] : 4294967295 >= n && (r = s.concat([s.partial(16, 65534)], [n])), r = s.concat(r, a), a = 0; a < r.length; a += 4) o = e.encrypt(l(o, r.slice(a, a + 4).concat([0, 0, 0])));
                for (a = 0; a < t.length; a += 4) o = e.encrypt(l(o, t.slice(a, a + 4).concat([0, 0, 0])));
                return s.clamp(o, 8 * i)
            },
            p: function(e, t, n, a, i, o) {
                var r, s = S.bitArray;
                r = s.l;
                var l = t.length,
                    c = s.bitLength(t);
                if (n = s.concat([s.partial(8, o - 1)], n).concat([0, 0, 0]).slice(0, 4), a = s.bitSlice(r(a, e.encrypt(n)), 0, i), !l) return {
                    tag: a,
                    data: []
                };
                for (r = 0; r < l; r += 4) n[3]++, i = e.encrypt(n), t[r] ^= i[0], t[r + 1] ^= i[1], t[r + 2] ^= i[2], t[r + 3] ^= i[3];
                return {
                    tag: a,
                    data: s.clamp(t, c)
                }
            }
        }, S.mode.ocb2 = {
            name: "ocb2",
            encrypt: function(e, t, n, a, i, o) {
                128 !== S.bitArray.bitLength(n) && q(new S.exception.invalid("ocb iv must be 128 bits"));
                var r, s = S.mode.ocb2.H,
                    l = S.bitArray,
                    c = l.l,
                    u = [0, 0, 0, 0];
                n = s(e.encrypt(n));
                var d, p = [];
                for (a = a || [], i = i || 64, r = 0; r + 4 < t.length; r += 4) u = c(u, d = t.slice(r, r + 4)), p = p.concat(c(n, e.encrypt(c(n, d)))), n = s(n);
                return d = t.slice(r), t = l.bitLength(d), r = e.encrypt(c(n, [0, 0, 0, t])), d = l.clamp(c(d.concat([0, 0, 0]), r), t), u = c(u, c(d.concat([0, 0, 0]), r)), u = e.encrypt(c(u, c(n, s(n)))), a.length && (u = c(u, o ? a : S.mode.ocb2.pmac(e, a))), p.concat(l.concat(d, l.clamp(u, i)))
            },
            decrypt: function(e, t, n, a, i, o) {
                128 !== S.bitArray.bitLength(n) && q(new S.exception.invalid("ocb iv must be 128 bits")), i = i || 64;
                var r, s, l = S.mode.ocb2.H,
                    c = S.bitArray,
                    u = c.l,
                    d = [0, 0, 0, 0],
                    p = l(e.encrypt(n)),
                    h = S.bitArray.bitLength(t) - i,
                    m = [];
                for (a = a || [], n = 0; n + 4 < h / 32; n += 4) r = u(p, e.decrypt(u(p, t.slice(n, n + 4)))), d = u(d, r), m = m.concat(r), p = l(p);
                return s = h - 32 * n, r = e.encrypt(u(p, [0, 0, 0, s])), r = u(r, c.clamp(t.slice(n), s).concat([0, 0, 0])), d = u(d, r), d = e.encrypt(u(d, u(p, l(p)))), a.length && (d = u(d, o ? a : S.mode.ocb2.pmac(e, a))), c.equal(c.clamp(d, i), c.bitSlice(t, h)) || q(new S.exception.corrupt("ocb: tag doesn't match")), m.concat(c.clamp(r, s))
            },
            pmac: function(e, t) {
                var n, a = S.mode.ocb2.H,
                    i = S.bitArray,
                    o = i.l,
                    r = [0, 0, 0, 0],
                    s = o(s = e.encrypt([0, 0, 0, 0]), a(a(s)));
                for (n = 0; n + 4 < t.length; n += 4) s = a(s), r = o(r, e.encrypt(o(s, t.slice(n, n + 4))));
                return n = t.slice(n), 128 > i.bitLength(n) && (s = o(s, a(s)), n = i.concat(n, [-2147483648, 0, 0, 0])), r = o(r, n), e.encrypt(o(a(o(s, a(s))), r))
            },
            H: function(e) {
                return [e[0] << 1 ^ e[1] >>> 31, e[1] << 1 ^ e[2] >>> 31, e[2] << 1 ^ e[3] >>> 31, e[3] << 1 ^ 135 * (e[0] >>> 31)]
            }
        }, S.mode.gcm = {
            name: "gcm",
            encrypt: function(e, t, n, a, i) {
                var o = t.slice(0);
                return t = S.bitArray, a = a || [], e = S.mode.gcm.p(!0, e, o, a, n, i || 128), t.concat(e.data, e.tag)
            },
            decrypt: function(e, t, n, a, i) {
                var o = t.slice(0),
                    r = S.bitArray,
                    s = r.bitLength(o);
                return a = a || [], (i = i || 128) <= s ? (t = r.bitSlice(o, s - i), o = r.bitSlice(o, 0, s - i)) : (t = o, o = []), e = S.mode.gcm.p(k, e, o, a, n, i), r.equal(e.tag, t) || q(new S.exception.corrupt("gcm: tag doesn't match")), e.data
            },
            Z: function(e, t) {
                var n, a, i, o, r, s = S.bitArray.l;
                for (i = [0, 0, 0, 0], o = t.slice(0), n = 0; 128 > n; n++) {
                    for ((a = 0 != (e[Math.floor(n / 32)] & 1 << 31 - n % 32)) && (i = s(i, o)), r = 0 != (1 & o[3]), a = 3; 0 < a; a--) o[a] = o[a] >>> 1 | (1 & o[a - 1]) << 31;
                    o[0] >>>= 1, r && (o[0] ^= -520093696)
                }
                return i
            },
            g: function(e, t, n) {
                var a, i = n.length;
                for (t = t.slice(0), a = 0; a < i; a += 4) t[0] ^= 4294967295 & n[a], t[1] ^= 4294967295 & n[a + 1], t[2] ^= 4294967295 & n[a + 2], t[3] ^= 4294967295 & n[a + 3], t = S.mode.gcm.Z(t, e);
                return t
            },
            p: function(e, t, n, a, i, o) {
                var r, s, l, c, u, d, p, h, m = S.bitArray;
                for (d = n.length, p = m.bitLength(n), h = m.bitLength(a), s = m.bitLength(i), r = t.encrypt([0, 0, 0, 0]), 96 === s ? (i = i.slice(0), i = m.concat(i, [1])) : (i = S.mode.gcm.g(r, [0, 0, 0, 0], i), i = S.mode.gcm.g(r, i, [0, 0, Math.floor(s / 4294967296), 4294967295 & s])), s = S.mode.gcm.g(r, [0, 0, 0, 0], a), u = i.slice(0), a = s.slice(0), e || (a = S.mode.gcm.g(r, s, n)), c = 0; c < d; c += 4) u[3]++, l = t.encrypt(u), n[c] ^= l[0], n[c + 1] ^= l[1], n[c + 2] ^= l[2], n[c + 3] ^= l[3];
                return n = m.clamp(n, p), e && (a = S.mode.gcm.g(r, s, n)), e = [Math.floor(h / 4294967296), 4294967295 & h, Math.floor(p / 4294967296), 4294967295 & p], a = S.mode.gcm.g(r, a, e), l = t.encrypt(i), a[0] ^= l[0], a[1] ^= l[1], a[2] ^= l[2], a[3] ^= l[3], {
                    tag: m.bitSlice(a, 0, o),
                    data: n
                }
            }
        }, S.misc.hmac = function(e, t) {
            this.M = t = t || S.hash.sha256;
            var n, a = [
                    [],
                    []
                ],
                i = t.prototype.blockSize / 32;
            for (this.n = [new t, new t], e.length > i && (e = t.hash(e)), n = 0; n < i; n++) a[0][n] = 909522486 ^ e[n], a[1][n] = 1549556828 ^ e[n];
            this.n[0].update(a[0]), this.n[1].update(a[1]), this.G = new t(this.n[0])
        }, S.misc.hmac.prototype.encrypt = S.misc.hmac.prototype.mac = function(e) {
            return this.Q && q(new S.exception.invalid("encrypt on already updated hmac called!")), this.update(e), this.digest(e)
        }, S.misc.hmac.prototype.reset = function() {
            this.G = new this.M(this.n[0]), this.Q = k
        }, S.misc.hmac.prototype.update = function(e) {
            this.Q = !0, this.G.update(e)
        }, S.misc.hmac.prototype.digest = function() {
            var e = this.G.finalize();
            e = new this.M(this.n[1]).update(e).finalize();
            return this.reset(), e
        }, S.misc.pbkdf2 = function(e, t, n, a, i) {
            n = n || 1e3, (0 > a || 0 > n) && q(S.exception.invalid("invalid params to pbkdf2")), "string" == typeof e && (e = S.codec.utf8String.toBits(e)), "string" == typeof t && (t = S.codec.utf8String.toBits(t)), e = new(i = i || S.misc.hmac)(e);
            var o, r, s, l, c = [],
                u = S.bitArray;
            for (l = 1; 32 * c.length < (a || 1); l++) {
                for (i = o = e.encrypt(u.concat(t, [l])), r = 1; r < n; r++)
                    for (o = e.encrypt(o), s = 0; s < o.length; s++) i[s] ^= o[s];
                c = c.concat(i)
            }
            return a && (c = u.clamp(c, a)), c
        }, S.prng = function(e) {
            this.c = [new S.hash.sha256], this.i = [0], this.F = 0, this.s = {}, this.C = 0, this.K = {}, this.O = this.d = this.j = this.W = 0, this.b = [0, 0, 0, 0, 0, 0, 0, 0], this.f = [0, 0, 0, 0], this.A = O, this.B = e, this.q = k, this.w = {
                progress: {},
                seeded: {}
            }, this.m = this.V = 0, this.t = 1, this.u = 2, this.S = 65536, this.I = [0, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024], this.T = 3e4, this.R = 80
        }, S.prng.prototype = {
            randomWords: function(e, t) {
                var n, a, i = [];
                if ((n = this.isReady(t)) === this.m && q(new S.exception.notReady("generator isn't seeded")), n & this.u) {
                    n = !(n & this.t), a = [];
                    var o, r = 0;
                    for (this.O = a[0] = (new Date).valueOf() + this.T, o = 0; 16 > o; o++) a.push(4294967296 * Math.random() | 0);
                    for (o = 0; o < this.c.length && (a = a.concat(this.c[o].finalize()), r += this.i[o], this.i[o] = 0, n || !(this.F & 1 << o)); o++);
                    for (this.F >= 1 << this.c.length && (this.c.push(new S.hash.sha256), this.i.push(0)), this.d -= r, r > this.j && (this.j = r), this.F++, this.b = S.hash.sha256.hash(this.b.concat(a)), this.A = new S.cipher.aes(this.b), n = 0; 4 > n && (this.f[n] = this.f[n] + 1 | 0, !this.f[n]); n++);
                }
                for (n = 0; n < e; n += 4) 0 == (n + 1) % this.S && A(this), a = B(this), i.push(a[0], a[1], a[2], a[3]);
                return A(this), i.slice(0, e)
            },
            setDefaultParanoia: function(e, t) {
                0 === e && "Setting paranoia=0 will ruin your security; use it only for testing" !== t && q("Setting paranoia=0 will ruin your security; use it only for testing"), this.B = e
            },
            addEntropy: function(e, t, n) {
                n = n || "user";
                var a, i, o = (new Date).valueOf(),
                    r = this.s[n],
                    s = this.isReady(),
                    l = 0;
                switch ((a = this.K[n]) === O && (a = this.K[n] = this.W++), r === O && (r = this.s[n] = 0), this.s[n] = (this.s[n] + 1) % this.c.length, typeof e) {
                    case "number":
                        t === O && (t = 1), this.c[r].update([a, this.C++, 1, t, o, 1, 0 | e]);
                        break;
                    case "object":
                        if ("[object Uint32Array]" === (n = Object.prototype.toString.call(e))) {
                            for (i = [], n = 0; n < e.length; n++) i.push(e[n]);
                            e = i
                        } else
                            for ("[object Array]" !== n && (l = 1), n = 0; n < e.length && !l; n++) "number" != typeof e[n] && (l = 1);
                        if (!l) {
                            if (t === O)
                                for (n = t = 0; n < e.length; n++)
                                    for (i = e[n]; 0 < i;) t++, i >>>= 1;
                            this.c[r].update([a, this.C++, 2, t, o, e.length].concat(e))
                        }
                        break;
                    case "string":
                        t === O && (t = e.length), this.c[r].update([a, this.C++, 3, t, o, e.length]), this.c[r].update(e);
                        break;
                    default:
                        l = 1
                }
                l && q(new S.exception.bug("random: addEntropy only supports number, array of numbers or string")), this.i[r] += t, this.d += t, s === this.m && (this.isReady() !== this.m && C("seeded", Math.max(this.j, this.d)), C("progress", this.getProgress()))
            },
            isReady: function(e) {
                return e = this.I[e !== O ? e : this.B], this.j && this.j >= e ? this.i[0] > this.R && (new Date).valueOf() > this.O ? this.u | this.t : this.t : this.d >= e ? this.u | this.m : this.m
            },
            getProgress: function(e) {
                return e = this.I[e || this.B], this.j >= e ? 1 : this.d > e ? 1 : this.d / e
            },
            startCollectors: function() {
                this.q || (this.a = {
                    loadTimeCollector: D(this, this.aa),
                    mouseCollector: D(this, this.ba),
                    keyboardCollector: D(this, this.$),
                    accelerometerCollector: D(this, this.U)
                }, window.addEventListener ? (window.addEventListener("load", this.a.loadTimeCollector, k), window.addEventListener("mousemove", this.a.mouseCollector, k), window.addEventListener("keypress", this.a.keyboardCollector, k), window.addEventListener("devicemotion", this.a.accelerometerCollector, k)) : document.attachEvent ? (document.attachEvent("onload", this.a.loadTimeCollector), document.attachEvent("onmousemove", this.a.mouseCollector), document.attachEvent("keypress", this.a.keyboardCollector)) : q(new S.exception.bug("can't attach event")), this.q = !0)
            },
            stopCollectors: function() {
                this.q && (window.removeEventListener ? (window.removeEventListener("load", this.a.loadTimeCollector, k), window.removeEventListener("mousemove", this.a.mouseCollector, k), window.removeEventListener("keypress", this.a.keyboardCollector, k), window.removeEventListener("devicemotion", this.a.accelerometerCollector, k)) : document.detachEvent && (document.detachEvent("onload", this.a.loadTimeCollector), document.detachEvent("onmousemove", this.a.mouseCollector), document.detachEvent("keypress", this.a.keyboardCollector)), this.q = k)
            },
            addEventListener: function(e, t) {
                this.w[e][this.V++] = t
            },
            removeEventListener: function(e, t) {
                var n, a, i = this.w[e],
                    o = [];
                for (a in i) i.hasOwnProperty(a) && i[a] === t && o.push(a);
                for (n = 0; n < o.length; n++) delete i[a = o[n]]
            },
            $: function() {
                E(1)
            },
            ba: function(e) {
                var t, n;
                try {
                    t = e.x || e.clientX || e.offsetX || 0, n = e.y || e.clientY || e.offsetY || 0
                } catch (e) {
                    n = t = 0
                }
                0 != t && 0 != n && S.random.addEntropy([t, n], 2, "mouse"), E(0)
            },
            aa: function() {
                E(2)
            },
            U: function(e) {
                if (e = (e.accelerationIncludingGravity || {}).x || (e.accelerationIncludingGravity || {}).y || (e.accelerationIncludingGravity || {}).z, window.orientation) {
                    var t = window.orientation;
                    "number" == typeof t && S.random.addEntropy(t, 1, "accelerometer")
                }
                e && S.random.addEntropy(e, 2, "accelerometer"), E(0)
            }
        }, S.random = new S.prng(6);
        e: try {
            var x, P, M, T;
            if (T = void 0 !== e) {
                var j;
                if (j = e.exports) {
                    var L;
                    try {
                        L = require("crypto")
                    } catch (e) {
                        L = null
                    }
                    j = (P = L) && P.randomBytes
                }
                T = j
            }
            if (T) x = P.randomBytes(128), x = new Uint32Array(new Uint8Array(x).buffer), S.random.addEntropy(x, 1024, "crypto['randomBytes']");
            else if ("undefined" != typeof window && "undefined" != typeof Uint32Array) {
                if (M = new Uint32Array(32), window.crypto && window.crypto.getRandomValues) window.crypto.getRandomValues(M);
                else {
                    if (!window.msCrypto || !window.msCrypto.getRandomValues) break e;
                    window.msCrypto.getRandomValues(M)
                }
                S.random.addEntropy(M, 1024, "crypto['getRandomValues']")
            }
        } catch (e) {
            "undefined" != typeof window && window.console && (console.log("There was an error collecting entropy from the browser:"), console.log(e))
        }
        S.json = {
                defaults: {
                    v: 1,
                    iter: 1e3,
                    ks: 128,
                    ts: 64,
                    mode: "ccm",
                    adata: "",
                    cipher: "aes"
                },
                Y: function(e, t, n, a) {
                    n = n || {}, a = a || {};
                    var i, o = S.json,
                        r = o.e({
                            iv: S.random.randomWords(4, 0)
                        }, o.defaults);
                    return o.e(r, n), n = r.adata, "string" == typeof r.salt && (r.salt = S.codec.base64.toBits(r.salt)), "string" == typeof r.iv && (r.iv = S.codec.base64.toBits(r.iv)), (!S.mode[r.mode] || !S.cipher[r.cipher] || "string" == typeof e && 100 >= r.iter || 64 !== r.ts && 96 !== r.ts && 128 !== r.ts || 128 !== r.ks && 192 !== r.ks && 256 !== r.ks || 2 > r.iv.length || 4 < r.iv.length) && q(new S.exception.invalid("json encrypt: invalid parameters")), "string" == typeof e ? (e = (i = S.misc.cachedPbkdf2(e, r)).key.slice(0, r.ks / 32), r.salt = i.salt) : S.ecc && e instanceof S.ecc.elGamal.publicKey && (i = e.kem(), r.kemtag = i.tag, e = i.key.slice(0, r.ks / 32)), "string" == typeof t && (t = S.codec.utf8String.toBits(t)), "string" == typeof n && (n = S.codec.utf8String.toBits(n)), i = new S.cipher[r.cipher](e), o.e(a, r), a.key = e, r.ct = S.mode[r.mode].encrypt(i, t, r.iv, n, r.ts), r
                },
                encrypt: function(e, t, n, a) {
                    var i = S.json,
                        o = i.Y.apply(i, arguments);
                    return i.encode(o)
                },
                X: function(e, t, n, a) {
                    n = n || {}, a = a || {};
                    var i, o, r = S.json;
                    return i = (t = r.e(r.e(r.e({}, r.defaults), t), n, !0)).adata, "string" == typeof t.salt && (t.salt = S.codec.base64.toBits(t.salt)), "string" == typeof t.iv && (t.iv = S.codec.base64.toBits(t.iv)), (!S.mode[t.mode] || !S.cipher[t.cipher] || "string" == typeof e && 100 >= t.iter || 64 !== t.ts && 96 !== t.ts && 128 !== t.ts || 128 !== t.ks && 192 !== t.ks && 256 !== t.ks || !t.iv || 2 > t.iv.length || 4 < t.iv.length) && q(new S.exception.invalid("json decrypt: invalid parameters")), "string" == typeof e ? (e = (o = S.misc.cachedPbkdf2(e, t)).key.slice(0, t.ks / 32), t.salt = o.salt) : S.ecc && e instanceof S.ecc.elGamal.secretKey && (e = e.unkem(S.codec.base64.toBits(t.kemtag)).slice(0, t.ks / 32)), "string" == typeof i && (i = S.codec.utf8String.toBits(i)), o = new S.cipher[t.cipher](e), i = S.mode[t.mode].decrypt(o, t.ct, t.iv, i, t.ts), r.e(a, t), a.key = e, 1 === n.raw ? i : S.codec.utf8String.fromBits(i)
                },
                decrypt: function(e, t, n, a) {
                    var i = S.json;
                    return i.X(e, i.decode(t), n, a)
                },
                encode: function(e) {
                    var t, n = "{",
                        a = "";
                    for (t in e)
                        if (e.hasOwnProperty(t)) switch (t.match(/^[a-z0-9]+$/i) || q(new S.exception.invalid("json encode: invalid property name")), n += a + '"' + t + '":', a = ",", typeof e[t]) {
                            case "number":
                            case "boolean":
                                n += e[t];
                                break;
                            case "string":
                                n += '"' + escape(e[t]) + '"';
                                break;
                            case "object":
                                n += '"' + S.codec.base64.fromBits(e[t], 0) + '"';
                                break;
                            default:
                                q(new S.exception.bug("json encode: unsupported type"))
                        }
                    return n + "}"
                },
                decode: function(e) {
                    (e = e.replace(/\s/g, "")).match(/^\{.*\}$/) || q(new S.exception.invalid("json decode: this isn't json!")), e = e.replace(/^\{|\}$/g, "").split(/,/);
                    var t, n, a = {};
                    for (t = 0; t < e.length; t++)(n = e[t].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)) || q(new S.exception.invalid("json decode: this isn't json!")), a[n[2]] = n[3] ? parseInt(n[3], 10) : n[2].match(/^(ct|salt|iv)$/) ? S.codec.base64.toBits(n[4]) : unescape(n[4]);
                    return a
                },
                e: function(e, t, n) {
                    if (e === O && (e = {}), t === O) return e;
                    for (var a in t) t.hasOwnProperty(a) && (n && e[a] !== O && e[a] !== t[a] && q(new S.exception.invalid("required parameter overridden")), e[a] = t[a]);
                    return e
                },
                ea: function(e, t) {
                    var n, a = {};
                    for (n in e) e.hasOwnProperty(n) && e[n] !== t[n] && (a[n] = e[n]);
                    return a
                },
                da: function(e, t) {
                    var n, a = {};
                    for (n = 0; n < t.length; n++) e[t[n]] !== O && (a[t[n]] = e[t[n]]);
                    return a
                }
            }, S.encrypt = S.json.encrypt, S.decrypt = S.json.decrypt, S.misc.ca = {}, S.misc.cachedPbkdf2 = function(e, t) {
                var n, a = S.misc.ca;
                return n = (t = t || {}).iter || 1e3, (n = (a = a[e] = a[e] || {})[n] = a[n] || {
                    firstSalt: t.salt && t.salt.length ? t.salt.slice(0) : S.random.randomWords(2, 0)
                })[a = t.salt === O ? n.firstSalt : t.salt] = n[a] || S.misc.pbkdf2(e, a, t.iter), {
                    key: n[a].slice(0),
                    salt: a.slice(0)
                }
            }, (_ = (v = S).codec.bytes = v.codec.bytes || {}).fromBits = _.fromBits || function(e) {
                var t, n, a = [],
                    i = v.bitArray.bitLength(e);
                for (t = 0; t < i / 8; t++) 0 == (3 & t) && (n = e[t / 4]), a.push(n >>> 24), n <<= 8;
                return a
            }, _.toBits = _.toBits || function(e) {
                var t, n = [],
                    a = 0;
                for (t = 0; t < e.length; t++) a = a << 8 | e[t], 3 == (3 & t) && (n.push(a), a = 0);
                return 3 & t && n.push(v.bitArray.partial(8 * (3 & t), a)), n
            },
            function() {
                var e, t = (new Date).getTime();

                function c(e, t, n, a) {
                    if ("function" == typeof e.addEventListener) e.addEventListener(t, n, a);
                    else {
                        if (!e.attachEvent) throw new Error(I.errors.UNABLETOBIND + ": Unable to bind " + t + "-event");
                        e.attachEvent("on" + t, n)
                    }
                }
                w = w || (e = {}, function(n, a, i) {
                    if ("bind" === n) return w(i + "Bind"), c(a, "change", function(e) {
                        w(i + "FieldChangeCount"), w("log", i, "ch");
                        try {
                            w("set", i + "FieldEvHa", function b(e) {
                                var t = function() {
                                    return {}
                                };
                                window.jQuery && "function" == typeof window.jQuery._data && (t = function(e) {
                                    return window.jQuery._data(e, "events")
                                });
                                for (var n = e, a = 0, i = [], o = ["onmousedown", "onmouseup", "onmouseover", "onmouseout", "onclick", "onmousemove", "ondblclick", "onerror", "onresize", "onscroll", "onkeydown", "onkeyup", "onkeypress", "onchange", "onsubmit"], r = o.length; n && n !== n.documentElement;) {
                                    for (var s, l = r, c = (n.nodeName || n.tagName || "").toUpperCase().substring(0, 3); l--;) d = o[l], n[name] && (a++, i[d = d + (n === e ? "Own" : "Par") + c] = i[d] || 0, i[d]++);
                                    var u = t(n);
                                    if ("object" == typeof u)
                                        for (var d in u) u.hasOwnProperty(d) && (s = u[d].length, i[d = d + (n === e ? "Own" : "Par") + c] = i[d] || 0, i[d] += s, a += s);
                                    if (!n.parentNode) break;
                                    n = n.parentNode
                                }
                                var p = ["total=" + a];
                                for (var h in i) i.hasOwnProperty(h) && i[h] > 0 && p.push(h + "=" + i[h]);
                                return p.join("&")
                            }(a))
                        } catch (e) {
                            w("set", i + "FieldEvHa", "Err")
                        }
                    }, !0), c(a, "click", function() {
                        w(i + "FieldClickCount"), w("log", i, "cl")
                    }, !0), c(a, "focus", function() {
                        w(i + "FieldFocusCount"), w("log", i, "fo")
                    }, !0), c(a, "blur", function() {
                        w(i + "FieldBlurCount"), w("log", i, "bl")
                    }, !0), c(a, "touchstart", function() {
                        w(i + "FieldTouchStartCount"), w("log", i, "Ts")
                    }, !0), c(a, "touchend", function() {
                        w(i + "FieldTouchEndCount"), w("log", i, "Te")
                    }, !0), c(a, "touchcancel", function() {
                        w(i + "FieldTouchCancelCount"), w("log", i, "Tc")
                    }, !0), c(a, "keyup", function(e) {
                        16 == e.keyCode ? w("log", i, "Su") : 17 == e.keyCode ? w("log", i, "Cu") : 18 == e.keyCode && w("log", i, "Au")
                    }), void c(a, "keydown", function(e) {
                        switch (w(i + "FieldKeyCount"), e && e.keyCode) {
                            case 8:
                                w("log", i, "Kb");
                                break;
                            case 16:
                                w("log", i, "Sd");
                                break;
                            case 17:
                                w("log", i, "Cd");
                                break;
                            case 18:
                                w("log", i, "Ad");
                                break;
                            case 37:
                                w("log", i, "Kl");
                                break;
                            case 39:
                                w("log", i, "Kr");
                                break;
                            case 46:
                                w("log", i, "Kd");
                                break;
                            case 32:
                                w("log", i, "Ks");
                                break;
                            default:
                                e.keyCode >= 48 && e.keyCode <= 57 || e.keyCode >= 96 && e.keyCode <= 105 ? w("log", i, "KN") : e.keyCode >= 65 && e.keyCode <= 90 ? w("log", i, "KL") : (w("log", i, "KU"), w("log", i + "UnkKeys", e.keyCode))
                        }
                    }, !0);
                    if ("set" !== n) {
                        if ("log" === n) {
                            var o = a + "FieldLog",
                                r = (new Date).getTime() - t;
                            return r = Math.round(r / 100), e.hasOwnProperty(o) ? e[o] += "," + i + "@" + r : e[o] = i + "@" + r, void(e[o].length > 1500 && (e[o] = e[o].substring(e[o].length - 1500), e[o] = e[o].substring(e[o].indexOf(",") + 1)))
                        }
                        if ("extend" !== n) e.hasOwnProperty(n) ? e[n]++ : e[n] = 1;
                        else
                            for (var s in e) "number" !== s && "expiryMonth" !== s && "expiryYear" !== s && "generationtime" !== s && "holderName" !== s && "cvc" !== s && e.hasOwnProperty(s) && (a[s] = "" + e[s])
                    } else e[a] = i
                }), window && (window.attachEvent || window.addEventListener) && (c(window, "focus", function() {
                    w("activate"), window.location && "string" == typeof window.location.href && w("set", "referrer", window.location.href)
                }), c(window, "blur", function() {
                    w("deactivate")
                }))
            }();
        var N = t.adyen = t.adyen || {},
            I = N.encrypt = N.encrypt || {
                createEncryption: function(e, t) {
                    return new F(e, t)
                }
            };
        "function" == typeof n && n.amd ? n("adyen/encrypt", [], function() {
            return I
        }) : void 0 !== e && e.exports && (e.exports = I), I.errors = I.errors || {}, I.version = "0_1_20_1";
        var $, R = {};
        R.luhnCheck = ($ = {}, function() {
            var e = arguments,
                t = arguments.length > 0 ? e[0] : this.cardnumber;
            if (isNaN(parseInt(t, 10))) return !1;
            var n = t.length,
                a = 1 & n,
                i = 0;
            if (void 0 === $[t]) {
                n >= 14 && w("luhnCount");
                for (var o = 0; o < n; o++) {
                    var r = parseInt(t.charAt(o), 10);
                    1 & o ^ a || (r *= 2) > 9 && (r -= 9), i += r
                }
                i % 10 == 0 ? (w("luhnOkCount"), $[t] = !0) : (w("luhnFailCount"), $[t] = !1)
            }
            var s = 0;
            for (var l in $) $.hasOwnProperty(l) && l.length === n && s++;
            return w("set", "luhnSameLengthCount", s), $[t]
        }), R.numberCheck = function(e) {
            return !(!(e || "").replace(/[^\d]/g, "").match(/^\d{10,20}$/) || !R.luhnCheck(e))
        }, R.cvcCheck = function(e) {
            return !!(e && e.match && e.match(/^\d{3,4}$/))
        }, R.yearCheck = function(e) {
            if (!e || !e.match || !e.match(/^2\d{3}$/)) return !1;
            var t = parseInt(e, 10),
                n = (new Date).getFullYear();
            return t >= n - 2 && t <= n + 15
        }, R.monthCheck = function(e) {
            var t = (e || "").replace(/^0(\d)$/, "$1");
            return !!(t.match(/^([1-9]|10|11|12)$/) && parseInt(t, 10) >= 1 && parseInt(t, 10) <= 12)
        }, R.holderNameCheck = function(e) {
            return !!(e && e.match && e.match(/\S/))
        }, R.generationTimeValidDate = function(e) {
            if ("string" != typeof e) return !1;
            var t = e.match(/^(\d{4})-?(\d{2})-?(\d{2})$/);
            return !!(t && ("" + t[1]).match(/^20[1-9][0-9]$/) && ("" + t[2]).match(/^(12|11|10|0[1-9])$/) && ("" + t[3]).match(/^(31|30|20|10|[012][1-9])$/))
        }, R.generationTimeValidTime = function(e) {
            if ("string" != typeof e) return !1;
            var t = /(Z|[\+\-][012345][0-9]:?[012345][0-9])$/;
            return !!e.match(t) && e.replace(t, "").replace(/\.\d{3}$/, "").match(/^[012345][0-9]:?[012345][0-9]:?[012345][0-9]$/)
        }, R.generationTimeCheck = function(e) {
            if ("string" != typeof e) return !1;
            var t = e.split("T");
            return !(2 !== t.length || !R.generationTimeValidDate(t[0]) || !R.generationTimeValidTime(t[1]))
        };
        var F = function(e, t) {
            try {
                S.random.startCollectors()
            } catch (e) {}
            if (this.key = e, this.options = t || {}, void 0 === this.options.numberIgnoreNonNumeric && (this.options.numberIgnoreNonNumeric = !0), void 0 !== this.options.cvcIgnoreFornumber && delete this.options.cvcIgnoreFornumber, void 0 === this.options.fourDigitCvcForBins && (this.options.fourDigitCvcForBins = "34,37"), void 0 !== this.options.cvcLengthFornumber && delete this.options.cvcLengthFornumber, "string" == typeof this.options.cvcIgnoreBins) {
                var n = [];
                this.options.cvcIgnoreBins.replace(/\d+/g, function(e) {
                    return e.length > 0 && !isNaN(parseInt(e, 10)) && n.push(e), e
                }), n.length > 0 && (this.options.cvcIgnoreFornumber = new RegExp("^\\s*(" + n.join("|") + ")"))
            } else void 0 !== this.options.cvcIgnoreBins && delete this.options.cvcIgnoreBins;
            if ("string" == typeof this.options.fourDigitCvcForBins) {
                var a = [];
                this.options.fourDigitCvcForBins.replace(/\d+/g, function(e) {
                    return e.length > 0 && !isNaN(parseInt(e, 10)) && a.push(e), e
                }), a.length > 0 && (this.options.cvcLengthFornumber = {
                    matcher: new RegExp("^\\s*(" + a.join("|") + ")"),
                    requiredLength: 4
                })
            }
            delete this.options.fourDigitCvcForBins, w("initializeCount")
        };
        F.prototype.createRSAKey = function() {
            var e = this.key.split("|");
            if (2 !== e.length) throw "Malformed public key";
            var t = e[0],
                n = e[1],
                a = new RSAKey;
            return a.setPublic(n, t), a
        }, F.prototype.createAESKey = function() {
            return new z
        }, F.prototype.encrypt = function(e) {
            var t = {};
            for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
            var a, i, o, r, s, l = {};
            if (void 0 !== t.number && (l.number = t.number), void 0 !== t.cvc && (l.cvc = t.cvc), void 0 !== t.expiryMonth && (l.month = t.expiryMonth), void 0 !== t.expiryYear && (l.year = t.expiryYear), void 0 !== t.holderName && (l.holderName = t.holderName), void 0 !== t.generationtime && (l.generationtime = t.generationtime), !1 !== this.options.enableValidations && !1 === this.validate(l).valid) return !1;
            for (var c = 0; c < 11 && (S.random && S.random.isReady(c)); c++) w("set", "sjclStrength", c);
            w("extend", t);
            try {
                t.dfValue = ""
            } catch (e) {}
            return a = this.createRSAKey(), o = (i = this.createAESKey()).encrypt(JSON.stringify(t)), r = S.codec.bytes.fromBits(i.key()), s = a.encrypt_b64(r), ["adyenjs_" + I.version + "$", s, "$", o].join("")
        }, F.prototype.validate = function(e) {
            var t = {
                valid: !0
            };
            if ("object" != typeof e) return t.valid = !1, t;
            for (var n in e)
                if (e.hasOwnProperty(n) && void 0 !== e[n]) {
                    var a = e[n];
                    if (this.options[n + "IgnoreNonNumeric"] && (a = a.replace(/\D/g, "")), !this.options[n + "SkipValidation"]) {
                        for (var i in e)
                            if (e.hasOwnProperty(i)) {
                                var o = this.options[n + "IgnoreFor" + i],
                                    r = this.options[n + "LengthFor" + i];
                                if (o && e[i].match(o)) {
                                    t[n] = !0;
                                    continue
                                }
                                if (r && r.matcher && r.requiredLength && e[i].match(r.matcher) && a.length !== r.requiredLength) {
                                    t[n] = !1;
                                    continue
                                }
                            }
                        if (t.hasOwnProperty(n)) t.valid = t.valid && t[n];
                        else switch (n) {
                            case "number":
                                t.number = R.numberCheck(a), t.luhn = t.number, t.valid = t.valid && t.number;
                                break;
                            case "expiryYear":
                            case "year":
                                t.year = R.yearCheck(a), t.expiryYear = t.year, t.valid = t.valid && t.year;
                                break;
                            case "cvc":
                                t.cvc = R.cvcCheck(a), t.valid = t.valid && t.cvc;
                                break;
                            case "expiryMonth":
                            case "month":
                                t.month = R.monthCheck(a), t.expiryMonth = t.month, t.valid = t.valid && t.month;
                                break;
                            case "holderName":
                                t.holderName = R.holderNameCheck(a), t.valid = t.valid && t.holderName;
                                break;
                            case "generationtime":
                                t.generationtime = R.generationTimeCheck(a), t.valid = t.valid && t.generationtime;
                                break;
                            default:
                                t.unknown = t.unknown || [], t.unknown.push(n), t.valid = !1
                        }
                    }
                }
            return t
        }, F.prototype.monitor = function(e, t) {
            if ("string" != typeof e || "number" !== e && "cvc" !== e && "holderName" !== e) throw new Error("invalid fieldname. Expected 'number', 'cvc' or 'holderName', but received '" + e + "'");
            w("bind", t, e)
        };
        var z = function() {};
        z.prototype = {
            constructor: z,
            key: function() {
                return this._key = this._key || S.random.randomWords(8, 6), this._key
            },
            encrypt: function(e) {
                return this.encryptWithIv(e, S.random.randomWords(3, 6))
            },
            encryptWithIv: function(e, t) {
                var n, a, i, o;
                return n = new S.cipher.aes(this.key()), a = S.codec.utf8String.toBits(e), i = S.mode.ccm.encrypt(n, a, t), o = S.bitArray.concat(t, i), S.codec.base64.fromBits(o)
            }
        }
    }(this, "function" == typeof define ? define : null)
}, function(e, t, n) {
    "use strict";
    var a = n(17),
        i = n(13),
        o = n(150),
        r = n(11),
        s = n(7),
        l = n(0),
        c = function prepAlertMessage(e) {
            return e.data && e.data.message || i.b.badRequest
        },
        u = {
            init: function init(e) {
                var t = e.dispatch;
                e.state.isLoggedIn && (t("getFriends"), t("getOpponents"), t("getAdditionaUserInfoFromDb"))
            },
            getFriends: function getFriends(e) {
                var t = e.commit,
                    n = e.dispatch,
                    a = e.state;
                return t("setLoading", !0), r.default.get(s.a.generate("web_friend_callback_friends_search", {
                    user: a.id,
                    avatarSize: 50
                })).then(function(e) {
                    t("setLoading", !1), t("setFriends", e.data.friends)
                }).catch(function() {
                    t("setLoading", !1), n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            getOpponents: function getOpponents(e) {
                var t = e.commit,
                    n = e.dispatch;
                return t("setLoading", !0), r.default.get(s.a.generate("web_user_callback_recent_opponents")).then(function(e) {
                    t("setLoading", !1), t("setOpponents", e.data)
                }).catch(function() {
                    t("setLoading", !1), n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            getFollowSuggestions: function getFollowSuggestions(e) {
                var t = e.commit,
                    n = e.dispatch;
                return r.default.get(s.a.generate("web_user_callback_follow_suggestions")).then(function(e) {
                    if (e.data.users && e.data.users.length > 0) {
                        t("setFollowSuggestions", e.data.users);
                        var n = l.a.trans("Consider following...");
                        e.data.notYetFollowing && (n = l.a.trans("You are not currently following anyone. Here are a few suggestions...")), t("setFollowMessage", n)
                    } else t("setFollowMessage", null)
                }).catch(function() {
                    return n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            acceptFollowSuggestion: function acceptFollowSuggestion(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                n("removeFollowSuggestedUser", t), a("trackUser", t)
            },
            dismissFollowSuggestion: function dismissFollowSuggestion(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), n("removeFollowSuggestedUser", t), r.default.post(s.a.generate("web_user_callback_dismiss_follow_suggestion", {
                    username: t
                })).then(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            getAvatar: function getAvatar(e, t) {
                var n = e.commit;
                if (!e.state.avatarUrl) return r.default.get(s.a.generate("pubapi_player_profile", {
                    username: t
                })).then(function(e) {
                    n("setAvatarUrl", e.data.avatar)
                })
            },
            addFriend: function addFriend(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    l = e.state,
                    u = t.username ? t.username : t,
                    d = t.dispatchCallback ? t.dispatchCallback : "getFriends";
                if (!l.loadingUser[u]) return n("setLoadingUser", {
                    username: u,
                    loading: !0
                }), n("setLoading", !0), o.a.logEvent("Social - AddFriend"), r.default.post(s.a.generate("web_friend_request_callback", {
                    friend: u
                })).then(function(e) {
                    n("setLoadingUser", {
                        username: u,
                        loading: !1
                    }), n("setLoading", !1), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).then(function() {
                    d.includes("/") ? a(d, null, {
                        root: !0
                    }) : a(d)
                }).catch(function(e) {
                    n("setLoadingUser", {
                        username: u,
                        loading: !1
                    }), n("setLoading", !1), a("alerts/create", {
                        type: i.g.error,
                        message: e.response.data.message
                    }, {
                        root: !0
                    })
                })
            },
            deleteFriend: function deleteFriend(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    o = e.state,
                    l = t.username ? t.username : t,
                    u = t.dispatchCallback ? t.dispatchCallback : "getFriends";
                if (!o.loadingUser[l]) return n("setLoadingUser", {
                    username: l,
                    loading: !0
                }), n("setLoading", !0), r.default.delete(s.a.generate("web_friend_delete_callback", {
                    friend: l
                })).then(function(e) {
                    n("setLoadingUser", {
                        username: l,
                        loading: !1
                    }), n("setLoading", !1), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).then(function() {
                    u.includes("/") ? a(u, null, {
                        root: !0
                    }) : a(u)
                }).catch(function() {
                    n("setLoadingUser", {
                        username: l,
                        loading: !1
                    }), n("setLoading", !1), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            approveFriendRequest: function approveFriendRequest(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    o = e.state,
                    l = t.username ? t.username : t,
                    u = t.dispatchCallback ? t.dispatchCallback : "getFriends";
                if (!o.loadingUser[l]) return n("setLoadingUser", {
                    username: l,
                    loading: !0
                }), r.default.put(s.a.generate("web_friend_accept_request_callback", {
                    requestor: l
                })).then(function(e) {
                    n("setLoadingUser", {
                        username: l,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).then(function() {
                    u.includes("/") ? a(u, null, {
                        root: !0
                    }) : a(u)
                }).catch(function() {
                    n("setLoadingUser", {
                        username: l,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            blockUser: function blockUser(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.post(s.a.generate("web_member_callback_block_member", {
                    username: t
                }), {
                    _token: window.context.csrf.token
                }).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            unblockUser: function unblockUser(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.post(s.a.generate("web_member_callback_unblock_member", {
                    username: t
                }), {
                    _token: window.context.csrf.token
                }).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            trackUser: function trackUser(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.post(s.a.generate("web_member_callback_track_member", {
                    username: t
                }), {
                    _token: window.context.csrf.token
                }).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            untrackUser: function untrackUser(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.post(s.a.generate("web_member_callback_untrack_member", {
                    username: t
                }), {
                    _token: window.context.csrf.token
                }).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            saveBoardSettings: function saveBoardSettings(e, t) {
                var n = e.dispatch,
                    a = {
                        pieceCode: t.pieceStyle,
                        boardCode: t.boardStyle,
                        animationCode: window.animationType,
                        _token: window.context.csrf.token
                    };
                return r.default.put(s.a.generate("web_user_callback_board_settings", a)).then(function(e) {
                    n("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    return n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            setArchiveView: function setArchiveView(e, t) {
                var n = e.commit,
                    i = e.state;
                if (Object(a.i)(t)) return i.archiveView !== t ? (n("setArchiveView", t), r.default.post(s.a.generate("web_user_callback_set_archive_view"), {
                    archiveView: t
                })) : void 0
            },
            setFairPlayAgree: function setFairPlayAgree(e) {
                return (0, e.commit)("setFairPlayAgree", !0), r.default.post(s.a.generate("web_user_callback_set_fair_play_agree", {
                    fairPlayAgree: 1
                }))
            },
            setHomeContentType: function setHomeContentType(e, t) {
                var n = e.commit;
                if (Object(a.j)(t)) return n("setHomeContentType", t), r.default.post(s.a.generate("web_user_callback_set_home_recent_content_type"), {
                    recentContentType: t
                })
            },
            setShowAlertsOnHome: function setShowAlertsOnHome(e, t) {
                return (0, e.commit)("setShowAlertsOnHome", t), r.default.post(s.a.generate("web_user_callback_set_show_alerts_on_home"), {
                    showAlertsOnHome: t
                })
            },
            setIsThreeD: function setIsThreeD(e, t) {
                (0, e.commit)("setIsThreeD", t)
            },
            setOnboarding: function setOnboarding(e, t) {
                var n = e.dispatch;
                return r.default.post(s.a.generate("web_user_callback_set_onboarding"), t).catch(function() {
                    return n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            cancelFriendRequest: function cancelFriendRequest(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.post(s.a.generate("web_friend_cancel_request_callback", {
                    receiver: t
                })).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            declineFriendRequest: function declineFriendRequest(e, t) {
                var n = e.commit,
                    a = e.dispatch;
                if (!e.state.loadingUser[t]) return n("setLoadingUser", {
                    username: t,
                    loading: !0
                }), r.default.delete(s.a.generate("web_friend_decline_request_callback", {
                    requestor: t
                })).then(function(e) {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.success,
                        message: c(e)
                    }, {
                        root: !0
                    })
                }).catch(function() {
                    n("setLoadingUser", {
                        username: t,
                        loading: !1
                    }), a("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            refreshUserRoles: function refreshUserRoles(e) {
                var t = e.commit;
                if (e.state.isLoggedIn) return r.default.get(s.a.generate("web_security_callback_user_roles")).then(function(e) {
                    t("setRoles", e.data)
                })
            },
            checkValidUsername: function checkValidUsername(e, t) {
                var n = e.dispatch;
                return r.default.get(s.a.generate("web_user_callback_valid_username", {
                    username: t
                })).then(function(e) {
                    return e.data
                }).catch(function() {
                    return n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            },
            getAdditionaUserInfoFromDb: function getAdditionaUserInfoFromDb(e) {
                var t = e.commit,
                    n = e.dispatch,
                    a = e.state;
                if ("" !== a.username && null !== a.username && null === a.flag) return r.default.get(s.a.generate("web_user_callback_popup", {
                    username: a.username
                })).then(function(e) {
                    t("setAdditionalInfo", {
                        flag: e.data.countryId,
                        country: e.data.countryName,
                        membership: e.data.membership.code,
                        rating: e.data.bestRating
                    })
                }).catch(function() {
                    return n("alerts/create", {
                        type: i.g.error,
                        message: i.b.badRequest
                    }, {
                        root: !0
                    })
                })
            }
        },
        d = n(283),
        p = n(282),
        h = Object(p.a)({
            friends: [],
            opponents: [],
            loading: {
                friends: !1,
                opponents: !1
            },
            boardSettings: {},
            roles: [],
            isLoggedIn: !1,
            username: "",
            country: null,
            flag: null,
            rating: null,
            membership: null
        }, d.a.user),
        m = {
            chessTitle: a.a("chessTitle") || "",
            cohort: a.c("cohort"),
            flairCode: a.c("flairCode"),
            friends: h.friends,
            roles: h.roles,
            findFriendByUserId: function findFriendByUserId(e) {
                return h.friends.find(function(t) {
                    return t.user_id === e
                })
            },
            opponents: h.opponents,
            boardSettings: h.boardSettings,
            loading: !1,
            loadingUser: {},
            eligibleFirstTrial: a.b(),
            isActivated: a.a("isActivated"),
            isLoggedIn: a.h(),
            isEnabled: a.f("isEnabled"),
            isImpersonating: a.g(),
            isStaff: a.a("isStaff"),
            isStaffOnly: a.a("isStaffOnly"),
            isModerator: a.a("isModerator"),
            isModeratorOnly: a.a("isModeratorOnly"),
            isDiamond: a.a("isDiamond"),
            isDiamondOnly: a.a("isDiamondOnly"),
            isPlatinum: a.a("isPlatinum"),
            isPlatinumOnly: a.a("isPlatinumOnly"),
            isSilver: a.a("isSilver"),
            isSilverOnly: a.a("isSilverOnly"),
            isGold: a.a("isGold"),
            isGoldOnly: a.a("isGoldOnly"),
            isPremium: a.a("isPremium"),
            isUserTwitchSub: a.c("isUserTwitchSub"),
            isPartOfCohort: function isPartOfCohort(e) {
                return a.c("cohort") === e
            },
            isBasic: a.a("isBasic"),
            id: a.c("getUserId"),
            language: a.c("language"),
            contentLanguage: a.c("contentLanguage"),
            username: a.c("getUsername"),
            avatarUrl: a.c("getAvatarUrl"),
            settingsAvatarUrl: a.c("getSettingsAvatarUrl"),
            avatarLargeUrl: a.c("getAvatarLargeUrl"),
            lastLoginDate: a.c("getLastLoginDate"),
            registerDate: a.c("registerDate"),
            timezone: a.c("getTimezone"),
            diagramSettings: a.c("getDiagramSettings"),
            speaksEnglish: a.c("speaksEnglish"),
            isThreeD: !1,
            showAlertsOnHome: a.c("showAlertsOnHome"),
            archiveView: a.c("getArchiveView"),
            homeContentType: a.c("homeContentType"),
            membershipLevel: a.c("getMembershipLevel"),
            isContentHidden: a.c("isContentHidden"),
            fairPlayAgree: a.c("fairPlayAgree"),
            features: a.d(),
            followSuggestions: [],
            followMessage: "",
            country: h.country,
            flag: h.flag,
            rating: h.rating,
            membership: h.membership,
            safeMode: a.c("safeMode"),
            uuid: a.c("uuid")
        };
    t.a = {
        namespaced: !0,
        mutations: {
            setLoading: function setLoading(e, t) {
                e.loading = t
            },
            setLoadingUser: function setLoadingUser(e, t) {
                e.loadingUser[t.username] = t.loading
            },
            setLoadingFriends: function setLoadingFriends(e, t) {
                e.loading.friends = t
            },
            setFriends: function setFriends(e, t) {
                e.friends = t
            },
            setLoadingOpponents: function setLoadingOpponents(e, t) {
                e.loading.opponents = t
            },
            setOpponents: function setOpponents(e, t) {
                e.opponents = t
            },
            setAvatarUrl: function setAvatarUrl(e, t) {
                e.avatarUrl = t
            },
            setSettingsAvatarUrl: function setSettingsAvatarUrl(e, t) {
                e.settingsAvatarUrl = t
            },
            setArchiveView: function setArchiveView(e, t) {
                e.archiveView = t
            },
            setFairPlayAgree: function setFairPlayAgree(e, t) {
                e.fairPlayAgree = t
            },
            setHomeContentType: function setHomeContentType(e, t) {
                e.homeContentType = t
            },
            setShowAlertsOnHome: function setShowAlertsOnHome(e, t) {
                e.showAlertsOnHome = t
            },
            setIsThreeD: function setIsThreeD(e, t) {
                e.isThreeD = t
            },
            setFollowSuggestions: function setFollowSuggestions(e, t) {
                e.followSuggestions = t
            },
            removeFollowSuggestedUser: function removeFollowSuggestedUser(e, t) {
                var n = e.followSuggestions,
                    a = n.findIndex(function(e) {
                        return e.username === t
                    }); - 1 !== a && (n.splice(a, 1), e.followSuggestions = n)
            },
            setFollowMessage: function setFollowMessage(e, t) {
                e.followMessage = t
            },
            setRoles: function setRoles(e, t) {
                e.roles = t
            },
            setAdditionalInfo: function setAdditionalInfo(e, t) {
                e.flag = t.flag, e.country = t.country, e.membership = t.membership, e.rating = t.rating
            },
            setLoggedIn: function setLoggedIn(e, t) {
                e.isLoggedIn = t
            },
            setUsername: function setUsername(e, t) {
                e.username = t
            },
            setMembershipLevel: function setMembershipLevel(e, t) {
                e.membershipLevel = t
            }
        },
        actions: u,
        state: m,
        getters: {
            chessTitle: function chessTitle(e) {
                return e.chessTitle
            },
            isActivated: function isActivated(e) {
                return e.isActivated
            },
            id: function id(e) {
                return e.id
            },
            isImpersonating: function isImpersonating(e) {
                return e.isImpersonating
            },
            isLoggedIn: function isLoggedIn(e) {
                return e.isLoggedIn
            },
            username: function username(e) {
                return e.username
            },
            roles: function roles(e) {
                return e.roles
            },
            isPremium: function isPremium(e) {
                return e.isPremium
            },
            isUserTwitchSub: function isUserTwitchSub(e) {
                return e.isUserTwitchSub
            },
            hyphenatedLanguage: function hyphenatedLanguage(e) {
                return (e.language || "").replace("_", "-")
            }
        }
    }
}, , function(e, t, n) {
    "use strict";
    var a = n(37),
        i = n(84);
    t.a = {
        name: "click-outside",
        bind: function bind(e, t) {
            var n, o, r = 1;
            if (a.a.isFunction(t.value) ? n = t.value : a.a.isObject(t.value) && (n = t.value.handler, r = t.value.delay), !a.a.isFunction(n)) throw new Error("must pass function to click-outside");
            var s = function onClickElement(e) {
                    return e.stopPropagation()
                },
                l = function onClickDocument(t) {
                    return e !== t.target && n(e, t)
                };
            e.$unbindClickOutside && e.$unbindClickOutside(), e.$unbindClickOutside = function() {
                i.a.clearTimeout(o), e.removeEventListener("click", s), document.removeEventListener("click", l), delete e.$unbindClickOutside
            }, o = i.a.setTimeout(function() {
                e.addEventListener("click", s), document.addEventListener("click", l)
            }, r)
        },
        unbind: function unbind(e) {
            e.$unbindClickOutside && e.$unbindClickOutside()
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(17),
        i = n(224),
        o = n(12);
    t.a = {
        props: {
            membership: {
                type: Number
            }
        },
        computed: {
            flairHref: function flairHref() {
                return Object(i.c)({
                    code: this.standardizedFlairCodeFromMixin,
                    flairMembership: this.membership,
                    selfIsPremium: Object(a.a)("isPremium"),
                    selfIsModerator: Object(a.a)("isModerator")
                })
            },
            flairTooltip: function flairTooltip() {
                return Object(i.d)({
                    code: this.standardizedFlairCodeFromMixin,
                    flairMembership: this.membership
                })
            },
            standardizedFlairCodeFromMixin: function standardizedFlairCodeFromMixin() {
                return this.code || this.userFlair && this.userFlair.code || o.c.code
            }
        },
        methods: {
            handleFlairClick: function handleFlairClick() {
                this.flairHref.length && (window.location = this.flairHref)
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "country-flag",
            directives: {
                tooltip: n(35).a
            },
            props: {
                code: {
                    type: [Number, String],
                    required: !1
                },
                name: {
                    type: [String, Object],
                    required: !1
                },
                size: {
                    type: String,
                    required: !1
                }
            }
        },
        i = n(5),
        o = Object(i.a)(a, function() {
            var e, t = this.$createElement;
            return (this._self._c || t)("div", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: this.name,
                    expression: "name"
                }],
                class: ["country-flags-component", ("country-" + this.code).toLowerCase(), (e = {}, e["country-flags-" + this.size] = this.size, e)]
            })
        }, [], !1, null, null, null);
    t.a = o.exports
}, function(e, t, n) {
    "use strict";
    var a = n(12),
        i = n(315),
        o = n(323),
        r = n(35),
        s = n(171),
        l = {
            name: "user-flair-icon",
            components: {
                Flair: i.a,
                UserMembershipIcon: s.a
            },
            directives: {
                Tooltip: r.a
            },
            mixins: [o.a],
            props: {
                code: {
                    type: String
                },
                membership: {
                    type: Number,
                    default: a.k.basic
                },
                size: {
                    type: String,
                    default: "small"
                }
            }
        },
        c = n(275),
        u = n(5);
    var d = Object(u.a)(l, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.code ? n("a", {
            class: e.$style.component,
            attrs: {
                href: e.flairHref
            },
            on: {
                click: function(t) {
                    return t.stopPropagation(), t.preventDefault(), e.handleFlairClick(t)
                }
            }
        }, [n("flair", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.flairTooltip,
                expression: "flairTooltip"
            }],
            attrs: {
                code: e.code,
                membership: e.membership,
                size: e.size
            }
        })], 1) : n("user-membership-icon", {
            attrs: {
                membership: e.membership,
                size: e.size
            }
        })
    }, [], !1, function injectStyles(e) {
        this.$style = c.default.locals || c.default
    }, null, null);
    t.a = d.exports
}, function(e, t, n) {
    e.exports = {
        component: "game-preview-component",
        piece: "game-preview-piece",
        "icon-wrapper": "game-preview-icon-wrapper",
        icon: "game-preview-icon",
        "chess960-title": "game-preview-chess960-title"
    }
}, , function(e, t, n) {
    var a = n(377);
    e.exports = function cloneArrayBuffer(e) {
        var t = new e.constructor(e.byteLength);
        return new a(t).set(new a(e)), t
    }
}, , function(e, t, n) {
    e.exports = n(26)(60)
}, , , , , , function(e, t, n) {
    var a = n(143),
        i = n(354),
        o = n(355),
        r = n(356),
        s = n(357),
        l = n(358);

    function Stack(e) {
        var t = this.__data__ = new a(e);
        this.size = t.size
    }
    Stack.prototype.clear = i, Stack.prototype.delete = o, Stack.prototype.get = r, Stack.prototype.has = s, Stack.prototype.set = l, e.exports = Stack
}, function(e, t) {
    var n = Function.prototype.toString;
    e.exports = function toSource(e) {
        if (null != e) {
            try {
                return n.call(e)
            } catch (e) {}
            try {
                return e + ""
            } catch (e) {}
        }
        return ""
    }
}, function(e, t, n) {
    (function(e) {
        var a = n(74),
            i = t && !t.nodeType && t,
            o = i && "object" == typeof e && e && !e.nodeType && e,
            r = o && o.exports === i ? a.Buffer : void 0,
            s = r ? r.allocUnsafe : void 0;
        e.exports = function cloneBuffer(e, t) {
            if (t) return e.slice();
            var n = e.length,
                a = s ? s(n) : new e.constructor(n);
            return e.copy(a), a
        }
    }).call(this, n(113)(e))
}, function(e, t, n) {
    var a = n(328);
    e.exports = function cloneTypedArray(e, t) {
        var n = t ? a(e.buffer) : e.buffer;
        return new e.constructor(n, e.byteOffset, e.length)
    }
}, function(e, t) {
    e.exports = function copyArray(e, t) {
        var n = -1,
            a = e.length;
        for (t || (t = Array(a)); ++n < a;) t[n] = e[n];
        return t
    }
}, function(e, t, n) {
    var a = n(378),
        i = n(288),
        o = n(131);
    e.exports = function initCloneObject(e) {
        return "function" != typeof e.constructor || o(e) ? {} : a(i(e))
    }
}, function(e, t, n) {
    var a = n(217),
        i = n(145),
        o = Object.prototype.hasOwnProperty;
    e.exports = function assignValue(e, t, n) {
        var r = e[t];
        o.call(e, t) && i(r, n) && (void 0 !== n || t in e) || a(e, t, n)
    }
}, , , function(e, t, n) {
    "use strict";
    var a = n(326),
        i = n.n(a);
    t.default = i.a
}, , , function(e, t, n) {
    var a = n(336),
        i = n(306),
        o = n(213),
        r = n(376),
        s = n(55),
        l = n(256),
        c = n(308);
    e.exports = function baseMerge(e, t, n, u, d) {
        e !== t && o(t, function(o, l) {
            if (s(o)) d || (d = new a), r(e, t, l, n, baseMerge, u, d);
            else {
                var p = u ? u(c(e, l), o, l + "", e, t, d) : void 0;
                void 0 === p && (p = o), i(e, l, p)
            }
        }, l)
    }
}, function(e, t) {
    e.exports = function listCacheClear() {
        this.__data__ = [], this.size = 0
    }
}, function(e, t, n) {
    var a = n(144),
        i = Array.prototype.splice;
    e.exports = function listCacheDelete(e) {
        var t = this.__data__,
            n = a(t, e);
        return !(n < 0 || (n == t.length - 1 ? t.pop() : i.call(t, n, 1), --this.size, 0))
    }
}, function(e, t, n) {
    var a = n(144);
    e.exports = function listCacheGet(e) {
        var t = this.__data__,
            n = a(t, e);
        return n < 0 ? void 0 : t[n][1]
    }
}, function(e, t, n) {
    var a = n(144);
    e.exports = function listCacheHas(e) {
        return a(this.__data__, e) > -1
    }
}, function(e, t, n) {
    var a = n(144);
    e.exports = function listCacheSet(e, t) {
        var n = this.__data__,
            i = a(n, e);
        return i < 0 ? (++this.size, n.push([e, t])) : n[i][1] = t, this
    }
}, function(e, t, n) {
    var a = n(143);
    e.exports = function stackClear() {
        this.__data__ = new a, this.size = 0
    }
}, function(e, t) {
    e.exports = function stackDelete(e) {
        var t = this.__data__,
            n = t.delete(e);
        return this.size = t.size, n
    }
}, function(e, t) {
    e.exports = function stackGet(e) {
        return this.__data__.get(e)
    }
}, function(e, t) {
    e.exports = function stackHas(e) {
        return this.__data__.has(e)
    }
}, function(e, t, n) {
    var a = n(143),
        i = n(287),
        o = n(363),
        r = 200;
    e.exports = function stackSet(e, t) {
        var n = this.__data__;
        if (n instanceof a) {
            var s = n.__data__;
            if (!i || s.length < r - 1) return s.push([e, t]), this.size = ++n.size, this;
            n = this.__data__ = new o(s)
        }
        return n.set(e, t), this.size = n.size, this
    }
}, function(e, t, n) {
    var a = n(132),
        i = n(360),
        o = n(55),
        r = n(337),
        s = /^\[object .+?Constructor\]$/,
        l = Function.prototype,
        c = Object.prototype,
        u = l.toString,
        d = c.hasOwnProperty,
        p = RegExp("^" + u.call(d).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    e.exports = function baseIsNative(e) {
        return !(!o(e) || i(e)) && (a(e) ? p : s).test(r(e))
    }
}, function(e, t, n) {
    var a, i = n(361),
        o = (a = /[^.]+$/.exec(i && i.keys && i.keys.IE_PROTO || "")) ? "Symbol(src)_1." + a : "";
    e.exports = function isMasked(e) {
        return !!o && o in e
    }
}, function(e, t, n) {
    var a = n(74)["__core-js_shared__"];
    e.exports = a
}, function(e, t) {
    e.exports = function getValue(e, t) {
        return null == e ? void 0 : e[t]
    }
}, function(e, t, n) {
    var a = n(364),
        i = n(371),
        o = n(373),
        r = n(374),
        s = n(375);

    function MapCache(e) {
        var t = -1,
            n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n;) {
            var a = e[t];
            this.set(a[0], a[1])
        }
    }
    MapCache.prototype.clear = a, MapCache.prototype.delete = i, MapCache.prototype.get = o, MapCache.prototype.has = r, MapCache.prototype.set = s, e.exports = MapCache
}, function(e, t, n) {
    var a = n(365),
        i = n(143),
        o = n(287);
    e.exports = function mapCacheClear() {
        this.size = 0, this.__data__ = {
            hash: new a,
            map: new(o || i),
            string: new a
        }
    }
}, function(e, t, n) {
    var a = n(366),
        i = n(367),
        o = n(368),
        r = n(369),
        s = n(370);

    function Hash(e) {
        var t = -1,
            n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n;) {
            var a = e[t];
            this.set(a[0], a[1])
        }
    }
    Hash.prototype.clear = a, Hash.prototype.delete = i, Hash.prototype.get = o, Hash.prototype.has = r, Hash.prototype.set = s, e.exports = Hash
}, function(e, t, n) {
    var a = n(146);
    e.exports = function hashClear() {
        this.__data__ = a ? a(null) : {}, this.size = 0
    }
}, function(e, t) {
    e.exports = function hashDelete(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0, t
    }
}, function(e, t, n) {
    var a = n(146),
        i = "__lodash_hash_undefined__",
        o = Object.prototype.hasOwnProperty;
    e.exports = function hashGet(e) {
        var t = this.__data__;
        if (a) {
            var n = t[e];
            return n === i ? void 0 : n
        }
        return o.call(t, e) ? t[e] : void 0
    }
}, function(e, t, n) {
    var a = n(146),
        i = Object.prototype.hasOwnProperty;
    e.exports = function hashHas(e) {
        var t = this.__data__;
        return a ? void 0 !== t[e] : i.call(t, e)
    }
}, function(e, t, n) {
    var a = n(146),
        i = "__lodash_hash_undefined__";
    e.exports = function hashSet(e, t) {
        var n = this.__data__;
        return this.size += this.has(e) ? 0 : 1, n[e] = a && void 0 === t ? i : t, this
    }
}, function(e, t, n) {
    var a = n(147);
    e.exports = function mapCacheDelete(e) {
        var t = a(this, e).delete(e);
        return this.size -= t ? 1 : 0, t
    }
}, function(e, t) {
    e.exports = function isKeyable(e) {
        var t = typeof e;
        return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
    }
}, function(e, t, n) {
    var a = n(147);
    e.exports = function mapCacheGet(e) {
        return a(this, e).get(e)
    }
}, function(e, t, n) {
    var a = n(147);
    e.exports = function mapCacheHas(e) {
        return a(this, e).has(e)
    }
}, function(e, t, n) {
    var a = n(147);
    e.exports = function mapCacheSet(e, t) {
        var n = a(this, e),
            i = n.size;
        return n.set(e, t), this.size += n.size == i ? 0 : 1, this
    }
}, function(e, t, n) {
    var a = n(306),
        i = n(338),
        o = n(339),
        r = n(340),
        s = n(341),
        l = n(208),
        c = n(117),
        u = n(379),
        d = n(174),
        p = n(132),
        h = n(55),
        m = n(380),
        f = n(210),
        g = n(308),
        b = n(381);
    e.exports = function baseMergeDeep(e, t, n, v, y, _, w) {
        var O = g(e, n),
            k = g(t, n),
            S = w.get(k);
        if (S) a(e, n, S);
        else {
            var x = _ ? _(O, k, n + "", e, t, w) : void 0,
                P = void 0 === x;
            if (P) {
                var C = c(k),
                    M = !C && d(k),
                    T = !C && !M && f(k);
                x = k, C || M || T ? c(O) ? x = O : u(O) ? x = r(O) : M ? (P = !1, x = i(k, !0)) : T ? (P = !1, x = o(k, !0)) : x = [] : m(k) || l(k) ? (x = O, l(O) ? x = b(O) : (!h(O) || v && p(O)) && (x = s(k))) : P = !1
            }
            P && (w.set(k, x), y(x, k, v, _, w), w.delete(k)), a(e, n, x)
        }
    }
}, function(e, t, n) {
    var a = n(74).Uint8Array;
    e.exports = a
}, function(e, t, n) {
    var a = n(55),
        i = Object.create,
        o = function() {
            function object() {}
            return function(e) {
                if (!a(e)) return {};
                if (i) return i(e);
                object.prototype = e;
                var t = new object;
                return object.prototype = void 0, t
            }
        }();
    e.exports = o
}, function(e, t, n) {
    var a = n(90),
        i = n(66);
    e.exports = function isArrayLikeObject(e) {
        return i(e) && a(e)
    }
}, function(e, t, n) {
    var a = n(85),
        i = n(288),
        o = n(66),
        r = "[object Object]",
        s = Function.prototype,
        l = Object.prototype,
        c = s.toString,
        u = l.hasOwnProperty,
        d = c.call(Object);
    e.exports = function isPlainObject(e) {
        if (!o(e) || a(e) != r) return !1;
        var t = i(e);
        if (null === t) return !0;
        var n = u.call(t, "constructor") && t.constructor;
        return "function" == typeof n && n instanceof n && c.call(n) == d
    }
}, function(e, t, n) {
    var a = n(305),
        i = n(256);
    e.exports = function toPlainObject(e) {
        return a(e, i(e))
    }
}, function(e, t, n) {
    var a = n(55),
        i = n(131),
        o = n(383),
        r = Object.prototype.hasOwnProperty;
    e.exports = function baseKeysIn(e) {
        if (!a(e)) return o(e);
        var t = i(e),
            n = [];
        for (var s in e)("constructor" != s || !t && r.call(e, s)) && n.push(s);
        return n
    }
}, function(e, t) {
    e.exports = function nativeKeysIn(e) {
        var t = [];
        if (null != e)
            for (var n in Object(e)) t.push(n);
        return t
    }
}, function(e, t, n) {
    var a = n(385),
        i = n(392);
    e.exports = function createAssigner(e) {
        return a(function(t, n) {
            var a = -1,
                o = n.length,
                r = o > 1 ? n[o - 1] : void 0,
                s = o > 2 ? n[2] : void 0;
            for (r = e.length > 3 && "function" == typeof r ? (o--, r) : void 0, s && i(n[0], n[1], s) && (r = o < 3 ? void 0 : r, o = 1), t = Object(t); ++a < o;) {
                var l = n[a];
                l && e(t, l, a, r)
            }
            return t
        })
    }
}, function(e, t, n) {
    var a = n(136),
        i = n(386),
        o = n(388);
    e.exports = function baseRest(e, t) {
        return o(i(e, t, a), e + "")
    }
}, function(e, t, n) {
    var a = n(387),
        i = Math.max;
    e.exports = function overRest(e, t, n) {
        return t = i(void 0 === t ? e.length - 1 : t, 0),
            function() {
                for (var o = arguments, r = -1, s = i(o.length - t, 0), l = Array(s); ++r < s;) l[r] = o[t + r];
                r = -1;
                for (var c = Array(t + 1); ++r < t;) c[r] = o[r];
                return c[t] = n(l), a(e, this, c)
            }
    }
}, function(e, t) {
    e.exports = function apply(e, t, n) {
        switch (n.length) {
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, n[0]);
            case 2:
                return e.call(t, n[0], n[1]);
            case 3:
                return e.call(t, n[0], n[1], n[2])
        }
        return e.apply(t, n)
    }
}, function(e, t, n) {
    var a = n(389),
        i = n(391)(a);
    e.exports = i
}, function(e, t, n) {
    var a = n(390),
        i = n(307),
        o = n(136),
        r = i ? function(e, t) {
            return i(e, "toString", {
                configurable: !0,
                enumerable: !1,
                value: a(t),
                writable: !0
            })
        } : o;
    e.exports = r
}, function(e, t) {
    e.exports = function constant(e) {
        return function() {
            return e
        }
    }
}, function(e, t) {
    var n = 800,
        a = 16,
        i = Date.now;
    e.exports = function shortOut(e) {
        var t = 0,
            o = 0;
        return function() {
            var r = i(),
                s = a - (r - o);
            if (o = r, s > 0) {
                if (++t >= n) return arguments[0]
            } else t = 0;
            return e.apply(void 0, arguments)
        }
    }
}, function(e, t, n) {
    var a = n(145),
        i = n(90),
        o = n(209),
        r = n(55);
    e.exports = function isIterateeCall(e, t, n) {
        if (!r(n)) return !1;
        var s = typeof t;
        return !!("number" == s ? i(n) && o(t, n.length) : "string" == s && t in n) && a(n[t], e)
    }
}, , , function(e, t, n) {
    "use strict";
    var a = (new class Configuration {
            constructor() {
                var e = Object.assign({}, window.Config);
                e.MainDomain || (e.MainDomain = e["domain.main"]),
                    e.StaticDomain || (e.StaticDomain = e["domain.static"]),
                    e.FilesDomain || (e.FilesDomain = e["domain.files"]),
                    e.LiveDomain || (e.LiveDomain = e["domain.live"]),
                    e.LiveWebSocketDomain || (e.LiveWebSocketDomain = e["domain.livews"]),
                    e.LiveSecureWebSocketDomain || (e.LiveSecureWebSocketDomain = e["domain.livewss"]),
                    e.VoiceDomain || (e.VoiceDomain = e["domain.voice"]),
                    e.CssJsDomain || (e.CssJsDomain = e["domain.cssjs"]),
                    e.ImagesDomain || (e.ImagesDomain = e["domain.images"]),
                    e.AvatarsDomain || (e.AvatarsDomain = e["domain.avatars"]),
                    e.ChessBoardAssetsDomain || (e.ChessBoardAssetsDomain = "//images.chesscomfiles.com/chess-themes"),
                    e.ChessBoardLocalAssetsDomain || (e.ChessBoardLocalAssetsDomain = "bundles/web/images/chess-themes/pieces"),
                    e.AppVersion || (e.AppVersion = e["application.version"]),
                    e.AppVersion || (e.AppVersion = Math.floor(1e4 * Math.random()) + 1e4), e.DocumentRoot || (e.DocumentRoot = ""),
                    void 0 === e.oldThemes && (e.oldThemes = !0), e.GfxUrl || (e.GfxUrl = e.ChessBoardAssetsDomain),
                    e.GfxLocalUrl || (e.GfxLocalUrl = e.ChessBoardLocalAssetsDomain),
                    e.ChessBoardPiecesPath || (e.ChessBoardPiecesPath = "/pieces"),
                    e.ChessBoardBackgroundsPath || (e.ChessBoardBackgroundsPath = "/boards"),
                    e.ChessBoardArrowsPath || (e.ChessBoardArrowsPath = "/arrows"),
                    e.AudioSet || (e.AudioSet = "default"),
                    e.AudioUrl || (e.AudioUrl = "".concat(e.ChessBoardAssetsDomain, "/sounds/")),
                    e.DiagramGetPostUrl || (e.DiagramGetPostUrl = "/api/get_diagram"),
                    e.DailyPuzzleGetUrl || (e.DailyPuzzleGetUrl = "/api/get_puzzle"),
                    this.config = e
            }
        }).config,
        i = n(173),
        o = n(67),
        r = n(18),
        s = n(7),
        l = {
            name: "game-preview",
            components: {
                IconFont: r.a
            },
            props: {
                autoResize: {
                    type: Boolean
                },
                is960Board: {
                    type: Boolean
                },
                is960Title: {
                    type: Boolean
                },
                colorScheme: {
                    type: String,
                    default: "green"
                },
                fen: {
                    type: String
                },
                flipBoard: {
                    type: Boolean
                },
                highlightColor: {
                    type: String
                },
                highlightSquares: {
                    type: String
                },
                isBoardPopover: {
                    type: Boolean
                },
                pieceStyle: {
                    type: String,
                    default: "neo"
                },
                size: {
                    type: [String, Number]
                },
                staticBoard: {
                    type: [Boolean, String]
                }
            },
            data: function data() {
                return {
                    squares: [],
                    squareWidth: 12.5,
                    isRetina: window.devicePixelRatio > 1,
                    backgroundImage: null,
                    board: null,
                    pieces: []
                }
            },
            computed: {
                loadStaticBoard: function loadStaticBoard() {
                    return "boolean" != typeof this.staticBoard ? "true" === this.staticBoard : this.staticBoard
                },
                user: function user() {
                    return this.$store.state.user
                },
                watchedProps: function watchedProps() {
                    return this.fen, this.size, this.flipBoard, this.autoResize, this.isBoardPopover, this.colorScheme, this.pieceStyle, this.highlightColor, this.highlightSquares, Date.now()
                },
                gamePreviewScheme: function gamePreviewScheme() {
                    return "game-preview-".concat(this.colorScheme)
                }
            },
            watch: {
                watchedProps: function watchedProps() {
                    this.updatePreview()
                }
            },
            created: function created() {
                this.updatePreview()
            },
            methods: {
                updatePreview: function updatePreview() {
                    this.staticBoard || (this.board = this.getBoard()), this.pieces = this.getPieces(), this.squares = this.getHighlightedSquares()
                },
                getHighlightedSquares: function getHighlightedSquares() {
                    var e = [],
                        t = {
                            a: 0,
                            b: 1,
                            c: 2,
                            d: 3,
                            e: 4,
                            f: 5,
                            g: 6,
                            h: 7
                        },
                        n = this.squareWidth,
                        a = this.highlightSquares,
                        o = this.flipBoard || !1,
                        r = this.colorScheme || "green",
                        s = i.a[r] || i.a.default,
                        l = this.highlightColor || s[4];
                    if (s[2] || (s[2] = r), "string" == typeof a)
                        for (var c = 0; c < a.length; c += 2) {
                            var u = t[a.substr(c, 1)],
                                d = 8 - Number(a.substr(c + 1, 1));
                            o && (u = 7 - u, d = 7 - d);
                            var p = 7 * n - d * n,
                                h = u * n;
                            if (isNaN(p) || isNaN(h)) break;
                            e.push({
                                backgroundColor: l,
                                bottom: "".concat(p, "%"),
                                height: "".concat(this.squareWidth, "%"),
                                key: "".concat(u).concat(d).concat(this.highlightSquares),
                                left: "".concat(h, "%"),
                                opacity: ".5",
                                position: "absolute",
                                right: "".concat(100 - h - n, "%"),
                                top: "".concat(100 - p - n, "%"),
                                width: "".concat(this.squareWidth, "%")
                            })
                        }
                    return e
                },
                getBoardUrl: function getBoardUrl() {
                    var e = a.GfxUrl + a.ChessBoardBackgroundsPath,
                        t = Math.max(20, Number(this.size || 0)),
                        n = this.colorScheme || "green",
                        o = i.a[n] || i.a.green;
                    this.isRetina && (t *= 2);
                    var r = o[2];
                    return "overlay" === r && (r = "translucent"), "".concat(e, "/").concat(r, "/").concat(t).concat(o[3])
                },
                getBoard: function getBoard() {
                    var e = Math.max(20, Number(this.size || 0)),
                        t = 8 * e,
                        n = "none",
                        a = "0";
                    return this.autoResize && (n = "100%", t = 0, a = "100%"), {
                        width: "".concat(8 * e, "px"),
                        height: "".concat(t, "px"),
                        maxWidth: n,
                        paddingBottom: a,
                        backgroundImage: "url(".concat(this.getBoardUrl(), ")")
                    }
                },
                getPieces: function getPieces() {
                    return this.fen ? this.parseFEN() : []
                },
                parsePiece: function parsePiece(e, t) {
                    for (var n = e, a = this.flipBoard, i = Math.max(20, Number(this.size || 0)), o = 0, r = ""; n >= 8;) o += 1, n -= 8;
                    return /[A-Z]/.test(t) ? r = "w" : /[a-z]/.test(t) && (r = "b"), a && (n = 7 - n, o = 7 - o), {
                        bottom: 7 * this.squareWidth - o * this.squareWidth,
                        left: n * this.squareWidth,
                        size: i,
                        type: t.toLowerCase(),
                        color: r
                    }
                },
                getPieceUrl: function getPieceUrl(e, t) {
                    var n = a.GfxUrl + a.ChessBoardPiecesPath,
                        i = Math.max(30, Number(this.size || 0)),
                        r = this.pieceStyle || "preview",
                        l = window.location.href.indexOf(s.a.generate("web_user_settings_themes")),
                        c = window.location.href.indexOf(s.a.generate("web_user_settings_board"));
                    return "modern2" === r && (r = "modern"), "real3d" === r && -1 !== l ? n = a.GfxLocalUrl : "real3d" === r && -1 !== c ? n = a.GfxLocalUrl : "real3d" === r && (r = "3d_wood"), /3d[^_]/.test(r) && (r = "3d_".concat(r.substr(2))), this.isRetina && (i *= 2), n === a.GfxLocalUrl ? Object(o.a)("".concat(n, "/").concat(r, "/").concat(i, "/").concat(e).concat(t, ".png")) : "".concat(n, "/").concat(r, "/").concat(i, "/").concat(e).concat(t, ".png")
                },
                parseFEN: function parseFEN() {
                    for (var e = [], t = this.fen.split(/\s/g)[0], n = 0, a = 0; a < t.length; a += 1) {
                        var i = t.substr(a, 1);
                        if (i.match(/[A-Z]/i)) {
                            var o = this.parsePiece(n, i),
                                r = "";
                            i === i.toLowerCase() ? r += "b" : r += "w", r += i.toLowerCase(), n += 1, e.push({
                                url: this.getPieceUrl(o.color, o.type),
                                bottom: "".concat(o.bottom, "%"),
                                left: "".concat(o.left, "%"),
                                size: o.size,
                                code: r
                            })
                        }
                        i.match(/[0-8]/) && (n += i / 1)
                    }
                    return e
                },
                pieceClass: function pieceClass(e) {
                    var t = this.pieceStyle;
                    "modern2" === t ? t = "modern" : "real3d" === t ? t = "3d_wood" : /3d[^_]/.test(t) && (t = "3d_".concat(t.substr(2)));
                    var n = "sprite-piece sprite-piece-60 sprite-piece-".concat(t);
                    return this.user.isThreeD ? n += " sprite-3d-piece sprite-3d-piece-".concat(e.code) : n += " sprite-piece-".concat(e.code), n
                }
            }
        },
        c = n(345),
        u = n(5);
    var d = Object(u.a)(l, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.loadStaticBoard ? n("div", {
            class: e.$style.component
        }, [n("div", {
            staticClass: "game-preview-board",
            class: e.gamePreviewScheme
        }), e._v(" "), e._l(e.squares, function(e) {
            return n("div", {
                key: e.key,
                staticClass: "highlight-square",
                style: e
            })
        }), e._v(" "), e._l(e.pieces, function(t, a) {
            return n("div", {
                key: a,
                class: e.pieceClass(t),
                style: {
                    bottom: t.bottom,
                    left: t.left
                }
            })
        })], 2) : n("div", {
            class: e.$style.component,
            style: e.board
        }, [e.is960Board ? n("div", {
            class: e.$style["icon-wrapper"]
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                name: "chess960",
                theme: "primary"
            }
        })], 1) : e._e(), e._v(" "), e.is960Title ? n("div", {
            class: e.$style["chess960-title"],
            domProps: {
                textContent: e._s("Chess960")
            }
        }) : e._e(), e._v(" "), e._l(e.squares, function(e) {
            return n("div", {
                key: e.key,
                style: e
            })
        }), e._v(" "), e._l(e.pieces, function(t, a) {
            return n("img", {
                key: a,
                class: e.$style.piece,
                style: {
                    width: e.squareWidth + "%",
                    bottom: t.bottom,
                    left: t.left
                },
                attrs: {
                    src: t.url
                }
            })
        })], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = c.default.locals || c.default
    }, null, null);
    t.a = d.exports
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return l
    }), n.d(t, "b", function() {
        return c
    }), n.d(t, "c", function() {
        return u
    });
    var a = n(97),
        i = n(232),
        o = function getPieceScheme(e) {
            return i.b[e] ? i.b[e] : {
                imgPath: e,
                imgFormat: ".png"
            }
        },
        r = new Array(76).join().split(",").map(function(e, t) {
            return 2 * t
        }).slice(22),
        s = function getAdjustedSize(e) {
            var t = function isHighRes() {
                return window.devicePixelRatio > 1
            }() ? 2 * e : e;
            return r.reduceRight(function(e, n) {
                return n === t || n > t ? n : e
            })
        },
        l = function getBoardBackground(e, t) {
            var n = function getBoardScheme(e) {
                    return i.a[e]
                }(e),
                o = s(t);
            return "".concat(a.a.paths.boards, "/").concat(n[2], "/").concat(o).concat(n[3])
        },
        c = function getPieceBaseUrl(e, t) {
            var n = o("real3d" !== e ? e : "neo"),
                i = s(t);
            return "".concat(a.a.paths.pieces, "/").concat(n.imgPath, "/").concat(i, "/")
        },
        u = function getThreeCheckPieceUrl(e) {
            return "".concat(a.a.paths.variants, "/").concat("/threecheck/").concat([null, "check_wht", "check_blk"][e], ".png")
        }
}, function(e, t, n) {
    "use strict";

    function toggleBodyClass(e) {
        (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : !document.body.classList.contains(e)) ? document.body.classList.add(e): document.body.classList.remove(e)
    }
    n.d(t, "a", function() {
        return toggleBodyClass
    })
}, function(e, t, n) {
    "use strict";
    var a = n(106);
    t.a = function(e) {
        return Object(a.a)(e.game) ? e.game.tree.lines : e.moveList.lines
    }
}, , function(e, t, n) {
    var a = n(454),
        i = n(455),
        o = n(456);
    e.exports = function _slicedToArray(e, t) {
        return a(e) || i(e, t) || o()
    }
}, function(e, t, n) {
    e.exports = {
        component: "social-share-component",
        transparent: "social-share-transparent",
        background: "social-share-background",
        preloader: "social-share-preloader",
        expanded: "social-share-expanded",
        primary: "social-share-primary",
        link: "social-share-link",
        icon: "social-share-icon",
        secondary: "social-share-secondary",
        visible: "social-share-visible",
        facebook: "social-share-facebook",
        twitter: "social-share-twitter",
        reddit: "social-share-reddit",
        google: "social-share-google",
        share: "social-share-share"
    }
}, , , , , function(e, t, n) {
    e.exports = n(26)(58)
}, , function(e, t, n) {
    e.exports = {
        heading: "form-datepicker-section-wrapper-heading",
        icon: "form-datepicker-section-wrapper-icon",
        title: "form-datepicker-section-wrapper-title",
        "icon-left": "form-datepicker-section-wrapper-icon-left",
        "icon-right": "form-datepicker-section-wrapper-icon-right"
    }
}, function(e, t, n) {
    e.exports = {
        "calendar-view": "form-datepicker-calendar-calendar-view",
        grid: "form-datepicker-calendar-grid",
        day: "form-datepicker-calendar-day",
        selected: "form-datepicker-calendar-selected",
        disabled: "form-datepicker-calendar-disabled",
        empty: "form-datepicker-calendar-empty",
        weekdays: "form-datepicker-calendar-weekdays"
    }
}, function(e, t, n) {
    e.exports = {
        "datepicker-controls": "form-datepicker-controls-datepicker-controls",
        buttons: "form-datepicker-controls-buttons",
        button: "form-datepicker-controls-button"
    }
}, function(e, t, n) {
    e.exports = {
        format: "form-datepicker-format-format",
        selected: "form-datepicker-format-selected"
    }
}, function(e, t, n) {
    e.exports = {
        "month-view": "form-datepicker-months-month-view",
        month: "form-datepicker-months-month",
        selected: "form-datepicker-months-selected",
        disabled: "form-datepicker-months-disabled",
        empty: "form-datepicker-months-empty"
    }
}, function(e, t, n) {
    e.exports = {
        "year-view": "form-datepicker-years-year-view",
        year: "form-datepicker-years-year",
        selected: "form-datepicker-years-selected",
        disabled: "form-datepicker-years-disabled",
        empty: "form-datepicker-years-empty"
    }
}, function(e, t, n) {
    e.exports = {
        calendar: "form-datepicker-calendar",
        inner: "form-datepicker-inner"
    }
}, function(e, t, n) {
    e.exports = {
        component: "datepicker-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "board-popover-component",
        right: "board-popover-right",
        left: "board-popover-left",
        top: "board-popover-top",
        bottom: "board-popover-bottom"
    }
}, , function(e, t, n) {
    "use strict";
    var a = n(401),
        i = n.n(a);
    t.default = i.a
}, , function(e, t, n) {
    "use strict";
    var a = n(31);
    t.a = new a.default
}, function(e, t, n) {
    "use strict";
    var a, i = n(3),
        o = n.n(i),
        r = n(140),
        s = n(100),
        l = n(68),
        c = n(20),
        u = n(406),
        d = n(397),
        p = n(13),
        h = n(41),
        m = n(212),
        f = n(175),
        g = n(420);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var b = {
            loadOptions: Object(r.a)(function(e) {
                var t = e.commit,
                    n = e.dispatch,
                    i = e.state,
                    s = e.rootState,
                    c = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return a || (a = m.a.getOptions()), Object(r.d)(Object(r.c)(function() {
                    return Object(r.b)(a, function(e) {
                        var r = function _objectSpread(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? ownKeys(n, !0).forEach(function(t) {
                                    o()(e, t, n[t])
                                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                })
                            }
                            return e
                        }({}, e, {
                            fetched: !0
                        });
                        c && "real3d" === r.pieceStyle && (r.pieceStyle = m.a.getDefaultOptions().pieceStyle);
                        var d = s.user && s.user.isImpersonating,
                            p = f.a.pieceChangeRequiresRefresh(r.pieceStyle, i.boardOptions.pieceStyle) && !d;
                        if ("real3d" === r.pieceStyle)
                            if ("IE" === Object(h.b)().name) {
                                var g = m.a.getDefaultOptions().pieceStyle;
                                n("updateOption", {
                                    option: "pieceStyle",
                                    value: g
                                }), r.pieceStyle = g, p = !0
                            } else if (l.c.animations.indexOf(r.animationType) >= 0) {
                            var b = m.a.getDefaultOptions().animationType;
                            n("updateOption", {
                                option: "animationType",
                                value: b
                            }), r.animationType = b, p = !0
                        }
                        t("setOptions", r), p && (u.saveStateDebounce.flush(), window.location = window.location), a = null
                    })
                }, function() {
                    n("alerts/create", {
                        type: p.g.error,
                        message: p.b.DEFAULT
                    }, {
                        root: !0
                    }), a = null
                }))
            }),
            loadStyles: function loadStyles(e) {
                var t = e.commit,
                    n = e.dispatch;
                return m.a.getStyles().then(function(e) {
                    return t("setStyles", e)
                }).catch(function() {
                    return n("alerts/create", {
                        type: p.g.error,
                        message: p.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            updateBoardEffect: function updateBoardEffect(e, t) {
                var n = e.dispatch,
                    a = t.classification,
                    i = t.node,
                    o = void 0 === i ? {} : i,
                    r = t.square,
                    l = void 0 === r ? null : r,
                    c = t.persist,
                    u = void 0 !== c && c,
                    d = t.gameStore,
                    p = void 0 === d ? "game" : d,
                    h = (a || {}).icon,
                    m = Object(s.b)({
                        icon: h,
                        node: o,
                        square: l
                    });
                n("".concat(p || "game", "/markEffect"), {
                    effect: m,
                    persist: u
                }, {
                    root: !0
                })
            },
            updateOption: function updateOption(e, t) {
                var n = e.commit,
                    a = e.dispatch,
                    i = e.rootState,
                    o = t.option,
                    r = t.value,
                    s = t.save,
                    u = void 0 === s || s;
                "highlightMoves" === o && n("setOption", {
                    option: "highlightMovesUI",
                    value: r
                }), "darkMode" === o && (g.a.$emit(c.j.DARK_MODE_CHANGE, r), Object(d.a)("dark-mode", r));
                var h = o,
                    b = r;
                if ("coordinates" === o && (b = f.a.getCoordinatePositioning(r)), "colorScheme" === o && (h = "boardStyle"), n("setOption", {
                        option: h,
                        value: b
                    }), i.user && i.user.isLoggedIn && l.a.updateOption[o] && u) return m.a.updateOption(o, r).catch(function() {
                    return a("alerts/create", {
                        type: p.g.error,
                        message: p.b.DEFAULT
                    }, {
                        root: !0
                    })
                })
            },
            flipBoard: function flipBoard(e) {
                (0, e.commit)("setOption", {
                    option: "flipBoard",
                    value: !e.state.boardOptions.flipBoard
                })
            }
        },
        v = {
            setOption: function setOption(e, t) {
                var n = t.option,
                    a = t.value;
                e.boardOptions[n] = a
            },
            setOptions: function setOptions(e, t) {
                var n = t.animationType || e.boardOptions.animationType;
                l.c.pieces.indexOf(t.pieceStyle) >= 0 && l.c.animations.indexOf(t.animationType) >= 0 && (n = "default"), e.boardOptions = Object.assign(e.boardOptions, t, {
                    animationType: n
                })
            },
            setStyle: function setStyle(e, t) {
                var n = t.style,
                    a = t.value;
                e.styles[n] = a
            },
            setSettings: function setSettings(e, t) {
                e.settings = Object.assign({}, e.settings, t)
            },
            setStyles: function setStyles(e, t) {
                var n = f.a.getAnimationTypes(t.animationTypes),
                    a = f.a.getPieceStyles(t.pieceStyles);
                e.styles = Object.assign(e.styles, t, {
                    animationTypes: n
                }, {
                    pieceStyles: a
                })
            },
            setDebugMode: function setDebugMode(e, t) {
                e.debugMode = t
            }
        },
        y = n(282),
        _ = n(283);

    function state_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var w = m.a.getDefaultOptions(),
        O = {
            boardId: "board".concat(Date.now()),
            boardOptions: function state_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? state_ownKeys(n, !0).forEach(function(t) {
                        o()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : state_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, w, {
                highlightMovesUI: !0,
                maxWidth: 0
            }),
            debugMode: !1,
            settings: {
                boardColors: [{
                    code: "8_bit",
                    name: "8-Bit"
                }, {
                    code: "bases",
                    name: "Bases"
                }, {
                    code: "blue",
                    name: "Blue"
                }, {
                    code: "brown",
                    name: "Brown"
                }, {
                    code: "bubblegum",
                    name: "Bubblegum"
                }, {
                    code: "burled_wood",
                    name: "Burled Wood"
                }, {
                    code: "dark_wood",
                    name: "Dark Wood"
                }, {
                    code: "dash",
                    name: "Dash"
                }, {
                    code: "glass",
                    name: "Glass"
                }, {
                    code: "graffiti",
                    name: "Graffiti"
                }, {
                    code: "green",
                    name: "Green"
                }, {
                    code: "icy_sea",
                    name: "Icy Sea"
                }, {
                    code: "light",
                    name: "Light"
                }, {
                    code: "lolz",
                    name: "Lolz"
                }, {
                    code: "marble",
                    name: "Marble"
                }, {
                    code: "metal",
                    name: "Metal"
                }, {
                    code: "neon",
                    name: "Neon"
                }, {
                    code: "newspaper",
                    name: "Newspaper"
                }, {
                    code: "orange",
                    name: "Orange"
                }, {
                    code: "overlay",
                    name: "Overlay"
                }, {
                    code: "parchment",
                    name: "Parchment"
                }, {
                    code: "purple",
                    name: "Purple"
                }, {
                    code: "red",
                    name: "Red"
                }, {
                    code: "sand",
                    name: "Sand"
                }, {
                    code: "sky",
                    name: "Sky"
                }, {
                    code: "stone",
                    name: "Stone"
                }, {
                    code: "tan",
                    name: "Tan"
                }, {
                    code: "tournament",
                    name: "Tournament"
                }, {
                    code: "translucent",
                    name: "Translucent"
                }, {
                    code: "walnut",
                    name: "Walnut"
                }],
                pieceStyles: [{
                    code: "8_bit",
                    name: "8-Bit"
                }, {
                    code: "alpha",
                    name: "Alpha"
                }, {
                    code: "bases",
                    name: "Bases"
                }, {
                    code: "blindfold",
                    name: "Blindfold"
                }, {
                    code: "book",
                    name: "Book"
                }, {
                    code: "bubblegum",
                    name: "Bubblegum"
                }, {
                    code: "cases",
                    name: "Cases"
                }, {
                    code: "classic",
                    name: "Classic"
                }, {
                    code: "club",
                    name: "Club"
                }, {
                    code: "condal",
                    name: "Condal"
                }, {
                    code: "dash",
                    name: "Dash"
                }, {
                    code: "game_room",
                    name: "Game Room"
                }, {
                    code: "glass",
                    name: "Glass"
                }, {
                    code: "gothic",
                    name: "Gothic"
                }, {
                    code: "graffiti",
                    name: "Graffiti"
                }, {
                    code: "icy_sea",
                    name: "Icy Sea"
                }, {
                    code: "light",
                    name: "Light"
                }, {
                    code: "lolz",
                    name: "Lolz"
                }, {
                    code: "marble",
                    name: "Marble"
                }, {
                    code: "maya",
                    name: "Maya"
                }, {
                    code: "metal",
                    name: "Metal"
                }, {
                    code: "modern2",
                    name: "Modern"
                }, {
                    code: "nature",
                    name: "Nature"
                }, {
                    code: "neon",
                    name: "Neon"
                }, {
                    code: "neo",
                    name: "Neo"
                }, {
                    code: "neo_wood",
                    name: "Neo-Wood"
                }, {
                    code: "newspaper",
                    name: "Newspaper"
                }, {
                    code: "ocean",
                    name: "Ocean"
                }, {
                    code: "sky",
                    name: "Sky"
                }, {
                    code: "space",
                    name: "Space"
                }, {
                    code: "tigers",
                    name: "Tigers"
                }, {
                    code: "tournament",
                    name: "Tournament"
                }, {
                    code: "vintage",
                    name: "Vintage"
                }, {
                    code: "wood",
                    name: "Wood"
                }, {
                    code: "3dwood",
                    name: "3D - Wood"
                }, {
                    code: "3d_staunton",
                    name: "3D - Staunton"
                }, {
                    code: "3dplastic",
                    name: "3D - Plastic"
                }, {
                    code: "3dchesskid",
                    name: "3D - ChessKid"
                }, {
                    code: "real3d",
                    name: "Real 3D"
                }],
                sounds: [{
                    code: "default",
                    name: "Default"
                }, {
                    code: "nature",
                    name: "Nature"
                }, {
                    code: "metal",
                    name: "Metal"
                }, {
                    code: "marble",
                    name: "Marble"
                }, {
                    code: "space",
                    name: "Space"
                }, {
                    code: "beat",
                    name: "Beat"
                }, {
                    code: "silly",
                    name: "Silly"
                }, {
                    code: "lolz",
                    name: "Lolz"
                }, {
                    code: "newspaper",
                    name: "Newspaper"
                }],
                moveListDisplayTypes: [{
                    code: "text",
                    name: "Text"
                }, {
                    code: "figurine",
                    name: "Figurine"
                }],
                animationTypes: [{
                    code: "default",
                    name: "Default"
                }, {
                    code: "none",
                    name: "None"
                }, {
                    code: "slow",
                    name: "Slow"
                }, {
                    code: "natural",
                    name: "Natural"
                }, {
                    code: "arcade",
                    name: "Arcade"
                }],
                coordinates: [{
                    code: null,
                    name: "Off"
                }, {
                    code: "inside",
                    name: "Inside"
                }, {
                    code: "outside",
                    name: "Outside"
                }],
                component: "standard",
                moveMethods: [{
                    code: "click",
                    name: "Click Squares"
                }, {
                    code: "drag",
                    name: "Drag Pieces"
                }]
            },
            styles: {
                boardColors: [],
                pieceStyles: [],
                userSize: null
            }
        },
        k = {
            boardOptions: {
                allowMarkings: !0,
                captureKeyStrokes: !0,
                enabled: !0,
                fadeSetup: 0,
                fetched: !1,
                flipBoard: !1,
                highlightColor: null,
                highlightOpacity: w.highlightOpacity
            }
        },
        S = Object(y.a)(O, _.a.board, k);
    t.a = {
        namespaced: !0,
        actions: b,
        mutations: v,
        state: S
    }
}, function(e, t, n) {
    "use strict";
    var a = "ontouchstart" in window || window.navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0 || /firefox/i.test(window.navigator.userAgent) && "TouchEvent" in window;
    n.d(t, "a", function() {
        return ChessEvents_ChessEvents
    });
    var i = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
        o = document.documentElement,
        r = "mouseup",
        s = "mousedown",
        l = "mousemove",
        c = "dragstart",
        u = "contextmenu",
        d = "touchend",
        p = "touchstart",
        h = "touchmove",
        m = "touchcancel",
        f = 1,
        g = 1,
        b = 3,
        v = 2,
        y = 1;
    class ChessEvents_ChessEvents {
        constructor(e) {
            this.chessboard = e
        }
        setFixed(e) {
            this.inFixedElement = !!e
        }
        destroy() {
            this.destroyTouch && (this.destroyTouch(), delete this.destroyTouch), this.destroyMouse && (this.destroyMouse(), delete this.destroyMouse)
        }
        observe(e) {
            this.destroy(), a && this.observeTouch(e), this.observeMouse(e)
        }
        observeTouch(e) {
            var t, n, a, i, r, s = this.chessboard,
                l = !1,
                c = function handleMove(o) {
                    if (e.keepDefault || (o.returnValue = !1, "function" == typeof o.preventDefault && o.preventDefault()), o.cancelBubble = !0, "function" == typeof o.stopPropagation && o.stopPropagation(), o.touches && o.touches[0] ? (i = o.touches[0].pageX, r = o.touches[0].pageY) : o.changedTouches && o.changedTouches[0] && (i = o.changedTouches[0].pageX, r = o.changedTouches[0].pageY), l) "function" == typeof e.dragmove && (o.pointer = {
                        x: i,
                        y: r,
                        type: "touch",
                        target: a
                    }, e.dragmove.call(s, o));
                    else {
                        var c = Math.abs(i - t) > y,
                            u = Math.abs(r - n) > y;
                        (l = c || u) && "function" == typeof e.dragstart && (o.pointer = {
                            x: t,
                            y: n,
                            type: "touch",
                            target: a
                        }, e.dragstart.call(s, o))
                    }
                },
                u = function handleEnd(u) {
                    e.keepDefault || (u.returnValue = !1, "function" == typeof u.preventDefault && u.preventDefault()), l ? "function" == typeof e.dragstop && (u.pointer = {
                        x: i,
                        y: r,
                        type: "touch",
                        target: a
                    }, e.dragstop.call(s, u)) : "function" == typeof e.click && (u.pointer = {
                        x: i,
                        y: r,
                        type: "touch",
                        target: a
                    }, e.click.call(s, u)), t = void 0, n = void 0, a = void 0, i = void 0, r = void 0, l = !1, o.removeEventListener(h, c), o.removeEventListener(d, handleEnd)
                },
                f = function handleStart(l) {
                    e.keepDefault || (l.returnValue = !1, "function" == typeof l.preventDefault && l.preventDefault()), a = l.target, l.touches && l.touches[0] ? (i = l.touches[0].pageX, t = l.touches[0].pageX, r = l.touches[0].pageY, n = l.touches[0].pageY) : l.changedTouches && l.changedTouches[0] && (i = l.changedTouches[0].pageX, t = l.changedTouches[0].pageX, r = l.changedTouches[0].pageY, n = l.changedTouches[0].pageY), "function" == typeof e.pointerdown && (l.pointer = {
                        x: t,
                        y: n,
                        type: "touch",
                        target: a
                    }, e.pointerdown.call(s, l)), o.addEventListener(h, c, !1), o.addEventListener(d, u, !1)
                },
                g = function handleCancel() {
                    t = void 0, n = void 0, a = void 0, i = void 0, r = void 0, l = !1, o.removeEventListener(h, c), o.removeEventListener(d, u)
                };
            s.addEventListener(p, f, !1), s.addEventListener(m, g, !1), this.destroyTouch = function() {
                s.removeEventListener(p, f), s.removeEventListener(p, g)
            }
        }
        observeMouse(e) {
            var t, n, a, d = this.chessboard;
            i && (d.style.touchAction = "none", d.style.msTouchAction = "none");
            var p = !1,
                h = !1,
                m = !1,
                _ = !1,
                w = this.inFixedElement,
                O = function hasButtonChanged(e) {
                    if (e.buttons) {
                        if (m && e.buttons === g) return !0;
                        if (h && e.buttons === v) return !0
                    } else if (e.button) {
                        if (m && e.button === g) return !0;
                        if (h && e.button === v) return !0
                    } else if (e.which) {
                        if (m && e.which === f) return !0;
                        if (h && e.which === b) return !0
                    }
                    return !1
                },
                k = function handleDrag(t) {
                    e.keepDefault || (t.returnValue = !1, "function" == typeof t.preventDefault && t.preventDefault()), t.cancelBubble = !0, "function" == typeof t.stopPropagation && t.stopPropagation()
                },
                S = function handleMenu(t) {
                    e.keepDefault || (t.returnValue = !1, "function" == typeof t.preventDefault && t.preventDefault()), t.cancelBubble = !0, "function" == typeof t.stopPropagation && t.stopPropagation(), "function" == typeof e.contextmenu && e.contextmenu.call(d, t)
                },
                x = function handleMove(i) {
                    var o, r;
                    if (e.keepDefault || (i.returnValue = !1, "function" == typeof i.preventDefault && i.preventDefault()), !_)
                        if (w ? (o = i.clientX, r = i.clientY) : (o = i.pageX, r = i.pageY), a.parentNode || (a = i.target || i.srcElement), O(i)) p && ("function" == typeof e.dragcancel && (i.pointer = {
                            x: o,
                            y: r,
                            type: "mouse",
                            target: a
                        }, i.isRightClick = m, e.dragcancel.call(d, i)), p = !1);
                        else if (p) "function" == typeof e.dragmove && (i.pointer = {
                        x: o,
                        y: r,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.dragmove.call(d, i));
                    else if (h || m) {
                        var s = Math.abs(o - t) > y,
                            l = Math.abs(r - n) > y;
                        if (p = s || l)
                            if ("function" == typeof e.dragstart) i.pointer = {
                                x: t,
                                y: n,
                                type: "mouse",
                                target: a
                            }, i.isRightClick = m, !1 === e.dragstart.call(d, i) && (_ = !0)
                    }
                },
                P = function handleUp(i) {
                    var s, c;
                    e.keepDefault || (i.returnValue = !1, "function" == typeof i.preventDefault && i.preventDefault()), w ? (s = i.clientX, c = i.clientY) : (s = i.pageX, c = i.pageY), a.parentNode || (a = i.target || i.srcElement), O(i) ? p && ("function" == typeof e.dragcancel && (i.pointer = {
                        x: s,
                        y: c,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.dragcancel.call(d, i)), p = !1) : p ? _ || "function" == typeof e.dragstop && (i.pointer = {
                        x: s,
                        y: c,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.dragstop.call(d, i)) : h ? "function" == typeof e.click && (i.pointer = {
                        x: s,
                        y: c,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.click.call(d, i)) : m && "function" == typeof e.rightclick && (i.pointer = {
                        x: s,
                        y: c,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.rightclick.call(d, i)), "function" == typeof e.pointerup && (i.pointer = {
                        x: t,
                        y: n,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.pointerup.call(d, i)), t = void 0, n = void 0, a = void 0, p = !1, h = !1, m = !1, _ = !1, o.removeEventListener(l, x), o.removeEventListener(r, handleUp)
                },
                C = function handleDown(i) {
                    e.keepDefault || (i.returnValue = !1, "function" == typeof i.preventDefault && i.preventDefault()), i.which ? (h = i.which === f, m = i.which === b) : i.button ? (h = i.button === g, m = i.button === v) : i.buttons && (h = i.buttons === g, m = i.buttons === v), (h || m) && (p && ("function" == typeof e.dragcancel && (i.pointer = {
                        x: t,
                        y: n,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.dragcancel.call(d, i)), p = !1), a = i.target || i.srcElement, w ? (t = i.clientX, n = i.clientY) : (t = i.pageX, n = i.pageY), "function" == typeof e.pointerdown && (i.pointer = {
                        x: t,
                        y: n,
                        type: "mouse",
                        target: a
                    }, i.isRightClick = m, e.pointerdown.call(d, i)), o.addEventListener(l, x, !1), o.addEventListener(r, P, !1))
                };
            d.addEventListener(s, C, !1), d.addEventListener(c, k, !1), d.addEventListener(u, S, !1), this.destroyMouse = function() {
                d.removeEventListener(s, C), d.removeEventListener(c, k), d.removeEventListener(u, S)
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = window.AudioContext || window.webkitAudioContext,
        i = Boolean(a);

    function isSuspended() {
        return i
    }

    function resumeAudio(e) {
        if (a) {
            if (window.chessComAudioContext || (window.chessComAudioContext = function newAudioContext() {
                    try {
                        return new a
                    } catch (e) {
                        return null
                    }
                }()), !window.chessComAudioContext || !window.chessComAudioContext.resume) return i = !1, void e();
            window.chessComAudioContext.resume().then(function() {
                i = !1, e()
            })
        }
    }
    var o = 3,
        r = {
            SOUND_SUSPENDED: "sound-suspended",
            SOUND_ENABLED: "sound-enabled"
        },
        s = ["webm", "ogg", "mp3", "wav"],
        l = "default",
        c = "//images.chesscomfiles.com/chess-themes/sounds",
        u = ["capture", "castle", "click", "correct", "drawoffer", "game-end", "game-start", "illegal", "incorrect", "move-check", "move-opponent", "move-self", "notify", "premove", "promote", "tenseconds"];

    function postMessage(e) {
        window.postMessage(e, window.location.origin)
    }
    class wrapper_Sound {
        constructor(e, t) {
            this.code = e, this.theme = t, this.tags = []
        }
        load() {
            this.unload(), this.addTag()
        }
        addTag() {
            var e = document.createElement("audio");
            e.setAttribute("preload", "auto"),
                function getUrls(e, t) {
                    var n = 0 !== e.indexOf("bughouse/") && t ? t : l,
                        a = [];
                    return n === l ? u.includes(e) ? s.forEach(function(t) {
                        a.push("/bundles/web/sounds/".concat(t, "/").concat(e, ".").concat(t))
                    }) : a.push("/bundles/web/sounds/".concat(e, ".mp3")) : a.push("".concat(c, "/_MP3_/").concat(n, "/").concat(e, ".mp3")), a
                }(this.code, this.theme).forEach(function(t) {
                    var n = t.split(".").pop(),
                        a = "mp3" === n ? "audio/mpeg" : "audio/".concat(n),
                        i = document.createElement("source");
                    i.setAttribute("src", t), i.setAttribute("type", a), e.appendChild(i)
                }), document.body.appendChild(e), e.pause(), this.tags.push(e)
        }
        unload() {
            for (; this.tags.length;) {
                var e = this.tags.shift();
                e.parentNode && e.parentNode.removeChild(e)
            }
        }
        play() {
            var e = this.tags.find(function(e) {
                return e.paused || e.ended
            });
            if (!e) {
                if (this.tags.length >= 5) return;
                return this.addTag(), void this.play()
            }
            var t = e.play();
            t && t.catch(function() {})
        }
    }
    var d = 0,
        p = !1;

    function enableSound() {
        isSuspended() && resumeAudio(function() {
            d = 0, p = !1, postMessage({
                key: r.SOUND_ENABLED
            }), window.$unbindSound && window.$unbindSound()
        })
    }

    function whenEnabled(e) {
        window.addEventListener("message", function listener(t) {
            t && t.data && t.data.key === r.SOUND_ENABLED && (e(), window.removeEventListener("message", listener))
        })
    }

    function waitUserInteraction() {
        window.$unbindSound || function addDirectiveEventListeners(e, t, n) {
            var a = "$unbind".concat(e);
            t[a] && t[a](), Object.keys(n).forEach(function(e) {
                t.addEventListener(e, n[e])
            }), t[a] = function() {
                Object.keys(n).forEach(function(e) {
                    t.removeEventListener(e, n[e]), delete n[e]
                }), delete t[a]
            }
        }("Sound", window, {
            mousedown: enableSound,
            keydown: enableSound,
            touchstart: enableSound,
            touchend: enableSound
        })
    }

    function unloadSound(e) {
        e.unload()
    }
    n.d(t, "a", function() {
        return ChessSounds_ChessSounds
    });
    var h = ["game-start", "game-end", "capture", "castle", "premove", "move-self", "move-check", "move-opponent", "promote", "notify", "tenseconds", "illegal"];
    class ChessSounds_ChessSounds {
        constructor(e, t) {
            this.sounds = {}, this.load(e, t)
        }
        load(e, t) {
            var n = this,
                a = t;
            t || (a = h), a.forEach(function(t) {
                n.sounds[t] = function loadSound(e, t) {
                    var n = new wrapper_Sound(e, t);
                    return isSuspended() ? (waitUserInteraction(), whenEnabled(function() {
                        return n.load()
                    })) : n.load(), n
                }(t, e)
            })
        }
        play(e) {
            ! function playSound(e) {
                isSuspended() ? !p && d > o ? (d = 0, p = !0, postMessage({
                    key: r.SOUND_SUSPENDED
                })) : p || (d++, enableSound(), whenEnabled(function() {
                    return e.play()
                })) : e.play()
            }(this.sounds[e])
        }
        removeAll() {
            Object.values(this.sounds).forEach(unloadSound), this.sounds = {}
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = 668;

    function fixWidth(e) {
        var t = e.style.width,
            n = parseInt(t, 10);
        t && t.includes("px") && n > a && (e.style.width = function calcWidth(e) {
            var t = [];
            return ["marginLeft", "marginRight", "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"].forEach(function(n) {
                parseInt(e.style[n], 10) && t.push(e.style[n])
            }), t.length > 0 ? (t = t.join(" - "), "calc(100% - ".concat(t, ")")) : "100%"
        }(e))
    }

    function pastePostproccess(e, t) {
        var n = t.node;
        Array.from(n.querySelectorAll("[style]")).forEach(function(e) {
            ! function fixMargin(e) {
                var t = e.style.marginLeft,
                    n = e.style.marginRight;
                t && n && t === n && (e.style.marginLeft = "auto", e.style.marginRight = "auto")
            }(e), fixWidth(e)
        })
    }
    n.d(t, "a", function() {
        return o
    }), n.d(t, "b", function() {
        return i
    }), n.d(t, "c", function() {
        return r
    });
    var i = function defaultConfig() {
            return Object.assign(window.TinymceConfig.theme_options, window.TinymceConfig.editor_options, {
                height: 100,
                paste_postprocess: pastePostproccess,
                resize: !0,
                toolbar: !0
            })
        },
        o = function advancedConfig() {
            return Object.assign(i(), {
                height: 200,
                toolbar1: "chessdiagram imageuploader | smileys | media | link unlink | bullist numlist | table | hr | undo redo | fullscreen",
                toolbar2: "bold italic underline | alignleft aligncenter alignright alignjustify | outdent indent | forecolor backcolor | fontselect fontsizeselect",
                toolbar3: "blockquote anchor | subscript superscript | charmap | preview | code | styleselect",
                verify_html: !1
            })
        },
        r = function defaultTwoRowConfig() {
            return Object.assign(i(), {
                height: 200,
                toolbar1: "chessdiagram imageuploader | smileys | media | link unlink | bullist numlist | table | hr | undo redo | fullscreen",
                toolbar2: "bold italic underline | alignleft aligncenter alignright alignjustify | outdent indent | forecolor backcolor | fontselect fontsizeselect",
                verify_html: !1
            })
        }
}, , , function(e, t, n) {
    "use strict";
    var a;
    t.a = class {
        constructor() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
            e && (this.editor = e)
        }
        getEditor() {
            var e = this;
            return !this.editor && window.tinymce && (this.editor = window.tinymce), this.editor ? Promise.resolve(this.editor) : function lazyLoadTinyMCE() {
                return a || (a = new Promise(function(e, t) {
                    var n = document.createElement("script");
                    n.src = window.Config.pathToTinyMCE, n.async = !0, n.type = "text/javascript", n.onload = function() {
                        e()
                    }, n.onerror = function(e) {
                        t(e || new Error("failed to load tinymce"))
                    }, n.onreadystatechange = function() {
                        "complete" === n.readyState && e()
                    }, document.body.appendChild(n)
                })), a
            }().then(function() {
                return e.editor = window.tinymce, e.editor
            })
        }
        init(e) {
            return this.getEditor().then(function(t) {
                return t.init(e)
            })
        }
        execCommand() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            this.getEditor().then(function(e) {
                var n;
                return (n = e.activeEditor).execCommand.apply(n, t)
            })
        }
        fire(e) {
            this.getEditor().then(function(t) {
                return t.activeEditor.fire(e)
            })
        }
        getContent() {
            if (!this.editor) throw new Error("TinyMCE not initialized");
            return this.editor.activeEditor.getContent()
        }
        getParams() {
            return this.getEditor().then(function(e) {
                return e.activeEditor.windowManager.getParams()
            })
        }
        insertContent(e) {
            this.getEditor().then(function(t) {
                return t.activeEditor.insertContent(e)
            })
        }
        setContent(e) {
            this.getEditor().then(function(t) {
                return t.activeEditor.setContent(e)
            })
        }
        destroy() {
            this.editor && this.editor.activeEditor.destroy()
        }
        closePopup() {
            this.getEditor().then(function(e) {
                return e.activeEditor.windowManager.close(window)
            })
        }
        openPopup() {
            this.getEditor().then(function(e) {
                return e.activeEditor.windowManager.open()
            })
        }
    }
}, function(e, t, n) {
    "use strict";
    n.d(t, "d", function() {
        return r
    }), n.d(t, "b", function() {
        return s
    }), n.d(t, "c", function() {
        return l
    }), n.d(t, "a", function() {
        return c
    });
    var a = n(4),
        i = n(32),
        o = n(76),
        r = function translateMoveText(e) {
            var t = Object(o.b)();
            return -1 === e.indexOf("O-O") && t && 0 !== Object.keys(t).length ? e.replace(/[BKNRQ]/g, function(e) {
                return t[e] || e
            }) : e
        },
        s = function getFigurineIndex(e) {
            return e.san.search(/[BKNRQ]/)
        },
        l = function getIconName(e) {
            var t = e.color === o.d.WHITE ? o.e.WHITE : o.e.BLACK,
                n = e.san[s(e)];
            return "".concat(o.c[n], "-").concat(t)
        },
        c = function createMoveNode() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return Object.assign({
                annotationString: Object(i.f)(e),
                coords: r(e.san),
                classification: e.classification || null,
                closeParenthesisCount: 0,
                figurineIndex: s(e),
                hasComment: Object(i.i)(e),
                hasCommentBefore: Object(i.j)(e),
                hasLines: Object(i.k)(e),
                iconName: l(e),
                indentation: 0,
                isEnPassant: Object(i.l)(e),
                isFirstNodeOnLine: Object(i.m)(e),
                isInvisible: !1,
                isWhite: Boolean(e.color === o.d.WHITE),
                nodeMoveNumber: a.a.getMoveNumber(e.color, e.moveNumber),
                openParenthesis: !1,
                previousHasComment: !!t && Object(i.i)(t),
                previousHasLines: !!t && Object(i.k)(t)
            }, e)
        }
}, function(e, t, n) {
    var a = n(488);
    e.exports = function _objectWithoutProperties(e, t) {
        if (null == e) return {};
        var n, i, o = a(e, t);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            for (i = 0; i < r.length; i++) n = r[i], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }
}, function(e, t, n) {
    "use strict";
    var a = n(18),
        i = n(41),
        o = n(135),
        r = n(150),
        s = function openWindow(e) {
            r.a.logSocialShare();
            var t = window.screen.width / 2 - 280,
                n = window.screen.height / 2 - 340,
                a = "width=".concat(560, ", height=").concat(510),
                i = "left=".concat(t, ", top=").concat(n);
            window.open(e, "_blank", "".concat(a, ",").concat(i, ",").concat("resizable=no, status=no, menubar=no, scrollbars=no"))
        },
        l = n(11),
        c = n(7),
        u = {
            name: "social-share",
            components: {
                IconFont: a.a
            },
            props: {
                background: {
                    type: String,
                    default: "default"
                },
                userId: {
                    type: String,
                    required: !1
                },
                username: {
                    type: String,
                    required: !1
                },
                chessTvExtraButtons: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    isExpanded: !1,
                    translations: o.e,
                    share: o.d,
                    web: o.f
                }
            },
            methods: {
                bookmarkPage: i.a,
                printWindow: i.f,
                sendInvitation: function sendInvitation(e, t) {
                    var n = "/settings" === i.i ? "" : "".concat(i.j, " ").concat(i.h, " %0D%0A%0D%0A"),
                        a = e ? "?ref_id=".concat(e) : "",
                        r = "body=".concat(n, "I play at Chess.com! Download their free app:%0D%0A%0D%0A\n      … for Android - ").concat(o.c.android(), "\n      … for iPhone %26 iPad - ").concat(o.c.ios(), " %0D%0A\n      … or sign up online at ").concat(o.c.register()).concat(a, "\n      %0D%0A%0D%0A ... %0D%0A%0D%0A");
                    t && (r += "Then challenge me! %22".concat(t, "%22 is my username! %0D%0A\n            http://www.chess.com/members/view/").concat(t)), Object(i.g)("subject=Check out Chess.com", r)
                },
                shareWindow: function shareWindow(e) {
                    "facebook" !== e && "twitter" !== e || function trackSharedGame(e) {
                        l.default.post(c.a.generate("web_game_callback_shared", {
                            type: e
                        }))
                    }(e), "function" == typeof o.d[e] && s(o.d[e]())
                },
                toggleExpanded: function toggleExpanded() {
                    this.isExpanded = !this.isExpanded
                }
            }
        },
        d = n(418),
        p = n(5);
    var h = Object(p.a)(u, function() {
        var e, t, n, a = this,
            i = a.$createElement,
            o = a._self._c || i;
        return o("div", {
            class: [a.$style.component, (e = {}, e[a.$style[a.background]] = a.background, e)]
        }, [o("div", {
            class: [a.$style.background, (t = {}, t[a.$style.expanded] = a.isExpanded, t)]
        }, [o("div", {
            class: a.$style.primary
        }, [a.chessTvExtraButtons ? [o("a", {
            class: [a.$style.link, a.$style.twitch],
            attrs: {
                target: "_blank",
                "aria-label": a.translations.twitch,
                href: a.share.twitch(),
                title: a.translations.twitch
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "twitch",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("a", {
            class: [a.$style.link, a.$style.youtube],
            attrs: {
                target: "_blank",
                "aria-label": a.translations.youtube,
                href: a.web.youtube,
                title: a.translations.twitch
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "youtube",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("a", {
            class: [a.$style.link, a.$style.instagram],
            attrs: {
                target: "_blank",
                "aria-label": a.translations.instagram,
                href: a.web.instagram,
                title: a.translations.instagram
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "instagram",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("a", {
            class: [a.$style.link, a.$style.discord],
            attrs: {
                target: "_blank",
                "aria-label": a.translations.discord,
                href: a.share.discord(),
                title: a.translations.discord
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "discord",
                theme: "secondary"
            }
        })], 1)] : a._e(), a._v(" "), o("button", {
            class: [a.$style.link, a.$style.facebook],
            attrs: {
                type: "button",
                "aria-label": a.translations.shareFacebook,
                title: a.translations.shareFacebook
            },
            on: {
                click: function(e) {
                    return a.shareWindow("facebook")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "facebook",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: [a.$style.link, a.$style.twitter],
            attrs: {
                type: "button",
                "aria-label": a.translations.shareTwitter,
                title: a.translations.shareTwitter
            },
            on: {
                click: function(e) {
                    return a.shareWindow("twitter")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "twitter",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: [a.$style.link, a.$style.reddit],
            attrs: {
                type: "button",
                "aria-label": a.translations.shareReddit,
                title: a.translations.shareReddit
            },
            on: {
                click: function(e) {
                    return a.shareWindow("reddit")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "reddit",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: [a.$style.link, a.$style.share],
            attrs: {
                type: "button",
                "aria-label": a.translations.showMore,
                title: a.translations.showMore
            },
            on: {
                click: a.toggleExpanded
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                theme: "secondary",
                name: a.isExpanded ? "x" : "share"
            }
        })], 1)], 2), a._v(" "), o("div", {
            class: [a.$style.secondary, (n = {}, n[a.$style.visible] = a.isExpanded, n)]
        }, [o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.shareLinkedIn,
                title: a.translations.shareLinkedIn
            },
            on: {
                click: function(e) {
                    return a.shareWindow("linkedin")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "linkedin",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.shareStumbleUpon,
                title: a.translations.shareStumbleUpon
            },
            on: {
                click: function(e) {
                    return a.shareWindow("stumbleupon")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "stumbleupon",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.shareTumblr,
                title: a.translations.shareTumblr
            },
            on: {
                click: function(e) {
                    return a.shareWindow("tumblr")
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "tumblr",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.addFavorites,
                title: a.translations.addFavorites
            },
            on: {
                click: a.bookmarkPage
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "favorites",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.sendEmail,
                title: a.translations.sendEmail
            },
            on: {
                click: function(e) {
                    return a.sendInvitation(a.userId, a.username)
                }
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "mail",
                theme: "secondary"
            }
        })], 1), a._v(" "), o("button", {
            class: a.$style.link,
            attrs: {
                type: "button",
                "aria-label": a.translations.print,
                title: a.translations.print
            },
            on: {
                click: a.printWindow
            }
        }, [o("icon-font", {
            class: a.$style.icon,
            attrs: {
                "aria-hidden": "true",
                family: "chess",
                name: "printer",
                theme: "secondary"
            }
        })], 1)])])])
    }, [], !1, function injectStyles(e) {
        this.$style = d.default.locals || d.default
    }, null, null);
    t.a = h.exports
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "form-switch",
            mixins: [n(39).a],
            props: {
                name: {
                    type: String,
                    required: !0
                },
                value: {
                    type: Boolean,
                    required: !0
                },
                isDisabled: {
                    type: Boolean,
                    default: !1
                }
            },
            methods: {
                setSwitchStatus: function setSwitchStatus(e) {
                    this.$emit("input", e)
                }
            }
        },
        i = n(481),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("input", {
            class: e.$style.checkbox,
            attrs: {
                type: "checkbox",
                disabled: e.isDisabled,
                id: e.name,
                name: e.name
            },
            domProps: {
                checked: e.value
            },
            on: {
                change: function(t) {
                    return e.setSwitchStatus(t.target.checked)
                }
            }
        }), e._v(" "), n("label", {
            class: e.$style.label,
            attrs: {
                for: e.name
            }
        }, [n("div", {
            class: e.$style.button
        })])])
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, , function(e, t, n) {
    var a = n(528),
        i = n(464),
        o = Object.prototype.propertyIsEnumerable,
        r = Object.getOwnPropertySymbols,
        s = r ? function(e) {
            return null == e ? [] : (e = Object(e), a(r(e), function(t) {
                return o.call(e, t)
            }))
        } : i;
    e.exports = s
}, function(e, t, n) {
    var a = n(532),
        i = n(287),
        o = n(533),
        r = n(534),
        s = n(535),
        l = n(85),
        c = n(337),
        u = c(a),
        d = c(i),
        p = c(o),
        h = c(r),
        m = c(s),
        f = l;
    (a && "[object DataView]" != f(new a(new ArrayBuffer(1))) || i && "[object Map]" != f(new i) || o && "[object Promise]" != f(o.resolve()) || r && "[object Set]" != f(new r) || s && "[object WeakMap]" != f(new s)) && (f = function(e) {
        var t = l(e),
            n = "[object Object]" == t ? e.constructor : void 0,
            a = n ? c(n) : "";
        if (a) switch (a) {
            case u:
                return "[object DataView]";
            case d:
                return "[object Map]";
            case p:
                return "[object Promise]";
            case h:
                return "[object Set]";
            case m:
                return "[object WeakMap]"
        }
        return t
    }), e.exports = f
}, , , , , , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    }), n.d(t, "b", function() {
        return i
    });
    var a = function stringBooleanToBoolean(e) {
            return "true" === e
        },
        i = function stripHTMLComments(e) {
            return e.replace(/<!--([\s\S]*?)-->/gm, "")
        }
}, function(e, t, n) {
    "use strict";
    var a = n(408),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(409),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(410),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(411),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(412),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(413),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(414),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(415),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(416),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    e.exports = {
        component: "form-switch-component",
        checkbox: "form-switch-checkbox",
        readonly: "form-switch-readonly",
        label: "form-switch-label",
        button: "form-switch-button",
        group: "form-switch-group"
    }
}, , , , function(e, t) {
    e.exports = function _arrayWithHoles(e) {
        if (Array.isArray(e)) return e
    }
}, function(e, t) {
    e.exports = function _iterableToArrayLimit(e, t) {
        var n = [],
            a = !0,
            i = !1,
            o = void 0;
        try {
            for (var r, s = e[Symbol.iterator](); !(a = (r = s.next()).done) && (n.push(r.value), !t || n.length !== t); a = !0);
        } catch (e) {
            i = !0, o = e
        } finally {
            try {
                a || null == s.return || s.return()
            } finally {
                if (i) throw o
            }
        }
        return n
    }
}, function(e, t) {
    e.exports = function _nonIterableRest() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance")
    }
}, , function(e, t, n) {
    "use strict";
    var a = n(63),
        i = n(3),
        o = n.n(i),
        r = n(24),
        s = n.n(r),
        l = n(54),
        c = function addZeros(e, t) {
            var n = e.toString(),
                a = t - n.length > 0 ? t - n.length : 0;
            return "".concat("0".repeat(a)).concat(n)
        },
        u = function currentDatePieceIsSelected(e) {
            var t = e.currentDate,
                n = void 0 === t ? {} : t,
                a = e.displayDate,
                i = void 0 === a ? {} : a,
                o = e.datePiece,
                r = e.dateValue,
                s = null !== r && r === n[o],
                c = n.year === i.year,
                u = n.month === i.month;
            switch (o) {
                case l.b.YEAR:
                    return s;
                case l.b.MONTH:
                    return s && c;
                default:
                    return s && u && c
            }
        },
        d = function valueWithinLimits(e) {
            var t = e.value,
                n = e.limitStart,
                a = e.limitEnd;
            return (isNaN(Number(n)) || !n || Number(t) >= Number(n)) && (isNaN(Number(a)) || !a || Number(t) <= Number(a))
        },
        p = function currentDatePieceIsDisabled(e) {
            var t = e.limits,
                n = void 0 === t ? {} : t,
                a = e.datePiece,
                i = e.dateValue,
                o = e.displayDate,
                r = void 0 === o ? {} : o,
                s = n.end || {},
                c = n.start || {};
            switch (a) {
                case l.b.YEAR:
                    return !d({
                        value: i,
                        limitEnd: s.year,
                        limitStart: c.year
                    });
                case l.b.MONTH:
                    return !d({
                        value: new Date(r.year, i),
                        limitEnd: new Date(s.year, s.month),
                        limitStart: new Date(c.year, c.month)
                    });
                default:
                    return !d({
                        value: new Date(r.year, r.month, i),
                        limitEnd: new Date(s.year, s.month, s.day),
                        limitStart: new Date(c.year, c.month, c.day)
                    })
            }
        },
        h = function getDateRangeForYear(e) {
            for (var t = function parseYearIntoDateChunks(e) {
                    var t = String(e),
                        n = String(e / 100);
                    return {
                        century: Number(t.slice(0, t.indexOf(".") - 1)),
                        year: Number(n.slice(n.indexOf(".")))
                    }
                }(e), n = Math.ceil(100 * t.year / 20), a = 100 * t.century + 20 * n, i = [], o = a - 19; o <= a; o++) i.push(o);
            return i
        },
        m = function formatDate(e, t) {
            var n = function getDateParts(e) {
                var t = {};
                return t.D = e.getDate(), t.DD = c(t.D, 2), t.M = e.getMonth() + 1, t.MM = c(t.M, 2), t.YYYY = e.getFullYear(), t.YY = "".concat(t.YYYY).slice(-2), t
            }(e);
            return t.match(l.a).reduce(function(e, t) {
                return e + (n[t] || t)
            }, "")
        },
        f = function isValidDate(e) {
            var t = new Date(e);
            return !isNaN(t.getTime())
        },
        g = function determineFormatType(e, t, n) {
            t.match(l.a);
            var a = n && e.includes(n) ? function getReplacedTypes(e, t, n) {
                    return e.split("").reduce(function(e, a, i) {
                        return a === n ? [].concat(s()(e), [t[i]]) : e
                    }, [])
                }(e, t, n) : function getMissingTypes(e) {
                    var t = e.split(/\D/),
                        n = t.find(function(e) {
                            return 4 === e.length
                        });
                    switch (t.length) {
                        case 0:
                            return ["Y", "M", "D"];
                        case 1:
                            return ["M", "D"];
                        case 2:
                            return [n ? "" : "Y", "D"];
                        default:
                            return []
                    }
                }(e),
                i = -1 === a.indexOf("Y"),
                o = -1 === a.indexOf("M"),
                r = -1 === a.indexOf("D"),
                c = f(e);
            return c && i && !o && !r ? l.c.YEAR : c && i && o && !r ? l.c.YEAR_MONTH : l.c.YEAR_MONTH_DATE
        },
        b = n(31),
        v = {
            name: "form-datepicker-view-wrapper",
            components: {
                IconFont: n(18).a
            },
            props: {
                headingTitle: {
                    type: String,
                    default: ""
                }
            },
            methods: {
                emitHeadingClick: function emitHeadingClick() {
                    this.$emit("click-heading")
                },
                emitIconClick: function emitIconClick() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    this.$emit("click-".concat(e, "-icon"))
                }
            }
        },
        y = n(441),
        _ = n(5);
    var w = Object(_.a)(v, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", [n("div", {
                class: e.$style.heading
            }, [n("icon-font", {
                class: [e.$style.icon, e.$style["icon-left"]],
                attrs: {
                    name: "chevron-left"
                },
                on: {
                    click: function(t) {
                        return e.emitIconClick("left")
                    }
                }
            }), e._v(" "), n("span", {
                class: e.$style.title,
                domProps: {
                    textContent: e._s(e.headingTitle)
                },
                on: {
                    click: e.emitHeadingClick
                }
            }), e._v(" "), n("icon-font", {
                class: [e.$style.icon, e.$style["icon-right"]],
                attrs: {
                    name: "chevron-right"
                },
                on: {
                    click: function(t) {
                        return e.emitIconClick("right")
                    }
                }
            })], 1), e._v(" "), n("div", [e._t("default")], 2)])
        }, [], !1, function injectStyles(e) {
            this.$style = y.default.locals || y.default
        }, null, null).exports,
        O = b.default.extend({
            components: {
                DatepickerWrapper: w
            },
            props: {
                currentDate: {
                    type: Object,
                    required: !0
                },
                displayDate: {
                    type: Object,
                    required: !0
                },
                headingTitle: String,
                formatType: String,
                limits: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                }
            },
            data: function data() {
                return {
                    currentDatePieceIsDisabled: p,
                    currentDatePieceIsSelected: u,
                    datePieceValues: l.b,
                    monthNames: l.e,
                    formatTypes: l.c
                }
            },
            methods: {
                isDisabled: function isDisabled(e, t, n) {
                    return p({
                        datePiece: t,
                        dateValue: e,
                        displayDate: n,
                        limits: this.limits
                    })
                },
                isSelected: function isSelected(e, t) {
                    return u({
                        currentDate: this.currentDate,
                        displayDate: this.displayDate,
                        datePiece: t,
                        dateValue: e
                    })
                }
            }
        });

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var k = O.extend({
            name: "form-datepicker-calendar",
            data: function data() {
                return {
                    shortWeekdayLabels: l.g
                }
            },
            computed: {
                daysInCurrentMonth: function daysInCurrentMonth() {
                    return function getCalendarDaysForYearMonth(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 36,
                            a = new Date(e, t),
                            i = new Date(a.getFullYear(), a.getMonth(), 1).getDay(),
                            o = new Date(a.getFullYear(), a.getMonth() + 1, 0).getDate(),
                            r = i > 0 ? new Array(i).fill({
                                date: null
                            }) : [];
                        return n - (r = r.concat(new Array(o).fill({}).map(function(e, t) {
                            return {
                                date: t + 1
                            }
                        }))).length > 0 && (r = r.concat(new Array(n - r.length).fill({
                            date: null
                        }))), r
                    }(this.displayDate.year, this.displayDate.month)
                }
            },
            methods: {
                handleDaySelect: function handleDaySelect(e) {
                    this.isDisabled(e, this.datePieceValues.DAY, this.displayDate) || this.$emit("day-selected", function _objectSpread(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {};
                            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                                o()(e, t, n[t])
                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                            })
                        }
                        return e
                    }({}, this.displayDate, {
                        day: e
                    }))
                }
            }
        }),
        S = n(442);
    var x = Object(_.a)(k, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("datepicker-wrapper", e._g({
                attrs: {
                    "heading-title": e.headingTitle
                }
            }, e.$listeners), [n("div", {
                class: e.$style["calendar-view"]
            }, [n("div", {
                class: e.$style.weekdays
            }, e._l(e.shortWeekdayLabels, function(t) {
                return n("span", {
                    key: t,
                    domProps: {
                        textContent: e._s(t)
                    }
                })
            }), 0), e._v(" "), n("div", {
                class: e.$style.grid
            }, e._l(e.daysInCurrentMonth, function(t, a) {
                var i, o, r;
                return n("span", {
                    key: a,
                    class: [e.$style.day, (i = {}, i[e.$style.empty] = !t.date, i), (o = {}, o[e.$style.selected] = e.isSelected(t.date, e.datePieceValues.DAY), o), (r = {}, r[e.$style.disabled] = e.isDisabled(t.date, e.datePieceValues.DAY, e.displayDate), r)],
                    domProps: {
                        textContent: e._s(t.date)
                    },
                    on: {
                        click: function(n) {
                            return e.handleDaySelect(t.date)
                        }
                    }
                })
            }), 0)])])
        }, [], !1, function form_datepicker_calendar_injectStyles(e) {
            this.$style = S.default.locals || S.default
        }, null, null).exports,
        P = {
            name: "form-datepicker-controls",
            components: {
                FormButton: n(33).a
            },
            props: {
                formatType: String,
                formatTypes: Object
            },
            computed: {
                yearMonthDateFormat: function yearMonthDateFormat() {
                    return this.formatType === this.formatTypes.YEAR_MONTH_DATE
                }
            },
            methods: {
                emitButtonClick: function emitButtonClick() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    this.$emit("click-".concat(e))
                }
            }
        },
        C = n(443);
    var M = Object(_.a)(P, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style["datepicker-controls"]
            }, [n("div", {
                class: e.$style.buttons
            }, [e.yearMonthDateFormat ? n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "info"
                },
                on: {
                    click: function(t) {
                        return e.emitButtonClick("today")
                    }
                }
            }, [e._v("\n      " + e._s(e.$trans("Today")) + "\n    ")]) : e._e(), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "danger"
                },
                on: {
                    click: function(t) {
                        return e.emitButtonClick("clear")
                    }
                }
            }, [e._v("\n      " + e._s(e.$trans("Clear")) + "\n    ")]), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "basic"
                },
                on: {
                    click: function(t) {
                        return e.emitButtonClick("format")
                    }
                }
            }, [e._v("\n      " + e._s(e.$trans("Format")) + "\n    ")]), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "small",
                    theme: "primary"
                },
                on: {
                    click: function(t) {
                        return e.emitButtonClick("close")
                    }
                }
            }, [e._v("\n      " + e._s(e.$trans("Close")) + "\n    ")])], 1)])
        }, [], !1, function form_datepicker_controls_injectStyles(e) {
            this.$style = C.default.locals || C.default
        }, null, null).exports,
        T = O.extend({
            name: "form-datepicker-format",
            methods: {
                handleFormatSelect: function handleFormatSelect(e) {
                    this.$emit("format-selected", e)
                }
            }
        }),
        E = n(444);
    var A = Object(_.a)(T, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("datepicker-wrapper", e._g({
            attrs: {
                "heading-title": e.$trans("Select Date Format")
            }
        }, e.$listeners), [n("div", {
            class: e.$style["month-view"]
        }, e._l(e.formatTypes, function(t) {
            var a;
            return n("div", {
                key: t,
                class: [e.$style.format, (a = {}, a[e.$style.selected] = e.formatType === t, a)],
                domProps: {
                    textContent: e._s(e.$trans(t))
                },
                on: {
                    click: function(n) {
                        return e.handleFormatSelect(t)
                    }
                }
            })
        }), 0)])
    }, [], !1, function form_datepicker_format_injectStyles(e) {
        this.$style = E.default.locals || E.default
    }, null, null).exports;

    function form_datepicker_monthsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var j = O.extend({
            name: "form-datepicker-months",
            methods: {
                handleMonthSelect: function handleMonthSelect(e) {
                    this.isDisabled(e, this.datePieceValues.MONTH, this.displayDate) || this.$emit("month-selected", function form_datepicker_monthsvue_type_script_lang_js_objectSpread(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {};
                            t % 2 ? form_datepicker_monthsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                                o()(e, t, n[t])
                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : form_datepicker_monthsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                            })
                        }
                        return e
                    }({}, this.displayDate, {
                        month: e
                    }))
                }
            }
        }),
        L = n(445);
    var D = Object(_.a)(j, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("datepicker-wrapper", e._g({
                attrs: {
                    "heading-title": e.headingTitle
                }
            }, e.$listeners), [n("div", {
                class: e.$style["month-view"]
            }, e._l(e.monthNames, function(t, a) {
                var i, o;
                return n("div", {
                    key: t,
                    class: [e.$style.month, (i = {}, i[e.$style.selected] = e.isSelected(a, e.datePieceValues.MONTH), i), (o = {}, o[e.$style.disabled] = e.isDisabled(a, e.datePieceValues.MONTH, e.displayDate), o)],
                    domProps: {
                        textContent: e._s(e.$trans(t))
                    },
                    on: {
                        click: function(t) {
                            return e.handleMonthSelect(a)
                        }
                    }
                })
            }), 0)])
        }, [], !1, function form_datepicker_months_injectStyles(e) {
            this.$style = L.default.locals || L.default
        }, null, null).exports,
        N = O.extend({
            name: "form-datepicker-year",
            computed: {
                computedHeadingTitle: function computedHeadingTitle() {
                    var e = this.displayDateRange[this.displayDateRange.length - 1];
                    return "".concat(this.displayDateRange[0], " - ").concat(e)
                },
                displayDateRange: function displayDateRange() {
                    return h(this.displayDate.year)
                }
            },
            methods: {
                handleYearSelect: function handleYearSelect(e) {
                    this.isDisabled(e, this.datePieceValues.YEAR, this.displayDate) || this.$emit("year-selected", e)
                }
            }
        }),
        I = n(446);
    var $ = Object(_.a)(N, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("datepicker-wrapper", e._g({
                attrs: {
                    "heading-title": e.computedHeadingTitle
                }
            }, e.$listeners), [n("div", {
                class: e.$style["year-view"]
            }, e._l(e.displayDateRange, function(t) {
                var a, i;
                return n("div", {
                    key: t,
                    class: [e.$style.year, (a = {}, a[e.$style.selected] = e.isSelected(t, e.datePieceValues.YEAR), a), (i = {}, i[e.$style.disabled] = e.isDisabled(t, e.datePieceValues.YEAR, e.displayDate), i)],
                    domProps: {
                        textContent: e._s(t)
                    },
                    on: {
                        click: function(n) {
                            return e.handleYearSelect(t)
                        }
                    }
                })
            }), 0)])
        }, [], !1, function form_datepicker_years_injectStyles(e) {
            this.$style = I.default.locals || I.default
        }, null, null).exports,
        B = {
            name: "form-datepicker",
            components: {
                FormDatepickerCalendar: x,
                FormInput: a.a,
                FormDatepickerMonths: D,
                FormDatepickerYears: $,
                FormDatepickerFormat: A,
                FormDatepickerControls: M
            },
            props: {
                options: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                initialValue: {
                    type: String,
                    require: !0
                }
            },
            data: function data() {
                return {
                    currentDate: {
                        day: null,
                        month: null,
                        year: null
                    },
                    currentView: l.i.CALENDAR,
                    displayDate: {
                        month: null,
                        year: null
                    },
                    formattedDate: "",
                    formatType: l.c.YEAR_MONTH_DATE,
                    formatTypes: l.c,
                    today: new Date,
                    views: l.i
                }
            },
            computed: {
                currentMonthName: function currentMonthName() {
                    return l.e[this.currentDate.month]
                },
                currentDateNativeObject: function currentDateNativeObject() {
                    var e = this.currentDate,
                        t = e.year,
                        n = e.month,
                        a = e.day;
                    return new Date(t, n, a)
                },
                dateStringFormat: function dateStringFormat() {
                    return this.options.format || "MM/DD/YYYY"
                },
                displayMonthName: function displayMonthName() {
                    return l.e[this.displayDate.month]
                }
            },
            watch: {
                currentDate: {
                    handler: function handler() {
                        this.setFormattedDate()
                    },
                    deep: !0
                }
            },
            mounted: function mounted() {
                this.readFormatTypeFromInitialValue(), this.setInitialDate()
            },
            methods: {
                changeToNextMonth: function changeToNextMonth() {
                    this.displayDate.month === l.d.LAST ? (this.setDisplayMonth(l.d.FIRST), this.displayDate.year++) : this.setDisplayMonth(this.displayDate.month + 1)
                },
                changeToPreviousMonth: function changeToPreviousMonth() {
                    this.displayDate.month === l.d.FIRST ? (this.setDisplayMonth(l.d.LAST), this.displayDate.year--) : this.setDisplayMonth(this.displayDate.month - 1)
                },
                changeToNextYear: function changeToNextYear() {
                    this.displayDate.year++
                },
                changeToPreviousYear: function changeToPreviousYear() {
                    this.displayDate.year--
                },
                closeCalendar: function closeCalendar() {
                    this.$emit("close")
                },
                clearCalendar: function clearCalendar() {
                    this.clearFormattedDate(), this.closeCalendar()
                },
                clearFormattedDate: function clearFormattedDate() {
                    this.formattedDate = "", this.$emit("input", this.formattedDate)
                },
                handleDaySelect: function handleDaySelect(e) {
                    this.setCurrentDay(e.day), this.setCurrentMonth(e.month), this.setCurrentYear(e.year), this.$emit("day-selected")
                },
                handleMonthSelect: function handleMonthSelect(e) {
                    this.setDisplayMonth(e.month), this.setDisplayYear(e.year), this.formatType === l.c.YEAR_MONTH && (this.setCurrentMonth(e.month), this.setCurrentYear(e.year)), this.handleNextSelectAction(l.c.YEAR_MONTH, this.views.CALENDAR)
                },
                handleNextSelectAction: function handleNextSelectAction(e, t) {
                    this.formatType === e ? this.setFormattedDate() : this.setCurrentView(t)
                },
                handleYearSelect: function handleYearSelect(e) {
                    this.setDisplayYear(e), this.formatType === l.c.YEAR && this.setCurrentYear(e), this.handleNextSelectAction(l.c.YEAR, this.views.MONTH)
                },
                handleFormatSelect: function handleFormatSelect(e) {
                    this.formatType = e, Object.prototype.hasOwnProperty.call(l.h, this.formatType) ? this.setCurrentView(l.h[this.formatType]) : this.setCurrentView(this.views.CALENDAR), this.setFormattedDate()
                },
                isCurrentView: function isCurrentView(e) {
                    return e === this.currentView
                },
                readFormatTypeFromInitialValue: function readFormatTypeFromInitialValue() {
                    this.initialValue && (this.formatType = g(this.initialValue, this.dateStringFormat, this.options.replaceWith), Object.prototype.hasOwnProperty.call(l.h, this.formatType) && this.setCurrentView(l.h[this.formatType]))
                },
                setCurrentDay: function setCurrentDay(e) {
                    e && (this.currentDate.day = e)
                },
                setCurrentMonth: function setCurrentMonth(e) {
                    this.currentDate.month = e
                },
                setCurrentView: function setCurrentView(e) {
                    this.currentView = e
                },
                setCurrentYear: function setCurrentYear(e) {
                    this.currentDate.year = e
                },
                setDisplayMonth: function setDisplayMonth(e) {
                    this.displayDate.month = e
                },
                setDisplayYear: function setDisplayYear(e) {
                    this.displayDate.year = e
                },
                setDateToToday: function setDateToToday() {
                    this.setCurrentMonth(this.today.getMonth()), this.setCurrentYear(this.today.getFullYear()), this.setCurrentDay(this.today.getDate()), this.setDisplayYear(this.today.getFullYear()), this.setDisplayMonth(this.today.getMonth()), this.setFormattedDate()
                },
                setFormattedDate: function setFormattedDate() {
                    var e = function getDateStringFormatFromFormatType(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "",
                            a = l.c.YEAR,
                            i = l.c.YEAR_MONTH;
                        switch (t) {
                            case a:
                                return e.replace(n ? /[MD]/g : /[^Y]/g, n);
                            case i:
                                return e.replace(n ? /D/g : /(\W+D+)|(D+\W+)|(D+)/g, n);
                            default:
                                return e
                        }
                    }(this.dateStringFormat, this.formatType, this.options.replaceWith);
                    this.formattedDate = m(this.currentDateNativeObject, e), this.$emit("input", this.formattedDate), this.options.closeOnSelect && this.closeCalendar()
                },
                setInitialDate: function setInitialDate() {
                    var e = new Date(this.initialValue);
                    f(this.initialValue) ? (this.setCurrentDay(e.getDate()), this.setCurrentMonth(e.getMonth()), this.setCurrentYear(e.getFullYear()), this.setDisplayMonth(e.getMonth()), this.setDisplayYear(e.getFullYear()), this.setFormattedDate()) : this.setDateToToday()
                }
            }
        },
        R = n(447);
    var F = Object(_.a)(B, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.calendar
        }, [n("div", {
            class: e.$style.inner
        }, [n("form-datepicker-calendar", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.isCurrentView(e.views.CALENDAR),
                expression: "isCurrentView(views.CALENDAR)"
            }],
            ref: "calendar-view",
            attrs: {
                "current-date": e.currentDate,
                "display-date": e.displayDate,
                "heading-title": e.displayMonthName + " " + e.displayDate.year,
                limits: e.options.limits
            },
            on: {
                "click-heading": function(t) {
                    return e.setCurrentView(e.views.MONTH)
                },
                "click-left-icon": e.changeToPreviousMonth,
                "click-right-icon": e.changeToNextMonth,
                "day-selected": e.handleDaySelect
            }
        }), e._v(" "), n("form-datepicker-format", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.isCurrentView(e.views.FORMAT),
                expression: "isCurrentView(views.FORMAT)"
            }],
            ref: "format-view",
            attrs: {
                "current-date": e.currentDate,
                "display-date": e.displayDate,
                "format-type": e.formatType
            },
            on: {
                "format-selected": e.handleFormatSelect
            }
        }), e._v(" "), n("form-datepicker-months", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.isCurrentView(e.views.MONTH),
                expression: "isCurrentView(views.MONTH)"
            }],
            ref: "month-view",
            attrs: {
                "current-date": e.currentDate,
                "display-date": e.displayDate,
                "heading-title": String(e.displayDate.year),
                "format-type": e.formatType,
                limits: e.options.limits
            },
            on: {
                "click-heading": function(t) {
                    return e.setCurrentView(e.views.YEAR)
                },
                "click-left-icon": e.changeToPreviousYear,
                "click-right-icon": e.changeToNextYear,
                "month-selected": e.handleMonthSelect
            }
        }), e._v(" "), n("form-datepicker-years", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.isCurrentView(e.views.YEAR),
                expression: "isCurrentView(views.YEAR)"
            }],
            ref: "year-view",
            attrs: {
                "current-date": e.currentDate,
                "display-date": e.displayDate,
                "format-type": e.formatType,
                limits: e.options.limits
            },
            on: {
                "click-left-icon": function(t) {
                    return e.setDisplayYear(e.displayDate.year - 20)
                },
                "click-right-icon": function(t) {
                    return e.setDisplayYear(e.displayDate.year + 20)
                },
                "year-selected": e.handleYearSelect,
                "view-changed": e.setCurrentView
            }
        })], 1), e._v(" "), n("form-datepicker-controls", {
            attrs: {
                "format-type": e.formatType,
                "format-types": e.formatTypes
            },
            on: {
                "click-clear": e.clearCalendar,
                "click-close": e.closeCalendar,
                "click-format": function(t) {
                    return e.setCurrentView(e.views.FORMAT)
                },
                "click-today": e.setDateToToday
            }
        })], 1)
    }, [], !1, function form_datepicker_injectStyles(e) {
        this.$style = R.default.locals || R.default
    }, null, null);
    t.a = F.exports
}, , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return O
    }), n.d(t, "b", function() {
        return k
    });
    var a, i = n(3),
        o = n.n(i),
        r = n(10),
        s = n(0),
        l = "abandoned",
        c = "agreed",
        u = "bughousepartnerlose",
        d = "checkmated",
        p = "doubleforfeit",
        h = "50move",
        m = "insufficient",
        f = "kingofthehill",
        g = "repetition",
        b = "resigned",
        v = "stalemate",
        y = "threecheck",
        _ = "timeout",
        w = "timevsinsufficient",
        O = (a = {}, o()(a, l, Object(r.b)("game abandoned")), o()(a, c, Object(r.b)("by agreement")), o()(a, u, Object(r.b)("with their bughouse partner")), o()(a, d, Object(r.b)("by checkmate")), o()(a, p, Object(r.b)("Double forfeit")), o()(a, h, Object(r.b)("by 50-move rule")), o()(a, m, Object(r.b)("by insufficient material")), o()(a, f, Object(r.b)("by the king reaching the hill")), o()(a, g, Object(r.b)("by repetition")), o()(a, b, Object(r.b)("by resignation")), o()(a, v, Object(r.b)("by stalemate")), o()(a, y, Object(r.b)("by checking the opponent king for the 3rd time")), o()(a, _, Object(r.b)("on time")), o()(a, w, Object(r.b)("by timeout vs insufficient material")), {
            HALF_HALF: "1/2-1/2",
            HALF_HALF_ENTITY: "&frac12;-&frac12;",
            ONE_ZERO: "1-0",
            ZERO_ONE: "0-1"
        }),
        k = [{
            label: s.a.trans("Standard"),
            value: "chess",
            icon: "chess-board",
            tip: s.a.trans("Normal rules of chess."),
            daily: !0,
            live: !0,
            defaultType: !0
        }, {
            label: s.a.trans("Chess960"),
            value: "chess960",
            icon: "chess960",
            tip: s.a.trans("Normal rules, but starting position is random."),
            daily: !0,
            live: !0
        }, {
            label: s.a.trans("Book Opening"),
            value: "book",
            icon: "chess-board",
            daily: !0,
            quickLaunch: !1
        }, {
            label: s.a.trans("Custom FEN"),
            value: "custom",
            icon: "chess-board",
            daily: !0,
            quickLaunch: !1
        }, {
            label: s.a.trans("3 Check"),
            value: "threecheck",
            icon: "threecheck",
            tip: s.a.trans("First to check the other king 3 times wins."),
            live: !0
        }, {
            label: s.a.trans("King of the Hill"),
            value: "kingofthehill",
            icon: "kingofthehill",
            tip: s.a.trans("First to get king to middle 4 squares wins."),
            live: !0
        }, {
            label: s.a.trans("Crazyhouse"),
            value: "crazyhouse",
            icon: "crazyhouse",
            tip: s.a.trans("When you capture a piece, you can drop it on your turn!"),
            live: !0
        }, {
            label: s.a.trans("Bughouse"),
            value: "bughouse",
            icon: "bughouse",
            tip: s.a.trans("Team up with another player and you can drop the pieces that they capture."),
            live: !0
        }]
}, function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return downloadAsFile
    });
    var a = n(483);

    function downloadAsFile(e, t) {
        var n = new Blob([e], {
            type: "application/x-chess-pgn;charset=utf-8"
        });
        Object(a.saveAs)(n, t || "download")
    }
}, , , function(e, t) {
    e.exports = function stubArray() {
        return []
    }
}, function(e, t, n) {
    var a = n(466),
        i = n(288),
        o = n(433),
        r = n(464),
        s = Object.getOwnPropertySymbols ? function(e) {
            for (var t = []; e;) a(t, o(e)), e = i(e);
            return t
        } : r;
    e.exports = s
}, function(e, t) {
    e.exports = function arrayPush(e, t) {
        for (var n = -1, a = t.length, i = e.length; ++n < a;) e[i + n] = t[n];
        return e
    }
}, function(e, t, n) {
    var a = n(466),
        i = n(117);
    e.exports = function baseGetAllKeys(e, t, n) {
        var o = t(e);
        return i(e) ? o : a(o, n(e))
    }
}, , , , , , , , function(e, t, n) {
    e.exports = n(26)(59)
}, function(e, t, n) {
    var a = n(524),
        i = 1,
        o = 4;
    e.exports = function cloneDeep(e) {
        return a(e, i | o)
    }
}, , , function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(429),
        r = n.n(o),
        s = n(123),
        l = n(421),
        c = n(47),
        u = n(48),
        d = n(53),
        p = n(25);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var h = {
            name: "board-popover",
            components: {
                GamePreview: n(395).a
            },
            data: function data() {
                return {
                    data: null,
                    defaultSide: "right",
                    flipBoard: !1,
                    popoverSquareSize: 20,
                    position: {},
                    referenceElement: null,
                    scrollElement: null,
                    visible: !1
                }
            },
            computed: function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(p.mapState)({
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                }
            }), {
                classes: function classes() {
                    var e;
                    return e = {}, i()(e, this.$style.component, !0), i()(e, this.$style[this.position.placement], this.position.placement), e
                },
                popoverStyles: function popoverStyles() {
                    var e = this.position,
                        t = {
                            left: "".concat(e.left || 0, "px"),
                            top: "".concat(e.top || 0, "px")
                        };
                    return Object(d.a)() && (t.left = "".concat(window.innerWidth - e.left - 10 || 0, "px")), t
                }
            }),
            watch: {
                visible: function visible(e) {
                    e ? (this.referenceElement.addEventListener("mouseout", this.hide), this.scrollElement.addEventListener("scroll", this.hide)) : (this.referenceElement.removeEventListener("mouseout", this.hide), this.scrollElement.removeEventListener("scroll", this.hide))
                }
            },
            methods: {
                hide: function hide() {
                    this.visible = !1
                },
                initializeAndShow: function initializeAndShow(e, t) {
                    e && e.fen && (this.data = e, this.defaultSide = e.modifier || this.defaultSide, this.referenceElement = t, this.flipBoard = e.flipBoard || this.boardOptions.flipBoard, this.scrollElement = Object(u.i)(), this.show())
                },
                show: function show() {
                    var e = this;
                    this.visible = !0, this.$nextTick(function() {
                        e.position = Object(c.a)(e.referenceElement, e.$refs.popover, e.defaultSide, 15)
                    })
                }
            }
        },
        m = n(36),
        f = {
            mixins: [h],
            mounted: function mounted() {
                m.a.$on("boardPopover/show", this.initializeAndShow), m.a.$on("boardPopover/hide", this.hide)
            }
        },
        g = n(449),
        b = n(5);
    var v = Object(b.a)(f, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return e.visible ? n("div", {
                ref: "popover",
                class: e.classes,
                style: e.popoverStyles
            }, [n("game-preview", {
                attrs: {
                    "color-scheme": e.boardOptions.boardStyle,
                    fen: e.data.fen,
                    "flip-board": e.flipBoard,
                    "is-board-popover": !0,
                    "highlight-squares": e.data.highlightedSquares,
                    "piece-style": e.boardOptions.pieceStyle,
                    size: e.popoverSquareSize
                }
            }), e._v(" "), e.data.component ? n(e.data.component, {
                tag: "component",
                attrs: {
                    data: e.data
                }
            }) : e._e()], 1) : e._e()
        }, [], !1, function injectStyles(e) {
            this.$style = g.default.locals || g.default
        }, null, null).exports,
        y = n(476),
        _ = n.n(y).a,
        w = n(56),
        O = n(23);

    function board_popover_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    Object(s.a)({
        board: l.a
    });
    var k = {},
        S = Object(w.a)({
            boardPopover: {
                component: v,
                el: "#board-popover",
                store: O.default
            }
        }),
        x = function showBoardPopover(e) {
            var t = e.currentTarget;
            S.createInstance("boardPopover"), m.a.$emit("boardPopover/show", k[t.dataset.boardPopover], t)
        };
    t.a = {
        bind: function bind(e, t) {
            var n = Object.keys(t.modifiers).length ? Object.keys(t.modifiers)[0] : null,
                a = function random() {
                    return Math.random().toString(36).substring(2, 15)
                }(),
                o = t.value,
                s = o.element,
                l = r()(o, ["element"]);
            e.dataset.boardPopover = a, k[a] = function board_popover_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? board_popover_ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : board_popover_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, _(l), {
                element: s,
                modifier: n
            }), e.addEventListener("mouseover", x)
        },
        unbind: function unbind(e) {
            delete k[e.dataset.boardPopover], e.removeEventListener("mouseover", x)
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(56),
        i = n(47),
        o = n(54),
        r = {
            components: {
                FormDatepicker: n(458).a
            },
            data: function data() {
                return {
                    options: null,
                    initialValue: null,
                    position: {
                        placement: o.f.BOTTOM,
                        left: -4e3,
                        top: -4e3
                    }
                }
            },
            computed: {
                hasInitialValue: function hasInitialValue() {
                    return null !== this.initialValue
                },
                style: function style() {
                    return {
                        transform: "translate(".concat(this.position.left, "px, ").concat(this.position.top, "px)")
                    }
                }
            },
            methods: {
                handleWindowClick: function handleWindowClick(e) {
                    this.$directiveEl.contains(e.target) || this.$el.contains(e.target) || (this.close(), this.removeClickEventListener())
                },
                close: function close() {
                    this.position = {
                        placement: o.f.BOTTOM,
                        left: -4e3,
                        top: -4e3
                    }
                },
                open: function open(e) {
                    var t = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : o.f.BOTTOM;
                    this.addClickEventListener(), this.$nextTick(function() {
                        t.position = Object(i.a)(e, t.$el, n, 10)
                    })
                },
                onDateSelect: function onDateSelect(e) {
                    return e
                },
                handleDaySelect: function handleDaySelect() {
                    this.close()
                },
                handleCloseDatepicker: function handleCloseDatepicker() {
                    this.removeClickEventListener(), this.close()
                },
                addClickEventListener: function addClickEventListener() {
                    window.addEventListener("click", this.handleWindowClick)
                },
                removeClickEventListener: function removeClickEventListener() {
                    window.removeEventListener("click", this.handleWindowClick)
                }
            }
        },
        s = n(448),
        l = n(5);
    var c = Object(l.a)(r, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                ref: "datepicker",
                class: e.$style.component,
                style: e.style
            }, [e.hasInitialValue ? n("form-datepicker", {
                attrs: {
                    options: e.options,
                    "initial-value": e.initialValue
                },
                on: {
                    close: e.handleCloseDatepicker,
                    input: e.onDateSelect
                }
            }) : e._e()], 1)
        }, [], !1, function injectStyles(e) {
            this.$style = s.default.locals || s.default
        }, null, null).exports,
        u = Object(a.a)({
            formDatepicker: {
                component: c,
                el: "#form-datepicker"
            }
        }),
        d = function getDirectiveElement(e, t) {
            var n;
            return Object.prototype.hasOwnProperty.call(t.value, "selector") ? n = t.value.selector : "focus" === t.arg && e.hasChildNodes() && (n = "input"), n ? e.querySelector(n) : e
        },
        p = [];
    t.a = {
        bind: function bind(e, t, n) {
            var a = d(e, t),
                i = function directiveClickListener() {
                    var i = u.createInstance("formDatepicker");
                    i.$children[0].$directiveEl = a, i.$children[0].options = t.value, i.$children[0].initialValue = function getInitialValue(e, t, n) {
                        return t.value.initialValue ? t.value.initialValue : n.componentInstance ? n.componentInstance.value : e.value ? e.value : ""
                    }(e, t, n), i.$children[0].onDateSelect = t.value.onDateSelect, i.$children[0].open(a, t.value.placement)
                };
            a.addEventListener(t.arg, i), a.dataset.listenerIndex = p.length, p.push(i)
        },
        unbind: function unbind(e, t) {
            d(e, t).removeEventListener(t.arg, p[e.dataset.listenerIndex])
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(450),
        i = n.n(a);
    t.default = i.a
}, , function(t, n, a) {
    (function(a) {
        var i, o, r;
        o = [], void 0 === (r = "function" == typeof(i = function() {
            "use strict";

            function c(e, t, n) {
                var a = new XMLHttpRequest;
                a.open("GET", e), a.responseType = "blob", a.onload = function() {
                    i(a.response, t, n)
                }, a.onerror = function() {
                    console.error("could not download file")
                }, a.send()
            }

            function d(e) {
                var t = new XMLHttpRequest;
                return t.open("HEAD", e, !1), t.send(), 200 <= t.status && 299 >= t.status
            }

            function e(e) {
                try {
                    e.dispatchEvent(new MouseEvent("click"))
                } catch (n) {
                    var t = document.createEvent("MouseEvents");
                    t.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), e.dispatchEvent(t)
                }
            }
            var n = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof a && a.global === a ? a : void 0,
                i = n.saveAs || ("object" != typeof window || window !== n ? function() {} : "download" in HTMLAnchorElement.prototype ? function(t, a, i) {
                    var o = n.URL || n.webkitURL,
                        r = document.createElement("a");
                    a = a || t.name || "download", r.download = a, r.rel = "noopener", "string" == typeof t ? (r.href = t, r.origin === location.origin ? e(r) : d(r.href) ? c(t, a, i) : e(r, r.target = "_blank")) : (r.href = o.createObjectURL(t), setTimeout(function() {
                        o.revokeObjectURL(r.href)
                    }, 4e4), setTimeout(function() {
                        e(r)
                    }, 0))
                } : "msSaveOrOpenBlob" in navigator ? function(t, n, a) {
                    if (n = n || t.name || "download", "string" != typeof t) navigator.msSaveOrOpenBlob(function b(e, t) {
                        return void 0 === t ? t = {
                            autoBom: !1
                        } : "object" != typeof t && (console.warn("Deprecated: Expected third argument to be a object"), t = {
                            autoBom: !t
                        }), t.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob(["\ufeff", e], {
                            type: e.type
                        }) : e
                    }(t, a), n);
                    else if (d(t)) c(t, n, a);
                    else {
                        var i = document.createElement("a");
                        i.href = t, i.target = "_blank", setTimeout(function() {
                            e(i)
                        })
                    }
                } : function(e, t, a, i) {
                    if ((i = i || open("", "_blank")) && (i.document.title = i.document.body.innerText = "downloading..."), "string" == typeof e) return c(e, t, a);
                    var o = "application/octet-stream" === e.type,
                        r = /constructor/i.test(n.HTMLElement) || n.safari,
                        s = /CriOS\/[\d]+/.test(navigator.userAgent);
                    if ((s || o && r) && "object" == typeof FileReader) {
                        var l = new FileReader;
                        l.onloadend = function() {
                            var e = l.result;
                            e = s ? e : e.replace(/^data:[^;]*;/, "data:attachment/file;"), i ? i.location.href = e : location = e, i = null
                        }, l.readAsDataURL(e)
                    } else {
                        var u = n.URL || n.webkitURL,
                            d = u.createObjectURL(e);
                        i ? i.location = d : location.href = d, i = null, setTimeout(function() {
                            u.revokeObjectURL(d)
                        }, 4e4)
                    }
                });
            n.saveAs = i.saveAs = i, t.exports = i
        }) ? i.apply(n, o) : i) || (t.exports = r)
    }).call(this, a(304))
}, , , , , function(e, t) {
    e.exports = function _objectWithoutPropertiesLoose(e, t) {
        if (null == e) return {};
        var n, a, i = {},
            o = Object.keys(e);
        for (a = 0; a < o.length; a++) n = o[a], t.indexOf(n) >= 0 || (i[n] = e[n]);
        return i
    }
}, , , , , function(e, t, n) {
    e.exports = {
        component: "board-controls-component",
        hide: "board-controls-hide",
        icon: "board-controls-icon"
    }
}, function(e, t, n) {}, function(e, t, n) {
    e.exports = {
        component: "move-text-component",
        "dark-mode": "move-text-dark-mode",
        selected: "move-text-selected",
        "contains-figurine": "move-text-contains-figurine",
        icon: "move-text-icon",
        "en-passant": "move-text-en-passant"
    }
}, function(e, t, n) {
    e.exports = {
        component: "node-comment-component",
        placeholder: "node-comment-placeholder"
    }
}, function(e, t, n) {
    e.exports = {
        component: "node-space-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "move-node-component",
        highlighted: "move-node-highlighted",
        colorable: "move-node-colorable",
        colored: "move-node-colored",
        darkMode: "move-node-darkMode",
        clickable: "move-node-clickable",
        "main-line": "move-node-main-line"
    }
}, function(e, t, n) {
    e.exports = {
        component: "move-node-context-menu-component",
        darkMode: "move-node-context-menu-darkMode",
        item: "move-node-context-menu-item",
        big: "move-node-context-menu-big",
        last: "move-node-context-menu-last",
        small: "move-node-context-menu-small"
    }
}, function(e, t, n) {
    e.exports = {
        component: "horizontal-move-list-component",
        line: "horizontal-move-list-line",
        main: "horizontal-move-list-main",
        alternate: "horizontal-move-list-alternate",
        "last-child": "horizontal-move-list-last-child",
        "dark-mode": "horizontal-move-list-dark-mode",
        result: "horizontal-move-list-result"
    }
}, function(e, t, n) {
    e.exports = {
        component: "modal-header-component",
        title: "modal-header-title",
        icon: "modal-header-icon"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "board-settings-modal",
        select: "board-settings-select",
        settings: "board-settings-settings",
        setting: "board-settings-setting",
        label: "board-settings-label"
    }
}, function(e, t, n) {
    e.exports = {
        component: "board-settings-options-component",
        select: "board-settings-options-select",
        setting: "board-settings-options-setting",
        label: "board-settings-options-label"
    }
}, function(e, t, n) {
    e.exports = {
        component: "droppable-pieces-component",
        highlight: "droppable-pieces-highlight",
        hand: "droppable-pieces-hand",
        el: "droppable-pieces-el",
        dragging: "droppable-pieces-dragging"
    }
}, function(e, t, n) {
    e.exports = {
        "captured-pieces": "captured-pieces-captured-pieces",
        vertical: "captured-pieces-vertical",
        hidden: "captured-pieces-hidden",
        cpiece: "captured-pieces-cpiece",
        score: "captured-pieces-score",
        "b-pawn": "captured-pieces-b-pawn",
        "w-pawn": "captured-pieces-w-pawn",
        "b-2-pawns": "captured-pieces-b-2-pawns",
        "w-2-pawns": "captured-pieces-w-2-pawns",
        "b-3-pawns": "captured-pieces-b-3-pawns",
        "w-3-pawns": "captured-pieces-w-3-pawns",
        "b-4-pawns": "captured-pieces-b-4-pawns",
        "w-4-pawns": "captured-pieces-w-4-pawns",
        "b-5-pawns": "captured-pieces-b-5-pawns",
        "w-5-pawns": "captured-pieces-w-5-pawns",
        "b-6-pawns": "captured-pieces-b-6-pawns",
        "w-6-pawns": "captured-pieces-w-6-pawns",
        "b-7-pawns": "captured-pieces-b-7-pawns",
        "w-7-pawns": "captured-pieces-w-7-pawns",
        "b-8-pawns": "captured-pieces-b-8-pawns",
        "w-8-pawns": "captured-pieces-w-8-pawns",
        "b-bishop": "captured-pieces-b-bishop",
        "w-bishop": "captured-pieces-w-bishop",
        "b-2-bishops": "captured-pieces-b-2-bishops",
        "w-2-bishops": "captured-pieces-w-2-bishops",
        "b-knight": "captured-pieces-b-knight",
        "w-knight": "captured-pieces-w-knight",
        "b-2-knights": "captured-pieces-b-2-knights",
        "w-2-knights": "captured-pieces-w-2-knights",
        "b-rook": "captured-pieces-b-rook",
        "w-rook": "captured-pieces-w-rook",
        "b-2-rooks": "captured-pieces-b-2-rooks",
        "w-2-rooks": "captured-pieces-w-2-rooks",
        "b-queen": "captured-pieces-b-queen",
        "w-queen": "captured-pieces-w-queen"
    }
}, , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    var a = {};
    n.r(a), n.d(a, "blinkSquares", function() {
        return s
    }), n.d(a, "cancelPremoves", function() {
        return l
    }), n.d(a, "changeSettings", function() {
        return c
    }), n.d(a, "clearArrow", function() {
        return u
    }), n.d(a, "clearBlinkingSquare", function() {
        return d
    }), n.d(a, "clearBoard", function() {
        return p
    }), n.d(a, "clearMarkings", function() {
        return h
    }), n.d(a, "clearSquare", function() {
        return m
    }), n.d(a, "consumePremove", function() {
        return f
    }), n.d(a, "createVariation", function() {
        return g
    }), n.d(a, "deleteNode", function() {
        return b
    }), n.d(a, "deleteRemainingMoves", function() {
        return v
    }), n.d(a, "getCurrentFullLine", function() {
        return y
    }), n.d(a, "getPgn", function() {
        return _
    }), n.d(a, "getPgnHeaders", function() {
        return w
    }), n.d(a, "goToNode", function() {
        return O
    }), n.d(a, "init", function() {
        return k
    }), n.d(a, "loadFromFen", function() {
        return S
    }), n.d(a, "loadFromLan", function() {
        return x
    }), n.d(a, "loadFromPgn", function() {
        return P
    }), n.d(a, "loadFromSanMoves", function() {
        return C
    }), n.d(a, "loadFromTcn", function() {
        return M
    }), n.d(a, "makeMove", function() {
        return T
    }), n.d(a, "makeOpponentMove", function() {
        return E
    }), n.d(a, "makeOpponentTcnMove", function() {
        return A
    }), n.d(a, "makePremove", function() {
        return j
    }), n.d(a, "makeTcnMove", function() {
        return L
    }), n.d(a, "markArrow", function() {
        return D
    }), n.d(a, "markEffect", function() {
        return N
    }), n.d(a, "markSquare", function() {
        return I
    }), n.d(a, "mergeTcn", function() {
        return $
    }), n.d(a, "moveBackward", function() {
        return B
    }), n.d(a, "moveForward", function() {
        return R
    }), n.d(a, "moveListContextMenuAction", function() {
        return U
    }), n.d(a, "moveToEnd", function() {
        return G
    }), n.d(a, "moveToStart", function() {
        return H
    }), n.d(a, "moveVariation", function() {
        return V
    }), n.d(a, "resetGame", function() {
        return W
    }), n.d(a, "resetToMainLine", function() {
        return K
    }), n.d(a, "selectLineEnd", function() {
        return X
    }), n.d(a, "selectLineStart", function() {
        return Q
    }), n.d(a, "setPlayingAs", function() {
        return Z
    }), n.d(a, "setTimestamps", function() {
        return J
    }), n.d(a, "takeBackMove", function() {
        return ee
    }), n.d(a, "updateMarkings", function() {
        return te
    }), n.d(a, "updateNode", function() {
        return ne
    }), n.d(a, "updatePgnHeaders", function() {
        return ae
    });
    var i = n(34),
        o = n(29),
        r = n(22),
        s = function blinkSquares(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                s = Object(i.b)(a);
            t.forEach(function(e) {
                var t = r.a.getFileRankFromSan(e);
                s = o.a.addBlinkingSquare(s, 200, 3, {
                    file: t.file,
                    rank: t.rank,
                    color: "#f42a32"
                })
            }), n("setGame", s)
        },
        l = function cancelPremoves(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.cancelPremoves(a))
        },
        c = function changeSettings(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.changeSettings(r, t)), n("setSettings", r.settings)
        },
        u = function clearArrow(e, t, n) {
            var a = e.commit,
                r = e.state.gameStoreNamespace,
                s = Object(i.b)(r);
            a("setGame", s = o.a.clearArrow(s, t, n))
        },
        d = function clearBlinkingSquare(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.clearBlinkingSquare(r, t))
        },
        p = function clearBoard(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.clearBoard(a))
        },
        h = function clearMarkings(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.clearMarkings(r, t))
        },
        m = function clearSquare(e, t, n) {
            var a = e.commit,
                r = e.state.gameStoreNamespace,
                s = Object(i.b)(r);
            a("setGame", s = o.a.clearMarkedSquare(s, t, n))
        },
        f = function consumePremove(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.consumePremove(a))
        },
        g = function createVariation(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.createVariation(a))
        },
        b = function deleteNode(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                r = Object(i.b)(n);
            t("setGame", r = o.a.deleteNode(r, a))
        },
        v = function deleteRemainingMoves(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.deleteRemainingNodes(a))
        },
        y = function getCurrentFullLine(e) {
            var t = e.state.gameStoreNamespace,
                n = Object(i.b)(t);
            return o.a.getCurrentFullLine(n)
        },
        _ = function getPgn(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setPgn", o.a.getPgn(r, t))
        },
        w = function getPgnHeaders(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setPgnHeaders", o.a.getPgnHeaders(a))
        },
        O = function goToNode(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            r.tree.selected.line === t.line && r.tree.selected.move === t.move || n("setGame", r = o.a.selectNode(r, {
                line: t.line,
                move: t.move
            }))
        },
        k = function init(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                r = Object(i.b)(n),
                s = a.tcn;
            if (delete a.tcn, (r = o.a.createGame(a)).gameStoreNamespace = n, s) {
                var l = a.offset || 0;
                r = o.a.mergeTcn(r, s, l)
            }
            t("setGame", r), t("setSettings", r.settings)
        },
        S = function loadFromFen(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.loadFromFen(r, t))
        },
        x = function loadFromLan(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                r = Object(i.b)(n);
            t("setGame", r = o.a.loadFromLan(r, a.lanMoves, a.fen))
        },
        P = function loadFromPgn(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = t.pgn,
                s = t.diff,
                l = Object(i.b)(a);
            n("setGame", l = o.a.loadFromPgn(l, r, s))
        },
        C = function loadFromSanMoves(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.loadFromSanMoves(r, t))
        },
        M = function loadFromTcn(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.loadFromTcn(r, t))
        },
        T = function makeMove(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                s = Object(i.b)(a);
            n("setGame", s = o.a.makeMove(s, {
                from: t.from ? r.a.getSanFromFileRank(t.from) : null,
                to: t.to ? r.a.getSanFromFileRank(t.to) : null,
                san: t.san,
                drop: t.drop,
                put: t.put,
                promotion: t.promotion
            }))
        },
        E = function makeOpponentMove(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            r = o.a.setPlayingAs(r, 3 - r.setup.playingAs), r = o.a.makeMove(r, {
                from: t.from ? t.from : null,
                to: t.to ? t.to : null,
                san: t.san,
                drop: t.drop,
                put: t.put,
                promotion: t.promotion
            }), n("setGame", r = o.a.setPlayingAs(r, 3 - r.setup.playingAs))
        },
        A = function makeOpponentTcnMove(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            r = o.a.setPlayingAs(r, 3 - r.setup.playingAs), r = o.a.makeMove(r, {
                tcn: t
            }), n("setGame", r = o.a.setPlayingAs(r, 3 - r.setup.playingAs))
        },
        j = function makePremove(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                s = Object(i.b)(a);
            n("setGame", s = o.a.makePremove(s, {
                from: t.from ? r.a.getSanFromFileRank(t.from) : null,
                to: t.to ? r.a.getSanFromFileRank(t.to) : null,
                san: t.san,
                drop: t.drop,
                put: t.put,
                promotion: t.promotion
            }))
        },
        L = function makeTcnMove(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.makeMove(r, {
                tcn: t
            }))
        },
        D = function markArrow(e, t, n) {
            var a = e.commit,
                s = e.state.gameStoreNamespace,
                l = Object(i.b)(s),
                c = t;
            t.fromMove && t.toMove && (c = {
                color: t.color,
                fromFileRank: r.a.getFileRankFromSan(t.fromMove),
                opacity: t.opacity,
                toFileRank: r.a.getFileRankFromSan(t.toMove)
            }), a("setGame", l = o.a.markArrow(l, c, n))
        },
        N = function markEffect(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = t.effect,
                s = t.ids,
                l = t.persist,
                c = Object(i.b)(a);
            n("setGame", c = o.a.markEffect({
                game: c,
                effect: r,
                ids: s,
                persist: l
            }))
        },
        I = function markSquare(e, t, n) {
            var a = e.commit,
                s = e.state.gameStoreNamespace,
                l = Object(i.b)(s),
                c = t;
            "string" == typeof t && (c = r.a.getFileRankFromSan(t)), a("setGame", l = o.a.markSquare(l, c, n))
        },
        $ = function mergeTcn(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.mergeTcn(r, t))
        },
        B = function moveBackward(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            o.a.canMoveBackward(r, t) && n("setGame", r = o.a.moveBackward(r, t))
        },
        R = function moveForward(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            o.a.canMoveForward(r, t) && n("setGame", r = o.a.moveForward(r, t))
        },
        F = n(38),
        z = n(2),
        U = function moveListContextMenuAction(e, t) {
            var n, a = e.commit,
                r = e.dispatch,
                s = e.state.gameStoreNamespace,
                l = Object(i.b)(s),
                c = {};
            switch (n = t.actionItem.position !== F.b.BEFORE || z.a.isFirstVisibleNode(l.tree.lines, t.node.ids) ? t.node : z.a.findNode(l.tree.lines, t.node.ids, -1), t.actionItem.action !== F.a.CLEAR_ANALYSIS && r("goToNode", n.ids), t.actionItem.action) {
                case F.a.ADD_ANNOTATION:
                    l = o.a.updateNode(l, n.ids, {
                        annotation: t.actionItem.code
                    });
                    break;
                case F.a.ADD_EVAL_NOTATION:
                    l = o.a.updateNode(l, n.ids, {
                        additionalAnnotation: t.actionItem.code
                    });
                    break;
                case F.a.INSERT_COMMENT:
                    t.actionItem.position === F.b.BEFORE && z.a.isFirstVisibleNode(l.tree.lines, t.node.ids) ? (c.comment = t.node.comment, c.commentBefore = "") : (c.comment = "", c.commentBefore = t.node.commentBefore), l = o.a.updateNode(l, n.ids, c);
                    break;
                case F.a.UPDATE_COMMENT:
                    t.actionItem.position === F.b.BEFORE ? (c.comment = t.node.comment, c.commentBefore = t.actionItem.value) : (c.comment = t.actionItem.value, c.commentBefore = t.node.commentBefore), l = o.a.updateNode(l, n.ids, c);
                    break;
                case F.a.DELETE_COMMENT:
                    t.actionItem.position === F.b.BEFORE && z.a.isFirstVisibleNode(l.tree.lines, t.node.ids) ? c.commentBefore = void 0 : c.comment = void 0, l = o.a.updateNode(l, n.ids, c);
                    break;
                case F.a.REMOVE_ANNOTATION:
                    c.annotation = null, l = o.a.updateNode(l, n.ids, c);
                    break;
                case F.a.REMOVE_EVAL_ANNOTATION:
                    c.additionalAnnotation = null, l = o.a.updateNode(l, n.ids, c);
                    break;
                case F.a.DELETE_MOVE:
                    l = o.a.deleteNode(l, n.ids);
                    break;
                case F.a.PROMOTE_VARIATION:
                    l = o.a.promoteVariation(l, n.ids);
                    break;
                case F.a.MOVE_VARIATION:
                    l = o.a.moveVariation(l, n.ids.line, !0);
                    break;
                case F.a.MOVE_VARIATION_DOWN:
                    l = o.a.moveVariation(l, n.ids.line, !1);
                    break;
                case F.a.CLEAR_ANALYSIS:
                    l = o.a.clearAnalysis(l);
                    break;
                case F.a.CREATE_VARIATION:
                    l = o.a.selectNode(l, n.ids), l = o.a.createVariation(l, !1, n.ids);
                    break;
                case F.a.CREATE_CONTINUATION:
                    l = o.a.selectNode(l, n.ids), l = o.a.createVariation(l, !0, n.ids);
                    break;
                case F.a.DELETE_LINE:
                    l = o.a.deleteLine(l, n.ids.line)
            }
            a("setGame", l)
        },
        G = function moveToEnd(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.moveToEnd(a))
        },
        H = function moveToStart(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.moveToStart(a))
        },
        V = function moveVariation(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.moveVariation(a))
        },
        W = function resetGame(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace;
            Object(i.b)(n);
            t("setGame", o.a.createGame())
        },
        K = function resetToMainLine(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n);
            t("setGame", a = o.a.resetToMainLine(a))
        },
        q = n(3),
        Y = n.n(q);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var X = function selectLineEnd(e, t) {
        var n = e.commit,
            a = e.state.gameStoreNamespace,
            r = Object(i.b)(a),
            s = function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ownKeys(n, !0).forEach(function(t) {
                        Y()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, r.tree.selected);
        (r = o.a.selectLineEnd(r, t)).tree.selected.line === s.line && r.tree.selected.move === s.move || n("setGame", r)
    };

    function select_line_start_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Q = function selectLineStart(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n),
                r = function select_line_start_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? select_line_start_ownKeys(n, !0).forEach(function(t) {
                            Y()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : select_line_start_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, a.tree.selected);
            (a = o.a.selectLineStart(a)).tree.selected.line === r.line && a.tree.selected.move === r.move || t("setGame", a)
        },
        Z = function setPlayingAs(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.setPlayingAs(r, t))
        },
        J = function setTimestamps(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.setTimestamps(r, t))
        },
        ee = function takeBackMove(e) {
            var t = e.commit,
                n = e.state.gameStoreNamespace,
                a = Object(i.b)(n),
                r = o.a.getTcn(a);
            t("setGame", a = o.a.mergeTcn(a, r.substr(0, r.length - 2)))
        },
        te = function updateMarkings(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = t.arrow,
                s = t.effect,
                l = t.ids,
                c = t.square,
                u = Object(i.b)(a);
            n("setGame", u = o.a.updateMarkings({
                arrow: r,
                game: u,
                effect: s,
                ids: l,
                square: c
            }))
        },
        ne = function updateNode(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = t.ids,
                s = t.data,
                l = Object(i.b)(a);
            n("setGame", l = o.a.updateNode(l, r, s))
        },
        ae = function updatePgnHeaders(e, t) {
            var n = e.commit,
                a = e.state.gameStoreNamespace,
                r = Object(i.b)(a);
            n("setGame", r = o.a.updatePgnHeaders(r, t)), n("setPgnHeaders", t)
        },
        ie = n(4),
        oe = {
            atFinalMoveNode: function atFinalMoveNode(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return !t.tree.lines || !t.tree.lines.length || z.a.isHead(t.tree.lines, e.tree.selected)
            },
            game: function game(e) {
                return e
            },
            gameNodes: function gameNodes(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return t.tree.lines && e.tree.selected && t.tree.lines[0]
            },
            getCurrentFen: function getCurrentFen(e) {
                return e.setup.fen
            },
            getMoveList: function getMoveList(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return t.tree.lines && e.tree.selected && o.a.getTcn(t)
            },
            getMoveText: function getMoveText(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return t.tree.lines && (e.tree.selected.move >= 0 ? z.a.findNode(t.tree.lines, e.tree.selected).san : 0)
            },
            getSanMoves: function getSanMoves(e) {
                return e.tree && ie.a.getSanMoves(Object(i.b)(e.gameStoreNamespace))
            },
            isUserTurn: function isUserTurn(e) {
                return ie.a.isUserTurn(e)
            },
            latestMoveType: function latestMoveType(e) {
                return Object(i.b)(e.gameStoreNamespace).tree.lines && e.history[e.history.length - 1]
            },
            selectedMoveNode: function selectedMoveNode(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return t.tree.lines && z.a.findNode(t.tree.lines, e.tree.selected)
            },
            selectedMoveNodeIndex: function selectedMoveNodeIndex(e) {
                return Object(i.b)(e.gameStoreNamespace).tree.lines && e.tree.selected && e.tree.selected.move
            },
            selectedNode: function selectedNode(e) {
                var t = Object(i.b)(e.gameStoreNamespace);
                return t.tree.lines && z.a.findNode(t.tree.lines, e.tree.selected)
            },
            selectedPly: function selectedPly(e, t) {
                var n = Object(i.b)(e.gameStoreNamespace),
                    a = (t.gameNodes[0] || {}).color || n.setup.sideToMove;
                return 2 * (n.jce.startingMoveNumber() - 1) + (a - 1) + (t.selectedNode ? t.selectedNode.moveNumber + 1 : 0)
            },
            variant: function variant(e) {
                return e.variant && e.variant.toLowerCase()
            }
        },
        re = n(6),
        se = n(44);

    function mutations_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function mutations_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? mutations_ownKeys(n, !0).forEach(function(t) {
                Y()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : mutations_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var le = {
        setGame: function setGame(e, t) {
            var n = Object(i.b)(e.gameStoreNamespace),
                a = re.a.getResult(t),
                o = r.a.cloneGame(t);
            e = Object.assign(e, {
                variant: o.variant,
                setup: mutations_objectSpread({}, o.setup, {
                    result: a
                }),
                tree: {
                    initialMarkings: JSON.parse(JSON.stringify(o.tree.initialMarkings)),
                    selected: mutations_objectSpread({}, o.tree.selected),
                    selectedNode: o.tree.selectedNode ? mutations_objectSpread({}, o.tree.selectedNode) : null
                },
                history: o.history,
                markings: o.markings,
                premoves: o.premoves
            }), se.default.updateLines(n.tree.lines), Object(i.c)(t, e.gameStoreNamespace)
        },
        setPgn: function setPgn(e, t) {
            e.pgn = t
        },
        setPgnHeaders: function setPgnHeaders(e, t) {
            e.pgnHeaders = t
        },
        setSettings: function setSettings(e, t) {
            e.settings = mutations_objectSpread({}, t)
        },
        setGameStoreNamespace: function setGameStoreNamespace(e, t) {
            e.gameStoreNamespace = t
        }
    };
    t.a = {
        namespaced: !0,
        actions: a,
        getters: oe,
        mutations: le,
        state: i.a
    }
}, , function(e, t, n) {
    var a = n(336),
        i = n(318),
        o = n(342),
        r = n(525),
        s = n(526),
        l = n(338),
        c = n(340),
        u = n(527),
        d = n(529),
        p = n(530),
        h = n(531),
        m = n(434),
        f = n(536),
        g = n(537),
        b = n(341),
        v = n(117),
        y = n(174),
        _ = n(542),
        w = n(55),
        O = n(544),
        k = n(221),
        S = 1,
        x = 2,
        P = 4,
        C = "[object Arguments]",
        M = "[object Function]",
        T = "[object GeneratorFunction]",
        E = "[object Object]",
        A = {};
    A[C] = A["[object Array]"] = A["[object ArrayBuffer]"] = A["[object DataView]"] = A["[object Boolean]"] = A["[object Date]"] = A["[object Float32Array]"] = A["[object Float64Array]"] = A["[object Int8Array]"] = A["[object Int16Array]"] = A["[object Int32Array]"] = A["[object Map]"] = A["[object Number]"] = A[E] = A["[object RegExp]"] = A["[object Set]"] = A["[object String]"] = A["[object Symbol]"] = A["[object Uint8Array]"] = A["[object Uint8ClampedArray]"] = A["[object Uint16Array]"] = A["[object Uint32Array]"] = !0, A["[object Error]"] = A[M] = A["[object WeakMap]"] = !1, e.exports = function baseClone(e, t, n, j, L, D) {
        var N, I = t & S,
            $ = t & x,
            B = t & P;
        if (n && (N = L ? n(e, j, L, D) : n(e)), void 0 !== N) return N;
        if (!w(e)) return e;
        var R = v(e);
        if (R) {
            if (N = f(e), !I) return c(e, N)
        } else {
            var F = m(e),
                z = F == M || F == T;
            if (y(e)) return l(e, I);
            if (F == E || F == C || z && !L) {
                if (N = $ || z ? {} : b(e), !I) return $ ? d(e, s(N, e)) : u(e, r(N, e))
            } else {
                if (!A[F]) return L ? e : {};
                N = g(e, F, I)
            }
        }
        D || (D = new a);
        var U = D.get(e);
        if (U) return U;
        if (D.set(e, N), O(e)) return e.forEach(function(a) {
            N.add(baseClone(a, t, n, a, e, D))
        }), N;
        if (_(e)) return e.forEach(function(a, i) {
            N.set(i, baseClone(a, t, n, i, e, D))
        }), N;
        var G = B ? $ ? h : p : $ ? keysIn : k,
            H = R ? void 0 : G(e);
        return i(H || e, function(a, i) {
            H && (a = e[i = a]), o(N, i, baseClone(a, t, n, i, e, D))
        }), N
    }
}, function(e, t, n) {
    var a = n(305),
        i = n(221);
    e.exports = function baseAssign(e, t) {
        return e && a(t, i(t), e)
    }
}, function(e, t, n) {
    var a = n(305),
        i = n(256);
    e.exports = function baseAssignIn(e, t) {
        return e && a(t, i(t), e)
    }
}, function(e, t, n) {
    var a = n(305),
        i = n(433);
    e.exports = function copySymbols(e, t) {
        return a(e, i(e), t)
    }
}, function(e, t) {
    e.exports = function arrayFilter(e, t) {
        for (var n = -1, a = null == e ? 0 : e.length, i = 0, o = []; ++n < a;) {
            var r = e[n];
            t(r, n, e) && (o[i++] = r)
        }
        return o
    }
}, function(e, t, n) {
    var a = n(305),
        i = n(465);
    e.exports = function copySymbolsIn(e, t) {
        return a(e, i(e), t)
    }
}, function(e, t, n) {
    var a = n(467),
        i = n(433),
        o = n(221);
    e.exports = function getAllKeys(e) {
        return a(e, o, i)
    }
}, function(e, t, n) {
    var a = n(467),
        i = n(465),
        o = n(256);
    e.exports = function getAllKeysIn(e) {
        return a(e, o, i)
    }
}, function(e, t, n) {
    var a = n(137)(n(74), "DataView");
    e.exports = a
}, function(e, t, n) {
    var a = n(137)(n(74), "Promise");
    e.exports = a
}, function(e, t, n) {
    var a = n(137)(n(74), "Set");
    e.exports = a
}, function(e, t, n) {
    var a = n(137)(n(74), "WeakMap");
    e.exports = a
}, function(e, t) {
    var n = Object.prototype.hasOwnProperty;
    e.exports = function initCloneArray(e) {
        var t = e.length,
            a = new e.constructor(t);
        return t && "string" == typeof e[0] && n.call(e, "index") && (a.index = e.index, a.input = e.input), a
    }
}, function(e, t, n) {
    var a = n(328),
        i = n(538),
        o = n(539),
        r = n(540),
        s = n(339),
        l = "[object Boolean]",
        c = "[object Date]",
        u = "[object Map]",
        d = "[object Number]",
        p = "[object RegExp]",
        h = "[object Set]",
        m = "[object String]",
        f = "[object Symbol]",
        g = "[object ArrayBuffer]",
        b = "[object DataView]",
        v = "[object Float32Array]",
        y = "[object Float64Array]",
        _ = "[object Int8Array]",
        w = "[object Int16Array]",
        O = "[object Int32Array]",
        k = "[object Uint8Array]",
        S = "[object Uint8ClampedArray]",
        x = "[object Uint16Array]",
        P = "[object Uint32Array]";
    e.exports = function initCloneByTag(e, t, n) {
        var C = e.constructor;
        switch (t) {
            case g:
                return a(e);
            case l:
            case c:
                return new C(+e);
            case b:
                return i(e, n);
            case v:
            case y:
            case _:
            case w:
            case O:
            case k:
            case S:
            case x:
            case P:
                return s(e, n);
            case u:
                return new C;
            case d:
            case m:
                return new C(e);
            case p:
                return o(e);
            case h:
                return new C;
            case f:
                return r(e)
        }
    }
}, function(e, t, n) {
    var a = n(328);
    e.exports = function cloneDataView(e, t) {
        var n = t ? a(e.buffer) : e.buffer;
        return new e.constructor(n, e.byteOffset, e.byteLength)
    }
}, function(e, t) {
    var n = /\w*$/;
    e.exports = function cloneRegExp(e) {
        var t = new e.constructor(e.source, n.exec(e));
        return t.lastIndex = e.lastIndex, t
    }
}, function(e, t, n) {
    var a = n(541),
        i = a ? a.prototype : void 0,
        o = i ? i.valueOf : void 0;
    e.exports = function cloneSymbol(e) {
        return o ? Object(o.call(e)) : {}
    }
}, function(e, t, n) {
    e.exports = n(26)(45)
}, function(e, t, n) {
    var a = n(543),
        i = n(234),
        o = n(235),
        r = o && o.isMap,
        s = r ? i(r) : a;
    e.exports = s
}, function(e, t, n) {
    var a = n(434),
        i = n(66),
        o = "[object Map]";
    e.exports = function baseIsMap(e) {
        return i(e) && a(e) == o
    }
}, function(e, t, n) {
    var a = n(545),
        i = n(234),
        o = n(235),
        r = o && o.isSet,
        s = r ? i(r) : a;
    e.exports = s
}, function(e, t, n) {
    var a = n(434),
        i = n(66),
        o = "[object Set]";
    e.exports = function baseIsSet(e) {
        return i(e) && a(e) == o
    }
}, , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    n.d(t, "a", function() {
        return a
    });
    var a = function getPgnDownloadName(e) {
        var t = "pgn_data.pgn";
        return e && e.White && e.Black && (t = "".concat(e.White, "_vs_").concat(e.Black, ".pgn"), e.Date && (t = "".concat(e.White, "_vs_").concat(e.Black, "_").concat(e.Date, ".pgn"))), t
    }
}, function(e, t, n) {
    "use strict";

    function handleHistoryEvent(e, t) {
        var n = t.type,
            a = t.payload,
            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        Object.prototype.hasOwnProperty.call(i, n) && i[n].call(null, e, a)
    }
    n.d(t, "a", function() {
        return handleHistoryEvent
    })
}, function(e, t, n) {
    "use strict";
    var a = n(1),
        i = n(106),
        o = n(44);
    t.a = {
        props: {
            enabled: {
                type: Boolean,
                default: !0
            },
            game: {
                type: Object,
                required: !0
            },
            moveDisplayType: {
                type: String,
                default: "text"
            },
            showLegalMoves: {
                type: Boolean,
                default: !1
            }
        },
        data: function data() {
            return {
                cachedHistoryLength: 0,
                moveList: [],
                startingMoveNumber: 1
            }
        },
        methods: {
            goToNode: function goToNode() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    line: 0,
                    move: 0
                };
                this.enabled && this.$emit("moveList-goToNode", e)
            },
            updateScrollPosition: function updateScrollPosition(e, t) {
                Object(i.c)({
                    moveIds: e,
                    moveList: this,
                    scrollEl: t || this.$el
                })
            },
            getComponentRefByLineMove: function getComponentRefByLineMove(e, t) {
                var n = this.$refs["move-".concat(e, "-").concat(t)];
                return n ? n[0] : void 0
            }
        },
        mounted: function mounted() {
            this.cachedHistoryLength = this.game.history.length, Object(i.a)(this.game) || (this.moveList = o.default.state), this.fireHistoryEvent({
                type: a.a.INIT,
                payload: {}
            }), this.updateScrollPosition(this.game.tree.selected)
        },
        watch: {
            "game.id": function watchGameId() {
                this.fireHistoryEvent({
                    type: a.a.INIT,
                    payload: {}
                }), this.fireHistoryEvent({
                    type: a.a.TREE_CHANGE,
                    payload: {}
                })
            },
            "game.history.length": {
                handler: function handler(e) {
                    if (e < this.cachedHistoryLength) return this.fireHistoryEvent({
                        type: a.a.INIT,
                        payload: {}
                    }), void(this.cachedHistoryLength = e);
                    var t = e - this.cachedHistoryLength;
                    this.game.history.slice(-t).forEach(this.fireHistoryEvent), this.cachedHistoryLength = e
                }
            },
            "game.tree.selected": function watchSelected(e, t) {
                this.nodeSelectedFromContextMenu ? this.nodeSelectedFromContextMenu = !1 : e.line === t.line && e.move === t.move || this.updateScrollPosition(e)
            },
            showLegalMoves: function updateEnPassantNodes(e, t) {
                e !== t && this.fireHistoryEvent({
                    type: "TOGGLE_LEGAL_MOVES",
                    payload: {}
                })
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(100),
        r = n(20),
        s = n(25),
        l = n(406),
        c = n(18),
        u = n(166),
        d = n(431),
        p = n(312),
        h = n(59),
        m = n(133),
        f = n(575),
        g = n(36),
        b = n(0);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var v = {
            name: "board-settings",
            components: {
                FormSelect: u.a,
                FormSwitch: d.a,
                IconFont: c.a,
                ModalChessboardContainer: p.a,
                ModalContent: h.a,
                SectionTitleDismissible: m.a,
                ModalHeader: f.a
            },
            props: {
                boardClass: {
                    type: String
                },
                boardOptions: {
                    type: Object,
                    required: !0
                },
                boardStyles: {
                    type: Object,
                    required: !0
                },
                changeSetting: {
                    type: Function,
                    required: !0
                }
            },
            data: function data() {
                return {
                    labels: {
                        darkMode: b.a.trans("Dark Mode"),
                        settings: b.a.trans("Settings"),
                        piecesStyle: b.a.trans("Pieces Style"),
                        pieceWarning: b.a.trans("Reload the page to see changes"),
                        boardColors: b.a.trans("Board Colors"),
                        sounds: b.a.trans("Sounds"),
                        coordinates: b.a.trans("Coordinates"),
                        pieceNotation: b.a.trans("Piece Notation"),
                        animationType: b.a.trans("Animation Type"),
                        highlightMoves: b.a.trans("Highlight Moves"),
                        playSounds: b.a.trans("Play sounds"),
                        showLegalMoves: b.a.trans("Show legal moves")
                    }
                }
            },
            computed: function _objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ownKeys(n, !0).forEach(function(t) {
                        i()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(s.mapState)({
                isStaff: function isStaff(e) {
                    return e.user && e.user.isStaff
                }
            }), {
                currentCoordinateKey: function currentCoordinateKey() {
                    var e = this;
                    return this.boardStyles.coordinateOptions.find(function(t) {
                        return t.value === e.boardOptions.coordinates
                    }).key
                }
            }),
            mounted: function mounted() {
                g.a.$on("showBoardSettingsModal", this.show)
            },
            methods: {
                show: function show() {
                    this.$refs.modalContainer.show(this.boardClass)
                },
                hide: function hide() {
                    this.$refs.modalContainer.hide()
                },
                updateSetting: function updateSetting(e, t) {
                    this.changeSetting(e, t)
                }
            }
        },
        y = n(588),
        _ = n(5);
    var w = Object(_.a)(v, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("modal-chessboard-container", {
                ref: "modalContainer",
                attrs: {
                    "board-class": e.boardClass
                }
            }, [n("modal-content", {
                class: e.$style.modal
            }, [n("section-title-dismissible", {
                on: {
                    close: e.hide
                }
            }, [e._v("\n      " + e._s(e.labels.settings) + "\n    ")]), e._v(" "), n("ul", {
                class: e.$style.settings
            }, [n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "pieces-style"
                }
            }, [e._v("\n          " + e._s(e.labels.piecesStyle) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "pieces-style",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.pieceStyles,
                    value: e.boardOptions.pieceStyle
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("pieceStyle", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "board-colors"
                }
            }, [e._v("\n          " + e._s(e.labels.boardColors) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "board-colors",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.boardColors,
                    value: e.boardOptions.boardStyle
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("boardStyle", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "sounds"
                }
            }, [e._v("\n          " + e._s(e.labels.sounds) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "sounds",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.sounds,
                    value: e.boardOptions.soundTheme
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("soundTheme", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "coordinate"
                }
            }, [e._v("\n          " + e._s(e.labels.coordinates) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "coordinate",
                    "label-key": "label",
                    "value-key": "key",
                    options: e.boardStyles.coordinateOptions,
                    value: e.currentCoordinateKey
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("coordinates", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "piece-notation"
                }
            }, [e._v("\n          " + e._s(e.labels.pieceNotation) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "piece-notation",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.moveListDisplayTypes,
                    value: e.boardOptions.moveListDisplayType
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("moveListDisplayType", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "animation-type"
                }
            }, [e._v("\n          " + e._s(e.labels.animationType) + "\n        ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "animation-type",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.animationTypes,
                    value: e.boardOptions.animationType
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("animationType", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                attrs: {
                    for: "highlightMoves"
                }
            }, [e._v("\n          " + e._s(e.labels.highlightMoves) + "\n        ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "highlightMoves",
                    value: e.boardOptions.highlightMoves
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("highlightMoves", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "playSounds"
                }
            }, [e._v("\n          " + e._s(e.labels.playSounds) + "\n        ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "playSounds",
                    value: e.boardOptions.playSounds
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("playSounds", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "highlightLegalMoves"
                }
            }, [e._v("\n          " + e._s(e.labels.showLegalMoves) + "\n        ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "highlightLegalMoves",
                    value: e.boardOptions.highlightLegalMoves
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("highlightLegalMoves", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "darkMode"
                }
            }, [e._v("\n          " + e._s(e.labels.darkMode) + "\n        ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "darkMode",
                    value: e.boardOptions.darkMode
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("darkMode", t)
                    }
                }
            })], 1)])], 1)], 1)
        }, [], !1, function injectStyles(e) {
            this.$style = y.default.locals || y.default
        }, null, null).exports,
        O = {
            darkMode: b.a.trans("Dark Mode"),
            settings: b.a.trans("Settings"),
            piecesStyle: b.a.trans("Pieces Style"),
            pieceWarning: b.a.trans("Reload the page to see changes"),
            boardColors: b.a.trans("Board Colors"),
            sounds: b.a.trans("Sounds"),
            coordinates: b.a.trans("Coordinates"),
            pieceNotation: b.a.trans("Piece Notation"),
            animationType: b.a.trans("Animation Type"),
            highlightMoves: b.a.trans("Highlight Moves"),
            playSounds: b.a.trans("Play sounds"),
            showLegalMoves: b.a.trans("Show legal moves")
        },
        k = {
            name: "board-settings",
            components: {
                FormSelect: u.a,
                FormSwitch: d.a,
                IconFont: c.a
            },
            props: {
                boardOptions: {
                    type: Object,
                    required: !0
                },
                boardStyles: {
                    type: Object,
                    required: !0
                },
                changeSetting: {
                    type: Function,
                    required: !0
                }
            },
            data: function data() {
                return {
                    labels: Object.freeze(O)
                }
            },
            computed: {
                currentCoordinateKey: function currentCoordinateKey() {
                    var e = this;
                    return this.boardStyles.coordinateOptions.find(function(t) {
                        return t.value === e.boardOptions.coordinates
                    }).key
                }
            },
            methods: {
                updateSetting: function updateSetting(e, t) {
                    this.changeSetting(e, t)
                }
            }
        },
        S = n(589);
    var x = Object(_.a)(k, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("ul", {
                class: e.$style.component
            }, [n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "pieces-style"
                }
            }, [e._v("\n      " + e._s(e.labels.piecesStyle) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "pieces-style",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.pieceStyles,
                    value: e.boardOptions.pieceStyle
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("pieceStyle", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "board-colors"
                }
            }, [e._v("\n      " + e._s(e.labels.boardColors) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "board-colors",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.boardColors,
                    value: e.boardOptions.boardStyle
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("boardStyle", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "sounds"
                }
            }, [e._v("\n      " + e._s(e.labels.sounds) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "sounds",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.sounds,
                    value: e.boardOptions.soundTheme
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("soundTheme", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "coordinate"
                }
            }, [e._v("\n      " + e._s(e.labels.coordinates) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "coordinate",
                    "label-key": "label",
                    "value-key": "key",
                    options: e.boardStyles.coordinateOptions,
                    value: e.currentCoordinateKey
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("coordinates", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "piece-notation"
                }
            }, [e._v("\n      " + e._s(e.labels.pieceNotation) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "piece-notation",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.moveListDisplayTypes,
                    value: e.boardOptions.moveListDisplayType
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("moveListDisplayType", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "animation-type"
                }
            }, [e._v("\n      " + e._s(e.labels.animationType) + "\n    ")]), e._v(" "), n("div", {
                class: e.$style.select
            }, [n("form-select", {
                attrs: {
                    id: "animation-type",
                    "label-key": "name",
                    "value-key": "code",
                    options: e.boardStyles.animationTypes,
                    value: e.boardOptions.animationType
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("animationType", t)
                    }
                }
            })], 1)]), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                attrs: {
                    for: "highlightMoves"
                }
            }, [e._v("\n      " + e._s(e.labels.highlightMoves) + "\n    ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "highlightMoves",
                    value: e.boardOptions.highlightMoves
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("highlightMoves", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "playSounds"
                }
            }, [e._v("\n      " + e._s(e.labels.playSounds) + "\n    ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "playSounds",
                    value: e.boardOptions.playSounds
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("playSounds", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "highlightLegalMoves"
                }
            }, [e._v("\n      " + e._s(e.labels.showLegalMoves) + "\n    ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "highlightLegalMoves",
                    value: e.boardOptions.highlightLegalMoves
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("highlightLegalMoves", t)
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                attrs: {
                    for: "darkMode"
                }
            }, [e._v("\n      " + e._s(e.labels.darkMode) + "\n    ")]), e._v(" "), n("form-switch", {
                attrs: {
                    name: "darkMode",
                    value: e.boardOptions.darkMode
                },
                on: {
                    input: function(t) {
                        return e.updateSetting("darkMode", t)
                    }
                }
            })], 1)])
        }, [], !1, function board_settings_options_injectStyles(e) {
            this.$style = S.default.locals || S.default
        }, null, null).exports,
        P = n(175),
        C = n(397);

    function settingsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function settingsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? settingsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : settingsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var M = {
            name: "board-settings-container",
            components: {
                BoardSettings: w,
                BoardSettingsOptions: x
            },
            props: {
                boardClass: {
                    type: String
                },
                optionsOnly: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: settingsvue_type_script_lang_js_objectSpread({}, Object(s.mapState)("board", ["boardOptions", "styles"]), {
                boardStyles: function boardStyles() {
                    return settingsvue_type_script_lang_js_objectSpread({}, this.styles, {
                        animationTypes: P.a.getAnimationTypes(this.styles.animationTypes, this.boardOptions.pieceStyle),
                        coordinateOptions: r.d
                    })
                }
            }),
            created: function created() {
                this.$store.dispatch("board/loadStyles")
            },
            methods: {
                saveSetting: function saveSetting(e, t) {
                    var n = "pieceStyle" === e && Object(o.g)(t, this.boardOptions.pieceStyle) || "animationType" === e && Object(o.a)(t, this.boardOptions.animationType);
                    "coordinates" === e && function toggleOutsideCoords(e) {
                        Object(C.a)("outside-coords", e)
                    }(r.d[t].value === r.e.OUTSIDE), this.$store.dispatch("board/updateOption", {
                        option: e,
                        value: t
                    }).then(function() {
                        n && (l.saveStateDebounce.flush(), window.location = window.location)
                    })
                }
            }
        },
        T = Object(_.a)(M, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return e.optionsOnly ? n("board-settings-options", {
                attrs: {
                    "board-class": e.boardClass,
                    "board-options": e.boardOptions,
                    "board-styles": e.boardStyles,
                    "change-setting": e.saveSetting
                }
            }) : n("board-settings", {
                attrs: {
                    "board-options": e.boardOptions,
                    "board-styles": e.boardStyles,
                    "change-setting": e.saveSetting
                }
            })
        }, [], !1, null, null, null);
    t.a = T.exports
}, function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(32),
        r = n(573),
        s = n(42),
        l = n.n(s),
        c = n(475),
        u = n(38),
        d = {
            name: "node-comment",
            props: {
                comment: {
                    type: String,
                    required: !0
                },
                editable: {
                    type: Boolean,
                    default: !0
                },
                node: {
                    type: Object,
                    required: !0
                },
                position: {
                    type: String,
                    default: "after"
                }
            },
            data: function data() {
                return {
                    isFocused: !1,
                    ignoredKeys: ["Backspace", "Enter", "Meta", "Shift", "Alt"],
                    showPlaceholder: !this.comment.length
                }
            },
            computed: {
                shouldShowPlaceholder: function shouldShowPlaceholder() {
                    return 0 === this.comment.length && this.showPlaceholder
                }
            },
            watch: {
                "node.comment": function watchNodeComment() {
                    !this.isFocused && this.comment.length && this.comment !== this.$el.innerHTML.replace(/&nbsp;/g, " ") && this.setCommentText(this.comment)
                }
            },
            beforeDestroy: function beforeDestroy() {
                this.$el.removeEventListener("paste", this.fixClipboard)
            },
            mounted: function mounted() {
                this.addListeners(), this.showPlaceholder ? this.setDefaultCommentText() : this.setCommentText(this.comment), this.focus()
            },
            methods: {
                addListeners: function addListeners() {
                    this.$el.addEventListener("paste", this.fixClipboard)
                },
                click: function click() {
                    this.setCaretAtBeginningIfEmpty()
                },
                fixClipboard: function fixClipboard(e) {
                    e.preventDefault();
                    var t = e.clipboardData.getData("text/plain");
                    document.execCommand("insertHTML", !1, t)
                },
                focus: function focus() {
                    setTimeout(this.setCaretAtBeginningIfEmpty)
                },
                focusIn: function focusIn() {
                    this.isFocused = !0
                },
                focusOut: function focusOut() {
                    this.isFocused = !1
                },
                keydown: function keydown(e) {
                    -1 === this.ignoredKeys.indexOf(e.key) && this.removePlaceholder()
                },
                keyup: function keyup() {
                    this.showPlaceholder || this.saveText()
                },
                removePlaceholder: function removePlaceholder() {
                    this.showPlaceholder && (this.showPlaceholder = !1, this.setCommentText(""))
                },
                saveText: Object(c.default)(function saveText() {
                    var e = Object(o.d)(this.$el.innerHTML);
                    this.$emit("moveList-onCommentChange", {
                        node: this.node,
                        actionItem: {
                            action: u.a.UPDATE_COMMENT,
                            position: this.position,
                            value: e
                        }
                    }), this.showPlaceholder = !e.length, this.showPlaceholder && setTimeout(this.setDefaultCommentText)
                }, 500),
                setCaretAtBeginning: function setCaretAtBeginning() {
                    var e = document.createRange(),
                        t = window.getSelection();
                    "object" === l()(this.$el.childNodes[0]) && (e.setStart(this.$el.childNodes[0], 0), e.collapse(!0), t.removeAllRanges(), t.addRange(e)), this.$el.focus()
                },
                setCaretAtBeginningIfEmpty: function setCaretAtBeginningIfEmpty() {
                    this.comment.length || this.setCaretAtBeginning()
                },
                setCommentText: function setCommentText(e) {
                    this.$el.innerHTML = e
                },
                setDefaultCommentText: function setDefaultCommentText() {
                    this.setCommentText(this.$trans("Add comment..."))
                }
            }
        },
        p = n(579),
        h = n(5);
    var m = Object(h.a)(d, function() {
            var e, t = this,
                n = t.$createElement;
            return (t._self._c || n)("span", {
                class: [t.$style.component, (e = {}, e[t.$style.placeholder] = t.shouldShowPlaceholder, e)],
                attrs: {
                    contenteditable: t.editable
                },
                on: {
                    click: t.click,
                    focusout: t.focusOut,
                    focusin: t.focusIn,
                    keydown: function(e) {
                        return e.stopPropagation(), t.keydown(e)
                    },
                    keyup: function(e) {
                        return e.stopPropagation(), t.keyup(e)
                    }
                }
            })
        }, [], !1, function injectStyles(e) {
            this.$style = p.default.locals || p.default
        }, null, null).exports,
        f = {
            name: "node-space"
        },
        g = n(580),
        b = n(581),
        v = n.n(b),
        y = n(582),
        _ = n.n(y),
        w = n(583),
        O = n.n(w);
    var k = Object(h.a)(f, function(e, t) {
        var n = t._c;
        return n("span", {
            class: t.$style.component
        }, [n("span"), t._v(" "), n("span")])
    }, [], !0, function node_space_injectStyles(e) {
        this.$style = g.default.locals || g.default
    }, null, null);
    "function" == typeof v.a && v()(k), "function" == typeof _.a && _()(k), "function" == typeof O.a && O()(k);
    var S = k.exports;

    function updateComponentClasses(e, t) {
        e !== t && this.setComponentClasses()
    }
    var x = {
            name: "move-node",
            components: {
                MoveText: r.a,
                NodeComment: m,
                NodeSpace: S
            },
            props: {
                editable: {
                    type: Boolean,
                    default: !0
                },
                hasAltLines: {
                    type: Boolean,
                    default: !1
                },
                index: {
                    type: Number,
                    required: !0
                },
                isContinuation: {
                    type: Boolean,
                    default: !1
                },
                isLast: {
                    type: Boolean,
                    required: !0
                },
                moveDisplayType: {
                    type: String,
                    default: "text"
                },
                node: {
                    type: Object,
                    required: !0
                },
                onClick: {
                    type: Function,
                    required: !0
                },
                onCommentChange: {
                    type: Function,
                    required: !0
                },
                onContextMenu: {
                    type: Function,
                    required: !0
                },
                startingMoveNumber: {
                    type: Number,
                    default: 1
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                moveListNodeLimits: {
                    type: Object
                }
            },
            data: function data() {
                return {
                    componentClasses: {},
                    isSelected: !1,
                    nodeLimitTypes: {
                        begin: !1,
                        end: !1,
                        focus: !1
                    }
                }
            },
            computed: {
                showSpaceAfterComment: function showSpaceAfterComment() {
                    return (!this.node.closeParenthesisCount || this.hasAltLines) && this.node.hasComment
                },
                showSpaceBeforeComment: function showSpaceBeforeComment() {
                    return (!this.node.closeParenthesisCount || this.node.hasLines) && !this.node.isInvisible || this.node.hasComment
                }
            },
            watch: {
                isDarkMode: updateComponentClasses,
                isSelected: updateComponentClasses,
                "node.indentation": updateComponentClasses,
                moveListNodeLimits: {
                    handler: function updateNodeLimits() {
                        var e = this;
                        Object.keys(this.moveListNodeLimits).forEach(function(t) {
                            var n = Object(o.s)(e.moveListNodeLimits, e.node, t);
                            e.nodeLimitTypes[t] !== n && (e.nodeLimitTypes[t] = n)
                        })
                    },
                    deep: !0
                }
            },
            created: function created() {
                this.setComponentClasses()
            },
            methods: {
                moveNumber: function moveNumber(e) {
                    return Object(o.e)(e, this.startingMoveNumber)
                },
                setComponentClasses: function setComponentClasses() {
                    var e;
                    this.componentClasses = (e = {}, i()(e, this.$style.component, !0), i()(e, this.$style.darkMode, this.isDarkMode), i()(e, this.$style.highlighted, this.isSelected), e)
                }
            }
        },
        P = n(584);
    var C = Object(h.a)(x, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("span", {
            class: t.componentClasses,
            attrs: {
                "data-cy": "move-node"
            }
        }, [t.node.openParenthesis ? a("span", [t._v("(")]) : t._e(), a("span", {
            class: t.$style.clickable,
            on: {
                click: function(e) {
                    return t.onClick(t.node.ids)
                },
                contextmenu: function(e) {
                    return e.preventDefault(), t.onContextMenu(t.node, t.node.ids.line > 0)
                }
            }
        }, [t.node.isInvisible && t.node.closeParenthesisCount ? a("span", [t._v("  ")]) : t._e(), !t.node.isInvisible && t.nodeLimitTypes.begin ? a("span", [t._v("[[")]) : t._e(), t.node.hasCommentBefore ? a("node-comment", {
            attrs: {
                comment: t.node.commentBefore,
                editable: t.editable,
                node: t.node,
                position: "before"
            },
            on: {
                "moveList-onCommentChange": t.onCommentChange
            }
        }) : t._e(), t.node.hasCommentBefore ? a("node-space") : t._e(), t.node.isInvisible ? t._e() : a("span", {
            domProps: {
                innerHTML: t._s(t.moveNumber(t.node))
            }
        }), a("span", {
            class: [t.$style.colorable, (e = {}, e["analysis-" + t.node.classification] = t.node.classification, e[t.$style.colored] = t.node.classification, e[t.$style["main-line"]] = 0 === t.node.ids.line, e)]
        }, [a("move-text", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.node.isInvisible,
                expression: "!node.isInvisible"
            }],
            ref: "moveText",
            class: t.$style["move-text"],
            style: {
                "font-style": t.nodeLimitTypes.focus ? "italic" : ""
            },
            attrs: {
                "is-dark-mode": t.isDarkMode,
                "move-display-type": t.moveDisplayType,
                "move-coords": t.node.coords,
                "move-icon": t.node.iconName,
                "move-is-enpassant": t.node.isEnPassant,
                "move-figurine-index": t.node.figurineIndex,
                "move-text": t.node.san,
                "show-annotations": !0
            }
        }), t.node.isInvisible ? t._e() : a("span", {
            domProps: {
                innerHTML: t._s(t.node.annotationString)
            }
        })], 1)], 1), t.showSpaceBeforeComment ? a("node-space") : t._e(), t.node.hasComment ? a("node-comment", {
            attrs: {
                comment: t.node.comment,
                editable: t.editable,
                node: t.node
            },
            on: {
                "moveList-onCommentChange": t.onCommentChange
            }
        }) : t._e(), t.showSpaceAfterComment ? a("node-space") : t._e(), t._l(t.node.closeParenthesisCount, function(e, n) {
            return a("span", {
                key: n
            }, [t._v(")")])
        }), t.node.closeParenthesisCount ? a("node-space") : t._e(), !t.node.isInvisible && t.nodeLimitTypes.end ? a("span", [t._v("]]")]) : t._e()], 2)
    }, [], !1, function move_node_injectStyles(e) {
        this.$style = P.default.locals || P.default
    }, null, null);
    t.a = C.exports
}, function(e, t, n) {
    "use strict";
    var a = n(24),
        i = n.n(a),
        o = {
            p: "pawn",
            n: "knight",
            b: "bishop",
            r: "rook",
            q: "queen"
        },
        r = {
            p: 1,
            b: 2,
            n: 3,
            r: 4,
            q: 5
        },
        s = function getClassName(e, t, n) {
            return function baseClassName(e) {
                return "cpiece ".concat(e, "-")
            }(t) + (1 === n ? function singularClassExtension(e) {
                return o[e]
            }(e) : function pluralClassExtension(e, t) {
                return "".concat(e, "-").concat(o[t], "s")
            }(n, e))
        },
        l = function buildPieceClassNames(e, t, n, a) {
            return a && "p" === e ? function getVerticalPawnClassNames(e, t) {
                return [].concat(i()(Array.from(Array(Math.floor(t / 2)), function() {
                    return s("p", e, 2)
                })), i()(Array.from(Array(t % 2), function() {
                    return s("p", e, 1)
                })))
            }(t, n) : s(e, t, n)
        },
        c = {
            props: {
                color: {
                    type: String,
                    required: !0
                },
                game: {
                    type: Object,
                    required: !0
                },
                verticalLayout: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                pieceColorIndex: function pieceColorIndex() {
                    return "w" === this.color ? 1 : 0
                },
                scoreColorIndex: function scoreColorIndex() {
                    return "w" === this.color ? 0 : 1
                },
                pieceColor: function pieceColor() {
                    return "w" === this.color ? "b" : "w"
                },
                pieces: function pieces() {
                    return function getPieceClasses() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            t = arguments.length > 1 ? arguments[1] : void 0,
                            n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        return Object.keys(e).filter(function(t) {
                            return e[t] > 0
                        }).sort(function(e, t) {
                            return r[e] - r[t]
                        }).map(function(a) {
                            return l(a, t, e[a], n)
                        }).reduce(function(e, t) {
                            return e.concat(t)
                        }, [])
                    }(this.game.setup.capturedPieces[this.pieceColorIndex], this.pieceColor, this.verticalLayout)
                },
                score: function score() {
                    var e = this.game.setup.capturedScores,
                        t = e[this.scoreColorIndex] - e[1 - this.scoreColorIndex];
                    return t > 0 ? "+".concat(t) : null
                }
            },
            methods: {
                getClasses: function getClasses(e) {
                    var t = this;
                    return e.split(" ").map(function(e) {
                        return t.$style[e]
                    })
                }
            }
        },
        u = n(591),
        d = n(5);
    var p = Object(d.a)(c, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            class: ["captured-pieces", (e = {}, e[t.$style.vertical] = t.verticalLayout, e)]
        }, [t._l(t.pieces, function(e, n) {
            return a("span", {
                key: n,
                class: t.getClasses(e)
            })
        }), t._v(" "), t.score ? a("span", {
            class: [t.$style.cpiece, t.$style.score],
            domProps: {
                textContent: t._s(t.score)
            }
        }) : t._e()], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = u.default.locals || u.default
    }, null, null);
    t.a = p.exports
}, function(e, t, n) {
    "use strict";
    var a = n(76),
        i = n(9),
        o = n(18),
        r = n(35),
        s = {
            name: "move-text",
            components: {
                IconFont: o.a
            },
            directives: {
                Tooltip: r.a
            },
            props: {
                moveDisplayType: {
                    type: String,
                    default: a.a.TEXT
                },
                moveCoords: {
                    type: String,
                    required: !1
                },
                moveIcon: {
                    type: String,
                    required: !1
                },
                moveIsEnpassant: {
                    type: Boolean,
                    default: !1
                },
                moveFigurineIndex: {
                    type: Number,
                    required: !1
                },
                moveText: {
                    type: String,
                    required: !1
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    coloredMoveIcon: this.moveIcon,
                    coords: "",
                    isSelected: !1,
                    showEnPassantTooltip: !1,
                    showLeadingFigurine: !1,
                    showTrailingFigurine: !1
                }
            },
            watch: {
                isDarkMode: {
                    handler: "determineIconColor",
                    immediate: !0
                },
                moveIcon: {
                    handler: "determineIconColor"
                },
                moveDisplayType: function setFigurinesConditions(e, t) {
                    e !== t && (this.setCoordinates(), this.setFigurinesConditions())
                },
                moveText: function updateDeps(e, t) {
                    e !== t && this.setCoordinates()
                },
                moveFigurineIndex: function updateDeps(e, t) {
                    e !== t && this.setFigurinesConditions()
                }
            },
            created: function created() {
                this.setCoordinates(), this.setFigurinesConditions()
            },
            methods: {
                determineIconColor: function determineIconColor() {
                    var e = this.moveIcon;
                    this.isDarkMode && (e = this.moveIcon.includes(a.e.WHITE) ? this.moveIcon.replace(a.e.WHITE, a.e.BLACK) : this.moveIcon.replace(a.e.BLACK, a.e.WHITE)), this.coloredMoveIcon = e
                },
                openEnPassantHelpWindow: function openEnPassantHelpWindow() {
                    window.open(i.g.enPassant(), "_blank")
                },
                setCoordinates: function setCoordinates() {
                    this.moveDisplayType === a.a.TEXT ? this.coords = this.moveCoords : this.coords = this.moveText.replace(/[BKNRQ]/g, "")
                },
                setFigurinesConditions: function setFigurinesConditions() {
                    this.moveDisplayType === a.a.FIGURINE ? (this.showLeadingFigurine = Boolean(0 === this.moveFigurineIndex), this.showTrailingFigurine = Boolean(this.moveFigurineIndex > 0)) : (this.showLeadingFigurine = !1, this.showTrailingFigurine = !1), this.showTrailingFigurine && (this.coords = this.coords.replace("+", ""))
                },
                setEnPassantConditions: function setEnPassantConditions() {
                    var e, t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    e = !!this.moveIsEnpassant && t, this.showEnPassantTooltip !== e && (this.showEnPassantTooltip = e)
                }
            }
        },
        l = n(578),
        c = n(5);
    var u = Object(c.a)(s, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("span", t._g({
            class: [t.$style.component, (e = {}, e[t.$style["contains-figurine"]] = t.showLeadingFigurine || t.showTrailingFigurine, e[t.$style.selected] = t.isSelected, e[t.$style["dark-mode"]] = t.isDarkMode, e)]
        }, t.$listeners), [t.showLeadingFigurine ? a("icon-font", {
            class: t.$style.icon,
            attrs: {
                name: t.coloredMoveIcon
            }
        }) : t._e(), t._v("\n\n  " + t._s(t.coords) + "\n\n  "), t.showTrailingFigurine ? a("icon-font", {
            class: t.$style.icon,
            attrs: {
                name: t.coloredMoveIcon
            }
        }) : t._e(), t._v(" "), t.showEnPassantTooltip ? a("icon-font", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: {
                    content: t.$trans("En Passant"),
                    position: "top",
                    delay: 50
                },
                expression: "{ content: $trans('En Passant'), position: 'top', delay: 50 }"
            }],
            class: [t.$style.icon, t.$style["en-passant"]],
            attrs: {
                name: "circle-question"
            },
            on: {
                click: t.openEnPassantHelpWindow
            }
        }) : t._e()], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = l.default.locals || l.default
    }, null, null);
    t.a = u.exports
}, function(e, t, n) {
    "use strict";
    var a = n(18),
        i = n(35),
        o = n(0),
        r = {
            name: "board-controls",
            components: {
                IconFont: a.a
            },
            directives: {
                tooltip: i.a
            },
            props: {
                flip: {
                    type: Function,
                    required: !0
                },
                hideActions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                settings: {
                    type: Function,
                    required: !0
                }
            },
            data: function data() {
                return {
                    tooltips: {
                        flip: {
                            content: o.a.trans("Flip Board"),
                            delay: 50,
                            position: "right"
                        },
                        settings: {
                            content: o.a.trans("Settings"),
                            delay: 50,
                            position: "right"
                        }
                    }
                }
            }
        },
        s = n(576),
        l = n(5);
    var c = Object(l.a)(r, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.tooltips.settings,
                expression: "tooltips.settings"
            }],
            on: {
                click: function(t) {
                    return e.settings()
                }
            }
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                name: "circle-gearwheel"
            }
        })], 1), e._v(" "), e.hideActions.FLIP ? e._e() : n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.tooltips.flip,
                expression: "tooltips.flip"
            }],
            class: e.$style.hide,
            on: {
                click: function(t) {
                    return e.flip()
                }
            }
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                name: "repeat"
            }
        })], 1)])
    }, [], !1, function injectStyles(e) {
        this.$style = s.default.locals || s.default
    }, null, null);
    t.a = c.exports
}, function(e, t, n) {
    "use strict";
    var a = {
            name: "modal-header",
            components: {
                IconFont: n(18).a
            },
            props: {
                cb: Function,
                title: {
                    type: String,
                    required: !0
                },
                icon: String
            }
        },
        i = n(587),
        o = n(5);
    var r = Object(o.a)(a, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [n("h3", {
            class: e.$style.title
        }, [e._v(e._s(e.title))]), e._v(" "), e.icon ? n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                theme: "primary",
                name: e.icon
            },
            on: {
                click: e.cb
            }
        }) : e._e()], 1)
    }, [], !1, function injectStyles(e) {
        this.$style = i.default.locals || i.default
    }, null, null);
    t.a = r.exports
}, function(e, t, n) {
    "use strict";
    var a = n(493),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(494),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(495),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(496),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(497),
        i = n.n(a);
    t.default = i.a
}, function(e, t) {}, function(e, t) {}, function(e, t) {}, function(e, t, n) {
    "use strict";
    var a = n(498),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(499),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(500),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(501),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(502),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(503),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(504),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(505),
        i = n.n(a);
    t.default = i.a
}, , , , , , , , , , , , function(e, t, n) {
    var a, i, o;
    i = "undefined" != typeof window ? window : this, o = function(e) {
        var t, n, a, i, o, r, s, l, c = (t = void 0 === e ? window : e, n = t.document, a = t.navigator && t.navigator.userAgent || "", i = n && n.createElementNS && !!n.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect, o = /(edge|msie|trident)/i.test(a) && !t.opera, r = -1 !== a.indexOf("Firefox"), s = -1 !== a.indexOf("Chrome"), l = r && 4 > parseInt(a.split("Firefox/")[1], 10), t.Highcharts ? t.Highcharts.error(16, !0) : {
            product: "Highcharts",
            version: "6.2.0",
            deg2rad: 2 * Math.PI / 360,
            doc: n,
            hasBidiBug: l,
            hasTouch: n && void 0 !== n.documentElement.ontouchstart,
            isMS: o,
            isWebKit: -1 !== a.indexOf("AppleWebKit"),
            isFirefox: r,
            isChrome: s,
            isSafari: !s && -1 !== a.indexOf("Safari"),
            isTouchDevice: /(Mobile|Android|Windows Phone)/.test(a),
            SVG_NS: "http://www.w3.org/2000/svg",
            chartCount: 0,
            seriesTypes: {},
            symbolSizes: {},
            svg: i,
            win: t,
            marginNames: ["plotTop", "marginRight", "marginBottom", "plotLeft"],
            noop: function() {},
            charts: []
        });
        ! function(e) {
            e.timers = [];
            var n = e.charts,
                a = e.doc,
                i = e.win;
            e.error = function(t, n) {
                if (t = e.isNumber(t) ? "Highcharts error #" + t + ": www.highcharts.com/errors/" + t : t, n) throw Error(t);
                i.console && console.log(t)
            }, e.Fx = function(e, t, n) {
                this.options = t, this.elem = e, this.prop = n
            }, e.Fx.prototype = {
                dSetter: function() {
                    var e, t = this.paths[0],
                        n = this.paths[1],
                        a = [],
                        i = this.now,
                        o = t.length;
                    if (1 === i) a = this.toD;
                    else if (o === n.length && 1 > i)
                        for (; o--;) e = parseFloat(t[o]), a[o] = isNaN(e) ? n[o] : i * parseFloat(n[o] - e) + e;
                    else a = n;
                    this.elem.attr("d", a, null, !0)
                },
                update: function() {
                    var e = this.elem,
                        t = this.prop,
                        n = this.now,
                        a = this.options.step;
                    this[t + "Setter"] ? this[t + "Setter"]() : e.attr ? e.element && e.attr(t, n, null, !0) : e.style[t] = n + this.unit, a && a.call(e, n, this)
                },
                run: function(t, n, a) {
                    var o = this,
                        r = o.options,
                        s = function(e) {
                            return !s.stopped && o.step(e)
                        },
                        l = i.requestAnimationFrame || function(e) {
                            setTimeout(e, 13)
                        },
                        c = function() {
                            for (var t = 0; t < e.timers.length; t++) e.timers[t]() || e.timers.splice(t--, 1);
                            e.timers.length && l(c)
                        };
                    t !== n || this.elem["forceAnimate:" + this.prop] ? (this.startTime = +new Date, this.start = t, this.end = n, this.unit = a, this.now = this.start, this.pos = 0, s.elem = this.elem, s.prop = this.prop, s() && 1 === e.timers.push(s) && l(c)) : (delete r.curAnim[this.prop], r.complete && 0 === e.keys(r.curAnim).length && r.complete.call(this.elem))
                },
                step: function(t) {
                    var n, a = +new Date,
                        i = this.options,
                        o = this.elem,
                        r = i.complete,
                        s = i.duration,
                        l = i.curAnim;
                    return o.attr && !o.element ? t = !1 : t || a >= s + this.startTime ? (this.now = this.end, this.pos = 1, this.update(), n = l[this.prop] = !0, e.objectEach(l, function(e) {
                        !0 !== e && (n = !1)
                    }), n && r && r.call(o), t = !1) : (this.pos = i.easing((a - this.startTime) / s), this.now = this.start + (this.end - this.start) * this.pos, this.update(), t = !0), t
                },
                initPath: function(n, a, i) {
                    function u(e) {
                        var t, n;
                        for (l = e.length; l--;) t = "M" === e[l] || "L" === e[l], n = /[a-zA-Z]/.test(e[l + 3]), t && n && e.splice(l + 1, 0, e[l + 1], e[l + 2], e[l + 1], e[l + 2])
                    }

                    function x(e, t) {
                        for (; e.length < r;) {
                            e[0] = t[r - e.length];
                            var n = e.slice(0, h);
                            [].splice.apply(e, [0, 0].concat(n)), f && (n = e.slice(e.length - h), [].splice.apply(e, [e.length, 0].concat(n)), l--)
                        }
                        e[0] = "M"
                    }

                    function t(e, t) {
                        for (var n = (r - e.length) / h; 0 < n && n--;)(s = e.slice().splice(e.length / g - h, h * g))[0] = t[r - h - n * h], p && (s[h - 6] = s[h - 2], s[h - 5] = s[h - 1]), [].splice.apply(e, [e.length / g, 0].concat(s)), f && n--
                    }
                    a = a || "";
                    var o, r, s, l, c = n.startX,
                        d = n.endX,
                        p = -1 < a.indexOf("C"),
                        h = p ? 7 : 3;
                    a = a.split(" "), i = i.slice();
                    var m, f = n.isArea,
                        g = f ? 2 : 1;
                    if (p && (u(a), u(i)), c && d) {
                        for (l = 0; l < c.length; l++) {
                            if (c[l] === d[0]) {
                                o = l;
                                break
                            }
                            if (c[0] === d[d.length - c.length + l]) {
                                o = l, m = !0;
                                break
                            }
                        }
                        void 0 === o && (a = [])
                    }
                    return a.length && e.isNumber(o) && (r = i.length + o * g * h, m ? (x(a, i), t(i, a)) : (x(i, a), t(a, i))), [a, i]
                },
                fillSetter: function() {
                    e.Fx.prototype.strokeSetter.apply(this, arguments)
                },
                strokeSetter: function() {
                    this.elem.attr(this.prop, e.color(this.start).tweenTo(e.color(this.end), this.pos), null, !0)
                }
            }, e.merge = function() {
                var t, n, a = arguments,
                    i = {},
                    o = function(t, n) {
                        return "object" != typeof t && (t = {}), e.objectEach(n, function(a, i) {
                            !e.isObject(a, !0) || e.isClass(a) || e.isDOMElement(a) ? t[i] = n[i] : t[i] = o(t[i] || {}, a)
                        }), t
                    };
                for (!0 === a[0] && (i = a[1], a = Array.prototype.slice.call(a, 2)), n = a.length, t = 0; t < n; t++) i = o(i, a[t]);
                return i
            }, e.pInt = function(e, t) {
                return parseInt(e, t || 10)
            }, e.isString = function(e) {
                return "string" == typeof e
            }, e.isArray = function(e) {
                return "[object Array]" === (e = Object.prototype.toString.call(e)) || "[object Array Iterator]" === e
            }, e.isObject = function(t, n) {
                return !(!t || "object" != typeof t || n && e.isArray(t))
            }, e.isDOMElement = function(t) {
                return e.isObject(t) && "number" == typeof t.nodeType
            }, e.isClass = function(t) {
                var n = t && t.constructor;
                return !(!e.isObject(t, !0) || e.isDOMElement(t) || !n || !n.name || "Object" === n.name)
            }, e.isNumber = function(e) {
                return "number" == typeof e && !isNaN(e) && 1 / 0 > e && -1 / 0 < e
            }, e.erase = function(e, t) {
                for (var n = e.length; n--;)
                    if (e[n] === t) {
                        e.splice(n, 1);
                        break
                    }
            }, e.defined = function(e) {
                return null != e
            }, e.attr = function(t, n, a) {
                var i;
                return e.isString(n) ? e.defined(a) ? t.setAttribute(n, a) : t && t.getAttribute && ((i = t.getAttribute(n)) || "class" !== n || (i = t.getAttribute(n + "Name"))) : e.defined(n) && e.isObject(n) && e.objectEach(n, function(e, n) {
                    t.setAttribute(n, e)
                }), i
            }, e.splat = function(t) {
                return e.isArray(t) ? t : [t]
            }, e.syncTimeout = function(e, t, n) {
                if (t) return setTimeout(e, t, n);
                e.call(0, n)
            }, e.clearTimeout = function(t) {
                e.defined(t) && clearTimeout(t)
            }, e.extend = function(e, t) {
                var n;
                for (n in e || (e = {}), t) e[n] = t[n];
                return e
            }, e.pick = function() {
                var e, t, n = arguments,
                    a = n.length;
                for (e = 0; e < a; e++)
                    if (null != (t = n[e])) return t
            }, e.css = function(t, n) {
                e.isMS && !e.svg && n && void 0 !== n.opacity && (n.filter = "alpha(opacity=" + 100 * n.opacity + ")"), e.extend(t.style, n)
            }, e.createElement = function(t, n, i, o, r) {
                t = a.createElement(t);
                var s = e.css;
                return n && e.extend(t, n), r && s(t, {
                    padding: 0,
                    border: "none",
                    margin: 0
                }), i && s(t, i), o && o.appendChild(t), t
            }, e.extendClass = function(t, n) {
                var a = function() {};
                return a.prototype = new t, e.extend(a.prototype, n), a
            }, e.pad = function(e, t, n) {
                return Array((t || 2) + 1 - String(e).replace("-", "").length).join(n || 0) + e
            }, e.relativeLength = function(e, t, n) {
                return /%$/.test(e) ? t * parseFloat(e) / 100 + (n || 0) : parseFloat(e)
            }, e.wrap = function(e, t, n) {
                var a = e[t];
                e[t] = function() {
                    var e = Array.prototype.slice.call(arguments),
                        t = arguments,
                        i = this;
                    return i.proceed = function() {
                        a.apply(i, arguments.length ? arguments : t)
                    }, e.unshift(a), e = n.apply(this, e), i.proceed = null, e
                }
            }, e.datePropsToTimestamps = function(t) {
                e.objectEach(t, function(n, a) {
                    e.isObject(n) && "function" == typeof n.getTime ? t[a] = n.getTime() : (e.isObject(n) || e.isArray(n)) && e.datePropsToTimestamps(n)
                })
            }, e.formatSingle = function(t, n, a) {
                var i = e.defaultOptions.lang;
                return /f$/.test(t) ? (a = (a = t.match(/\.([0-9])/)) ? a[1] : -1, null !== n && (n = e.numberFormat(n, a, i.decimalPoint, -1 < t.indexOf(",") ? i.thousandsSep : ""))) : n = (a || e.time).dateFormat(t, n), n
            }, e.format = function(t, n, a) {
                for (var i, o, r, s, l, c = "{", u = !1, d = []; t && -1 !== (c = t.indexOf(c));) {
                    if (i = t.slice(0, c), u) {
                        for (s = (o = (i = i.split(":")).shift().split(".")).length, l = n, r = 0; r < s; r++) l && (l = l[o[r]]);
                        i.length && (l = e.formatSingle(i.join(":"), l, a)), d.push(l)
                    } else d.push(i);
                    t = t.slice(c + 1), c = (u = !u) ? "}" : "{"
                }
                return d.push(t), d.join("")
            }, e.getMagnitude = function(e) {
                return Math.pow(10, Math.floor(Math.log(e) / Math.LN10))
            }, e.normalizeTickInterval = function(t, n, a, i, o) {
                var r, s = t;
                for (r = t / (a = e.pick(a, 1)), n || (n = o ? [1, 1.2, 1.5, 2, 2.5, 3, 4, 5, 6, 8, 10] : [1, 2, 2.5, 5, 10], !1 === i && (1 === a ? n = e.grep(n, function(e) {
                        return 0 == e % 1
                    }) : .1 >= a && (n = [1 / a]))), i = 0; i < n.length && (s = n[i], !(o && s * a >= t || !o && r <= (n[i] + (n[i + 1] || n[i])) / 2)); i++);
                return e.correctFloat(s * a, -Math.round(Math.log(.001) / Math.LN10))
            }, e.stableSort = function(e, t) {
                var n, a, i = e.length;
                for (a = 0; a < i; a++) e[a].safeI = a;
                for (e.sort(function(e, a) {
                        return 0 === (n = t(e, a)) ? e.safeI - a.safeI : n
                    }), a = 0; a < i; a++) delete e[a].safeI
            }, e.arrayMin = function(e) {
                for (var t = e.length, n = e[0]; t--;) e[t] < n && (n = e[t]);
                return n
            }, e.arrayMax = function(e) {
                for (var t = e.length, n = e[0]; t--;) e[t] > n && (n = e[t]);
                return n
            }, e.destroyObjectProperties = function(t, n) {
                e.objectEach(t, function(e, a) {
                    e && e !== n && e.destroy && e.destroy(), delete t[a]
                })
            }, e.discardElement = function(t) {
                var n = e.garbageBin;
                n || (n = e.createElement("div")), t && n.appendChild(t), n.innerHTML = ""
            }, e.correctFloat = function(e, t) {
                return parseFloat(e.toPrecision(t || 14))
            }, e.setAnimation = function(t, n) {
                n.renderer.globalAnimation = e.pick(t, n.options.chart.animation, !0)
            }, e.animObject = function(t) {
                return e.isObject(t) ? e.merge(t) : {
                    duration: t ? 500 : 0
                }
            }, e.timeUnits = {
                millisecond: 1,
                second: 1e3,
                minute: 6e4,
                hour: 36e5,
                day: 864e5,
                week: 6048e5,
                month: 24192e5,
                year: 314496e5
            }, e.numberFormat = function(t, n, a, i) {
                t = +t || 0, n = +n;
                var o, r, s = e.defaultOptions.lang,
                    l = (t.toString().split(".")[1] || "").split("e")[0].length,
                    c = t.toString().split("e");
                return -1 === n ? n = Math.min(l, 20) : e.isNumber(n) ? n && c[1] && 0 > c[1] && (0 <= (o = n + +c[1]) ? (c[0] = (+c[0]).toExponential(o).split("e")[0], n = o) : (c[0] = c[0].split(".")[0] || 0, t = 20 > n ? (c[0] * Math.pow(10, c[1])).toFixed(n) : 0, c[1] = 0)) : n = 2, r = (Math.abs(c[1] ? c[0] : t) + Math.pow(10, -Math.max(n, l) - 1)).toFixed(n), o = 3 < (l = String(e.pInt(r))).length ? l.length % 3 : 0, a = e.pick(a, s.decimalPoint), i = e.pick(i, s.thousandsSep), t = (0 > t ? "-" : "") + (o ? l.substr(0, o) + i : ""), t += l.substr(o).replace(/(\d{3})(?=\d)/g, "$1" + i), n && (t += a + r.slice(-n)), c[1] && 0 != +t && (t += "e" + c[1]), t
            }, Math.easeInOutSine = function(e) {
                return -.5 * (Math.cos(Math.PI * e) - 1)
            }, e.getStyle = function(t, n, a) {
                return "width" === n ? Math.max(0, Math.min(t.offsetWidth, t.scrollWidth) - e.getStyle(t, "padding-left") - e.getStyle(t, "padding-right")) : "height" === n ? Math.max(0, Math.min(t.offsetHeight, t.scrollHeight) - e.getStyle(t, "padding-top") - e.getStyle(t, "padding-bottom")) : (i.getComputedStyle || e.error(27, !0), (t = i.getComputedStyle(t, void 0)) && (t = t.getPropertyValue(n), e.pick(a, "opacity" !== n) && (t = e.pInt(t))), t)
            }, e.inArray = function(t, n, a) {
                return (e.indexOfPolyfill || Array.prototype.indexOf).call(n, t, a)
            }, e.grep = function(t, n) {
                return (e.filterPolyfill || Array.prototype.filter).call(t, n)
            }, e.find = Array.prototype.find ? function(e, t) {
                return e.find(t)
            } : function(e, t) {
                var n, a = e.length;
                for (n = 0; n < a; n++)
                    if (t(e[n], n)) return e[n]
            }, e.some = function(t, n, a) {
                return (e.somePolyfill || Array.prototype.some).call(t, n, a)
            }, e.map = function(e, t) {
                for (var n = [], a = 0, i = e.length; a < i; a++) n[a] = t.call(e[a], e[a], a, e);
                return n
            }, e.keys = function(t) {
                return (e.keysPolyfill || Object.keys).call(void 0, t)
            }, e.reduce = function(t, n, a) {
                return (e.reducePolyfill || Array.prototype.reduce).apply(t, 2 < arguments.length ? [n, a] : [n])
            }, e.offset = function(e) {
                var t = a.documentElement;
                return {
                    top: (e = e.parentElement || e.parentNode ? e.getBoundingClientRect() : {
                        top: 0,
                        left: 0
                    }).top + (i.pageYOffset || t.scrollTop) - (t.clientTop || 0),
                    left: e.left + (i.pageXOffset || t.scrollLeft) - (t.clientLeft || 0)
                }
            }, e.stop = function(t, n) {
                for (var a = e.timers.length; a--;) e.timers[a].elem !== t || n && n !== e.timers[a].prop || (e.timers[a].stopped = !0)
            }, e.each = function(t, n, a) {
                return (e.forEachPolyfill || Array.prototype.forEach).call(t, n, a)
            }, e.objectEach = function(e, t, n) {
                for (var a in e) e.hasOwnProperty(a) && t.call(n || e[a], e[a], a, e)
            }, e.addEvent = function(t, n, a, i) {
                var o, r = t.addEventListener || e.addEventListenerPolyfill;
                return o = "function" == typeof t && t.prototype ? t.prototype.protoEvents = t.prototype.protoEvents || {} : t.hcEvents = t.hcEvents || {}, e.Point && t instanceof e.Point && t.series && t.series.chart && (t.series.chart.runTrackerClick = !0), r && r.call(t, n, a, !1), o[n] || (o[n] = []), o[n].push(a), i && e.isNumber(i.order) && (a.order = i.order, o[n].sort(function(e, t) {
                        return e.order - t.order
                    })),
                    function() {
                        e.removeEvent(t, n, a)
                    }
            }, e.removeEvent = function(t, n, a) {
                function u(n, a) {
                    var i = t.removeEventListener || e.removeEventListenerPolyfill;
                    i && i.call(t, n, a, !1)
                }

                function x(a) {
                    var i, o;
                    t.nodeName && (n ? (i = {})[n] = !0 : i = a, e.objectEach(i, function(e, t) {
                        if (a[t])
                            for (o = a[t].length; o--;) u(t, a[t][o])
                    }))
                }
                var i, o;
                e.each(["protoEvents", "hcEvents"], function(r) {
                    var s = t[r];
                    s && (n ? (i = s[n] || [], a ? (-1 < (o = e.inArray(a, i)) && (i.splice(o, 1), s[n] = i), u(n, a)) : (x(s), s[n] = [])) : (x(s), t[r] = {}))
                })
            }, e.fireEvent = function(t, n, i, o) {
                var r, s, l, c, u;
                i = i || {}, a.createEvent && (t.dispatchEvent || t.fireEvent) ? ((r = a.createEvent("Events")).initEvent(n, !0, !0), e.extend(r, i), t.dispatchEvent ? t.dispatchEvent(r) : t.fireEvent(n, r)) : e.each(["protoEvents", "hcEvents"], function(a) {
                    if (t[a])
                        for (s = t[a][n] || [], l = s.length, i.target || e.extend(i, {
                                preventDefault: function() {
                                    i.defaultPrevented = !0
                                },
                                target: t,
                                type: n
                            }), c = 0; c < l; c++)(u = s[c]) && !1 === u.call(t, i) && i.preventDefault()
                }), o && !i.defaultPrevented && o.call(t, i)
            }, e.animate = function(t, n, a) {
                var i, o, r, s, l = "";
                e.isObject(a) || (a = {
                    duration: (s = arguments)[2],
                    easing: s[3],
                    complete: s[4]
                }), e.isNumber(a.duration) || (a.duration = 400), a.easing = "function" == typeof a.easing ? a.easing : Math[a.easing] || Math.easeInOutSine, a.curAnim = e.merge(n), e.objectEach(n, function(s, c) {
                    e.stop(t, c), r = new e.Fx(t, a, c), o = null, "d" === c ? (r.paths = r.initPath(t, t.d, n.d), r.toD = n.d, i = 0, o = 1) : t.attr ? i = t.attr(c) : (i = parseFloat(e.getStyle(t, c)) || 0, "opacity" !== c && (l = "px")), o || (o = s), o && o.match && o.match("px") && (o = o.replace(/px/g, "")), r.run(i, o, l)
                })
            }, e.seriesType = function(t, n, a, i, o) {
                var r = e.getOptions(),
                    s = e.seriesTypes;
                return r.plotOptions[t] = e.merge(r.plotOptions[n], a), s[t] = e.extendClass(s[n] || function() {}, i), s[t].prototype.type = t, o && (s[t].prototype.pointClass = e.extendClass(e.Point, o)), s[t]
            }, e.uniqueKey = function() {
                var e = Math.random().toString(36).substring(2, 9),
                    t = 0;
                return function() {
                    return "highcharts-" + e + "-" + t++
                }
            }(), i.jQuery && (i.jQuery.fn.highcharts = function() {
                var t = [].slice.call(arguments);
                if (this[0]) return t[0] ? (new(e[e.isString(t[0]) ? t.shift() : "Chart"])(this[0], t[0], t[1]), this) : n[e.attr(this[0], "data-highcharts-chart")]
            })
        }(c),
        function(e) {
            var t = e.each,
                n = e.isNumber,
                a = e.map,
                i = e.merge,
                o = e.pInt;
            e.Color = function(t) {
                if (!(this instanceof e.Color)) return new e.Color(t);
                this.init(t)
            }, e.Color.prototype = {
                parsers: [{
                    regex: /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
                    parse: function(e) {
                        return [o(e[1]), o(e[2]), o(e[3]), parseFloat(e[4], 10)]
                    }
                }, {
                    regex: /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,
                    parse: function(e) {
                        return [o(e[1]), o(e[2]), o(e[3]), 1]
                    }
                }],
                names: {
                    white: "#ffffff",
                    black: "#000000"
                },
                init: function(t) {
                    var n, i, o, r;
                    if ((this.input = t = this.names[t && t.toLowerCase ? t.toLowerCase() : ""] || t) && t.stops) this.stops = a(t.stops, function(t) {
                        return new e.Color(t[1])
                    });
                    else if (t && t.charAt && "#" === t.charAt() && (n = t.length, t = parseInt(t.substr(1), 16), 7 === n ? i = [(16711680 & t) >> 16, (65280 & t) >> 8, 255 & t, 1] : 4 === n && (i = [(3840 & t) >> 4 | (3840 & t) >> 8, (240 & t) >> 4 | 240 & t, (15 & t) << 4 | 15 & t, 1])), !i)
                        for (o = this.parsers.length; o-- && !i;)(n = (r = this.parsers[o]).regex.exec(t)) && (i = r.parse(n));
                    this.rgba = i || []
                },
                get: function(e) {
                    var a, o = this.input,
                        r = this.rgba;
                    return this.stops ? ((a = i(o)).stops = [].concat(a.stops), t(this.stops, function(t, n) {
                        a.stops[n] = [a.stops[n][0], t.get(e)]
                    })) : a = r && n(r[0]) ? "rgb" === e || !e && 1 === r[3] ? "rgb(" + r[0] + "," + r[1] + "," + r[2] + ")" : "a" === e ? r[3] : "rgba(" + r.join(",") + ")" : o, a
                },
                brighten: function(e) {
                    var a, i = this.rgba;
                    if (this.stops) t(this.stops, function(t) {
                        t.brighten(e)
                    });
                    else if (n(e) && 0 !== e)
                        for (a = 0; 3 > a; a++) i[a] += o(255 * e), 0 > i[a] && (i[a] = 0), 255 < i[a] && (i[a] = 255);
                    return this
                },
                setOpacity: function(e) {
                    return this.rgba[3] = e, this
                },
                tweenTo: function(e, t) {
                    var n = this.rgba,
                        a = e.rgba;
                    return a.length && n && n.length ? t = ((e = 1 !== a[3] || 1 !== n[3]) ? "rgba(" : "rgb(") + Math.round(a[0] + (n[0] - a[0]) * (1 - t)) + "," + Math.round(a[1] + (n[1] - a[1]) * (1 - t)) + "," + Math.round(a[2] + (n[2] - a[2]) * (1 - t)) + (e ? "," + (a[3] + (n[3] - a[3]) * (1 - t)) : "") + ")" : t = e.input || "none", t
                }
            }, e.color = function(t) {
                return new e.Color(t)
            }
        }(c),
        function(e) {
            var t, n, a = e.addEvent,
                i = e.animate,
                o = e.attr,
                r = e.charts,
                s = e.color,
                l = e.css,
                c = e.createElement,
                u = e.defined,
                d = e.deg2rad,
                p = e.destroyObjectProperties,
                h = e.doc,
                m = e.each,
                f = e.extend,
                g = e.erase,
                b = e.grep,
                v = e.hasTouch,
                y = e.inArray,
                _ = e.isArray,
                w = e.isFirefox,
                O = e.isMS,
                k = e.isObject,
                S = e.isString,
                x = e.isWebKit,
                P = e.merge,
                C = e.noop,
                M = e.objectEach,
                T = e.pick,
                E = e.pInt,
                A = e.removeEvent,
                j = e.stop,
                L = e.svg,
                D = e.SVG_NS,
                N = e.symbolSizes,
                I = e.win;
            t = e.SVGElement = function() {
                return this
            }, f(t.prototype, {
                opacity: 1,
                SVG_NS: D,
                textProps: "direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),
                init: function(e, t) {
                    this.element = "span" === t ? c(t) : h.createElementNS(this.SVG_NS, t), this.renderer = e
                },
                animate: function(t, n, a) {
                    return 0 !== (n = e.animObject(T(n, this.renderer.globalAnimation, !0))).duration ? (a && (n.complete = a), i(this, t, n)) : (this.attr(t, null, a), n.step && n.step.call(this)), this
                },
                complexColor: function(t, n, a) {
                    var i, o, r, s, l, c, d, p, h, f, g, b, v = this.renderer,
                        y = [];
                    e.fireEvent(this.renderer, "complexColor", {
                        args: arguments
                    }, function() {
                        t.radialGradient ? o = "radialGradient" : t.linearGradient && (o = "linearGradient"), o && (r = t[o], l = v.gradients, d = t.stops, f = a.radialReference, _(r) && (t[o] = r = {
                            x1: r[0],
                            y1: r[1],
                            x2: r[2],
                            y2: r[3],
                            gradientUnits: "userSpaceOnUse"
                        }), "radialGradient" === o && f && !u(r.gradientUnits) && (s = r, r = P(r, v.getRadialAttr(f, s), {
                            gradientUnits: "userSpaceOnUse"
                        })), M(r, function(e, t) {
                            "id" !== t && y.push(t, e)
                        }), M(d, function(e) {
                            y.push(e)
                        }), y = y.join(","), l[y] ? g = l[y].attr("id") : (r.id = g = e.uniqueKey(), l[y] = c = v.createElement(o).attr(r).add(v.defs), c.radAttr = s, c.stops = [], m(d, function(t) {
                            0 === t[1].indexOf("rgba") ? (i = e.color(t[1]), p = i.get("rgb"), h = i.get("a")) : (p = t[1], h = 1), t = v.createElement("stop").attr({
                                offset: t[0],
                                "stop-color": p,
                                "stop-opacity": h
                            }).add(c), c.stops.push(t)
                        })), b = "url(" + v.url + "#" + g + ")", a.setAttribute(n, b), a.gradient = y, t.toString = function() {
                            return b
                        })
                    })
                },
                applyTextOutline: function(t) {
                    var n, a, i, r, s, l = this.element;
                    if (-1 !== t.indexOf("contrast") && (t = t.replace(/contrast/g, this.renderer.getContrast(l.style.fill))), t = t.split(" "), a = t[t.length - 1], (i = t[0]) && "none" !== i && e.svg) {
                        for (this.fakeTS = !0, t = [].slice.call(l.getElementsByTagName("tspan")), this.ySetter = this.xSetter, i = i.replace(/(^[\d\.]+)(.*?)$/g, function(e, t, n) {
                                return 2 * t + n
                            }), s = t.length; s--;) "highcharts-text-outline" === (n = t[s]).getAttribute("class") && g(t, l.removeChild(n));
                        r = l.firstChild, m(t, function(e, t) {
                            0 === t && (e.setAttribute("x", l.getAttribute("x")), t = l.getAttribute("y"), e.setAttribute("y", t || 0), null === t && l.setAttribute("y", 0)), e = e.cloneNode(1), o(e, {
                                class: "highcharts-text-outline",
                                fill: a,
                                stroke: a,
                                "stroke-width": i,
                                "stroke-linejoin": "round"
                            }), l.insertBefore(e, r)
                        })
                    }
                },
                attr: function(e, t, n, a) {
                    var i, o, r, s, l = this.element,
                        c = this;
                    return "string" == typeof e && void 0 !== t && (i = e, (e = {})[i] = t), "string" == typeof e ? c = (this[e + "Getter"] || this._defaultGetter).call(this, e, l) : (M(e, function(t, n) {
                        r = !1, a || j(this, n), this.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n) && (o || (this.symbolAttr(e), o = !0), r = !0), !this.rotation || "x" !== n && "y" !== n || (this.doTransform = !0), r || ((s = this[n + "Setter"] || this._defaultSetter).call(this, t, n, l), this.shadows && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n) && this.updateShadows(n, t, s))
                    }, this), this.afterSetters()), n && n.call(this), c
                },
                afterSetters: function() {
                    this.doTransform && (this.updateTransform(), this.doTransform = !1)
                },
                updateShadows: function(e, t, n) {
                    for (var a = this.shadows, i = a.length; i--;) n.call(a[i], "height" === e ? Math.max(t - (a[i].cutHeight || 0), 0) : "d" === e ? this.d : t, e, a[i])
                },
                addClass: function(e, t) {
                    var n = this.attr("class") || "";
                    return -1 === n.indexOf(e) && (t || (e = (n + (n ? " " : "") + e).replace("  ", " ")), this.attr("class", e)), this
                },
                hasClass: function(e) {
                    return -1 !== y(e, (this.attr("class") || "").split(" "))
                },
                removeClass: function(e) {
                    return this.attr("class", (this.attr("class") || "").replace(e, ""))
                },
                symbolAttr: function(e) {
                    var t = this;
                    m("x y r start end width height innerR anchorX anchorY".split(" "), function(n) {
                        t[n] = T(e[n], t[n])
                    }), t.attr({
                        d: t.renderer.symbols[t.symbolName](t.x, t.y, t.width, t.height, t)
                    })
                },
                clip: function(e) {
                    return this.attr("clip-path", e ? "url(" + this.renderer.url + "#" + e.id + ")" : "none")
                },
                crisp: function(e, t) {
                    var n;
                    return t = t || e.strokeWidth || 0, n = Math.round(t) % 2 / 2, e.x = Math.floor(e.x || this.x || 0) + n, e.y = Math.floor(e.y || this.y || 0) + n, e.width = Math.floor((e.width || this.width || 0) - 2 * n), e.height = Math.floor((e.height || this.height || 0) - 2 * n), u(e.strokeWidth) && (e.strokeWidth = t), e
                },
                css: function(e) {
                    var t, n, a = this.styles,
                        i = {},
                        r = this.element,
                        s = "",
                        c = !a,
                        u = ["textOutline", "textOverflow", "width"];
                    return e && e.color && (e.fill = e.color), a && M(e, function(e, t) {
                        e !== a[t] && (i[t] = e, c = !0)
                    }), c && (a && (e = f(a, i)), e && (null === e.width || "auto" === e.width ? delete this.textWidth : "text" === r.nodeName.toLowerCase() && e.width && (t = this.textWidth = E(e.width))), this.styles = e, t && !L && this.renderer.forExport && delete e.width, r.namespaceURI === this.SVG_NS ? (n = function(e, t) {
                        return "-" + t.toLowerCase()
                    }, M(e, function(e, t) {
                        -1 === y(t, u) && (s += t.replace(/([A-Z])/g, n) + ":" + e + ";")
                    }), s && o(r, "style", s)) : l(r, e), this.added && ("text" === this.element.nodeName && this.renderer.buildText(this), e && e.textOutline && this.applyTextOutline(e.textOutline))), this
                },
                strokeWidth: function() {
                    return this["stroke-width"] || 0
                },
                on: function(e, t) {
                    var n = this,
                        a = n.element;
                    return v && "click" === e ? (a.ontouchstart = function(e) {
                        n.touchEventFired = Date.now(), e.preventDefault(), t.call(a, e)
                    }, a.onclick = function(e) {
                        (-1 === I.navigator.userAgent.indexOf("Android") || 1100 < Date.now() - (n.touchEventFired || 0)) && t.call(a, e)
                    }) : a["on" + e] = t, this
                },
                setRadialReference: function(e) {
                    var t = this.renderer.gradients[this.element.gradient];
                    return this.element.radialReference = e, t && t.radAttr && t.animate(this.renderer.getRadialAttr(e, t.radAttr)), this
                },
                translate: function(e, t) {
                    return this.attr({
                        translateX: e,
                        translateY: t
                    })
                },
                invert: function(e) {
                    return this.inverted = e, this.updateTransform(), this
                },
                updateTransform: function() {
                    var e = this.translateX || 0,
                        t = this.translateY || 0,
                        n = this.scaleX,
                        a = this.scaleY,
                        i = this.inverted,
                        o = this.rotation,
                        r = this.matrix,
                        s = this.element;
                    i && (e += this.width, t += this.height), e = ["translate(" + e + "," + t + ")"], u(r) && e.push("matrix(" + r.join(",") + ")"), i ? e.push("rotate(90) scale(-1,1)") : o && e.push("rotate(" + o + " " + T(this.rotationOriginX, s.getAttribute("x"), 0) + " " + T(this.rotationOriginY, s.getAttribute("y") || 0) + ")"), (u(n) || u(a)) && e.push("scale(" + T(n, 1) + " " + T(a, 1) + ")"), e.length && s.setAttribute("transform", e.join(" "))
                },
                toFront: function() {
                    var e = this.element;
                    return e.parentNode.appendChild(e), this
                },
                align: function(e, t, n) {
                    var a, i, o, r, s, l, c = {};
                    return o = (i = this.renderer).alignedObjects, e ? (this.alignOptions = e, this.alignByTranslate = t, (!n || S(n)) && (this.alignTo = a = n || "renderer", g(o, this), o.push(this), n = null)) : (e = this.alignOptions, t = this.alignByTranslate, a = this.alignTo), n = T(n, i[a], i), a = e.align, i = e.verticalAlign, o = (n.x || 0) + (e.x || 0), r = (n.y || 0) + (e.y || 0), "right" === a ? s = 1 : "center" === a && (s = 2), s && (o += (n.width - (e.width || 0)) / s), c[t ? "translateX" : "x"] = Math.round(o), "bottom" === i ? l = 1 : "middle" === i && (l = 2), l && (r += (n.height - (e.height || 0)) / l), c[t ? "translateY" : "y"] = Math.round(r), this[this.placed ? "animate" : "attr"](c), this.placed = !0, this.alignAttr = c, this
                },
                getBBox: function(e, t) {
                    var n, a, i, o, r, s = this.renderer,
                        l = this.element,
                        c = this.styles,
                        p = this.textStr,
                        h = s.cache,
                        g = s.cacheKeys,
                        b = l.namespaceURI === this.SVG_NS;
                    if (a = (t = T(t, this.rotation)) * d, i = c && c.fontSize, u(p) && (-1 === (r = p.toString()).indexOf("<") && (r = r.replace(/[0-9]/g, "0")), r += ["", t || 0, i, this.textWidth, c && c.textOverflow].join()), r && !e && (n = h[r]), !n) {
                        if (b || s.forExport) {
                            try {
                                (o = this.fakeTS && function(e) {
                                    m(l.querySelectorAll(".highcharts-text-outline"), function(t) {
                                        t.style.display = e
                                    })
                                }) && o("none"), n = l.getBBox ? f({}, l.getBBox()) : {
                                    width: l.offsetWidth,
                                    height: l.offsetHeight
                                }, o && o("")
                            } catch (e) {}(!n || 0 > n.width) && (n = {
                                width: 0,
                                height: 0
                            })
                        } else n = this.htmlGetBBox();
                        if (s.isSVG && (e = n.width, s = n.height, b && (n.height = s = {
                                "11px,17": 14,
                                "13px,20": 16
                            }[c && c.fontSize + "," + Math.round(s)] || s), t && (n.width = Math.abs(s * Math.sin(a)) + Math.abs(e * Math.cos(a)), n.height = Math.abs(s * Math.cos(a)) + Math.abs(e * Math.sin(a)))), r && 0 < n.height) {
                            for (; 250 < g.length;) delete h[g.shift()];
                            h[r] || g.push(r), h[r] = n
                        }
                    }
                    return n
                },
                show: function(e) {
                    return this.attr({
                        visibility: e ? "inherit" : "visible"
                    })
                },
                hide: function() {
                    return this.attr({
                        visibility: "hidden"
                    })
                },
                fadeOut: function(e) {
                    var t = this;
                    t.animate({
                        opacity: 0
                    }, {
                        duration: e || 150,
                        complete: function() {
                            t.attr({
                                y: -9999
                            })
                        }
                    })
                },
                add: function(e) {
                    var t, n = this.renderer,
                        a = this.element;
                    return e && (this.parentGroup = e), this.parentInverted = e && e.inverted, void 0 !== this.textStr && n.buildText(this), this.added = !0, (!e || e.handleZ || this.zIndex) && (t = this.zIndexSetter()), t || (e ? e.element : n.box).appendChild(a), this.onAdd && this.onAdd(), this
                },
                safeRemoveChild: function(e) {
                    var t = e.parentNode;
                    t && t.removeChild(e)
                },
                destroy: function() {
                    var e = this,
                        t = e.element || {},
                        n = e.renderer.isSVG && "SPAN" === t.nodeName && e.parentGroup,
                        a = t.ownerSVGElement,
                        i = e.clipPath;
                    if (t.onclick = t.onmouseout = t.onmouseover = t.onmousemove = t.point = null, j(e), i && a && (m(a.querySelectorAll("[clip-path],[CLIP-PATH]"), function(e) {
                            var t = e.getAttribute("clip-path"),
                                n = i.element.id;
                            (-1 < t.indexOf("(#" + n + ")") || -1 < t.indexOf('("#' + n + '")')) && e.removeAttribute("clip-path")
                        }), e.clipPath = i.destroy()), e.stops) {
                        for (a = 0; a < e.stops.length; a++) e.stops[a] = e.stops[a].destroy();
                        e.stops = null
                    }
                    for (e.safeRemoveChild(t), e.destroyShadows(); n && n.div && 0 === n.div.childNodes.length;) t = n.parentGroup, e.safeRemoveChild(n.div), delete n.div, n = t;
                    return e.alignTo && g(e.renderer.alignedObjects, e), M(e, function(t, n) {
                        delete e[n]
                    }), null
                },
                shadow: function(e, t, n) {
                    var a, i, r, s, l, c, u = [],
                        d = this.element;
                    if (e) {
                        if (!this.shadows) {
                            for (s = T(e.width, 3), l = (e.opacity || .15) / s, c = this.parentInverted ? "(-1,-1)" : "(" + T(e.offsetX, 1) + ", " + T(e.offsetY, 1) + ")", a = 1; a <= s; a++) i = d.cloneNode(0), r = 2 * s + 1 - 2 * a, o(i, {
                                stroke: e.color || "#000000",
                                "stroke-opacity": l * a,
                                "stroke-width": r,
                                transform: "translate" + c,
                                fill: "none"
                            }), i.setAttribute("class", (i.getAttribute("class") || "") + " highcharts-shadow"), n && (o(i, "height", Math.max(o(i, "height") - r, 0)), i.cutHeight = r), t ? t.element.appendChild(i) : d.parentNode && d.parentNode.insertBefore(i, d), u.push(i);
                            this.shadows = u
                        }
                    } else this.destroyShadows();
                    return this
                },
                destroyShadows: function() {
                    m(this.shadows || [], function(e) {
                        this.safeRemoveChild(e)
                    }, this), this.shadows = void 0
                },
                xGetter: function(e) {
                    return "circle" === this.element.nodeName && ("x" === e ? e = "cx" : "y" === e && (e = "cy")), this._defaultGetter(e)
                },
                _defaultGetter: function(e) {
                    return e = T(this[e + "Value"], this[e], this.element ? this.element.getAttribute(e) : null, 0), /^[\-0-9\.]+$/.test(e) && (e = parseFloat(e)), e
                },
                dSetter: function(e, t, n) {
                    e && e.join && (e = e.join(" ")), /(NaN| {2}|^$)/.test(e) && (e = "M 0 0"), this[t] !== e && (n.setAttribute(t, e), this[t] = e)
                },
                dashstyleSetter: function(e) {
                    var t, n = this["stroke-width"];
                    if ("inherit" === n && (n = 1), e = e && e.toLowerCase()) {
                        for (t = (e = e.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(",")).length; t--;) e[t] = E(e[t]) * n;
                        e = e.join(",").replace(/NaN/g, "none"), this.element.setAttribute("stroke-dasharray", e)
                    }
                },
                alignSetter: function(e) {
                    this.alignValue = e, this.element.setAttribute("text-anchor", {
                        left: "start",
                        center: "middle",
                        right: "end"
                    }[e])
                },
                opacitySetter: function(e, t, n) {
                    this[t] = e, n.setAttribute(t, e)
                },
                titleSetter: function(e) {
                    var t = this.element.getElementsByTagName("title")[0];
                    t || (t = h.createElementNS(this.SVG_NS, "title"), this.element.appendChild(t)), t.firstChild && t.removeChild(t.firstChild), t.appendChild(h.createTextNode(String(T(e), "").replace(/<[^>]*>/g, "").replace(/&lt;/g, "<").replace(/&gt;/g, ">")))
                },
                textSetter: function(e) {
                    e !== this.textStr && (delete this.bBox, this.textStr = e, this.added && this.renderer.buildText(this))
                },
                fillSetter: function(e, t, n) {
                    "string" == typeof e ? n.setAttribute(t, e) : e && this.complexColor(e, t, n)
                },
                visibilitySetter: function(e, t, n) {
                    "inherit" === e ? n.removeAttribute(t) : this[t] !== e && n.setAttribute(t, e), this[t] = e
                },
                zIndexSetter: function(e, t) {
                    var n, a, i, o, r = this.renderer,
                        s = this.parentGroup,
                        l = (s || r).element || r.box,
                        c = this.element;
                    r = l === r.box;
                    if (n = this.added, u(e) ? (c.setAttribute("data-z-index", e), e = +e, this[t] === e && (n = !1)) : u(this[t]) && c.removeAttribute("data-z-index"), this[t] = e, n) {
                        for ((e = this.zIndex) && s && (s.handleZ = !0), o = (t = l.childNodes).length - 1; 0 <= o && !a; o--) n = (s = t[o]).getAttribute("data-z-index"), i = !u(n), s !== c && (0 > e && i && !r && !o ? (l.insertBefore(c, t[o]), a = !0) : (E(n) <= e || i && (!u(e) || 0 <= e)) && (l.insertBefore(c, t[o + 1] || null), a = !0));
                        a || (l.insertBefore(c, t[r ? 3 : 0] || null), a = !0)
                    }
                    return a
                },
                _defaultSetter: function(e, t, n) {
                    n.setAttribute(t, e)
                }
            }), t.prototype.yGetter = t.prototype.xGetter, t.prototype.translateXSetter = t.prototype.translateYSetter = t.prototype.rotationSetter = t.prototype.verticalAlignSetter = t.prototype.rotationOriginXSetter = t.prototype.rotationOriginYSetter = t.prototype.scaleXSetter = t.prototype.scaleYSetter = t.prototype.matrixSetter = function(e, t) {
                this[t] = e, this.doTransform = !0
            }, t.prototype["stroke-widthSetter"] = t.prototype.strokeSetter = function(e, n, a) {
                this[n] = e, this.stroke && this["stroke-width"] ? (t.prototype.fillSetter.call(this, this.stroke, "stroke", a), a.setAttribute("stroke-width", this["stroke-width"]), this.hasStroke = !0) : "stroke-width" === n && 0 === e && this.hasStroke && (a.removeAttribute("stroke"), this.hasStroke = !1)
            }, n = e.SVGRenderer = function() {
                this.init.apply(this, arguments)
            }, f(n.prototype, {
                Element: t,
                SVG_NS: D,
                init: function(e, t, n, i, r, s) {
                    var c, u;
                    c = (i = this.createElement("svg").attr({
                        version: "1.1",
                        class: "highcharts-root"
                    }).css(this.getStyle(i))).element, e.appendChild(c), o(e, "dir", "ltr"), -1 === e.innerHTML.indexOf("xmlns") && o(c, "xmlns", this.SVG_NS), this.isSVG = !0, this.box = c, this.boxWrapper = i, this.alignedObjects = [], this.url = (w || x) && h.getElementsByTagName("base").length ? I.location.href.split("#")[0].replace(/<[^>]*>/g, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20") : "", this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 6.2.0")), this.defs = this.createElement("defs").add(), this.allowHTML = s, this.forExport = r, this.gradients = {}, this.cache = {}, this.cacheKeys = [], this.imgCount = 0, this.setSize(t, n, !1), w && e.getBoundingClientRect && ((t = function() {
                        l(e, {
                            left: 0,
                            top: 0
                        }), u = e.getBoundingClientRect(), l(e, {
                            left: Math.ceil(u.left) - u.left + "px",
                            top: Math.ceil(u.top) - u.top + "px"
                        })
                    })(), this.unSubPixelFix = a(I, "resize", t))
                },
                getStyle: function(e) {
                    return this.style = f({
                        fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',
                        fontSize: "12px"
                    }, e)
                },
                setStyle: function(e) {
                    this.boxWrapper.css(this.getStyle(e))
                },
                isHidden: function() {
                    return !this.boxWrapper.getBBox().width
                },
                destroy: function() {
                    var e = this.defs;
                    return this.box = null, this.boxWrapper = this.boxWrapper.destroy(), p(this.gradients || {}), this.gradients = null, e && (this.defs = e.destroy()), this.unSubPixelFix && this.unSubPixelFix(), this.alignedObjects = null
                },
                createElement: function(e) {
                    var t = new this.Element;
                    return t.init(this, e), t
                },
                draw: C,
                getRadialAttr: function(e, t) {
                    return {
                        cx: e[0] - e[2] / 2 + t.cx * e[2],
                        cy: e[1] - e[2] / 2 + t.cy * e[2],
                        r: t.r * e[2]
                    }
                },
                truncate: function(e, t, n, a, i, o, r) {
                    var s, l, c, u = this,
                        d = e.rotation,
                        p = a ? 1 : 0,
                        m = (n || a).length,
                        f = m,
                        g = [],
                        b = function(e) {
                            t.firstChild && t.removeChild(t.firstChild), e && t.appendChild(h.createTextNode(e))
                        },
                        v = function(o, s) {
                            if (void 0 === g[s = s || o])
                                if (t.getSubStringLength) try {
                                    g[s] = i + t.getSubStringLength(0, a ? s + 1 : s)
                                } catch (e) {} else u.getSpanWidth && (b(r(n || a, o)), g[s] = i + u.getSpanWidth(e, t));
                            return g[s]
                        };
                    if (e.rotation = 0, l = v(t.textContent.length), c = i + l > o) {
                        for (; p <= m;) f = Math.ceil((p + m) / 2), a && (s = r(a, f)), l = v(f, s && s.length - 1), p === m ? p = m + 1 : l > o ? m = f - 1 : p = f;
                        0 === m ? b("") : n && m === n.length - 1 || b(s || r(n || a, f))
                    }
                    return a && a.splice(0, f), e.actualWidth = l, e.rotation = d, c
                },
                escapes: {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    "'": "&#39;",
                    '"': "&quot;"
                },
                buildText: function(e) {
                    var t, n, a, i = e.element,
                        r = this,
                        s = r.forExport,
                        c = T(e.textStr, "").toString(),
                        u = -1 !== c.indexOf("<"),
                        d = i.childNodes,
                        p = o(i, "x"),
                        f = e.styles,
                        g = e.textWidth,
                        v = f && f.lineHeight,
                        _ = f && f.textOutline,
                        w = f && "ellipsis" === f.textOverflow,
                        O = f && "nowrap" === f.whiteSpace,
                        k = f && f.fontSize,
                        S = d.length,
                        x = (f = g && !e.added && this.box, function(e) {
                            var t;
                            return t = /(px|em)$/.test(e && e.style.fontSize) ? e.style.fontSize : k || r.style.fontSize || 12, v ? E(v) : r.fontMetrics(t, e.getAttribute("style") ? e : i).h
                        }),
                        P = function(e, t) {
                            return M(r.escapes, function(n, a) {
                                t && -1 !== y(n, t) || (e = e.toString().replace(new RegExp(n, "g"), a))
                            }), e
                        },
                        C = function(e, t) {
                            var n;
                            if (n = e.indexOf("<"), -1 !== (n = (e = e.substring(n, e.indexOf(">") - n)).indexOf(t + "=")) && (n = n + t.length + 1, '"' === (t = e.charAt(n)) || "'" === t)) return (e = e.substring(n + 1)).substring(0, e.indexOf(t))
                        };
                    if ((n = [c, w, O, v, _, k, g].join()) !== e.textCache) {
                        for (e.textCache = n; S--;) i.removeChild(d[S]);
                        u || _ || w || g || -1 !== c.indexOf(" ") ? (f && f.appendChild(i), c = u ? c.replace(/<(b|strong)>/g, '<span style="font-weight:bold">').replace(/<(i|em)>/g, '<span style="font-style:italic">').replace(/<a/g, "<span").replace(/<\/(b|strong|i|em|a)>/g, "</span>").split(/<br.*?>/g) : [c], c = b(c, function(e) {
                            return "" !== e
                        }), m(c, function(n, c) {
                            var u, d = 0,
                                f = 0;
                            n = n.replace(/^\s+|\s+$/g, "").replace(/<span/g, "|||<span").replace(/<\/span>/g, "</span>|||"), u = n.split("|||"), m(u, function(n) {
                                if ("" !== n || 1 === u.length) {
                                    var m, b, v = {},
                                        y = h.createElementNS(r.SVG_NS, "tspan");
                                    if ((m = C(n, "class")) && o(y, "class", m), (m = C(n, "style")) && (m = m.replace(/(;| |^)color([ :])/, "$1fill$2"), o(y, "style", m)), (b = C(n, "href")) && !s && (o(y, "onclick", 'location.href="' + b + '"'), o(y, "class", "highcharts-anchor"), l(y, {
                                            cursor: "pointer"
                                        })), " " !== (n = P(n.replace(/<[a-zA-Z\/](.|\n)*?>/g, "") || " "))) {
                                        if (y.appendChild(h.createTextNode(n)), d ? v.dx = 0 : c && null !== p && (v.x = p), o(y, v), i.appendChild(y), !d && a && (!L && s && l(y, {
                                                display: "block"
                                            }), o(y, "dy", x(y))), g) {
                                            var _ = n.replace(/([^\^])-/g, "$1- ").split(" ");
                                            v = !O && (1 < u.length || c || 1 < _.length);
                                            b = 0;
                                            var S = x(y);
                                            if (w) t = r.truncate(e, y, n, void 0, 0, Math.max(0, g - parseInt(k || 12, 10)), function(e, t) {
                                                return e.substring(0, t) + "…"
                                            });
                                            else if (v)
                                                for (; _.length;) _.length && !O && 0 < b && (y = h.createElementNS(D, "tspan"), o(y, {
                                                    dy: S,
                                                    x: p
                                                }), m && o(y, "style", m), y.appendChild(h.createTextNode(_.join(" ").replace(/- /g, "-"))), i.appendChild(y)), r.truncate(e, y, null, _, 0 === b ? f : 0, g, function(e, t) {
                                                    return _.slice(0, t).join(" ").replace(/- /g, "-")
                                                }), f = e.actualWidth, b++
                                        }
                                        d++
                                    }
                                }
                            }), a = a || i.childNodes.length
                        }), w && t && e.attr("title", P(e.textStr, ["&lt;", "&gt;"])), f && f.removeChild(i), _ && e.applyTextOutline && e.applyTextOutline(_)) : i.appendChild(h.createTextNode(P(c)))
                    }
                },
                getContrast: function(e) {
                    return (e = s(e).rgba)[0] *= 1, e[1] *= 1.2, e[2] *= .5, 459 < e[0] + e[1] + e[2] ? "#000000" : "#FFFFFF"
                },
                button: function(e, t, n, i, o, r, s, l, c) {
                    var u, d, p, h, m = this.label(e, t, n, c, null, null, null, null, "button"),
                        g = 0;
                    return m.attr(P({
                        padding: 8,
                        r: 2
                    }, o)), o = P({
                        fill: "#f7f7f7",
                        stroke: "#cccccc",
                        "stroke-width": 1,
                        style: {
                            color: "#333333",
                            cursor: "pointer",
                            fontWeight: "normal"
                        }
                    }, o), u = o.style, delete o.style, r = P(o, {
                        fill: "#e6e6e6"
                    }, r), d = r.style, delete r.style, s = P(o, {
                        fill: "#e6ebf5",
                        style: {
                            color: "#000000",
                            fontWeight: "bold"
                        }
                    }, s), p = s.style, delete s.style, l = P(o, {
                        style: {
                            color: "#cccccc"
                        }
                    }, l), h = l.style, delete l.style, a(m.element, O ? "mouseover" : "mouseenter", function() {
                        3 !== g && m.setState(1)
                    }), a(m.element, O ? "mouseout" : "mouseleave", function() {
                        3 !== g && m.setState(g)
                    }), m.setState = function(e) {
                        1 !== e && (m.state = g = e), m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-" + ["normal", "hover", "pressed", "disabled"][e || 0]), m.attr([o, r, s, l][e || 0]).css([u, d, p, h][e || 0])
                    }, m.attr(o).css(f({
                        cursor: "default"
                    }, u)), m.on("click", function(e) {
                        3 !== g && i.call(m, e)
                    })
                },
                crispLine: function(e, t) {
                    return e[1] === e[4] && (e[1] = e[4] = Math.round(e[1]) - t % 2 / 2), e[2] === e[5] && (e[2] = e[5] = Math.round(e[2]) + t % 2 / 2), e
                },
                path: function(e) {
                    var t = {
                        fill: "none"
                    };
                    return _(e) ? t.d = e : k(e) && f(t, e), this.createElement("path").attr(t)
                },
                circle: function(e, t, n) {
                    return e = k(e) ? e : {
                        x: e,
                        y: t,
                        r: n
                    }, (t = this.createElement("circle")).xSetter = t.ySetter = function(e, t, n) {
                        n.setAttribute("c" + t, e)
                    }, t.attr(e)
                },
                arc: function(e, t, n, a, i, o) {
                    return k(e) ? (t = (a = e).y, n = a.r, e = a.x) : a = {
                        innerR: a,
                        start: i,
                        end: o
                    }, (e = this.symbol("arc", e, t, n, n, a)).r = n, e
                },
                rect: function(e, t, n, a, i, r) {
                    i = k(e) ? e.r : i;
                    var s = this.createElement("rect");
                    return e = k(e) ? e : void 0 === e ? {} : {
                        x: e,
                        y: t,
                        width: Math.max(n, 0),
                        height: Math.max(a, 0)
                    }, void 0 !== r && (e.strokeWidth = r, e = s.crisp(e)), e.fill = "none", i && (e.r = i), s.rSetter = function(e, t, n) {
                        o(n, {
                            rx: e,
                            ry: e
                        })
                    }, s.attr(e)
                },
                setSize: function(e, t, n) {
                    var a = this.alignedObjects,
                        i = a.length;
                    for (this.width = e, this.height = t, this.boxWrapper.animate({
                            width: e,
                            height: t
                        }, {
                            step: function() {
                                this.attr({
                                    viewBox: "0 0 " + this.attr("width") + " " + this.attr("height")
                                })
                            },
                            duration: T(n, !0) ? void 0 : 0
                        }); i--;) a[i].align()
                },
                g: function(e) {
                    var t = this.createElement("g");
                    return e ? t.attr({
                        class: "highcharts-" + e
                    }) : t
                },
                image: function(e, t, n, i, o, r) {
                    var s, l = {
                            preserveAspectRatio: "none"
                        },
                        c = function(e, t) {
                            e.setAttributeNS ? e.setAttributeNS("http://www.w3.org/1999/xlink", "href", t) : e.setAttribute("hc-svg-href", t)
                        },
                        u = function(t) {
                            c(s.element, e), r.call(s, t)
                        };
                    return 1 < arguments.length && f(l, {
                        x: t,
                        y: n,
                        width: i,
                        height: o
                    }), s = this.createElement("image").attr(l), r ? (c(s.element, "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="), l = new I.Image, a(l, "load", u), l.src = e, l.complete && u({})) : c(s.element, e), s
                },
                symbol: function(e, t, n, a, i, o) {
                    var s, d, p, g = this,
                        b = /^url\((.*?)\)$/,
                        v = b.test(e),
                        y = !v && (this.symbols[e] ? e : "circle"),
                        _ = y && this.symbols[y],
                        w = u(t) && _ && _.call(this.symbols, Math.round(t), Math.round(n), a, i, o);
                    return _ ? ((s = this.path(w)).attr("fill", "none"), f(s, {
                        symbolName: y,
                        x: t,
                        y: n,
                        width: a,
                        height: i
                    }), o && f(s, o)) : v && (d = e.match(b)[1], (s = this.image(d)).imgwidth = T(N[d] && N[d].width, o && o.width), s.imgheight = T(N[d] && N[d].height, o && o.height), p = function() {
                        s.attr({
                            width: s.width,
                            height: s.height
                        })
                    }, m(["width", "height"], function(e) {
                        s[e + "Setter"] = function(e, t) {
                            var n = {},
                                a = this["img" + t],
                                i = "width" === t ? "translateX" : "translateY";
                            this[t] = e, u(a) && (this.element && this.element.setAttribute(t, a), this.alignByTranslate || (n[i] = ((this[t] || 0) - a) / 2, this.attr(n)))
                        }
                    }), u(t) && s.attr({
                        x: t,
                        y: n
                    }), s.isImg = !0, u(s.imgwidth) && u(s.imgheight) ? p() : (s.attr({
                        width: 0,
                        height: 0
                    }), c("img", {
                        onload: function() {
                            var e = r[g.chartIndex];
                            0 === this.width && (l(this, {
                                position: "absolute",
                                top: "-999em"
                            }), h.body.appendChild(this)), N[d] = {
                                width: this.width,
                                height: this.height
                            }, s.imgwidth = this.width, s.imgheight = this.height, s.element && p(), this.parentNode && this.parentNode.removeChild(this), g.imgCount--, !g.imgCount && e && e.onload && e.onload()
                        },
                        src: d
                    }), this.imgCount++)), s
                },
                symbols: {
                    circle: function(e, t, n, a) {
                        return this.arc(e + n / 2, t + a / 2, n / 2, a / 2, {
                            start: 0,
                            end: 2 * Math.PI,
                            open: !1
                        })
                    },
                    square: function(e, t, n, a) {
                        return ["M", e, t, "L", e + n, t, e + n, t + a, e, t + a, "Z"]
                    },
                    triangle: function(e, t, n, a) {
                        return ["M", e + n / 2, t, "L", e + n, t + a, e, t + a, "Z"]
                    },
                    "triangle-down": function(e, t, n, a) {
                        return ["M", e, t, "L", e + n, t, e + n / 2, t + a, "Z"]
                    },
                    diamond: function(e, t, n, a) {
                        return ["M", e + n / 2, t, "L", e + n, t + a / 2, e + n / 2, t + a, e, t + a / 2, "Z"]
                    },
                    arc: function(e, t, n, a, i) {
                        var o = i.start,
                            r = i.r || n,
                            s = i.r || a || n,
                            l = i.end - .001;
                        n = i.innerR, a = T(i.open, .001 > Math.abs(i.end - i.start - 2 * Math.PI));
                        var c = Math.cos(o),
                            d = Math.sin(o),
                            p = Math.cos(l);
                        l = Math.sin(l);
                        return r = ["M", e + r * c, t + s * d, "A", r, s, 0, i = .001 > i.end - o - Math.PI ? 0 : 1, 1, e + r * p, t + s * l], u(n) && r.push(a ? "M" : "L", e + n * p, t + n * l, "A", n, n, 0, i, 0, e + n * c, t + n * d), r.push(a ? "" : "Z"), r
                    },
                    callout: function(e, t, n, a, i) {
                        var o, r = Math.min(i && i.r || 0, n, a),
                            s = r + 6,
                            l = i && i.anchorX;
                        return i = i && i.anchorY, o = ["M", e + r, t, "L", e + n - r, t, "C", e + n, t, e + n, t, e + n, t + r, "L", e + n, t + a - r, "C", e + n, t + a, e + n, t + a, e + n - r, t + a, "L", e + r, t + a, "C", e, t + a, e, t + a, e, t + a - r, "L", e, t + r, "C", e, t, e, t, e + r, t], l && l > n ? i > t + s && i < t + a - s ? o.splice(13, 3, "L", e + n, i - 6, e + n + 6, i, e + n, i + 6, e + n, t + a - r) : o.splice(13, 3, "L", e + n, a / 2, l, i, e + n, a / 2, e + n, t + a - r) : l && 0 > l ? i > t + s && i < t + a - s ? o.splice(33, 3, "L", e, i + 6, e - 6, i, e, i - 6, e, t + r) : o.splice(33, 3, "L", e, a / 2, l, i, e, a / 2, e, t + r) : i && i > a && l > e + s && l < e + n - s ? o.splice(23, 3, "L", l + 6, t + a, l, t + a + 6, l - 6, t + a, e + r, t + a) : i && 0 > i && l > e + s && l < e + n - s && o.splice(3, 3, "L", l - 6, t, l, t - 6, l + 6, t, n - r, t), o
                    }
                },
                clipRect: function(t, n, a, i) {
                    var o = e.uniqueKey(),
                        r = this.createElement("clipPath").attr({
                            id: o
                        }).add(this.defs);
                    return (t = this.rect(t, n, a, i, 0).add(r)).id = o, t.clipPath = r, t.count = 0, t
                },
                text: function(e, t, n, a) {
                    var i = {};
                    return !a || !this.allowHTML && this.forExport ? (i.x = Math.round(t || 0), n && (i.y = Math.round(n)), u(e) && (i.text = e), e = this.createElement("text").attr(i), a || (e.xSetter = function(e, t, n) {
                        var a, i, o = n.getElementsByTagName("tspan"),
                            r = n.getAttribute(t);
                        for (i = 0; i < o.length; i++)(a = o[i]).getAttribute(t) === r && a.setAttribute(t, e);
                        n.setAttribute(t, e)
                    }), e) : this.html(e, t, n)
                },
                fontMetrics: function(e, t) {
                    return e = e || t && t.style && t.style.fontSize || this.style && this.style.fontSize, {
                        h: t = 24 > (e = /px/.test(e) ? E(e) : /em/.test(e) ? parseFloat(e) * (t ? this.fontMetrics(null, t.parentNode).f : 16) : 12) ? e + 3 : Math.round(1.2 * e),
                        b: Math.round(.8 * t),
                        f: e
                    }
                },
                rotCorr: function(e, t, n) {
                    var a = e;
                    return t && n && (a = Math.max(a * Math.cos(t * d), 4)), {
                        x: -e / 3 * Math.sin(t * d),
                        y: a
                    }
                },
                label: function(n, a, i, o, r, s, l, c, d) {
                    var p, h, g, b, v, y, _, w, O, k, S, x, C, M = this,
                        T = M.g("button" !== d && "label"),
                        E = T.text = M.text("", 0, 0, l).attr({
                            zIndex: 1
                        }),
                        j = 0,
                        L = 3,
                        D = 0,
                        N = {},
                        I = /^url\((.*?)\)$/.test(o),
                        $ = I;
                    d && T.addClass("highcharts-" + d), $ = I, k = function() {
                        return (w || 0) % 2 / 2
                    }, S = function() {
                        var e = E.element.style,
                            t = {};
                        h = (void 0 === g || void 0 === b || _) && u(E.textStr) && E.getBBox(), T.width = (g || h.width || 0) + 2 * L + D, T.height = (b || h.height || 0) + 2 * L, O = L + M.fontMetrics(e && e.fontSize, E).b, $ && (p || (T.box = p = M.symbols[o] || I ? M.symbol(o) : M.rect(), p.addClass(("button" === d ? "" : "highcharts-label-box") + (d ? " highcharts-" + d + "-box" : "")), p.add(T), e = k(), t.x = e, t.y = (c ? -O : 0) + e), t.width = Math.round(T.width), t.height = Math.round(T.height), p.attr(f(t, N)), N = {})
                    }, x = function() {
                        var e, t = D + L;
                        e = c ? 0 : O, u(g) && h && ("center" === _ || "right" === _) && (t += {
                            center: .5,
                            right: 1
                        }[_] * (g - h.width)), t === E.x && e === E.y || (E.attr("x", t), E.hasBoxWidthChanged && (h = E.getBBox(!0), S()), void 0 !== e && E.attr("y", e)), E.x = t, E.y = e
                    }, C = function(e, t) {
                        p ? p.attr(e, t) : N[e] = t
                    }, T.onAdd = function() {
                        E.add(T), T.attr({
                            text: n || 0 === n ? n : "",
                            x: a,
                            y: i
                        }), p && u(r) && T.attr({
                            anchorX: r,
                            anchorY: s
                        })
                    }, T.widthSetter = function(t) {
                        g = e.isNumber(t) ? t : null
                    }, T.heightSetter = function(e) {
                        b = e
                    }, T["text-alignSetter"] = function(e) {
                        _ = e
                    }, T.paddingSetter = function(e) {
                        u(e) && e !== L && (L = T.padding = e, x())
                    }, T.paddingLeftSetter = function(e) {
                        u(e) && e !== D && (D = e, x())
                    }, T.alignSetter = function(e) {
                        (e = {
                            left: 0,
                            center: .5,
                            right: 1
                        }[e]) !== j && (j = e, h && T.attr({
                            x: v
                        }))
                    }, T.textSetter = function(e) {
                        void 0 !== e && E.textSetter(e), S(), x()
                    }, T["stroke-widthSetter"] = function(e, t) {
                        e && ($ = !0), w = this["stroke-width"] = e, C(t, e)
                    }, T.strokeSetter = T.fillSetter = T.rSetter = function(e, t) {
                        "r" !== t && ("fill" === t && e && ($ = !0), T[t] = e), C(t, e)
                    }, T.anchorXSetter = function(e, t) {
                        r = T.anchorX = e, C(t, Math.round(e) - k() - v)
                    }, T.anchorYSetter = function(e, t) {
                        s = T.anchorY = e, C(t, e - y)
                    }, T.xSetter = function(e) {
                        T.x = e, j && (e -= j * ((g || h.width) + 2 * L), T["forceAnimate:x"] = !0), v = Math.round(e), T.attr("translateX", v)
                    }, T.ySetter = function(e) {
                        y = T.y = Math.round(e), T.attr("translateY", y)
                    };
                    var B = T.css;
                    return f(T, {
                        css: function(e) {
                            if (e) {
                                var t = {};
                                e = P(e), m(T.textProps, function(n) {
                                    void 0 !== e[n] && (t[n] = e[n], delete e[n])
                                }), E.css(t), "width" in t && S()
                            }
                            return B.call(T, e)
                        },
                        getBBox: function() {
                            return {
                                width: h.width + 2 * L,
                                height: h.height + 2 * L,
                                x: h.x - L,
                                y: h.y - L
                            }
                        },
                        shadow: function(e) {
                            return e && (S(), p && p.shadow(e)), T
                        },
                        destroy: function() {
                            A(T.element, "mouseenter"), A(T.element, "mouseleave"), E && (E = E.destroy()), p && (p = p.destroy()), t.prototype.destroy.call(T), T = M = S = x = C = null
                        }
                    })
                }
            }), e.Renderer = n
        }(c),
        function(e) {
            var t = e.attr,
                n = e.createElement,
                a = e.css,
                i = e.defined,
                o = e.each,
                r = e.extend,
                s = e.isFirefox,
                l = e.isMS,
                c = e.isWebKit,
                u = e.pick,
                d = e.pInt,
                p = e.SVGRenderer,
                h = e.win,
                f = e.wrap;
            r(e.SVGElement.prototype, {
                htmlCss: function(e) {
                    var t = "SPAN" === this.element.tagName && e && "width" in e,
                        n = u(t && e.width, void 0);
                    return t && (delete e.width, this.textWidth = n, this.htmlUpdateTransform()), e && "ellipsis" === e.textOverflow && (e.whiteSpace = "nowrap", e.overflow = "hidden"), this.styles = r(this.styles, e), a(this.element, e), this
                },
                htmlGetBBox: function() {
                    var e = this.element;
                    return {
                        x: e.offsetLeft,
                        y: e.offsetTop,
                        width: e.offsetWidth,
                        height: e.offsetHeight
                    }
                },
                htmlUpdateTransform: function() {
                    if (this.added) {
                        var e = this.renderer,
                            t = this.element,
                            n = this.translateX || 0,
                            r = this.translateY || 0,
                            s = this.x || 0,
                            l = this.y || 0,
                            c = this.textAlign || "left",
                            u = {
                                left: 0,
                                center: .5,
                                right: 1
                            }[c],
                            p = (m = this.styles) && m.whiteSpace;
                        if (a(t, {
                                marginLeft: n,
                                marginTop: r
                            }), this.shadows && o(this.shadows, function(e) {
                                a(e, {
                                    marginLeft: n + 1,
                                    marginTop: r + 1
                                })
                            }), this.inverted && o(t.childNodes, function(n) {
                                e.invertChild(n, t)
                            }), "SPAN" === t.tagName) {
                            var h, m = this.rotation,
                                f = this.textWidth && d(this.textWidth),
                                g = [m, c, t.innerHTML, this.textWidth, this.textAlign].join();
                            (h = f !== this.oldTextWidth) && !(h = f > this.oldTextWidth) && ((h = this.textPxLength) || (a(t, {
                                width: "",
                                whiteSpace: p || "nowrap"
                            }), h = t.offsetWidth), h = h > f), h && /[ \-]/.test(t.textContent || t.innerText) ? (a(t, {
                                width: f + "px",
                                display: "block",
                                whiteSpace: p || "normal"
                            }), this.oldTextWidth = f, this.hasBoxWidthChanged = !0) : this.hasBoxWidthChanged = !1, g !== this.cTT && (p = e.fontMetrics(t.style.fontSize).b, !i(m) || m === (this.oldRotation || 0) && c === this.oldAlign || this.setSpanRotation(m, u, p), this.getSpanCorrection(!i(m) && this.textPxLength || t.offsetWidth, p, u, m, c)), a(t, {
                                left: s + (this.xCorr || 0) + "px",
                                top: l + (this.yCorr || 0) + "px"
                            }), this.cTT = g, this.oldRotation = m, this.oldAlign = c
                        }
                    } else this.alignOnAdd = !0
                },
                setSpanRotation: function(e, t, n) {
                    var i = {},
                        o = this.renderer.getTransformKey();
                    i[o] = i.transform = "rotate(" + e + "deg)", i[o + (s ? "Origin" : "-origin")] = i.transformOrigin = 100 * t + "% " + n + "px", a(this.element, i)
                },
                getSpanCorrection: function(e, t, n) {
                    this.xCorr = -e * n, this.yCorr = -t
                }
            }), r(p.prototype, {
                getTransformKey: function() {
                    return l && !/Edge/.test(h.navigator.userAgent) ? "-ms-transform" : c ? "-webkit-transform" : s ? "MozTransform" : h.opera ? "-o-transform" : ""
                },
                html: function(e, a, i) {
                    var s = this.createElement("span"),
                        l = s.element,
                        c = s.renderer,
                        d = c.isSVG,
                        p = function(e, t) {
                            o(["opacity", "visibility"], function(n) {
                                f(e, n + "Setter", function(e, n, a, i) {
                                    e.call(this, n, a, i), t[a] = n
                                })
                            }), e.addedSetters = !0
                        };
                    return s.textSetter = function(e) {
                        e !== l.innerHTML && delete this.bBox, this.textStr = e, l.innerHTML = u(e, ""), s.doTransform = !0
                    }, d && p(s, s.element.style), s.xSetter = s.ySetter = s.alignSetter = s.rotationSetter = function(e, t) {
                        "align" === t && (t = "textAlign"), s[t] = e, s.doTransform = !0
                    }, s.afterSetters = function() {
                        this.doTransform && (this.htmlUpdateTransform(), this.doTransform = !1)
                    }, s.attr({
                        text: e,
                        x: Math.round(a),
                        y: Math.round(i)
                    }).css({
                        fontFamily: this.style.fontFamily,
                        fontSize: this.style.fontSize,
                        position: "absolute"
                    }), l.style.whiteSpace = "nowrap", s.css = s.htmlCss, d && (s.add = function(e) {
                        var a, i = c.box.parentNode,
                            u = [];
                        if (this.parentGroup = e) {
                            if (!(a = e.div)) {
                                for (; e;) u.push(e), e = e.parentGroup;
                                o(u.reverse(), function(e) {
                                    function m(t, n) {
                                        e[n] = t, "translateX" === n ? o.left = t + "px" : o.top = t + "px", e.doTransform = !0
                                    }
                                    var o, l = t(e.element, "class");
                                    l && (l = {
                                        className: l
                                    }), a = e.div = e.div || n("div", l, {
                                        position: "absolute",
                                        left: (e.translateX || 0) + "px",
                                        top: (e.translateY || 0) + "px",
                                        display: e.display,
                                        opacity: e.opacity,
                                        pointerEvents: e.styles && e.styles.pointerEvents
                                    }, a || i), o = a.style, r(e, {
                                        classSetter: function(e) {
                                            return function(t) {
                                                this.element.setAttribute("class", t), e.className = t
                                            }
                                        }(a),
                                        on: function() {
                                            return u[0].div && s.on.apply({
                                                element: u[0].div
                                            }, arguments), e
                                        },
                                        translateXSetter: m,
                                        translateYSetter: m
                                    }), e.addedSetters || p(e, o)
                                })
                            }
                        } else a = i;
                        return a.appendChild(l), s.added = !0, s.alignOnAdd && s.htmlUpdateTransform(), s
                    }), s
                }
            })
        }(c),
        function(e) {
            var t = e.defined,
                n = e.each,
                a = e.extend,
                i = e.merge,
                o = e.pick,
                r = e.timeUnits,
                s = e.win;
            e.Time = function(e) {
                this.update(e, !1)
            }, e.Time.prototype = {
                defaultOptions: {},
                update: function(e) {
                    var t = o(e && e.useUTC, !0),
                        n = this;
                    this.options = e = i(!0, this.options || {}, e), this.Date = e.Date || s.Date, this.timezoneOffset = (this.useUTC = t) && e.timezoneOffset, this.getTimezoneOffset = this.timezoneOffsetFunction(), (this.variableTimezone = !(t && !e.getTimezoneOffset && !e.timezone)) || this.timezoneOffset ? (this.get = function(e, t) {
                        var a = t.getTime(),
                            i = a - n.getTimezoneOffset(t);
                        return t.setTime(i), e = t["getUTC" + e](), t.setTime(a), e
                    }, this.set = function(e, t, a) {
                        var i;
                        "Milliseconds" === e || "Seconds" === e || "Minutes" === e && 0 == t.getTimezoneOffset() % 60 ? t["set" + e](a) : (i = n.getTimezoneOffset(t), i = t.getTime() - i, t.setTime(i), t["setUTC" + e](a), e = n.getTimezoneOffset(t), i = t.getTime() + e, t.setTime(i))
                    }) : t ? (this.get = function(e, t) {
                        return t["getUTC" + e]()
                    }, this.set = function(e, t, n) {
                        return t["setUTC" + e](n)
                    }) : (this.get = function(e, t) {
                        return t["get" + e]()
                    }, this.set = function(e, t, n) {
                        return t["set" + e](n)
                    })
                },
                makeTime: function(t, n, a, i, r, s) {
                    var l, c, u;
                    return this.useUTC ? (l = this.Date.UTC.apply(0, arguments), l += c = this.getTimezoneOffset(l), c !== (u = this.getTimezoneOffset(l)) ? l += u - c : c - 36e5 !== this.getTimezoneOffset(l - 36e5) || e.isSafari || (l -= 36e5)) : l = new this.Date(t, n, o(a, 1), o(i, 0), o(r, 0), o(s, 0)).getTime(), l
                },
                timezoneOffsetFunction: function() {
                    var t = this,
                        n = this.options,
                        a = s.moment;
                    if (!this.useUTC) return function(e) {
                        return 6e4 * new Date(e).getTimezoneOffset()
                    };
                    if (n.timezone) {
                        if (a) return function(e) {
                            return 6e4 * -a.tz(e, n.timezone).utcOffset()
                        };
                        e.error(25)
                    }
                    return this.useUTC && n.getTimezoneOffset ? function(e) {
                        return 6e4 * n.getTimezoneOffset(e)
                    } : function() {
                        return 6e4 * (t.timezoneOffset || 0)
                    }
                },
                dateFormat: function(t, n, a) {
                    if (!e.defined(n) || isNaN(n)) return e.defaultOptions.lang.invalidDate || "";
                    t = e.pick(t, "%Y-%m-%d %H:%M:%S");
                    var i = this,
                        o = new this.Date(n),
                        r = this.get("Hours", o),
                        s = this.get("Day", o),
                        l = this.get("Date", o),
                        c = this.get("Month", o),
                        u = this.get("FullYear", o),
                        d = e.defaultOptions.lang,
                        p = d.weekdays,
                        h = d.shortWeekdays,
                        m = e.pad;
                    o = e.extend({
                        a: h ? h[s] : p[s].substr(0, 3),
                        A: p[s],
                        d: m(l),
                        e: m(l, 2, " "),
                        w: s,
                        b: d.shortMonths[c],
                        B: d.months[c],
                        m: m(c + 1),
                        o: c + 1,
                        y: u.toString().substr(2, 2),
                        Y: u,
                        H: m(r),
                        k: r,
                        I: m(r % 12 || 12),
                        l: r % 12 || 12,
                        M: m(i.get("Minutes", o)),
                        p: 12 > r ? "AM" : "PM",
                        P: 12 > r ? "am" : "pm",
                        S: m(o.getSeconds()),
                        L: m(Math.floor(n % 1e3), 3)
                    }, e.dateFormats);
                    return e.objectEach(o, function(e, a) {
                        for (; - 1 !== t.indexOf("%" + a);) t = t.replace("%" + a, "function" == typeof e ? e.call(i, n) : e)
                    }), a ? t.substr(0, 1).toUpperCase() + t.substr(1) : t
                },
                resolveDTLFormat: function(t) {
                    return e.isObject(t, !0) ? t : {
                        main: (t = e.splat(t))[0],
                        from: t[1],
                        to: t[2]
                    }
                },
                getTimeTicks: function(e, i, s, l) {
                    var c, u, d = this,
                        p = [],
                        h = {};
                    c = new d.Date(i);
                    var m, f = e.unitRange,
                        g = e.count || 1;
                    if (l = o(l, 1), t(i)) {
                        d.set("Milliseconds", c, f >= r.second ? 0 : g * Math.floor(d.get("Milliseconds", c) / g)), f >= r.second && d.set("Seconds", c, f >= r.minute ? 0 : g * Math.floor(d.get("Seconds", c) / g)), f >= r.minute && d.set("Minutes", c, f >= r.hour ? 0 : g * Math.floor(d.get("Minutes", c) / g)), f >= r.hour && d.set("Hours", c, f >= r.day ? 0 : g * Math.floor(d.get("Hours", c) / g)), f >= r.day && d.set("Date", c, f >= r.month ? 1 : g * Math.floor(d.get("Date", c) / g)), f >= r.month && (d.set("Month", c, f >= r.year ? 0 : g * Math.floor(d.get("Month", c) / g)), u = d.get("FullYear", c)), f >= r.year && d.set("FullYear", c, u - u % g), f === r.week && (u = d.get("Day", c), d.set("Date", c, d.get("Date", c) - u + l + (u < l ? -7 : 0))), u = d.get("FullYear", c), l = d.get("Month", c);
                        var b = d.get("Date", c),
                            v = d.get("Hours", c);
                        for (i = c.getTime(), d.variableTimezone && (m = s - i > 4 * r.month || d.getTimezoneOffset(i) !== d.getTimezoneOffset(s)), i = c.getTime(), c = 1; i < s;) p.push(i), i = f === r.year ? d.makeTime(u + c * g, 0) : f === r.month ? d.makeTime(u, l + c * g) : !m || f !== r.day && f !== r.week ? m && f === r.hour && 1 < g ? d.makeTime(u, l, b, v + c * g) : i + f * g : d.makeTime(u, l, b + c * g * (f === r.day ? 1 : 7)), c++;
                        p.push(i), f <= r.hour && 1e4 > p.length && n(p, function(e) {
                            0 == e % 18e5 && "000000000" === d.dateFormat("%H%M%S%L", e) && (h[e] = "day")
                        })
                    }
                    return p.info = a(e, {
                        higherRanks: h,
                        totalRange: f * g
                    }), p
                }
            }
        }(c),
        function(e) {
            var t = e.color,
                n = e.merge;
            e.defaultOptions = {
                colors: "#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),
                symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
                lang: {
                    loading: "Loading...",
                    months: "January February March April May June July August September October November December".split(" "),
                    shortMonths: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
                    weekdays: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                    decimalPoint: ".",
                    numericSymbols: "kMGTPE".split(""),
                    resetZoom: "Reset zoom",
                    resetZoomTitle: "Reset zoom level 1:1",
                    thousandsSep: " "
                },
                global: {},
                time: e.Time.prototype.defaultOptions,
                chart: {
                    borderRadius: 0,
                    defaultSeriesType: "line",
                    ignoreHiddenSeries: !0,
                    spacing: [10, 10, 15, 10],
                    resetZoomButton: {
                        theme: {
                            zIndex: 6
                        },
                        position: {
                            align: "right",
                            x: -10,
                            y: 10
                        }
                    },
                    width: null,
                    height: null,
                    borderColor: "#335cad",
                    backgroundColor: "#ffffff",
                    plotBorderColor: "#cccccc"
                },
                title: {
                    text: "Chart title",
                    align: "center",
                    margin: 15,
                    widthAdjust: -44
                },
                subtitle: {
                    text: "",
                    align: "center",
                    widthAdjust: -44
                },
                plotOptions: {},
                labels: {
                    style: {
                        position: "absolute",
                        color: "#333333"
                    }
                },
                legend: {
                    enabled: !0,
                    align: "center",
                    alignColumns: !0,
                    layout: "horizontal",
                    labelFormatter: function() {
                        return this.name
                    },
                    borderColor: "#999999",
                    borderRadius: 0,
                    navigation: {
                        activeColor: "#003399",
                        inactiveColor: "#cccccc"
                    },
                    itemStyle: {
                        color: "#333333",
                        fontSize: "12px",
                        fontWeight: "bold",
                        textOverflow: "ellipsis"
                    },
                    itemHoverStyle: {
                        color: "#000000"
                    },
                    itemHiddenStyle: {
                        color: "#cccccc"
                    },
                    shadow: !1,
                    itemCheckboxStyle: {
                        position: "absolute",
                        width: "13px",
                        height: "13px"
                    },
                    squareSymbol: !0,
                    symbolPadding: 5,
                    verticalAlign: "bottom",
                    x: 0,
                    y: 0,
                    title: {
                        style: {
                            fontWeight: "bold"
                        }
                    }
                },
                loading: {
                    labelStyle: {
                        fontWeight: "bold",
                        position: "relative",
                        top: "45%"
                    },
                    style: {
                        position: "absolute",
                        backgroundColor: "#ffffff",
                        opacity: .5,
                        textAlign: "center"
                    }
                },
                tooltip: {
                    enabled: !0,
                    animation: e.svg,
                    borderRadius: 3,
                    dateTimeLabelFormats: {
                        millisecond: "%A, %b %e, %H:%M:%S.%L",
                        second: "%A, %b %e, %H:%M:%S",
                        minute: "%A, %b %e, %H:%M",
                        hour: "%A, %b %e, %H:%M",
                        day: "%A, %b %e, %Y",
                        week: "Week from %A, %b %e, %Y",
                        month: "%B %Y",
                        year: "%Y"
                    },
                    footerFormat: "",
                    padding: 8,
                    snap: e.isTouchDevice ? 25 : 10,
                    backgroundColor: t("#f7f7f7").setOpacity(.85).get(),
                    borderWidth: 1,
                    headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
                    pointFormat: '<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',
                    shadow: !0,
                    style: {
                        color: "#333333",
                        cursor: "default",
                        fontSize: "12px",
                        pointerEvents: "none",
                        whiteSpace: "nowrap"
                    }
                },
                credits: {
                    enabled: !0,
                    href: "https://www.highcharts.com",
                    position: {
                        align: "right",
                        x: -10,
                        verticalAlign: "bottom",
                        y: -5
                    },
                    style: {
                        cursor: "pointer",
                        color: "#999999",
                        fontSize: "9px"
                    },
                    text: "Highcharts.com"
                }
            }, e.setOptions = function(t) {
                return e.defaultOptions = n(!0, e.defaultOptions, t), e.time.update(n(e.defaultOptions.global, e.defaultOptions.time), !1), e.defaultOptions
            }, e.getOptions = function() {
                return e.defaultOptions
            }, e.defaultPlotOptions = e.defaultOptions.plotOptions, e.time = new e.Time(n(e.defaultOptions.global, e.defaultOptions.time)), e.dateFormat = function(t, n, a) {
                return e.time.dateFormat(t, n, a)
            }
        }(c),
        function(e) {
            var t = e.correctFloat,
                n = e.defined,
                a = e.destroyObjectProperties,
                i = e.fireEvent,
                o = e.isNumber,
                r = e.merge,
                s = e.pick,
                l = e.deg2rad;
            e.Tick = function(e, t, n, a, i) {
                this.axis = e, this.pos = t, this.type = n || "", this.isNewLabel = this.isNew = !0, this.parameters = i || {}, this.tickmarkOffset = this.parameters.tickmarkOffset, this.options = this.parameters.options, n || a || this.addLabel()
            }, e.Tick.prototype = {
                addLabel: function() {
                    var a, i, o, l, c = this,
                        u = c.axis,
                        d = u.options,
                        p = u.chart,
                        h = u.categories,
                        m = u.names,
                        f = c.pos,
                        g = s(c.options && c.options.labels, d.labels),
                        b = f === (_ = u.tickPositions)[0],
                        v = f === _[_.length - 1],
                        y = (h = this.parameters.category || (h ? s(h[f], m[f], f) : f), c.label),
                        _ = _.info;
                    u.isDatetimeAxis && _ && (a = (i = p.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid && _.higherRanks[f] || _.unitName])).main), c.isFirst = b, c.isLast = v, c.formatCtx = {
                        axis: u,
                        chart: p,
                        isFirst: b,
                        isLast: v,
                        dateTimeLabelFormat: a,
                        tickPositionInfo: _,
                        value: u.isLog ? t(u.lin2log(h)) : h,
                        pos: f
                    }, d = u.labelFormatter.call(c.formatCtx, this.formatCtx), (l = i && i.list) && (c.shortenLabel = function() {
                        for (o = 0; o < l.length; o++)
                            if (y.attr({
                                    text: u.labelFormatter.call(e.extend(c.formatCtx, {
                                        dateTimeLabelFormat: l[o]
                                    }))
                                }), y.getBBox().width < u.getSlotWidth(c) - 2 * s(g.padding, 5)) return;
                        y.attr({
                            text: ""
                        })
                    }), n(y) ? y && y.textStr !== d && (!y.textWidth || g.style && g.style.width || y.styles.width || y.css({
                        width: null
                    }), y.attr({
                        text: d
                    })) : ((c.label = y = n(d) && g.enabled ? p.renderer.text(d, 0, 0, g.useHTML).css(r(g.style)).add(u.labelGroup) : null) && (y.textPxLength = y.getBBox().width), c.rotation = 0)
                },
                getLabelSize: function() {
                    return this.label ? this.label.getBBox()[this.axis.horiz ? "height" : "width"] : 0
                },
                handleOverflow: function(e) {
                    var t, n = this.axis,
                        a = n.options.labels,
                        i = e.x,
                        o = n.chart.chartWidth,
                        r = n.chart.spacing,
                        c = s(n.labelLeft, Math.min(n.pos, r[3])),
                        u = (r = s(n.labelRight, Math.max(n.isRadial ? 0 : n.pos + n.len, o - r[1])), this.label),
                        d = this.rotation,
                        p = {
                            left: 0,
                            center: .5,
                            right: 1
                        }[n.labelAlign || u.attr("align")],
                        h = u.getBBox().width,
                        m = n.getSlotWidth(this),
                        f = m,
                        g = 1,
                        b = {};
                    d || "justify" !== s(a.overflow, "justify") ? 0 > d && i - p * h < c ? t = Math.round(i / Math.cos(d * l) - c) : 0 < d && i + p * h > r && (t = Math.round((o - i) / Math.cos(d * l))) : (o = i + (1 - p) * h, i - p * h < c ? f = e.x + f * (1 - p) - c : o > r && (f = r - e.x + f * p, g = -1), (f = Math.min(m, f)) < m && "center" === n.labelAlign && (e.x += g * (m - f - p * (m - Math.min(h, f)))), (h > f || n.autoRotation && (u.styles || {}).width) && (t = f)), t && (this.shortenLabel ? this.shortenLabel() : (b.width = t, (a.style || {}).textOverflow || (b.textOverflow = "ellipsis"), u.css(b)))
                },
                getPosition: function(t, n, a, o) {
                    var r = this.axis,
                        s = r.chart,
                        l = o && s.oldChartHeight || s.chartHeight;
                    return t = {
                        x: t ? e.correctFloat(r.translate(n + a, null, null, o) + r.transB) : r.left + r.offset + (r.opposite ? (o && s.oldChartWidth || s.chartWidth) - r.right - r.left : 0),
                        y: t ? l - r.bottom + r.offset - (r.opposite ? r.height : 0) : e.correctFloat(l - r.translate(n + a, null, null, o) - r.transB)
                    }, i(this, "afterGetPosition", {
                        pos: t
                    }), t
                },
                getLabelPosition: function(e, t, a, o, r, s, c, u) {
                    var d = this.axis,
                        p = d.transA,
                        h = d.reversed,
                        m = d.staggerLines,
                        f = d.tickRotCorr || {
                            x: 0,
                            y: 0
                        },
                        g = r.y,
                        b = o || d.reserveSpaceDefault ? 0 : -d.labelOffset * ("center" === d.labelAlign ? .5 : 1),
                        v = {};
                    return n(g) || (g = 0 === d.side ? a.rotation ? -8 : -a.getBBox().height : 2 === d.side ? f.y + 8 : Math.cos(a.rotation * l) * (f.y - a.getBBox(!1, 0).height / 2)), e = e + r.x + b + f.x - (s && o ? s * p * (h ? -1 : 1) : 0), t = t + g - (s && !o ? s * p * (h ? 1 : -1) : 0), m && (a = c / (u || 1) % m, d.opposite && (a = m - a - 1), t += d.labelOffset / m * a), v.x = e, v.y = Math.round(t), i(this, "afterGetLabelPosition", {
                        pos: v
                    }), v
                },
                getMarkPath: function(e, t, n, a, i, o) {
                    return o.crispLine(["M", e, t, "L", e + (i ? 0 : -n), t + (i ? n : 0)], a)
                },
                renderGridLine: function(e, t, n) {
                    var a = this.axis,
                        i = a.options,
                        o = this.gridLine,
                        r = {},
                        l = this.pos,
                        c = this.type,
                        u = s(this.tickmarkOffset, a.tickmarkOffset),
                        d = a.chart.renderer,
                        p = c ? c + "Grid" : "grid",
                        h = i[p + "LineWidth"],
                        m = i[p + "LineColor"];
                    i = i[p + "LineDashStyle"];
                    o || (r.stroke = m, r["stroke-width"] = h, i && (r.dashstyle = i), c || (r.zIndex = 1), e && (t = 0), this.gridLine = o = d.path().attr(r).addClass("highcharts-" + (c ? c + "-" : "") + "grid-line").add(a.gridGroup)), o && (n = a.getPlotLinePath(l + u, o.strokeWidth() * n, e, "pass")) && o[e || this.isNew ? "attr" : "animate"]({
                        d: n,
                        opacity: t
                    })
                },
                renderMark: function(e, t, n) {
                    var a = this.axis,
                        i = a.options,
                        o = a.chart.renderer,
                        r = this.type,
                        l = r ? r + "Tick" : "tick",
                        c = a.tickSize(l),
                        u = this.mark,
                        d = !u,
                        p = e.x;
                    e = e.y;
                    var h = s(i[l + "Width"], !r && a.isXAxis ? 1 : 0);
                    i = i[l + "Color"];
                    c && (a.opposite && (c[0] = -c[0]), d && (this.mark = u = o.path().addClass("highcharts-" + (r ? r + "-" : "") + "tick").add(a.axisGroup), u.attr({
                        stroke: i,
                        "stroke-width": h
                    })), u[d ? "attr" : "animate"]({
                        d: this.getMarkPath(p, e, c[0], u.strokeWidth() * n, a.horiz, o),
                        opacity: t
                    }))
                },
                renderLabel: function(e, t, n, a) {
                    var i = (d = this.axis).horiz,
                        r = d.options,
                        l = this.label,
                        c = r.labels,
                        u = c.step,
                        d = s(this.tickmarkOffset, d.tickmarkOffset),
                        p = !0,
                        h = e.x;
                    e = e.y, l && o(h) && (l.xy = e = this.getLabelPosition(h, e, l, i, c, d, a, u), this.isFirst && !this.isLast && !s(r.showFirstLabel, 1) || this.isLast && !this.isFirst && !s(r.showLastLabel, 1) ? p = !1 : !i || c.step || c.rotation || t || 0 === n || this.handleOverflow(e), u && a % u && (p = !1), p && o(e.y) ? (e.opacity = n, l[this.isNewLabel ? "attr" : "animate"](e), this.isNewLabel = !1) : (l.attr("y", -9999), this.isNewLabel = !0))
                },
                render: function(t, n, a) {
                    var i = (c = this.axis).horiz,
                        o = this.pos,
                        r = s(this.tickmarkOffset, c.tickmarkOffset),
                        l = (r = (o = this.getPosition(i, o, r, n)).x, o.y),
                        c = i && r === c.pos + c.len || !i && l === c.pos ? -1 : 1;
                    a = s(a, 1), this.isActive = !0, this.renderGridLine(n, a, c), this.renderMark(o, a, c), this.renderLabel(o, n, a, t), this.isNew = !1, e.fireEvent(this, "afterRender")
                },
                destroy: function() {
                    a(this, this.axis)
                }
            }
        }(c);
        var u = function(e) {
            var t = e.addEvent,
                n = e.animObject,
                a = e.arrayMax,
                i = e.arrayMin,
                o = e.color,
                r = e.correctFloat,
                s = e.defaultOptions,
                l = e.defined,
                c = e.deg2rad,
                u = e.destroyObjectProperties,
                d = e.each,
                p = e.extend,
                h = e.fireEvent,
                m = e.format,
                f = e.getMagnitude,
                g = e.grep,
                b = e.inArray,
                v = e.isArray,
                y = e.isNumber,
                _ = e.isString,
                w = e.merge,
                O = e.normalizeTickInterval,
                k = e.objectEach,
                S = e.pick,
                x = e.removeEvent,
                P = e.splat,
                C = e.syncTimeout,
                M = e.Tick,
                T = function() {
                    this.init.apply(this, arguments)
                };
            return e.extend(T.prototype, {
                defaultOptions: {
                    dateTimeLabelFormats: {
                        millisecond: {
                            main: "%H:%M:%S.%L",
                            range: !1
                        },
                        second: {
                            main: "%H:%M:%S",
                            range: !1
                        },
                        minute: {
                            main: "%H:%M",
                            range: !1
                        },
                        hour: {
                            main: "%H:%M",
                            range: !1
                        },
                        day: {
                            main: "%e. %b"
                        },
                        week: {
                            main: "%e. %b"
                        },
                        month: {
                            main: "%b '%y"
                        },
                        year: {
                            main: "%Y"
                        }
                    },
                    endOnTick: !1,
                    labels: {
                        enabled: !0,
                        indentation: 10,
                        x: 0,
                        style: {
                            color: "#666666",
                            cursor: "default",
                            fontSize: "11px"
                        }
                    },
                    maxPadding: .01,
                    minorTickLength: 2,
                    minorTickPosition: "outside",
                    minPadding: .01,
                    startOfWeek: 1,
                    startOnTick: !1,
                    tickLength: 10,
                    tickPixelInterval: 100,
                    tickmarkPlacement: "between",
                    tickPosition: "outside",
                    title: {
                        align: "middle",
                        style: {
                            color: "#666666"
                        }
                    },
                    type: "linear",
                    minorGridLineColor: "#f2f2f2",
                    minorGridLineWidth: 1,
                    minorTickColor: "#999999",
                    lineColor: "#ccd6eb",
                    lineWidth: 1,
                    gridLineColor: "#e6e6e6",
                    tickColor: "#ccd6eb"
                },
                defaultYAxisOptions: {
                    endOnTick: !0,
                    maxPadding: .05,
                    minPadding: .05,
                    tickPixelInterval: 72,
                    showLastLabel: !0,
                    labels: {
                        x: -8
                    },
                    startOnTick: !0,
                    title: {
                        rotation: 270,
                        text: "Values"
                    },
                    stackLabels: {
                        allowOverlap: !1,
                        enabled: !1,
                        formatter: function() {
                            return e.numberFormat(this.total, -1)
                        },
                        style: {
                            color: "#000000",
                            fontSize: "11px",
                            fontWeight: "bold",
                            textOutline: "1px contrast"
                        }
                    },
                    gridLineWidth: 1,
                    lineWidth: 0
                },
                defaultLeftAxisOptions: {
                    labels: {
                        x: -15
                    },
                    title: {
                        rotation: 270
                    }
                },
                defaultRightAxisOptions: {
                    labels: {
                        x: 15
                    },
                    title: {
                        rotation: 90
                    }
                },
                defaultBottomAxisOptions: {
                    labels: {
                        autoRotation: [-45],
                        x: 0
                    },
                    title: {
                        rotation: 0
                    }
                },
                defaultTopAxisOptions: {
                    labels: {
                        autoRotation: [-45],
                        x: 0
                    },
                    title: {
                        rotation: 0
                    }
                },
                init: function(e, n) {
                    var a = n.isX,
                        i = this;
                    i.chart = e, i.horiz = e.inverted && !i.isZAxis ? !a : a, i.isXAxis = a, i.coll = i.coll || (a ? "xAxis" : "yAxis"), h(this, "init", {
                        userOptions: n
                    }), i.opposite = n.opposite, i.side = n.side || (i.horiz ? i.opposite ? 0 : 2 : i.opposite ? 1 : 3), i.setOptions(n);
                    var o = this.options,
                        r = o.type;
                    i.labelFormatter = o.labels.formatter || i.defaultLabelFormatter, i.userOptions = n, i.minPixelPadding = 0, i.reversed = o.reversed, i.visible = !1 !== o.visible, i.zoomEnabled = !1 !== o.zoomEnabled, i.hasNames = "category" === r || !0 === o.categories, i.categories = o.categories || i.hasNames, i.names || (i.names = [], i.names.keys = {}), i.plotLinesAndBandsGroups = {}, i.isLog = "logarithmic" === r, i.isDatetimeAxis = "datetime" === r, i.positiveValuesOnly = i.isLog && !i.allowNegativeLog, i.isLinked = l(o.linkedTo), i.ticks = {}, i.labelEdge = [], i.minorTicks = {}, i.plotLinesAndBands = [], i.alternateBands = {}, i.len = 0, i.minRange = i.userMinRange = o.minRange || o.maxZoom, i.range = o.range, i.offset = o.offset || 0, i.stacks = {}, i.oldStacks = {}, i.stacksTouched = 0, i.max = null, i.min = null, i.crosshair = S(o.crosshair, P(e.options.tooltip.crosshairs)[a ? 0 : 1], !1), n = i.options.events, -1 === b(i, e.axes) && (a ? e.axes.splice(e.xAxis.length, 0, i) : e.axes.push(i), e[i.coll].push(i)), i.series = i.series || [], e.inverted && !i.isZAxis && a && void 0 === i.reversed && (i.reversed = !0), k(n, function(e, n) {
                        t(i, n, e)
                    }), i.lin2log = o.linearToLogConverter || i.lin2log, i.isLog && (i.val2lin = i.log2lin, i.lin2val = i.lin2log), h(this, "afterInit")
                },
                setOptions: function(e) {
                    this.options = w(this.defaultOptions, "yAxis" === this.coll && this.defaultYAxisOptions, [this.defaultTopAxisOptions, this.defaultRightAxisOptions, this.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side], w(s[this.coll], e)), h(this, "afterSetOptions", {
                        userOptions: e
                    })
                },
                defaultLabelFormatter: function() {
                    var t, n = this.axis,
                        a = this.value,
                        i = n.chart.time,
                        o = n.categories,
                        r = this.dateTimeLabelFormat,
                        l = (c = s.lang).numericSymbols,
                        c = c.numericSymbolMagnitude || 1e3,
                        u = l && l.length,
                        d = n.options.labels.format;
                    n = n.isLog ? Math.abs(a) : n.tickInterval;
                    if (d) t = m(d, this, i);
                    else if (o) t = a;
                    else if (r) t = i.dateFormat(r, a);
                    else if (u && 1e3 <= n)
                        for (; u-- && void 0 === t;) n >= (i = Math.pow(c, u + 1)) && 0 == 10 * a % i && null !== l[u] && 0 !== a && (t = e.numberFormat(a / i, -1) + l[u]);
                    return void 0 === t && (t = 1e4 <= Math.abs(a) ? e.numberFormat(a, -1) : e.numberFormat(a, -1, void 0, "")), t
                },
                getSeriesExtremes: function() {
                    var e = this,
                        t = e.chart;
                    h(this, "getSeriesExtremes", null, function() {
                        e.hasVisibleSeries = !1, e.dataMin = e.dataMax = e.threshold = null, e.softThreshold = !e.isXAxis, e.buildStacks && e.buildStacks(), d(e.series, function(n) {
                            if (n.visible || !t.options.chart.ignoreHiddenSeries) {
                                var o, r = n.options,
                                    s = r.threshold;
                                e.hasVisibleSeries = !0, e.positiveValuesOnly && 0 >= s && (s = null), e.isXAxis ? (r = n.xData).length && (n = i(r), o = a(r), y(n) || n instanceof Date || (r = g(r, y), n = i(r), o = a(r)), r.length && (e.dataMin = Math.min(S(e.dataMin, r[0], n), n), e.dataMax = Math.max(S(e.dataMax, r[0], o), o))) : (n.getExtremes(), o = n.dataMax, n = n.dataMin, l(n) && l(o) && (e.dataMin = Math.min(S(e.dataMin, n), n), e.dataMax = Math.max(S(e.dataMax, o), o)), l(s) && (e.threshold = s), (!r.softThreshold || e.positiveValuesOnly) && (e.softThreshold = !1))
                            }
                        })
                    }), h(this, "afterGetSeriesExtremes")
                },
                translate: function(e, t, n, a, i, o) {
                    var r = this.linkedParent || this,
                        s = 1,
                        l = 0,
                        c = a ? r.oldTransA : r.transA;
                    a = a ? r.oldMin : r.min;
                    var u = r.minPixelPadding;
                    return i = (r.isOrdinal || r.isBroken || r.isLog && i) && r.lin2val, c || (c = r.transA), n && (s *= -1, l = r.len), r.reversed && (l -= (s *= -1) * (r.sector || r.len)), t ? (e = (e * s + l - u) / c + a, i && (e = r.lin2val(e))) : (i && (e = r.val2lin(e)), e = y(a) ? s * (e - a) * c + l + s * u + (y(o) ? c * o : 0) : void 0), e
                },
                toPixels: function(e, t) {
                    return this.translate(e, !1, !this.horiz, null, !0) + (t ? 0 : this.pos)
                },
                toValue: function(e, t) {
                    return this.translate(e - (t ? 0 : this.pos), !0, !this.horiz, null, !0)
                },
                getPlotLinePath: function(e, t, n, a, i) {
                    var o, r, s, l = this.chart,
                        c = this.left,
                        u = this.top,
                        d = n && l.oldChartHeight || l.chartHeight,
                        p = n && l.oldChartWidth || l.chartWidth;
                    o = this.transB;
                    var h = function(e, t, n) {
                        return ("pass" !== a && e < t || e > n) && (a ? e = Math.min(Math.max(t, e), n) : s = !0), e
                    };
                    return i = S(i, this.translate(e, null, null, n)), i = Math.min(Math.max(-1e5, i), 1e5), e = n = Math.round(i + o), o = r = Math.round(d - i - o), y(i) ? this.horiz ? (o = u, r = d - this.bottom, e = n = h(e, c, c + this.width)) : (e = c, n = p - this.right, o = r = h(o, u, u + this.height)) : (s = !0, a = !1), s && !a ? null : l.renderer.crispLine(["M", e, o, "L", n, r], t || 1)
                },
                getLinearTickPositions: function(e, t, n) {
                    var a, i = r(Math.floor(t / e) * e);
                    n = r(Math.ceil(n / e) * e);
                    var o, s = [];
                    if (r(i + e) === i && (o = 20), this.single) return [t];
                    for (t = i; t <= n && (s.push(t), (t = r(t + e, o)) !== a);) a = t;
                    return s
                },
                getMinorTickInterval: function() {
                    var e = this.options;
                    return !0 === e.minorTicks ? S(e.minorTickInterval, "auto") : !1 === e.minorTicks ? null : e.minorTickInterval
                },
                getMinorTickPositions: function() {
                    var e = this,
                        t = e.options,
                        n = e.tickPositions,
                        a = e.minorTickInterval,
                        i = [],
                        o = e.pointRangePadding || 0,
                        r = e.min - o,
                        s = (o = e.max + o) - r;
                    if (s && s / a < e.len / 3)
                        if (e.isLog) d(this.paddedTicks, function(t, n, o) {
                            n && i.push.apply(i, e.getLogTickPositions(a, o[n - 1], o[n], !0))
                        });
                        else if (e.isDatetimeAxis && "auto" === this.getMinorTickInterval()) i = i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(a), r, o, t.startOfWeek));
                    else
                        for (t = r + (n[0] - r) % a; t <= o && t !== i[0]; t += a) i.push(t);
                    return 0 !== i.length && e.trimTicks(i), i
                },
                adjustForMinRange: function() {
                    var e, t, n, o, r, s, c, u = this.options,
                        p = this.min,
                        h = this.max;
                    this.isXAxis && void 0 === this.minRange && !this.isLog && (l(u.min) || l(u.max) ? this.minRange = null : (d(this.series, function(e) {
                        for (s = e.xData, o = e.xIncrement ? 1 : s.length - 1; 0 < o; o--) r = s[o] - s[o - 1], (void 0 === n || r < n) && (n = r)
                    }), this.minRange = Math.min(5 * n, this.dataMax - this.dataMin))), h - p < this.minRange && (t = this.dataMax - this.dataMin >= this.minRange, e = [p - (e = ((c = this.minRange) - h + p) / 2), S(u.min, p - e)], t && (e[2] = this.isLog ? this.log2lin(this.dataMin) : this.dataMin), h = [(p = a(e)) + c, S(u.max, p + c)], t && (h[2] = this.isLog ? this.log2lin(this.dataMax) : this.dataMax), (h = i(h)) - p < c && (e[0] = h - c, e[1] = S(u.min, h - c), p = a(e))), this.min = p, this.max = h
                },
                getClosest: function() {
                    var e;
                    return this.categories ? e = 1 : d(this.series, function(t) {
                        var n = t.closestPointRange,
                            a = t.visible || !t.chart.options.chart.ignoreHiddenSeries;
                        !t.noSharedTooltip && l(n) && a && (e = l(e) ? Math.min(e, n) : n)
                    }), e
                },
                nameToX: function(e) {
                    var t, n = v(this.categories),
                        a = n ? this.categories : this.names,
                        i = e.options.x;
                    return e.series.requireSorting = !1, l(i) || (i = !1 === this.options.uniqueNames ? e.series.autoIncrement() : n ? b(e.name, a) : S(a.keys[e.name], -1)), -1 === i ? n || (t = a.length) : t = i, void 0 !== t && (this.names[t] = e.name, this.names.keys[e.name] = t), t
                },
                updateNames: function() {
                    var t = this,
                        n = this.names;
                    0 < n.length && (d(e.keys(n.keys), function(e) {
                        delete n.keys[e]
                    }), n.length = 0, this.minRange = this.userMinRange, d(this.series || [], function(e) {
                        e.xIncrement = null, e.points && !e.isDirtyData || (e.processData(), e.generatePoints()), d(e.points, function(n, a) {
                            var i;
                            n.options && (void 0 !== (i = t.nameToX(n)) && i !== n.x && (n.x = i, e.xData[a] = i))
                        })
                    }))
                },
                setAxisTranslation: function(e) {
                    var t, n = this,
                        a = n.max - n.min,
                        i = n.axisPointRange || 0,
                        o = 0,
                        r = 0,
                        s = n.linkedParent,
                        l = !!n.categories,
                        c = n.transA,
                        u = n.isXAxis;
                    (u || l || i) && (t = n.getClosest(), s ? (o = s.minPointOffset, r = s.pointRangePadding) : d(n.series, function(e) {
                        var a = l ? 1 : u ? S(e.options.pointRange, t, 0) : n.axisPointRange || 0;
                        e = e.options.pointPlacement, i = Math.max(i, a), n.single || (o = Math.max(o, _(e) ? 0 : a / 2), r = Math.max(r, "on" === e ? 0 : a))
                    }), s = n.ordinalSlope && t ? n.ordinalSlope / t : 1, n.minPointOffset = o *= s, n.pointRangePadding = r *= s, n.pointRange = Math.min(i, a), u && (n.closestPointRange = t)), e && (n.oldTransA = c), n.translationSlope = n.transA = c = n.staticScale || n.len / (a + r || 1), n.transB = n.horiz ? n.left : n.bottom, n.minPixelPadding = c * o, h(this, "afterSetAxisTranslation")
                },
                minFromRange: function() {
                    return this.max - this.range
                },
                setTickInterval: function(t) {
                    var n, a, i, o, s = this,
                        c = s.chart,
                        u = s.options,
                        p = s.isLog,
                        m = s.isDatetimeAxis,
                        g = s.isXAxis,
                        b = s.isLinked,
                        v = u.maxPadding,
                        _ = u.minPadding,
                        w = u.tickInterval,
                        k = u.tickPixelInterval,
                        x = s.categories,
                        P = y(s.threshold) ? s.threshold : null,
                        C = s.softThreshold;
                    m || x || b || this.getTickAmount(), i = S(s.userMin, u.min), o = S(s.userMax, u.max), b ? (s.linkedParent = c[s.coll][u.linkedTo], c = s.linkedParent.getExtremes(), s.min = S(c.min, c.dataMin), s.max = S(c.max, c.dataMax), u.type !== s.linkedParent.options.type && e.error(11, 1)) : (!C && l(P) && (s.dataMin >= P ? (n = P, _ = 0) : s.dataMax <= P && (a = P, v = 0)), s.min = S(i, n, s.dataMin), s.max = S(o, a, s.dataMax)), p && (s.positiveValuesOnly && !t && 0 >= Math.min(s.min, S(s.dataMin, s.min)) && e.error(10, 1), s.min = r(s.log2lin(s.min), 15), s.max = r(s.log2lin(s.max), 15)), s.range && l(s.max) && (s.userMin = s.min = i = Math.max(s.dataMin, s.minFromRange()), s.userMax = o = s.max, s.range = null), h(s, "foundExtremes"), s.beforePadding && s.beforePadding(), s.adjustForMinRange(), !(x || s.axisPointRange || s.usePercentage || b) && l(s.min) && l(s.max) && (c = s.max - s.min) && (!l(i) && _ && (s.min -= c * _), !l(o) && v && (s.max += c * v)), y(u.softMin) && !y(s.userMin) && (s.min = Math.min(s.min, u.softMin)), y(u.softMax) && !y(s.userMax) && (s.max = Math.max(s.max, u.softMax)), y(u.floor) && (s.min = Math.max(s.min, u.floor)), y(u.ceiling) && (s.max = Math.min(s.max, u.ceiling)), C && l(s.dataMin) && (P = P || 0, !l(i) && s.min < P && s.dataMin >= P ? s.min = P : !l(o) && s.max > P && s.dataMax <= P && (s.max = P)), s.tickInterval = s.min === s.max || void 0 === s.min || void 0 === s.max ? 1 : b && !w && k === s.linkedParent.options.tickPixelInterval ? w = s.linkedParent.tickInterval : S(w, this.tickAmount ? (s.max - s.min) / Math.max(this.tickAmount - 1, 1) : void 0, x ? 1 : (s.max - s.min) * k / Math.max(s.len, k)), g && !t && d(s.series, function(e) {
                        e.processData(s.min !== s.oldMin || s.max !== s.oldMax)
                    }), s.setAxisTranslation(!0), s.beforeSetTickPositions && s.beforeSetTickPositions(), s.postProcessTickInterval && (s.tickInterval = s.postProcessTickInterval(s.tickInterval)), s.pointRange && !w && (s.tickInterval = Math.max(s.pointRange, s.tickInterval)), t = S(u.minTickInterval, s.isDatetimeAxis && s.closestPointRange), !w && s.tickInterval < t && (s.tickInterval = t), m || p || w || (s.tickInterval = O(s.tickInterval, null, f(s.tickInterval), S(u.allowDecimals, !(.5 < s.tickInterval && 5 > s.tickInterval && 1e3 < s.max && 9999 > s.max)), !!this.tickAmount)), this.tickAmount || (s.tickInterval = s.unsquish()), this.setTickPositions()
                },
                setTickPositions: function() {
                    var t, n = this.options,
                        a = n.tickPositions;
                    t = this.getMinorTickInterval();
                    var i = n.tickPositioner,
                        o = n.startOnTick,
                        r = n.endOnTick;
                    this.tickmarkOffset = this.categories && "between" === n.tickmarkPlacement && 1 === this.tickInterval ? .5 : 0, this.minorTickInterval = "auto" === t && this.tickInterval ? this.tickInterval / 5 : t, this.single = this.min === this.max && l(this.min) && !this.tickAmount && (parseInt(this.min, 10) === this.min || !1 !== n.allowDecimals), this.tickPositions = t = a && a.slice(), !t && (!this.ordinalPositions && (this.max - this.min) / this.tickInterval > Math.max(2 * this.len, 200) ? (t = [this.min, this.max], e.error(19)) : t = this.isDatetimeAxis ? this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval, n.units), this.min, this.max, n.startOfWeek, this.ordinalPositions, this.closestPointRange, !0) : this.isLog ? this.getLogTickPositions(this.tickInterval, this.min, this.max) : this.getLinearTickPositions(this.tickInterval, this.min, this.max), t.length > this.len && ((t = [t[0], t.pop()])[0] === t[1] && (t.length = 1)), this.tickPositions = t, i && (i = i.apply(this, [this.min, this.max]))) && (this.tickPositions = t = i), this.paddedTicks = t.slice(0), this.trimTicks(t, o, r), this.isLinked || (this.single && 2 > t.length && (this.min -= .5, this.max += .5), a || i || this.adjustTickAmount()), h(this, "afterSetTickPositions")
                },
                trimTicks: function(e, t, n) {
                    var a = e[0],
                        i = e[e.length - 1],
                        o = this.minPointOffset || 0;
                    if (!this.isLinked) {
                        if (t && -1 / 0 !== a) this.min = a;
                        else
                            for (; this.min - o > e[0];) e.shift();
                        if (n) this.max = i;
                        else
                            for (; this.max + o < e[e.length - 1];) e.pop();
                        0 === e.length && l(a) && !this.options.tickPositions && e.push((i + a) / 2)
                    }
                },
                alignToOthers: function() {
                    var e, t = {},
                        n = this.options;
                    return !1 === this.chart.options.chart.alignTicks || !1 === n.alignTicks || !1 === n.startOnTick || !1 === n.endOnTick || this.isLog || d(this.chart[this.coll], function(n) {
                        var a = n.options;
                        a = [n.horiz ? a.left : a.top, a.width, a.height, a.pane].join();
                        n.series.length && (t[a] ? e = !0 : t[a] = 1)
                    }), e
                },
                getTickAmount: function() {
                    var e = this.options,
                        t = e.tickAmount,
                        n = e.tickPixelInterval;
                    !l(e.tickInterval) && this.len < n && !this.isRadial && !this.isLog && e.startOnTick && e.endOnTick && (t = 2), !t && this.alignToOthers() && (t = Math.ceil(this.len / n) + 1), 4 > t && (this.finalTickAmt = t, t = 5), this.tickAmount = t
                },
                adjustTickAmount: function() {
                    var e = this.tickInterval,
                        t = this.tickPositions,
                        n = this.tickAmount,
                        a = this.finalTickAmt,
                        i = t && t.length,
                        o = S(this.threshold, this.softThreshold ? 0 : null);
                    if (this.hasData()) {
                        if (i < n) {
                            for (; t.length < n;) t.length % 2 || this.min === o ? t.push(r(t[t.length - 1] + e)) : t.unshift(r(t[0] - e));
                            this.transA *= (i - 1) / (n - 1), this.min = t[0], this.max = t[t.length - 1]
                        } else i > n && (this.tickInterval *= 2, this.setTickPositions());
                        if (l(a)) {
                            for (e = n = t.length; e--;)(3 === a && 1 == e % 2 || 2 >= a && 0 < e && e < n - 1) && t.splice(e, 1);
                            this.finalTickAmt = void 0
                        }
                    }
                },
                setScale: function() {
                    var e, t;
                    this.oldMin = this.min, this.oldMax = this.max, this.oldAxisLength = this.len, this.setAxisSize(), t = this.len !== this.oldAxisLength, d(this.series, function(t) {
                        (t.isDirtyData || t.isDirty || t.xAxis.isDirty) && (e = !0)
                    }), t || e || this.isLinked || this.forceRedraw || this.userMin !== this.oldUserMin || this.userMax !== this.oldUserMax || this.alignToOthers() ? (this.resetStacks && this.resetStacks(), this.forceRedraw = !1, this.getSeriesExtremes(), this.setTickInterval(), this.oldUserMin = this.userMin, this.oldUserMax = this.userMax, this.isDirty || (this.isDirty = t || this.min !== this.oldMin || this.max !== this.oldMax)) : this.cleanStacks && this.cleanStacks(), h(this, "afterSetScale")
                },
                setExtremes: function(e, t, n, a, i) {
                    var o = this,
                        r = o.chart;
                    n = S(n, !0), d(o.series, function(e) {
                        delete e.kdTree
                    }), i = p(i, {
                        min: e,
                        max: t
                    }), h(o, "setExtremes", i, function() {
                        o.userMin = e, o.userMax = t, o.eventArgs = i, n && r.redraw(a)
                    })
                },
                zoom: function(e, t) {
                    var n = this.dataMin,
                        a = this.dataMax,
                        i = this.options,
                        o = Math.min(n, S(i.min, n));
                    i = Math.max(a, S(i.max, a));
                    return e === this.min && t === this.max || (this.allowZoomOutside || (l(n) && (e < o && (e = o), e > i && (e = i)), l(a) && (t < o && (t = o), t > i && (t = i))), this.displayBtn = void 0 !== e || void 0 !== t, this.setExtremes(e, t, !1, void 0, {
                        trigger: "zoom"
                    })), !0
                },
                setAxisSize: function() {
                    var t = this.chart,
                        n = (s = this.options).offsets || [0, 0, 0, 0],
                        a = this.horiz,
                        i = this.width = Math.round(e.relativeLength(S(s.width, t.plotWidth - n[3] + n[1]), t.plotWidth)),
                        o = this.height = Math.round(e.relativeLength(S(s.height, t.plotHeight - n[0] + n[2]), t.plotHeight)),
                        r = this.top = Math.round(e.relativeLength(S(s.top, t.plotTop + n[0]), t.plotHeight, t.plotTop)),
                        s = this.left = Math.round(e.relativeLength(S(s.left, t.plotLeft + n[3]), t.plotWidth, t.plotLeft));
                    this.bottom = t.chartHeight - o - r, this.right = t.chartWidth - i - s, this.len = Math.max(a ? i : o, 0), this.pos = a ? s : r
                },
                getExtremes: function() {
                    var e = this.isLog;
                    return {
                        min: e ? r(this.lin2log(this.min)) : this.min,
                        max: e ? r(this.lin2log(this.max)) : this.max,
                        dataMin: this.dataMin,
                        dataMax: this.dataMax,
                        userMin: this.userMin,
                        userMax: this.userMax
                    }
                },
                getThreshold: function(e) {
                    var t = (n = this.isLog) ? this.lin2log(this.min) : this.min,
                        n = n ? this.lin2log(this.max) : this.max;
                    return null === e || -1 / 0 === e ? e = t : 1 / 0 === e ? e = n : t > e ? e = t : n < e && (e = n), this.translate(e, 0, 1, 0, 1)
                },
                autoLabelAlign: function(e) {
                    return 15 < (e = (S(e, 0) - 90 * this.side + 720) % 360) && 165 > e ? "right" : 195 < e && 345 > e ? "left" : "center"
                },
                tickSize: function(e) {
                    var t = this.options,
                        n = t[e + "Length"],
                        a = S(t[e + "Width"], "tick" === e && this.isXAxis ? 1 : 0);
                    if (a && n) return "inside" === t[e + "Position"] && (n = -n), [n, a]
                },
                labelMetrics: function() {
                    var e = this.tickPositions && this.tickPositions[0] || 0;
                    return this.chart.renderer.fontMetrics(this.options.labels.style && this.options.labels.style.fontSize, this.ticks[e] && this.ticks[e].label)
                },
                unsquish: function() {
                    var e, t, n, a = this.options.labels,
                        i = this.horiz,
                        o = this.tickInterval,
                        s = o,
                        u = this.len / (((this.categories ? 1 : 0) + this.max - this.min) / o),
                        p = a.rotation,
                        h = this.labelMetrics(),
                        m = Number.MAX_VALUE,
                        f = function(e) {
                            return e = 1 < (e /= u || 1) ? Math.ceil(e) : 1, r(e * o)
                        };
                    return i ? (n = !a.staggerLines && !a.step && (l(p) ? [p] : u < S(a.autoRotationLimit, 80) && a.autoRotation)) && d(n, function(n) {
                        var a;
                        (n === p || n && -90 <= n && 90 >= n) && ((a = (t = f(Math.abs(h.h / Math.sin(c * n)))) + Math.abs(n / 360)) < m && (m = a, e = n, s = t))
                    }) : a.step || (s = f(h.h)), this.autoRotation = n, this.labelRotation = S(e, p), s
                },
                getSlotWidth: function(e) {
                    var t = this.chart,
                        n = this.horiz,
                        a = this.options.labels,
                        i = Math.max(this.tickPositions.length - (this.categories ? 0 : 1), 1),
                        o = t.margin[3];
                    return e && e.slotWidth || n && 2 > (a.step || 0) && !a.rotation && (this.staggerLines || 1) * this.len / i || !n && (a.style && parseInt(a.style.width, 10) || o && o - t.spacing[3] || .33 * t.chartWidth)
                },
                renderUnsquish: function() {
                    var e, t, n, a = this.chart,
                        i = a.renderer,
                        o = this.tickPositions,
                        r = this.ticks,
                        s = this.options.labels,
                        l = s && s.style || {},
                        c = this.horiz,
                        u = this.getSlotWidth(),
                        p = Math.max(1, Math.round(u - 2 * (s.padding || 5))),
                        h = {},
                        m = this.labelMetrics(),
                        f = s.style && s.style.textOverflow,
                        g = 0;
                    if (_(s.rotation) || (h.rotation = s.rotation || 0), d(o, function(e) {
                            (e = r[e]) && e.label && e.label.textPxLength > g && (g = e.label.textPxLength)
                        }), this.maxLabelLength = g, this.autoRotation) g > p && g > m.h ? h.rotation = this.labelRotation : this.labelRotation = 0;
                    else if (u && (e = p, !f))
                        for (t = "clip", p = o.length; !c && p--;) n = o[p], (n = r[n].label) && (n.styles && "ellipsis" === n.styles.textOverflow ? n.css({
                            textOverflow: "clip"
                        }) : n.textPxLength > u && n.css({
                            width: u + "px"
                        }), n.getBBox().height > this.len / o.length - (m.h - m.f) && (n.specificTextOverflow = "ellipsis"));
                    h.rotation && (e = g > .5 * a.chartHeight ? .33 * a.chartHeight : g, f || (t = "ellipsis")), (this.labelAlign = s.align || this.autoLabelAlign(this.labelRotation)) && (h.align = this.labelAlign), d(o, function(n) {
                        var a = (n = r[n]) && n.label,
                            i = l.width,
                            o = {};
                        a && (a.attr(h), n.shortenLabel ? n.shortenLabel() : e && !i && "nowrap" !== l.whiteSpace && (e < a.textPxLength || "SPAN" === a.element.tagName) ? (o.width = e, f || (o.textOverflow = a.specificTextOverflow || t), a.css(o)) : a.styles && a.styles.width && !o.width && !i && a.css({
                            width: null
                        }), delete a.specificTextOverflow, n.rotation = h.rotation)
                    }, this), this.tickRotCorr = i.rotCorr(m.b, this.labelRotation || 0, 0 !== this.side)
                },
                hasData: function() {
                    return this.hasVisibleSeries || l(this.min) && l(this.max) && this.tickPositions && 0 < this.tickPositions.length
                },
                addTitle: function(e) {
                    var t, n = this.chart.renderer,
                        a = this.horiz,
                        i = this.opposite,
                        o = this.options.title;
                    this.axisTitle || ((t = o.textAlign) || (t = (a ? {
                        low: "left",
                        middle: "center",
                        high: "right"
                    } : {
                        low: i ? "right" : "left",
                        middle: "center",
                        high: i ? "left" : "right"
                    })[o.align]), this.axisTitle = n.text(o.text, 0, 0, o.useHTML).attr({
                        zIndex: 7,
                        rotation: o.rotation || 0,
                        align: t
                    }).addClass("highcharts-axis-title").css(w(o.style)).add(this.axisGroup), this.axisTitle.isNew = !0), o.style.width || this.isRadial || this.axisTitle.css({
                        width: this.len
                    }), this.axisTitle[e ? "show" : "hide"](!0)
                },
                generateTick: function(e) {
                    var t = this.ticks;
                    t[e] ? t[e].addLabel() : t[e] = new M(this, e)
                },
                getOffset: function() {
                    var e, t, n, a = this,
                        i = (_ = a.chart).renderer,
                        o = a.options,
                        r = a.tickPositions,
                        s = a.ticks,
                        c = a.horiz,
                        u = a.side,
                        p = _.inverted && !a.isZAxis ? [1, 0, 3, 2][u] : u,
                        m = 0,
                        f = 0,
                        g = o.title,
                        b = o.labels,
                        v = 0,
                        y = _.axisOffset,
                        _ = _.clipOffset,
                        w = [-1, 1, 1, -1][u],
                        O = o.className,
                        x = a.axisParent;
                    e = a.hasData(), a.showAxis = t = e || S(o.showEmpty, !0), a.staggerLines = a.horiz && b.staggerLines, a.axisGroup || (a.gridGroup = i.g("grid").attr({
                        zIndex: o.gridZIndex || 1
                    }).addClass("highcharts-" + this.coll.toLowerCase() + "-grid " + (O || "")).add(x), a.axisGroup = i.g("axis").attr({
                        zIndex: o.zIndex || 2
                    }).addClass("highcharts-" + this.coll.toLowerCase() + " " + (O || "")).add(x), a.labelGroup = i.g("axis-labels").attr({
                        zIndex: b.zIndex || 7
                    }).addClass("highcharts-" + a.coll.toLowerCase() + "-labels " + (O || "")).add(x)), e || a.isLinked ? (d(r, function(e, t) {
                        a.generateTick(e, t)
                    }), a.renderUnsquish(), a.reserveSpaceDefault = 0 === u || 2 === u || {
                        1: "left",
                        3: "right"
                    }[u] === a.labelAlign, S(b.reserveSpace, "center" === a.labelAlign || null, a.reserveSpaceDefault) && d(r, function(e) {
                        v = Math.max(s[e].getLabelSize(), v)
                    }), a.staggerLines && (v *= a.staggerLines), a.labelOffset = v * (a.opposite ? -1 : 1)) : k(s, function(e, t) {
                        e.destroy(), delete s[t]
                    }), g && g.text && !1 !== g.enabled && (a.addTitle(t), t && !1 !== g.reserveSpace && (a.titleOffset = m = a.axisTitle.getBBox()[c ? "height" : "width"], n = g.offset, f = l(n) ? 0 : S(g.margin, c ? 5 : 10))), a.renderLine(), a.offset = w * S(o.offset, y[u]), a.tickRotCorr = a.tickRotCorr || {
                        x: 0,
                        y: 0
                    }, i = 0 === u ? -a.labelMetrics().h : 2 === u ? a.tickRotCorr.y : 0, f = Math.abs(v) + f, v && (f = f - i + w * (c ? S(b.y, a.tickRotCorr.y + 8 * w) : b.x)), a.axisTitleMargin = S(n, f), a.getMaxLabelDimensions && (a.maxLabelDimensions = a.getMaxLabelDimensions(s, r)), c = this.tickSize("tick"), y[u] = Math.max(y[u], a.axisTitleMargin + m + w * a.offset, f, e && r.length && c ? c[0] + w * a.offset : 0), o = o.offset ? 0 : 2 * Math.floor(a.axisLine.strokeWidth() / 2), _[p] = Math.max(_[p], o), h(this, "afterGetOffset")
                },
                getLinePath: function(e) {
                    var t = this.chart,
                        n = this.opposite,
                        a = this.offset,
                        i = this.horiz,
                        o = this.left + (n ? this.width : 0) + a;
                    a = t.chartHeight - this.bottom - (n ? this.height : 0) + a;
                    return n && (e *= -1), t.renderer.crispLine(["M", i ? this.left : o, i ? a : this.top, "L", i ? t.chartWidth - this.right : o, i ? a : t.chartHeight - this.bottom], e)
                },
                renderLine: function() {
                    this.axisLine || (this.axisLine = this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup), this.axisLine.attr({
                        stroke: this.options.lineColor,
                        "stroke-width": this.options.lineWidth,
                        zIndex: 7
                    }))
                },
                getTitlePosition: function() {
                    var e = this.horiz,
                        t = this.left,
                        n = this.top,
                        a = this.len,
                        i = this.options.title,
                        o = e ? t : n,
                        r = this.opposite,
                        s = this.offset,
                        l = i.x || 0,
                        c = i.y || 0,
                        u = this.axisTitle,
                        d = this.chart.renderer.fontMetrics(i.style && i.style.fontSize, u);
                    u = Math.max(u.getBBox(null, 0).height - d.h - 1, 0), a = {
                        low: o + (e ? 0 : a),
                        middle: o + a / 2,
                        high: o + (e ? a : 0)
                    }[i.align], t = (e ? n + this.height : t) + (e ? 1 : -1) * (r ? -1 : 1) * this.axisTitleMargin + [-u, u, d.f, -u][this.side];
                    return {
                        x: e ? a + l : t + (r ? this.width : 0) + s + l,
                        y: e ? t + c - (r ? this.height : 0) + s : a + c
                    }
                },
                renderMinorTick: function(e) {
                    var t = this.chart.hasRendered && y(this.oldMin),
                        n = this.minorTicks;
                    n[e] || (n[e] = new M(this, e, "minor")), t && n[e].isNew && n[e].render(null, !0), n[e].render(null, !1, 1)
                },
                renderTick: function(e, t) {
                    var n = this.isLinked,
                        a = this.ticks,
                        i = this.chart.hasRendered && y(this.oldMin);
                    (!n || e >= this.min && e <= this.max) && (a[e] || (a[e] = new M(this, e)), i && a[e].isNew && a[e].render(t, !0, -1), a[e].render(t))
                },
                render: function() {
                    var t, a, i = this,
                        o = i.chart,
                        r = i.options,
                        s = i.isLog,
                        l = i.isLinked,
                        c = i.tickPositions,
                        u = i.axisTitle,
                        p = i.ticks,
                        m = i.minorTicks,
                        f = i.alternateBands,
                        g = r.stackLabels,
                        b = r.alternateGridColor,
                        v = i.tickmarkOffset,
                        _ = i.axisLine,
                        w = i.showAxis,
                        O = n(o.renderer.globalAnimation);
                    i.labelEdge.length = 0, i.overlap = !1, d([p, m, f], function(e) {
                        k(e, function(e) {
                            e.isActive = !1
                        })
                    }), (i.hasData() || l) && (i.minorTickInterval && !i.categories && d(i.getMinorTickPositions(), function(e) {
                        i.renderMinorTick(e)
                    }), c.length && (d(c, function(e, t) {
                        i.renderTick(e, t)
                    }), v && (0 === i.min || i.single) && (p[-1] || (p[-1] = new M(i, -1, null, !0)), p[-1].render(-1))), b && d(c, function(n, r) {
                        a = void 0 !== c[r + 1] ? c[r + 1] + v : i.max - v, 0 == r % 2 && n < i.max && a <= i.max + (o.polar ? -v : v) && (f[n] || (f[n] = new e.PlotLineOrBand(i)), t = n + v, f[n].options = {
                            from: s ? i.lin2log(t) : t,
                            to: s ? i.lin2log(a) : a,
                            color: b
                        }, f[n].render(), f[n].isActive = !0)
                    }), i._addedPlotLB || (d((r.plotLines || []).concat(r.plotBands || []), function(e) {
                        i.addPlotBandOrLine(e)
                    }), i._addedPlotLB = !0)), d([p, m, f], function(e) {
                        var t, n = [],
                            a = O.duration;
                        k(e, function(e, t) {
                            e.isActive || (e.render(t, !1, 0), e.isActive = !1, n.push(t))
                        }), C(function() {
                            for (t = n.length; t--;) e[n[t]] && !e[n[t]].isActive && (e[n[t]].destroy(), delete e[n[t]])
                        }, e !== f && o.hasRendered && a ? a : 0)
                    }), _ && (_[_.isPlaced ? "animate" : "attr"]({
                        d: this.getLinePath(_.strokeWidth())
                    }), _.isPlaced = !0, _[w ? "show" : "hide"](!0)), u && w && (r = i.getTitlePosition(), y(r.y) ? (u[u.isNew ? "attr" : "animate"](r), u.isNew = !1) : (u.attr("y", -9999), u.isNew = !0)), g && g.enabled && i.renderStackTotals(), i.isDirty = !1, h(this, "afterRender")
                },
                redraw: function() {
                    this.visible && (this.render(), d(this.plotLinesAndBands, function(e) {
                        e.render()
                    })), d(this.series, function(e) {
                        e.isDirty = !0
                    })
                },
                keepProps: "extKey hcEvents names series userMax userMin".split(" "),
                destroy: function(e) {
                    var t, n = this,
                        a = n.stacks,
                        i = n.plotLinesAndBands;
                    if (h(this, "destroy", {
                            keepEvents: e
                        }), e || x(n), k(a, function(e, t) {
                            u(e), a[t] = null
                        }), d([n.ticks, n.minorTicks, n.alternateBands], function(e) {
                            u(e)
                        }), i)
                        for (e = i.length; e--;) i[e].destroy();
                    for (t in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "), function(e) {
                            n[e] && (n[e] = n[e].destroy())
                        }), n.plotLinesAndBandsGroups) n.plotLinesAndBandsGroups[t] = n.plotLinesAndBandsGroups[t].destroy();
                    k(n, function(e, t) {
                        -1 === b(t, n.keepProps) && delete n[t]
                    })
                },
                drawCrosshair: function(e, t) {
                    var n, a, i = this.crosshair,
                        r = S(i.snap, !0),
                        s = this.cross;
                    if (h(this, "drawCrosshair", {
                            e: e,
                            point: t
                        }), e || (e = this.cross && this.cross.e), this.crosshair && !1 !== (l(t) || !r)) {
                        if (r ? l(t) && (a = S(t.crosshairPos, this.isXAxis ? t.plotX : this.len - t.plotY)) : a = e && (this.horiz ? e.chartX - this.pos : this.len - e.chartY + this.pos), l(a) && (n = this.getPlotLinePath(t && (this.isXAxis ? t.x : S(t.stackY, t.y)), null, null, null, a) || null), !l(n)) return void this.hideCrosshair();
                        r = this.categories && !this.isRadial, s || (this.cross = s = this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-" + (r ? "category " : "thin ") + i.className).attr({
                            zIndex: S(i.zIndex, 2)
                        }).add(), s.attr({
                            stroke: i.color || (r ? o("#ccd6eb").setOpacity(.25).get() : "#cccccc"),
                            "stroke-width": S(i.width, 1)
                        }).css({
                            "pointer-events": "none"
                        }), i.dashStyle && s.attr({
                            dashstyle: i.dashStyle
                        })), s.show().attr({
                            d: n
                        }), r && !i.width && s.attr({
                            "stroke-width": this.transA
                        }), this.cross.e = e
                    } else this.hideCrosshair();
                    h(this, "afterDrawCrosshair", {
                        e: e,
                        point: t
                    })
                },
                hideCrosshair: function() {
                    this.cross && this.cross.hide()
                }
            }), e.Axis = T
        }(c);
        return function(e) {
                var t = e.Axis,
                    n = e.getMagnitude,
                    a = e.normalizeTickInterval,
                    i = e.timeUnits;
                t.prototype.getTimeTicks = function() {
                    return this.chart.time.getTimeTicks.apply(this.chart.time, arguments)
                }, t.prototype.normalizeTimeTickInterval = function(e, t) {
                    var o = t || [
                        ["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]],
                        ["second", [1, 2, 5, 10, 15, 30]],
                        ["minute", [1, 2, 5, 10, 15, 30]],
                        ["hour", [1, 2, 3, 4, 6, 8, 12]],
                        ["day", [1, 2]],
                        ["week", [1, 2]],
                        ["month", [1, 2, 3, 4, 6]],
                        ["year", null]
                    ];
                    t = o[o.length - 1];
                    var r, s = i[t[0]],
                        l = t[1];
                    for (r = 0; r < o.length && (t = o[r], s = i[t[0]], l = t[1], !(o[r + 1] && e <= (s * l[l.length - 1] + i[o[r + 1][0]]) / 2)); r++);
                    return s === i.year && e < 5 * s && (l = [1, 2, 5]), {
                        unitRange: s,
                        count: e = a(e / s, l, "year" === t[0] ? Math.max(n(e / s), 1) : 1),
                        unitName: t[0]
                    }
                }
            }(c),
            function(e) {
                var t = e.Axis,
                    n = e.getMagnitude,
                    a = e.map,
                    i = e.normalizeTickInterval,
                    o = e.pick;
                t.prototype.getLogTickPositions = function(e, t, r, s) {
                    var l = this.options,
                        c = this.len,
                        u = [];
                    if (s || (this._minorAutoInterval = null), .5 <= e) e = Math.round(e), u = this.getLinearTickPositions(e, t, r);
                    else if (.08 <= e) {
                        var d, p, h, m, f;
                        for (c = Math.floor(t), l = .3 < e ? [1, 2, 4] : .15 < e ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; c < r + 1 && !f; c++)
                            for (p = l.length, d = 0; d < p && !f; d++)(h = this.log2lin(this.lin2log(c) * l[d])) > t && (!s || m <= r) && void 0 !== m && u.push(m), m > r && (f = !0), m = h
                    } else t = this.lin2log(t), r = this.lin2log(r), e = s ? this.getMinorTickInterval() : l.tickInterval, e = o("auto" === e ? null : e, this._minorAutoInterval, l.tickPixelInterval / (s ? 5 : 1) * (r - t) / ((s ? c / this.tickPositions.length : c) || 1)), e = i(e, null, n(e)), u = a(this.getLinearTickPositions(e, t, r), this.log2lin), s || (this._minorAutoInterval = e / 5);
                    return s || (this.tickInterval = e), u
                }, t.prototype.log2lin = function(e) {
                    return Math.log(e) / Math.LN10
                }, t.prototype.lin2log = function(e) {
                    return Math.pow(10, e)
                }
            }(c),
            function(e, t) {
                var n = e.arrayMax,
                    a = e.arrayMin,
                    i = e.defined,
                    o = e.destroyObjectProperties,
                    r = e.each,
                    s = e.erase,
                    l = e.merge,
                    c = e.pick;
                e.PlotLineOrBand = function(e, t) {
                    this.axis = e, t && (this.options = t, this.id = t.id)
                }, e.PlotLineOrBand.prototype = {
                    render: function() {
                        e.fireEvent(this, "render");
                        var t = this,
                            n = t.axis,
                            a = n.horiz,
                            o = t.options,
                            r = o.label,
                            s = t.label,
                            u = o.to,
                            d = o.from,
                            p = o.value,
                            h = i(d) && i(u),
                            m = i(p),
                            f = t.svgElem,
                            g = !f,
                            b = [],
                            v = o.color,
                            y = c(o.zIndex, 0),
                            _ = o.events,
                            w = (b = {
                                class: "highcharts-plot-" + (h ? "band " : "line ") + (o.className || "")
                            }, {}),
                            O = n.chart.renderer,
                            k = h ? "bands" : "lines";
                        if (n.isLog && (d = n.log2lin(d), u = n.log2lin(u), p = n.log2lin(p)), m ? (b.stroke = v, b["stroke-width"] = o.width, o.dashStyle && (b.dashstyle = o.dashStyle)) : h && (v && (b.fill = v), o.borderWidth && (b.stroke = o.borderColor, b["stroke-width"] = o.borderWidth)), w.zIndex = y, k += "-" + y, (v = n.plotLinesAndBandsGroups[k]) || (n.plotLinesAndBandsGroups[k] = v = O.g("plot-" + k).attr(w).add()), g && (t.svgElem = f = O.path().attr(b).add(v)), m) b = n.getPlotLinePath(p, f.strokeWidth());
                        else {
                            if (!h) return;
                            b = n.getPlotBandPath(d, u, o)
                        }
                        return g && b && b.length ? (f.attr({
                            d: b
                        }), _ && e.objectEach(_, function(e, n) {
                            f.on(n, function(e) {
                                _[n].apply(t, [e])
                            })
                        })) : f && (b ? (f.show(), f.animate({
                            d: b
                        })) : (f.hide(), s && (t.label = s = s.destroy()))), r && i(r.text) && b && b.length && 0 < n.width && 0 < n.height && !b.isFlat ? (r = l({
                            align: a && h && "center",
                            x: a ? !h && 4 : 10,
                            verticalAlign: !a && h && "middle",
                            y: a ? h ? 16 : 10 : h ? 6 : -4,
                            rotation: a && !h && 90
                        }, r), this.renderLabel(r, b, h, y)) : s && s.hide(), t
                    },
                    renderLabel: function(e, t, i, o) {
                        var r = this.label,
                            s = this.axis.chart.renderer;
                        r || ((r = {
                            align: e.textAlign || e.align,
                            rotation: e.rotation,
                            class: "highcharts-plot-" + (i ? "band" : "line") + "-label " + (e.className || "")
                        }).zIndex = o, this.label = r = s.text(e.text, 0, 0, e.useHTML).attr(r).add(), r.css(e.style)), o = t.xBounds || [t[1], t[4], i ? t[6] : t[1]], t = t.yBounds || [t[2], t[5], i ? t[7] : t[2]], i = a(o), s = a(t), r.align(e, !1, {
                            x: i,
                            y: s,
                            width: n(o) - i,
                            height: n(t) - s
                        }), r.show()
                    },
                    destroy: function() {
                        s(this.axis.plotLinesAndBands, this), delete this.axis, o(this)
                    }
                }, e.extend(t.prototype, {
                    getPlotBandPath: function(e, t) {
                        var n, a = this.getPlotLinePath(t, null, null, !0),
                            i = this.getPlotLinePath(e, null, null, !0),
                            o = [],
                            r = this.horiz,
                            s = 1;
                        if (e = e < this.min && t < this.min || e > this.max && t > this.max, i && a)
                            for (e && (n = i.toString() === a.toString(), s = 0), e = 0; e < i.length; e += 6) r && a[e + 1] === i[e + 1] ? (a[e + 1] += s, a[e + 4] += s) : r || a[e + 2] !== i[e + 2] || (a[e + 2] += s, a[e + 5] += s), o.push("M", i[e + 1], i[e + 2], "L", i[e + 4], i[e + 5], a[e + 4], a[e + 5], a[e + 1], a[e + 2], "z"), o.isFlat = n;
                        return o
                    },
                    addPlotBand: function(e) {
                        return this.addPlotBandOrLine(e, "plotBands")
                    },
                    addPlotLine: function(e) {
                        return this.addPlotBandOrLine(e, "plotLines")
                    },
                    addPlotBandOrLine: function(t, n) {
                        var a = new e.PlotLineOrBand(this, t).render(),
                            i = this.userOptions;
                        return a && (n && (i[n] = i[n] || [], i[n].push(t)), this.plotLinesAndBands.push(a)), a
                    },
                    removePlotBandOrLine: function(e) {
                        for (var t = this.plotLinesAndBands, n = this.options, a = this.userOptions, i = t.length; i--;) t[i].id === e && t[i].destroy();
                        r([n.plotLines || [], a.plotLines || [], n.plotBands || [], a.plotBands || []], function(t) {
                            for (i = t.length; i--;) t[i].id === e && s(t, t[i])
                        })
                    },
                    removePlotBand: function(e) {
                        this.removePlotBandOrLine(e)
                    },
                    removePlotLine: function(e) {
                        this.removePlotBandOrLine(e)
                    }
                })
            }(c, u),
            function(e) {
                var t = e.doc,
                    n = e.each,
                    a = e.extend,
                    i = e.format,
                    o = e.isNumber,
                    r = e.map,
                    s = e.merge,
                    l = e.pick,
                    c = e.splat,
                    u = e.syncTimeout,
                    d = e.timeUnits;
                e.Tooltip = function() {
                    this.init.apply(this, arguments)
                }, e.Tooltip.prototype = {
                    init: function(e, t) {
                        this.chart = e, this.options = t, this.crosshairs = [], this.now = {
                            x: 0,
                            y: 0
                        }, this.isHidden = !0, this.split = t.split && !e.inverted, this.shared = t.shared || this.split, this.outside = t.outside && !this.split
                    },
                    cleanSplit: function(e) {
                        n(this.chart.series, function(t) {
                            var n = t && t.tt;
                            n && (!n.isActive || e ? t.tt = n.destroy() : n.isActive = !1)
                        })
                    },
                    getLabel: function() {
                        var t, n = this.chart.renderer,
                            a = this.options;
                        return this.label || (this.outside && (this.container = t = e.doc.createElement("div"), t.className = "highcharts-tooltip-container", e.css(t, {
                            position: "absolute",
                            top: "1px",
                            pointerEvents: a.style && a.style.pointerEvents
                        }), e.doc.body.appendChild(t), this.renderer = n = new e.Renderer(t, 0, 0)), this.split ? this.label = n.g("tooltip") : (this.label = n.label("", 0, 0, a.shape || "callout", null, null, a.useHTML, null, "tooltip").attr({
                            padding: a.padding,
                            r: a.borderRadius
                        }), this.label.attr({
                            fill: a.backgroundColor,
                            "stroke-width": a.borderWidth
                        }).css(a.style).shadow(a.shadow)), this.outside && (this.label.attr({
                            x: this.distance,
                            y: this.distance
                        }), this.label.xSetter = function(e) {
                            t.style.left = e + "px"
                        }, this.label.ySetter = function(e) {
                            t.style.top = e + "px"
                        }), this.label.attr({
                            zIndex: 8
                        }).add()), this.label
                    },
                    update: function(e) {
                        this.destroy(), s(!0, this.chart.options.tooltip.userOptions, e), this.init(this.chart, s(!0, this.options, e))
                    },
                    destroy: function() {
                        this.label && (this.label = this.label.destroy()), this.split && this.tt && (this.cleanSplit(this.chart, !0), this.tt = this.tt.destroy()), this.renderer && (this.renderer = this.renderer.destroy(), e.discardElement(this.container)), e.clearTimeout(this.hideTimer), e.clearTimeout(this.tooltipTimeout)
                    },
                    move: function(t, n, i, o) {
                        var r = this,
                            s = r.now,
                            l = !1 !== r.options.animation && !r.isHidden && (1 < Math.abs(t - s.x) || 1 < Math.abs(n - s.y)),
                            c = r.followPointer || 1 < r.len;
                        a(s, {
                            x: l ? (2 * s.x + t) / 3 : t,
                            y: l ? (s.y + n) / 2 : n,
                            anchorX: c ? void 0 : l ? (2 * s.anchorX + i) / 3 : i,
                            anchorY: c ? void 0 : l ? (s.anchorY + o) / 2 : o
                        }), r.getLabel().attr(s), l && (e.clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function() {
                            r && r.move(t, n, i, o)
                        }, 32))
                    },
                    hide: function(t) {
                        var n = this;
                        e.clearTimeout(this.hideTimer), t = l(t, this.options.hideDelay, 500), this.isHidden || (this.hideTimer = u(function() {
                            n.getLabel()[t ? "fadeOut" : "hide"](), n.isHidden = !0
                        }, t))
                    },
                    getAnchor: function(e, t) {
                        var a, i, o = this.chart,
                            s = o.pointer,
                            l = o.inverted,
                            u = o.plotTop,
                            d = o.plotLeft,
                            p = 0,
                            h = 0;
                        return e = c(e), this.followPointer && t ? (void 0 === t.chartX && (t = s.normalize(t)), e = [t.chartX - o.plotLeft, t.chartY - u]) : e[0].tooltipPos ? e = e[0].tooltipPos : (n(e, function(e) {
                            a = e.series.yAxis, i = e.series.xAxis, p += e.plotX + (!l && i ? i.left - d : 0), h += (e.plotLow ? (e.plotLow + e.plotHigh) / 2 : e.plotY) + (!l && a ? a.top - u : 0)
                        }), p /= e.length, h /= e.length, e = [l ? o.plotWidth - h : p, this.shared && !l && 1 < e.length && t ? t.chartY - u : l ? o.plotHeight - p : h]), r(e, Math.round)
                    },
                    getPosition: function(e, n, a) {
                        var i, o = this.chart,
                            r = this.distance,
                            s = {},
                            c = o.inverted && a.h || 0,
                            u = this.outside,
                            d = u ? t.documentElement.clientWidth - 2 * r : o.chartWidth,
                            p = u ? Math.max(t.body.scrollHeight, t.documentElement.scrollHeight, t.body.offsetHeight, t.documentElement.offsetHeight, t.documentElement.clientHeight) : o.chartHeight,
                            h = o.pointer.chartPosition,
                            m = ["y", p, n, (u ? h.top - r : 0) + a.plotY + o.plotTop, u ? 0 : o.plotTop, u ? p : o.plotTop + o.plotHeight],
                            f = ["x", d, e, (u ? h.left - r : 0) + a.plotX + o.plotLeft, u ? 0 : o.plotLeft, u ? d : o.plotLeft + o.plotWidth],
                            g = !this.followPointer && l(a.ttBelow, !o.inverted == !!a.negative),
                            b = function(e) {
                                var t = m;
                                m = f, f = t, i = e
                            },
                            v = function() {
                                !1 !== function(e, t, n, a, i, o) {
                                    var l = n < a - r,
                                        u = a + r + n < t,
                                        d = a - r - n;
                                    if (a += r, g && u) s[e] = a;
                                    else if (!g && l) s[e] = d;
                                    else if (l) s[e] = Math.min(o - n, 0 > d - c ? d : d - c);
                                    else {
                                        if (!u) return !1;
                                        s[e] = Math.max(i, a + c + n > t ? a : a + c)
                                    }
                                }.apply(0, m) ? !1 !== function(e, t, n, a) {
                                    var i;
                                    return a < r || a > t - r ? i = !1 : s[e] = a < n / 2 ? 1 : a > t - n / 2 ? t - n - 2 : a - n / 2, i
                                }.apply(0, f) || i || (b(!0), v()) : i ? s.x = s.y = 0 : (b(!0), v())
                            };
                        return (o.inverted || 1 < this.len) && b(), v(), s
                    },
                    defaultFormatter: function(e) {
                        var t, n = this.points || c(this);
                        return (t = (t = [e.tooltipFooterHeaderFormatter(n[0])]).concat(e.bodyFormatter(n))).push(e.tooltipFooterHeaderFormatter(n[0], !0)), t
                    },
                    refresh: function(t, a) {
                        var i, o, r, s = this.options,
                            u = t,
                            d = {},
                            p = [];
                        i = s.formatter || this.defaultFormatter;
                        var h;
                        d = this.shared;
                        s.enabled && (e.clearTimeout(this.hideTimer), this.followPointer = c(u)[0].series.tooltipOptions.followPointer, a = (r = this.getAnchor(u, a))[0], o = r[1], !d || u.series && u.series.noSharedTooltip ? d = u.getLabelConfig() : (n(u, function(e) {
                            e.setState("hover"), p.push(e.getLabelConfig())
                        }), (d = {
                            x: u[0].category,
                            y: u[0].y
                        }).points = p, u = u[0]), this.len = p.length, d = i.call(d, this), h = u.series, this.distance = l(h.tooltipOptions.distance, 16), !1 === d ? this.hide() : (i = this.getLabel(), this.isHidden && i.attr({
                            opacity: 1
                        }).show(), this.split ? this.renderSplit(d, c(t)) : (s.style.width || i.css({
                            width: this.chart.spacingBox.width
                        }), i.attr({
                            text: d && d.join ? d.join("") : d
                        }), i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-" + l(u.colorIndex, h.colorIndex)), i.attr({
                            stroke: s.borderColor || u.color || h.color || "#666666"
                        }), this.updatePosition({
                            plotX: a,
                            plotY: o,
                            negative: u.negative,
                            ttBelow: u.ttBelow,
                            h: r[2] || 0
                        })), this.isHidden = !1))
                    },
                    renderSplit: function(t, a) {
                        var i, o = this,
                            r = [],
                            s = this.chart,
                            c = s.renderer,
                            u = !0,
                            d = this.options,
                            p = 0,
                            h = this.getLabel(),
                            m = s.plotTop;
                        e.isString(t) && (t = [!1, t]), n(t.slice(0, a.length + 1), function(e, t) {
                            if (!1 !== e) {
                                var n = (t = a[t - 1] || {
                                        isHeader: !0,
                                        plotX: a[0].plotX
                                    }).series || o,
                                    f = n.tt,
                                    g = t.series || {},
                                    b = "highcharts-color-" + l(t.colorIndex, g.colorIndex, "none");
                                f || (n.tt = f = c.label(null, null, null, "callout", null, null, d.useHTML).addClass("highcharts-tooltip-box " + b + (t.isHeader ? " highcharts-tooltip-header" : "")).attr({
                                    padding: d.padding,
                                    r: d.borderRadius,
                                    fill: d.backgroundColor,
                                    stroke: d.borderColor || t.color || g.color || "#333333",
                                    "stroke-width": d.borderWidth
                                }).add(h)), f.isActive = !0, f.attr({
                                    text: e
                                }), f.css(d.style).shadow(d.shadow), g = (e = f.getBBox()).width + f.strokeWidth(), t.isHeader ? (p = e.height, s.xAxis[0].opposite && (i = !0, m -= p), g = Math.max(0, Math.min(t.plotX + s.plotLeft - g / 2, s.chartWidth + (s.scrollablePixels ? s.scrollablePixels - s.marginRight : 0) - g))) : g = t.plotX + s.plotLeft - l(d.distance, 16) - g, 0 > g && (u = !1), e = (t.series && t.series.yAxis && t.series.yAxis.pos) + (t.plotY || 0), e -= m, t.isHeader && (e = i ? -p : s.plotHeight + p), r.push({
                                    target: e,
                                    rank: t.isHeader ? 1 : 0,
                                    size: n.tt.getBBox().height + 1,
                                    point: t,
                                    x: g,
                                    tt: f
                                })
                            }
                        }), this.cleanSplit(), e.distribute(r, s.plotHeight + p), n(r, function(e) {
                            var t = e.point,
                                n = t.series;
                            e.tt.attr({
                                visibility: void 0 === e.pos ? "hidden" : "inherit",
                                x: u || t.isHeader ? e.x : t.plotX + s.plotLeft + l(d.distance, 16),
                                y: e.pos + m,
                                anchorX: t.isHeader ? t.plotX + s.plotLeft : t.plotX + n.xAxis.pos,
                                anchorY: t.isHeader ? s.plotTop + s.plotHeight / 2 : t.plotY + n.yAxis.pos
                            })
                        })
                    },
                    updatePosition: function(e) {
                        var t, n = this.chart,
                            a = this.getLabel(),
                            i = (this.options.positioner || this.getPosition).call(this, a.width, a.height, e),
                            o = e.plotX + n.plotLeft;
                        e = e.plotY + n.plotTop, this.outside && (t = (this.options.borderWidth || 0) + 2 * this.distance, this.renderer.setSize(a.width + t, a.height + t, !1), o += n.pointer.chartPosition.left - i.x, e += n.pointer.chartPosition.top - i.y), this.move(Math.round(i.x), Math.round(i.y || 0), o, e)
                    },
                    getDateFormat: function(e, t, n, a) {
                        var i, o, r = this.chart.time,
                            s = r.dateFormat("%m-%d %H:%M:%S.%L", t),
                            l = {
                                millisecond: 15,
                                second: 12,
                                minute: 9,
                                hour: 6,
                                day: 3
                            },
                            c = "millisecond";
                        for (o in d) {
                            if (e === d.week && +r.dateFormat("%w", t) === n && "00:00:00.000" === s.substr(6)) {
                                o = "week";
                                break
                            }
                            if (d[o] > e) {
                                o = c;
                                break
                            }
                            if (l[o] && s.substr(l[o]) !== "01-01 00:00:00.000".substr(l[o])) break;
                            "week" !== o && (c = o)
                        }
                        return o && (i = r.resolveDTLFormat(a[o]).main), i
                    },
                    getXDateFormat: function(e, t, n) {
                        t = t.dateTimeLabelFormats;
                        var a = n && n.closestPointRange;
                        return (a ? this.getDateFormat(a, e.x, n.options.startOfWeek, t) : t.day) || t.year
                    },
                    tooltipFooterHeaderFormatter: function(e, t) {
                        t = t ? "footer" : "header";
                        var a = e.series,
                            r = a.tooltipOptions,
                            s = r.xDateFormat,
                            l = a.xAxis,
                            c = l && "datetime" === l.options.type && o(e.key),
                            u = r[t + "Format"];
                        return c && !s && (s = this.getXDateFormat(e, r, l)), c && s && n(e.point && e.point.tooltipDateKeys || ["key"], function(e) {
                            u = u.replace("{point." + e + "}", "{point." + e + ":" + s + "}")
                        }), i(u, {
                            point: e,
                            series: a
                        }, this.chart.time)
                    },
                    bodyFormatter: function(e) {
                        return r(e, function(e) {
                            var t = e.series.tooltipOptions;
                            return (t[(e.point.formatPrefix || "point") + "Formatter"] || e.point.tooltipFormatter).call(e.point, t[(e.point.formatPrefix || "point") + "Format"])
                        })
                    }
                }
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.attr,
                    a = e.charts,
                    i = e.color,
                    o = e.css,
                    r = e.defined,
                    s = e.each,
                    l = e.extend,
                    c = e.find,
                    u = e.fireEvent,
                    d = e.isNumber,
                    p = e.isObject,
                    h = e.offset,
                    m = e.pick,
                    f = e.splat,
                    g = e.Tooltip;
                e.Pointer = function(e, t) {
                    this.init(e, t)
                }, e.Pointer.prototype = {
                    init: function(e, t) {
                        this.options = t, this.chart = e, this.runChartClick = t.chart.events && !!t.chart.events.click, this.pinchDown = [], this.lastValidTouch = {}, g && (e.tooltip = new g(e, t.tooltip), this.followTouchMove = m(t.tooltip.followTouchMove, !0)), this.setDOMEvents()
                    },
                    zoomOption: function(e) {
                        var t = (a = this.chart).options.chart,
                            n = t.zoomType || "",
                            a = a.inverted;
                        /touch/.test(e.type) && (n = m(t.pinchType, n)), this.zoomX = e = /x/.test(n), this.zoomY = n = /y/.test(n), this.zoomHor = e && !a || n && a, this.zoomVert = n && !a || e && a, this.hasZoom = e || n
                    },
                    normalize: function(e, t) {
                        var n;
                        return n = e.touches ? e.touches.length ? e.touches.item(0) : e.changedTouches[0] : e, t || (this.chartPosition = t = h(this.chart.container)), l(e, {
                            chartX: Math.round(n.pageX - t.left),
                            chartY: Math.round(n.pageY - t.top)
                        })
                    },
                    getCoordinates: function(e) {
                        var t = {
                            xAxis: [],
                            yAxis: []
                        };
                        return s(this.chart.axes, function(n) {
                            t[n.isXAxis ? "xAxis" : "yAxis"].push({
                                axis: n,
                                value: n.toValue(e[n.horiz ? "chartX" : "chartY"])
                            })
                        }), t
                    },
                    findNearestKDPoint: function(e, t, n) {
                        var a;
                        return s(e, function(e) {
                            var i = !(e.noSharedTooltip && t) && 0 > e.options.findNearestPointBy.indexOf("y");
                            if (e = e.searchPoint(n, i), (i = p(e, !0)) && !(i = !p(a, !0))) {
                                i = a.distX - e.distX;
                                var o = a.dist - e.dist,
                                    r = (e.series.group && e.series.group.zIndex) - (a.series.group && a.series.group.zIndex);
                                i = 0 < (0 !== i && t ? i : 0 !== o ? o : 0 !== r ? r : a.series.index > e.series.index ? -1 : 1)
                            }
                            i && (a = e)
                        }), a
                    },
                    getPointFromEvent: function(e) {
                        e = e.target;
                        for (var t; e && !t;) t = e.point, e = e.parentNode;
                        return t
                    },
                    getChartCoordinatesFromPoint: function(e, t) {
                        var n = (a = e.series).xAxis,
                            a = a.yAxis,
                            i = m(e.clientX, e.plotX),
                            o = e.shapeArgs;
                        return n && a ? t ? {
                            chartX: n.len + n.pos - i,
                            chartY: a.len + a.pos - e.plotY
                        } : {
                            chartX: i + n.pos,
                            chartY: e.plotY + a.pos
                        } : o && o.x && o.y ? {
                            chartX: o.x,
                            chartY: o.y
                        } : void 0
                    },
                    getHoverData: function(t, n, a, i, o, r, l) {
                        var u, d = [],
                            h = l && l.isBoosting;
                        return i = !(!i || !t), l = n && !n.stickyTracking ? [n] : e.grep(a, function(e) {
                            return e.visible && !(!o && e.directTouch) && m(e.options.enableMouseTracking, !0) && e.stickyTracking
                        }), n = (u = i ? t : this.findNearestKDPoint(l, o, r)) && u.series, u && (o && !n.noSharedTooltip ? (l = e.grep(a, function(e) {
                            return e.visible && !(!o && e.directTouch) && m(e.options.enableMouseTracking, !0) && !e.noSharedTooltip
                        }), s(l, function(e) {
                            var t = c(e.points, function(e) {
                                return e.x === u.x && !e.isNull
                            });
                            p(t) && (h && (t = e.getPoint(t)), d.push(t))
                        })) : d.push(u)), {
                            hoverPoint: u,
                            hoverSeries: n,
                            hoverPoints: d
                        }
                    },
                    runPointActions: function(n, i) {
                        var o, r = this.chart,
                            l = r.tooltip && r.tooltip.options.enabled ? r.tooltip : void 0,
                            c = !!l && l.shared,
                            u = (d = i || r.hoverPoint) && d.series || r.hoverSeries,
                            d = (u = this.getHoverData(d, u, r.series, "touchmove" !== n.type && (!!i || u && u.directTouch && this.isDirectTouch), c, n, {
                                isBoosting: r.isBoosting
                            })).hoverPoint;
                        if (o = u.hoverPoints, i = (u = u.hoverSeries) && u.tooltipOptions.followPointer, c = c && u && !u.noSharedTooltip, d && (d !== r.hoverPoint || l && l.isHidden)) {
                            if (s(r.hoverPoints || [], function(t) {
                                    -1 === e.inArray(t, o) && t.setState()
                                }), s(o || [], function(e) {
                                    e.setState("hover")
                                }), r.hoverSeries !== u && u.onMouseOver(), r.hoverPoint && r.hoverPoint.firePointEvent("mouseOut"), !d.series) return;
                            d.firePointEvent("mouseOver"), r.hoverPoints = o, r.hoverPoint = d, l && l.refresh(c ? o : d, n)
                        } else i && l && !l.isHidden && (d = l.getAnchor([{}], n), l.updatePosition({
                            plotX: d[0],
                            plotY: d[1]
                        }));
                        this.unDocMouseMove || (this.unDocMouseMove = t(r.container.ownerDocument, "mousemove", function(t) {
                            var n = a[e.hoverChartIndex];
                            n && n.pointer.onDocumentMouseMove(t)
                        })), s(r.axes, function(t) {
                            var a = m(t.crosshair.snap, !0),
                                i = a ? e.find(o, function(e) {
                                    return e.series[t.coll] === t
                                }) : void 0;
                            i || !a ? t.drawCrosshair(n, i) : t.hideCrosshair()
                        })
                    },
                    reset: function(e, t) {
                        var n = this.chart,
                            a = n.hoverSeries,
                            i = n.hoverPoint,
                            o = n.hoverPoints,
                            r = n.tooltip,
                            l = r && r.shared ? o : i;
                        e && l && s(f(l), function(t) {
                            t.series.isCartesian && void 0 === t.plotX && (e = !1)
                        }), e ? r && l && (r.refresh(l), r.shared && o ? s(o, function(e) {
                            e.setState(e.state, !0), e.series.isCartesian && (e.series.xAxis.crosshair && e.series.xAxis.drawCrosshair(null, e), e.series.yAxis.crosshair && e.series.yAxis.drawCrosshair(null, e))
                        }) : i && (i.setState(i.state, !0), s(n.axes, function(e) {
                            e.crosshair && e.drawCrosshair(null, i)
                        }))) : (i && i.onMouseOut(), o && s(o, function(e) {
                            e.setState()
                        }), a && a.onMouseOut(), r && r.hide(t), this.unDocMouseMove && (this.unDocMouseMove = this.unDocMouseMove()), s(n.axes, function(e) {
                            e.hideCrosshair()
                        }), this.hoverX = n.hoverPoints = n.hoverPoint = null)
                    },
                    scaleGroups: function(e, t) {
                        var n, a = this.chart;
                        s(a.series, function(i) {
                            n = e || i.getPlotBox(), i.xAxis && i.xAxis.zoomEnabled && i.group && (i.group.attr(n), i.markerGroup && (i.markerGroup.attr(n), i.markerGroup.clip(t ? a.clipRect : null)), i.dataLabelsGroup && i.dataLabelsGroup.attr(n))
                        }), a.clipRect.attr(t || a.clipBox)
                    },
                    dragStart: function(e) {
                        var t = this.chart;
                        t.mouseIsDown = e.type, t.cancelClick = !1, t.mouseDownX = this.mouseDownX = e.chartX, t.mouseDownY = this.mouseDownY = e.chartY
                    },
                    drag: function(e) {
                        var t, n = this.chart,
                            a = n.options.chart,
                            o = e.chartX,
                            r = e.chartY,
                            s = this.zoomHor,
                            l = this.zoomVert,
                            c = n.plotLeft,
                            u = n.plotTop,
                            d = n.plotWidth,
                            p = n.plotHeight,
                            h = this.selectionMarker,
                            m = this.mouseDownX,
                            f = this.mouseDownY,
                            g = a.panKey && e[a.panKey + "Key"];
                        h && h.touch || (o < c ? o = c : o > c + d && (o = c + d), r < u ? r = u : r > u + p && (r = u + p), this.hasDragged = Math.sqrt(Math.pow(m - o, 2) + Math.pow(f - r, 2)), 10 < this.hasDragged && (t = n.isInsidePlot(m - c, f - u), n.hasCartesianSeries && (this.zoomX || this.zoomY) && t && !g && !h && (this.selectionMarker = h = n.renderer.rect(c, u, s ? 1 : d, l ? 1 : p, 0).attr({
                            fill: a.selectionMarkerFill || i("#335cad").setOpacity(.25).get(),
                            class: "highcharts-selection-marker",
                            zIndex: 7
                        }).add()), h && s && (o -= m, h.attr({
                            width: Math.abs(o),
                            x: (0 < o ? 0 : o) + m
                        })), h && l && (o = r - f, h.attr({
                            height: Math.abs(o),
                            y: (0 < o ? 0 : o) + f
                        })), t && !h && a.panning && n.pan(e, a.panning)))
                    },
                    drop: function(e) {
                        var t = this,
                            n = this.chart,
                            a = this.hasPinched;
                        if (this.selectionMarker) {
                            var i, c = {
                                    originalEvent: e,
                                    xAxis: [],
                                    yAxis: []
                                },
                                p = this.selectionMarker,
                                h = p.attr ? p.attr("x") : p.x,
                                m = p.attr ? p.attr("y") : p.y,
                                f = p.attr ? p.attr("width") : p.width,
                                g = p.attr ? p.attr("height") : p.height;
                            (this.hasDragged || a) && (s(n.axes, function(n) {
                                if (n.zoomEnabled && r(n.min) && (a || t[{
                                        xAxis: "zoomX",
                                        yAxis: "zoomY"
                                    }[n.coll]])) {
                                    var o = n.horiz,
                                        s = "touchend" === e.type ? n.minPixelPadding : 0,
                                        l = n.toValue((o ? h : m) + s);
                                    o = n.toValue((o ? h + f : m + g) - s);
                                    c[n.coll].push({
                                        axis: n,
                                        min: Math.min(l, o),
                                        max: Math.max(l, o)
                                    }), i = !0
                                }
                            }), i && u(n, "selection", c, function(e) {
                                n.zoom(l(e, a ? {
                                    animation: !1
                                } : null))
                            })), d(n.index) && (this.selectionMarker = this.selectionMarker.destroy()), a && this.scaleGroups()
                        }
                        n && d(n.index) && (o(n.container, {
                            cursor: n._cursor
                        }), n.cancelClick = 10 < this.hasDragged, n.mouseIsDown = this.hasDragged = this.hasPinched = !1, this.pinchDown = [])
                    },
                    onContainerMouseDown: function(e) {
                        2 !== (e = this.normalize(e)).button && (this.zoomOption(e), e.preventDefault && e.preventDefault(), this.dragStart(e))
                    },
                    onDocumentMouseUp: function(t) {
                        a[e.hoverChartIndex] && a[e.hoverChartIndex].pointer.drop(t)
                    },
                    onDocumentMouseMove: function(e) {
                        var t = this.chart,
                            n = this.chartPosition;
                        e = this.normalize(e, n), !n || this.inClass(e.target, "highcharts-tracker") || t.isInsidePlot(e.chartX - t.plotLeft, e.chartY - t.plotTop) || this.reset()
                    },
                    onContainerMouseLeave: function(t) {
                        var n = a[e.hoverChartIndex];
                        n && (t.relatedTarget || t.toElement) && (n.pointer.reset(), n.pointer.chartPosition = null)
                    },
                    onContainerMouseMove: function(t) {
                        var n = this.chart;
                        r(e.hoverChartIndex) && a[e.hoverChartIndex] && a[e.hoverChartIndex].mouseIsDown || (e.hoverChartIndex = n.index), (t = this.normalize(t)).returnValue = !1, "mousedown" === n.mouseIsDown && this.drag(t), !this.inClass(t.target, "highcharts-tracker") && !n.isInsidePlot(t.chartX - n.plotLeft, t.chartY - n.plotTop) || n.openMenu || this.runPointActions(t)
                    },
                    inClass: function(e, t) {
                        for (var a; e;) {
                            if (a = n(e, "class")) {
                                if (-1 !== a.indexOf(t)) return !0;
                                if (-1 !== a.indexOf("highcharts-container")) return !1
                            }
                            e = e.parentNode
                        }
                    },
                    onTrackerMouseOut: function(e) {
                        var t = this.chart.hoverSeries;
                        e = e.relatedTarget || e.toElement, this.isDirectTouch = !1, !t || !e || t.stickyTracking || this.inClass(e, "highcharts-tooltip") || this.inClass(e, "highcharts-series-" + t.index) && this.inClass(e, "highcharts-tracker") || t.onMouseOut()
                    },
                    onContainerClick: function(e) {
                        var t = this.chart,
                            n = t.hoverPoint,
                            a = t.plotLeft,
                            i = t.plotTop;
                        e = this.normalize(e), t.cancelClick || (n && this.inClass(e.target, "highcharts-tracker") ? (u(n.series, "click", l(e, {
                            point: n
                        })), t.hoverPoint && n.firePointEvent("click", e)) : (l(e, this.getCoordinates(e)), t.isInsidePlot(e.chartX - a, e.chartY - i) && u(t, "click", e)))
                    },
                    setDOMEvents: function() {
                        var n = this,
                            a = n.chart.container,
                            i = a.ownerDocument;
                        a.onmousedown = function(e) {
                            n.onContainerMouseDown(e)
                        }, a.onmousemove = function(e) {
                            n.onContainerMouseMove(e)
                        }, a.onclick = function(e) {
                            n.onContainerClick(e)
                        }, this.unbindContainerMouseLeave = t(a, "mouseleave", n.onContainerMouseLeave), e.unbindDocumentMouseUp || (e.unbindDocumentMouseUp = t(i, "mouseup", n.onDocumentMouseUp)), e.hasTouch && (a.ontouchstart = function(e) {
                            n.onContainerTouchStart(e)
                        }, a.ontouchmove = function(e) {
                            n.onContainerTouchMove(e)
                        }, e.unbindDocumentTouchEnd || (e.unbindDocumentTouchEnd = t(i, "touchend", n.onDocumentTouchEnd)))
                    },
                    destroy: function() {
                        var t = this;
                        t.unDocMouseMove && t.unDocMouseMove(), this.unbindContainerMouseLeave(), e.chartCount || (e.unbindDocumentMouseUp && (e.unbindDocumentMouseUp = e.unbindDocumentMouseUp()), e.unbindDocumentTouchEnd && (e.unbindDocumentTouchEnd = e.unbindDocumentTouchEnd())), clearInterval(t.tooltipTimeout), e.objectEach(t, function(e, n) {
                            t[n] = null
                        })
                    }
                }
            }(c),
            function(e) {
                var t = e.charts,
                    n = e.each,
                    a = e.extend,
                    i = e.map,
                    o = e.noop,
                    r = e.pick;
                a(e.Pointer.prototype, {
                    pinchTranslate: function(e, t, n, a, i, o) {
                        this.zoomHor && this.pinchTranslateDirection(!0, e, t, n, a, i, o), this.zoomVert && this.pinchTranslateDirection(!1, e, t, n, a, i, o)
                    },
                    pinchTranslateDirection: function(e, t, n, a, i, o, r, s) {
                        var l, c, u, d = this.chart,
                            p = e ? "x" : "y",
                            h = e ? "X" : "Y",
                            m = "chart" + h,
                            f = e ? "width" : "height",
                            g = d["plot" + (e ? "Left" : "Top")],
                            b = s || 1,
                            v = d.inverted,
                            y = d.bounds[e ? "h" : "v"],
                            _ = 1 === t.length,
                            w = t[0][m],
                            O = n[0][m],
                            k = !_ && t[1][m],
                            S = !_ && n[1][m];
                        (n = function() {
                            !_ && 20 < Math.abs(w - k) && (b = s || Math.abs(O - S) / Math.abs(w - k)), c = (g - O) / b + w, l = d["plot" + (e ? "Width" : "Height")] / b
                        })(), (t = c) < y.min ? (t = y.min, u = !0) : t + l > y.max && (t = y.max - l, u = !0), u ? (O -= .8 * (O - r[p][0]), _ || (S -= .8 * (S - r[p][1])), n()) : r[p] = [O, S], v || (o[p] = c - g, o[f] = l), o = v ? 1 / b : b, i[f] = l, i[p] = t, a[v ? e ? "scaleY" : "scaleX" : "scale" + h] = b, a["translate" + h] = o * g + (O - o * w)
                    },
                    pinch: function(e) {
                        var t = this,
                            s = t.chart,
                            l = t.pinchDown,
                            c = e.touches,
                            u = c.length,
                            d = t.lastValidTouch,
                            p = t.hasZoom,
                            h = t.selectionMarker,
                            m = {},
                            f = 1 === u && (t.inClass(e.target, "highcharts-tracker") && s.runTrackerClick || t.runChartClick),
                            g = {};
                        1 < u && (t.initiated = !0), p && t.initiated && !f && e.preventDefault(), i(c, function(e) {
                            return t.normalize(e)
                        }), "touchstart" === e.type ? (n(c, function(e, t) {
                            l[t] = {
                                chartX: e.chartX,
                                chartY: e.chartY
                            }
                        }), d.x = [l[0].chartX, l[1] && l[1].chartX], d.y = [l[0].chartY, l[1] && l[1].chartY], n(s.axes, function(e) {
                            if (e.zoomEnabled) {
                                var t = s.bounds[e.horiz ? "h" : "v"],
                                    n = e.minPixelPadding,
                                    a = e.toPixels(r(e.options.min, e.dataMin)),
                                    i = e.toPixels(r(e.options.max, e.dataMax)),
                                    o = Math.max(a, i);
                                t.min = Math.min(e.pos, Math.min(a, i) - n), t.max = Math.max(e.pos + e.len, o + n)
                            }
                        }), t.res = !0) : t.followTouchMove && 1 === u ? this.runPointActions(t.normalize(e)) : l.length && (h || (t.selectionMarker = h = a({
                            destroy: o,
                            touch: !0
                        }, s.plotBox)), t.pinchTranslate(l, c, m, h, g, d), t.hasPinched = p, t.scaleGroups(m, g), t.res && (t.res = !1, this.reset(!1, 0)))
                    },
                    touch: function(t, n) {
                        var a, i = this.chart;
                        i.index !== e.hoverChartIndex && this.onContainerMouseLeave({
                            relatedTarget: !0
                        }), e.hoverChartIndex = i.index, 1 === t.touches.length ? (t = this.normalize(t), i.isInsidePlot(t.chartX - i.plotLeft, t.chartY - i.plotTop) && !i.openMenu ? (n && this.runPointActions(t), "touchmove" === t.type && (a = !!(n = this.pinchDown)[0] && 4 <= Math.sqrt(Math.pow(n[0].chartX - t.chartX, 2) + Math.pow(n[0].chartY - t.chartY, 2))), r(a, !0) && this.pinch(t)) : n && this.reset()) : 2 === t.touches.length && this.pinch(t)
                    },
                    onContainerTouchStart: function(e) {
                        this.zoomOption(e), this.touch(e, !0)
                    },
                    onContainerTouchMove: function(e) {
                        this.touch(e)
                    },
                    onDocumentTouchEnd: function(n) {
                        t[e.hoverChartIndex] && t[e.hoverChartIndex].pointer.drop(n)
                    }
                })
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.charts,
                    a = e.css,
                    i = e.doc,
                    o = e.extend,
                    r = e.noop,
                    s = e.Pointer,
                    l = e.removeEvent,
                    c = e.win,
                    u = e.wrap;
                if (!e.hasTouch && (c.PointerEvent || c.MSPointerEvent)) {
                    var d = {},
                        p = !!c.PointerEvent,
                        h = function() {
                            var t = [];
                            return t.item = function(e) {
                                return this[e]
                            }, e.objectEach(d, function(e) {
                                t.push({
                                    pageX: e.pageX,
                                    pageY: e.pageY,
                                    target: e.target
                                })
                            }), t
                        },
                        m = function(t, a, i, o) {
                            "touch" !== t.pointerType && t.pointerType !== t.MSPOINTER_TYPE_TOUCH || !n[e.hoverChartIndex] || (o(t), (o = n[e.hoverChartIndex].pointer)[a]({
                                type: i,
                                target: t.currentTarget,
                                preventDefault: r,
                                touches: h()
                            }))
                        };
                    o(s.prototype, {
                        onContainerPointerDown: function(e) {
                            m(e, "onContainerTouchStart", "touchstart", function(e) {
                                d[e.pointerId] = {
                                    pageX: e.pageX,
                                    pageY: e.pageY,
                                    target: e.currentTarget
                                }
                            })
                        },
                        onContainerPointerMove: function(e) {
                            m(e, "onContainerTouchMove", "touchmove", function(e) {
                                d[e.pointerId] = {
                                    pageX: e.pageX,
                                    pageY: e.pageY
                                }, d[e.pointerId].target || (d[e.pointerId].target = e.currentTarget)
                            })
                        },
                        onDocumentPointerUp: function(e) {
                            m(e, "onDocumentTouchEnd", "touchend", function(e) {
                                delete d[e.pointerId]
                            })
                        },
                        batchMSEvents: function(e) {
                            e(this.chart.container, p ? "pointerdown" : "MSPointerDown", this.onContainerPointerDown), e(this.chart.container, p ? "pointermove" : "MSPointerMove", this.onContainerPointerMove), e(i, p ? "pointerup" : "MSPointerUp", this.onDocumentPointerUp)
                        }
                    }), u(s.prototype, "init", function(e, t, n) {
                        e.call(this, t, n), this.hasZoom && a(t.container, {
                            "-ms-touch-action": "none",
                            "touch-action": "none"
                        })
                    }), u(s.prototype, "setDOMEvents", function(e) {
                        e.apply(this), (this.hasZoom || this.followTouchMove) && this.batchMSEvents(t)
                    }), u(s.prototype, "destroy", function(e) {
                        this.batchMSEvents(l), e.call(this)
                    })
                }
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.css,
                    i = e.discardElement,
                    o = e.defined,
                    r = e.each,
                    s = e.fireEvent,
                    l = e.isFirefox,
                    c = e.marginNames,
                    u = e.merge,
                    d = e.pick,
                    p = e.setAnimation,
                    h = e.stableSort,
                    m = e.win,
                    f = e.wrap;
                e.Legend = function(e, t) {
                    this.init(e, t)
                }, e.Legend.prototype = {
                    init: function(e, n) {
                        this.chart = e, this.setOptions(n), n.enabled && (this.render(), t(this.chart, "endResize", function() {
                            this.legend.positionCheckboxes()
                        }), this.proximate ? this.unchartrender = t(this.chart, "render", function() {
                            this.legend.proximatePositions(), this.legend.positionItems()
                        }) : this.unchartrender && this.unchartrender())
                    },
                    setOptions: function(e) {
                        var t = d(e.padding, 8);
                        this.options = e, this.itemStyle = e.itemStyle, this.itemHiddenStyle = u(this.itemStyle, e.itemHiddenStyle), this.itemMarginTop = e.itemMarginTop || 0, this.padding = t, this.initialItemY = t - 5, this.symbolWidth = d(e.symbolWidth, 16), this.pages = [], this.proximate = "proximate" === e.layout && !this.chart.inverted
                    },
                    update: function(e, t) {
                        var n = this.chart;
                        this.setOptions(u(!0, this.options, e)), this.destroy(), n.isDirtyLegend = n.isDirtyBox = !0, d(t, !0) && n.redraw(), s(this, "afterUpdate")
                    },
                    colorizeItem: function(e, t) {
                        e.legendGroup[t ? "removeClass" : "addClass"]("highcharts-legend-item-hidden");
                        var n = this.options,
                            a = e.legendItem,
                            i = e.legendLine,
                            o = e.legendSymbol,
                            r = this.itemHiddenStyle.color,
                            l = (n = t ? n.itemStyle.color : r, t && e.color || r),
                            c = e.options && e.options.marker,
                            u = {
                                fill: l
                            };
                        a && a.css({
                            fill: n,
                            color: n
                        }), i && i.attr({
                            stroke: l
                        }), o && (c && o.isMarker && (u = e.pointAttribs(), t || (u.stroke = u.fill = r)), o.attr(u)), s(this, "afterColorizeItem", {
                            item: e,
                            visible: t
                        })
                    },
                    positionItems: function() {
                        r(this.allItems, this.positionItem, this), this.chart.isResizing || this.positionCheckboxes()
                    },
                    positionItem: function(e) {
                        var t = (n = this.options).symbolPadding,
                            n = !n.rtl,
                            a = (i = e._legendItemPos)[0],
                            i = i[1],
                            r = e.checkbox;
                        (e = e.legendGroup) && e.element && e[o(e.translateY) ? "animate" : "attr"]({
                            translateX: n ? a : this.legendWidth - a - 2 * t - 4,
                            translateY: i
                        }), r && (r.x = a, r.y = i)
                    },
                    destroyItem: function(e) {
                        var t = e.checkbox;
                        r(["legendItem", "legendLine", "legendSymbol", "legendGroup"], function(t) {
                            e[t] && (e[t] = e[t].destroy())
                        }), t && i(e.checkbox)
                    },
                    destroy: function() {
                        function a(e) {
                            this[e] && (this[e] = this[e].destroy())
                        }
                        r(this.getAllItems(), function(e) {
                            r(["legendItem", "legendGroup"], a, e)
                        }), r("clipRect up down pager nav box title group".split(" "), a, this), this.display = null
                    },
                    positionCheckboxes: function() {
                        var e, t = this.group && this.group.alignAttr,
                            a = this.clipHeight || this.legendHeight,
                            i = this.titleHeight;
                        t && (e = t.translateY, r(this.allItems, function(o) {
                            var r, s = o.checkbox;
                            s && (r = e + i + s.y + (this.scrollOffset || 0) + 3, n(s, {
                                left: t.translateX + o.checkboxOffset + s.x - 20 + "px",
                                top: r + "px",
                                display: this.proximate || r > e - 6 && r < e + a - 6 ? "" : "none"
                            }))
                        }, this))
                    },
                    renderTitle: function() {
                        var e = this.options,
                            t = this.padding,
                            n = e.title,
                            a = 0;
                        n.text && (this.title || (this.title = this.chart.renderer.label(n.text, t - 3, t - 4, null, null, null, e.useHTML, null, "legend-title").attr({
                            zIndex: 1
                        }).css(n.style).add(this.group)), a = (e = this.title.getBBox()).height, this.offsetWidth = e.width, this.contentGroup.attr({
                            translateY: a
                        })), this.titleHeight = a
                    },
                    setText: function(t) {
                        var n = this.options;
                        t.legendItem.attr({
                            text: n.labelFormat ? e.format(n.labelFormat, t, this.chart.time) : n.labelFormatter.call(t)
                        })
                    },
                    renderItem: function(e) {
                        var t = this.chart,
                            n = t.renderer,
                            a = this.options,
                            i = this.symbolWidth,
                            o = a.symbolPadding,
                            r = this.itemStyle,
                            s = this.itemHiddenStyle,
                            l = "horizontal" === a.layout ? d(a.itemDistance, 20) : 0,
                            c = !a.rtl,
                            p = e.legendItem,
                            h = !e.series,
                            m = !h && e.series.drawLegendSymbol ? e.series : e,
                            f = m.options,
                            g = (l = i + o + l + ((f = this.createCheckboxForItem && f && f.showCheckbox) ? 20 : 0), a.useHTML),
                            b = e.options.className;
                        p || (e.legendGroup = n.g("legend-item").addClass("highcharts-" + m.type + "-series highcharts-color-" + e.colorIndex + (b ? " " + b : "") + (h ? " highcharts-series-" + e.index : "")).attr({
                            zIndex: 1
                        }).add(this.scrollGroup), e.legendItem = p = n.text("", c ? i + o : -o, this.baseline || 0, g).css(u(e.visible ? r : s)).attr({
                            align: c ? "left" : "right",
                            zIndex: 2
                        }).add(e.legendGroup), this.baseline || (i = r.fontSize, this.fontMetrics = n.fontMetrics(i, p), this.baseline = this.fontMetrics.f + 3 + this.itemMarginTop, p.attr("y", this.baseline)), this.symbolHeight = a.symbolHeight || this.fontMetrics.f, m.drawLegendSymbol(this, e), this.setItemEvents && this.setItemEvents(e, p, g), f && this.createCheckboxForItem(e)), this.colorizeItem(e, e.visible), r.width || p.css({
                            width: (a.itemWidth || a.width || t.spacingBox.width) - l
                        }), this.setText(e), t = p.getBBox(), e.itemWidth = e.checkboxOffset = a.itemWidth || e.legendItemWidth || t.width + l, this.maxItemWidth = Math.max(this.maxItemWidth, e.itemWidth), this.totalItemWidth += e.itemWidth, this.itemHeight = e.itemHeight = Math.round(e.legendItemHeight || t.height || this.symbolHeight)
                    },
                    layoutItem: function(e) {
                        var t = this.options,
                            n = this.padding,
                            a = "horizontal" === t.layout,
                            i = e.itemHeight,
                            o = t.itemMarginBottom || 0,
                            r = this.itemMarginTop,
                            s = a ? d(t.itemDistance, 20) : 0,
                            l = t.width,
                            c = l || this.chart.spacingBox.width - 2 * n - t.x;
                        t = t.alignColumns && this.totalItemWidth > c ? this.maxItemWidth : e.itemWidth;
                        a && this.itemX - n + t > c && (this.itemX = n, this.itemY += r + this.lastLineHeight + o, this.lastLineHeight = 0), this.lastItemY = r + this.itemY + o, this.lastLineHeight = Math.max(i, this.lastLineHeight), e._legendItemPos = [this.itemX, this.itemY], a ? this.itemX += t : (this.itemY += r + i + o, this.lastLineHeight = i), this.offsetWidth = l || Math.max((a ? this.itemX - n - (e.checkbox ? 0 : s) : t) + n, this.offsetWidth)
                    },
                    getAllItems: function() {
                        var e = [];
                        return r(this.chart.series, function(t) {
                            var n = t && t.options;
                            t && d(n.showInLegend, !o(n.linkedTo) && void 0, !0) && (e = e.concat(t.legendItems || ("point" === n.legendType ? t.data : t)))
                        }), s(this, "afterGetAllItems", {
                            allItems: e
                        }), e
                    },
                    getAlignment: function() {
                        var e = this.options;
                        return this.proximate ? e.align.charAt(0) + "tv" : e.floating ? "" : e.align.charAt(0) + e.verticalAlign.charAt(0) + e.layout.charAt(0)
                    },
                    adjustMargins: function(e, t) {
                        var n = this.chart,
                            a = this.options,
                            i = this.getAlignment();
                        i && r([/(lth|ct|rth)/, /(rtv|rm|rbv)/, /(rbh|cb|lbh)/, /(lbv|lm|ltv)/], function(r, s) {
                            r.test(i) && !o(e[s]) && (n[c[s]] = Math.max(n[c[s]], n.legend[(s + 1) % 2 ? "legendHeight" : "legendWidth"] + [1, -1, -1, 1][s] * a[s % 2 ? "x" : "y"] + d(a.margin, 12) + t[s] + (0 === s && void 0 !== n.options.title.margin ? n.titleOffset + n.options.title.margin : 0)))
                        })
                    },
                    proximatePositions: function() {
                        var t = this.chart,
                            n = [],
                            a = "left" === this.options.align;
                        r(this.allItems, function(i) {
                            var o, r;
                            o = a, i.xAxis && i.points && (i.xAxis.options.reversed && (o = !o), o = e.find(o ? i.points : i.points.slice(0).reverse(), function(t) {
                                return e.isNumber(t.plotY)
                            }), r = i.legendGroup.getBBox().height, n.push({
                                target: i.visible ? (o ? o.plotY : i.xAxis.height) - .3 * r : t.plotHeight,
                                size: r,
                                item: i
                            }))
                        }, this), e.distribute(n, t.plotHeight), r(n, function(e) {
                            e.item._legendItemPos[1] = t.plotTop - t.spacing[0] + e.pos
                        })
                    },
                    render: function() {
                        var e, t, n, a = this.chart,
                            i = a.renderer,
                            o = this.group,
                            s = this.box,
                            l = this.options,
                            c = this.padding;
                        this.itemX = c, this.itemY = this.initialItemY, this.lastItemY = this.offsetWidth = 0, o || (this.group = o = i.g("legend").attr({
                            zIndex: 7
                        }).add(), this.contentGroup = i.g().attr({
                            zIndex: 1
                        }).add(o), this.scrollGroup = i.g().add(this.contentGroup)), this.renderTitle(), e = this.getAllItems(), h(e, function(e, t) {
                            return (e.options && e.options.legendIndex || 0) - (t.options && t.options.legendIndex || 0)
                        }), l.reversed && e.reverse(), this.allItems = e, this.display = t = !!e.length, this.itemHeight = this.totalItemWidth = this.maxItemWidth = this.lastLineHeight = 0, r(e, this.renderItem, this), r(e, this.layoutItem, this), e = (l.width || this.offsetWidth) + c, n = this.lastItemY + this.lastLineHeight + this.titleHeight, n = this.handleOverflow(n), n += c, s || (this.box = s = i.rect().addClass("highcharts-legend-box").attr({
                            r: l.borderRadius
                        }).add(o), s.isNew = !0), s.attr({
                            stroke: l.borderColor,
                            "stroke-width": l.borderWidth || 0,
                            fill: l.backgroundColor || "none"
                        }).shadow(l.shadow), 0 < e && 0 < n && (s[s.isNew ? "attr" : "animate"](s.crisp.call({}, {
                            x: 0,
                            y: 0,
                            width: e,
                            height: n
                        }, s.strokeWidth())), s.isNew = !1), s[t ? "show" : "hide"](), this.legendWidth = e, this.legendHeight = n, t && (i = a.spacingBox, /(lth|ct|rth)/.test(this.getAlignment()) && (i = u(i, {
                            y: i.y + a.titleOffset + a.options.title.margin
                        })), o.align(u(l, {
                            width: e,
                            height: n,
                            verticalAlign: this.proximate ? "top" : l.verticalAlign
                        }), !0, i)), this.proximate || this.positionItems()
                    },
                    handleOverflow: function(e) {
                        var t, n, a = this,
                            i = (c = this.chart).renderer,
                            o = this.options,
                            s = o.y,
                            l = this.padding,
                            c = c.spacingBox.height + ("top" === o.verticalAlign ? -s : s) - l,
                            u = (s = o.maxHeight, this.clipRect),
                            p = o.navigation,
                            h = d(p.animation, !0),
                            m = p.arrowSize || 12,
                            f = this.nav,
                            g = this.pages,
                            b = this.allItems,
                            v = function(e) {
                                "number" == typeof e ? u.attr({
                                    height: e
                                }) : u && (a.clipRect = u.destroy(), a.contentGroup.clip()), a.contentGroup.div && (a.contentGroup.div.style.clip = e ? "rect(" + l + "px,9999px," + (l + e) + "px,0)" : "auto")
                            };
                        return "horizontal" !== o.layout || "middle" === o.verticalAlign || o.floating || (c /= 2), s && (c = Math.min(c, s)), g.length = 0, e > c && !1 !== p.enabled ? (this.clipHeight = t = Math.max(c - 20 - this.titleHeight - l, 0), this.currentPage = d(this.currentPage, 1), this.fullHeight = e, r(b, function(e, a) {
                            var i = e._legendItemPos[1],
                                o = Math.round(e.legendItem.getBBox().height),
                                r = g.length;
                            (!r || i - g[r - 1] > t && (n || i) !== g[r - 1]) && (g.push(n || i), r++), e.pageIx = r - 1, n && (b[a - 1].pageIx = r - 1), a === b.length - 1 && i + o - g[r - 1] > t && (g.push(i), e.pageIx = r), i !== n && (n = i)
                        }), u || (u = a.clipRect = i.clipRect(0, l, 9999, 0), a.contentGroup.clip(u)), v(t), f || (this.nav = f = i.g().attr({
                            zIndex: 1
                        }).add(this.group), this.up = i.symbol("triangle", 0, 0, m, m).on("click", function() {
                            a.scroll(-1, h)
                        }).add(f), this.pager = i.text("", 15, 10).addClass("highcharts-legend-navigation").css(p.style).add(f), this.down = i.symbol("triangle-down", 0, 0, m, m).on("click", function() {
                            a.scroll(1, h)
                        }).add(f)), a.scroll(0), e = c) : f && (v(), this.nav = f.destroy(), this.scrollGroup.attr({
                            translateY: 1
                        }), this.clipHeight = 0), e
                    },
                    scroll: function(e, t) {
                        var n = this.pages,
                            a = n.length;
                        e = this.currentPage + e;
                        var i = this.clipHeight,
                            o = this.options.navigation,
                            r = this.pager,
                            s = this.padding;
                        e > a && (e = a), 0 < e && (void 0 !== t && p(t, this.chart), this.nav.attr({
                            translateX: s,
                            translateY: i + this.padding + 7 + this.titleHeight,
                            visibility: "visible"
                        }), this.up.attr({
                            class: 1 === e ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active"
                        }), r.attr({
                            text: e + "/" + a
                        }), this.down.attr({
                            x: 18 + this.pager.getBBox().width,
                            class: e === a ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active"
                        }), this.up.attr({
                            fill: 1 === e ? o.inactiveColor : o.activeColor
                        }).css({
                            cursor: 1 === e ? "default" : "pointer"
                        }), this.down.attr({
                            fill: e === a ? o.inactiveColor : o.activeColor
                        }).css({
                            cursor: e === a ? "default" : "pointer"
                        }), this.scrollOffset = -n[e - 1] + this.initialItemY, this.scrollGroup.animate({
                            translateY: this.scrollOffset
                        }), this.currentPage = e, this.positionCheckboxes())
                    }
                }, e.LegendSymbolMixin = {
                    drawRectangle: function(e, t) {
                        var n = e.symbolHeight,
                            a = e.options.squareSymbol;
                        t.legendSymbol = this.chart.renderer.rect(a ? (e.symbolWidth - n) / 2 : 0, e.baseline - n + 1, a ? n : e.symbolWidth, n, d(e.options.symbolRadius, n / 2)).addClass("highcharts-point").attr({
                            zIndex: 3
                        }).add(t.legendGroup)
                    },
                    drawLineMarker: function(e) {
                        var t, n = this.options,
                            a = n.marker,
                            i = e.symbolWidth,
                            o = e.symbolHeight,
                            r = o / 2,
                            s = this.chart.renderer,
                            l = this.legendGroup;
                        e = e.baseline - Math.round(.3 * e.fontMetrics.b), t = {
                            "stroke-width": n.lineWidth || 0
                        }, n.dashStyle && (t.dashstyle = n.dashStyle), this.legendLine = s.path(["M", 0, e, "L", i, e]).addClass("highcharts-graph").attr(t).add(l), a && !1 !== a.enabled && i && (n = Math.min(d(a.radius, r), r), 0 === this.symbol.indexOf("url") && (a = u(a, {
                            width: o,
                            height: o
                        }), n = 0), this.legendSymbol = a = s.symbol(this.symbol, i / 2 - n, e - n, 2 * n, 2 * n, a).addClass("highcharts-point").add(l), a.isMarker = !0)
                    }
                }, (/Trident\/7\.0/.test(m.navigator.userAgent) || l) && f(e.Legend.prototype, "positionItem", function(e, t) {
                    var n = this,
                        a = function() {
                            t._legendItemPos && e.call(n, t)
                        };
                    a(), setTimeout(a)
                })
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.animate,
                    a = e.animObject,
                    i = e.attr,
                    o = e.doc,
                    r = e.Axis,
                    s = e.createElement,
                    l = e.defaultOptions,
                    c = e.discardElement,
                    u = e.charts,
                    d = e.css,
                    p = e.defined,
                    h = e.each,
                    m = e.extend,
                    f = e.find,
                    g = e.fireEvent,
                    v = e.grep,
                    y = e.isNumber,
                    _ = e.isObject,
                    w = e.isString,
                    O = e.Legend,
                    k = e.marginNames,
                    S = e.merge,
                    x = e.objectEach,
                    P = e.Pointer,
                    C = e.pick,
                    M = e.pInt,
                    T = e.removeEvent,
                    E = e.seriesTypes,
                    A = e.splat,
                    j = e.syncTimeout,
                    L = e.win,
                    D = e.Chart = function() {
                        this.getArgs.apply(this, arguments)
                    };
                e.chart = function(e, t, n) {
                    return new D(e, t, n)
                }, m(D.prototype, {
                    callbacks: [],
                    getArgs: function() {
                        var e = [].slice.call(arguments);
                        (w(e[0]) || e[0].nodeName) && (this.renderTo = e.shift()), this.init(e[0], e[1])
                    },
                    init: function(n, a) {
                        var i, o, r = n.series,
                            s = n.plotOptions || {};
                        g(this, "init", {
                            args: arguments
                        }, function() {
                            for (o in n.series = null, (i = S(l, n)).plotOptions) i.plotOptions[o].tooltip = s[o] && S(s[o].tooltip) || void 0;
                            i.tooltip.userOptions = n.chart && n.chart.forExport && n.tooltip.userOptions || n.tooltip, i.series = n.series = r, this.userOptions = n;
                            var c = i.chart,
                                d = c.events;
                            this.margin = [], this.spacing = [], this.bounds = {
                                h: {},
                                v: {}
                            }, this.labelCollectors = [], this.callback = a, this.isResizing = 0, this.options = i, this.axes = [], this.series = [], this.time = n.time && e.keys(n.time).length ? new e.Time(n.time) : e.time, this.hasCartesianSeries = c.showAxes;
                            var p = this;
                            p.index = u.length, u.push(p), e.chartCount++, d && x(d, function(e, n) {
                                t(p, n, e)
                            }), p.xAxis = [], p.yAxis = [], p.pointCount = p.colorCounter = p.symbolCounter = 0, g(p, "afterInit"), p.firstRender()
                        })
                    },
                    initSeries: function(t) {
                        var n = this.options.chart;
                        return (n = E[t.type || n.type || n.defaultSeriesType]) || e.error(17, !0), (n = new n).init(this, t), n
                    },
                    orderSeries: function(e) {
                        var t = this.series;
                        for (e = e || 0; e < t.length; e++) t[e] && (t[e].index = e, t[e].name = t[e].getName())
                    },
                    isInsidePlot: function(e, t, n) {
                        var a = n ? t : e;
                        return e = n ? e : t, 0 <= a && a <= this.plotWidth && 0 <= e && e <= this.plotHeight
                    },
                    redraw: function(t) {
                        g(this, "beforeRedraw");
                        var n, a, i, o = this.axes,
                            r = this.series,
                            s = this.pointer,
                            l = this.legend,
                            c = this.userOptions.legend,
                            u = this.isDirtyLegend,
                            d = this.hasCartesianSeries,
                            p = this.isDirtyBox,
                            f = this.renderer,
                            b = f.isHidden(),
                            v = [];
                        for (this.setResponsive && this.setResponsive(!1), e.setAnimation(t, this), b && this.temporaryDisplay(), this.layOutTitles(), t = r.length; t--;)
                            if ((i = r[t]).options.stacking && (n = !0, i.isDirty)) {
                                a = !0;
                                break
                            }
                        if (a)
                            for (t = r.length; t--;)(i = r[t]).options.stacking && (i.isDirty = !0);
                        h(r, function(e) {
                            e.isDirty && ("point" === e.options.legendType ? (e.updateTotals && e.updateTotals(), u = !0) : c && (c.labelFormatter || c.labelFormat) && (u = !0)), e.isDirtyData && g(e, "updatedData")
                        }), u && l && l.options.enabled && (l.render(), this.isDirtyLegend = !1), n && this.getStacks(), d && h(o, function(e) {
                            e.updateNames(), e.updateYNames && e.updateYNames(), e.setScale()
                        }), this.getMargins(), d && (h(o, function(e) {
                            e.isDirty && (p = !0)
                        }), h(o, function(e) {
                            var t = e.min + "," + e.max;
                            e.extKey !== t && (e.extKey = t, v.push(function() {
                                g(e, "afterSetExtremes", m(e.eventArgs, e.getExtremes())), delete e.eventArgs
                            })), (p || n) && e.redraw()
                        })), p && this.drawChartBox(), g(this, "predraw"), h(r, function(e) {
                            (p || e.isDirty) && e.visible && e.redraw(), e.isDirtyData = !1
                        }), s && s.reset(!0), f.draw(), g(this, "redraw"), g(this, "render"), b && this.temporaryDisplay(!0), h(v, function(e) {
                            e.call()
                        })
                    },
                    get: function(e) {
                        function b(t) {
                            return t.id === e || t.options && t.options.id === e
                        }
                        var t, n, a = this.series;
                        for (t = f(this.axes, b) || f(this.series, b), n = 0; !t && n < a.length; n++) t = f(a[n].points || [], b);
                        return t
                    },
                    getAxes: function() {
                        var e = this,
                            t = (n = this.options).xAxis = A(n.xAxis || {}),
                            n = n.yAxis = A(n.yAxis || {});
                        g(this, "getAxes"), h(t, function(e, t) {
                            e.index = t, e.isX = !0
                        }), h(n, function(e, t) {
                            e.index = t
                        }), t = t.concat(n), h(t, function(t) {
                            new r(e, t)
                        }), g(this, "afterGetAxes")
                    },
                    getSelectedPoints: function() {
                        var e = [];
                        return h(this.series, function(t) {
                            e = e.concat(v(t.data || [], function(e) {
                                return e.selected
                            }))
                        }), e
                    },
                    getSelectedSeries: function() {
                        return v(this.series, function(e) {
                            return e.selected
                        })
                    },
                    setTitle: function(e, t, n) {
                        var a, i = this,
                            o = i.options;
                        a = o.title = S({
                            style: {
                                color: "#333333",
                                fontSize: o.isStock ? "16px" : "18px"
                            }
                        }, o.title, e), o = o.subtitle = S({
                            style: {
                                color: "#666666"
                            }
                        }, o.subtitle, t), h([
                            ["title", e, a],
                            ["subtitle", t, o]
                        ], function(e, t) {
                            var n = e[0],
                                a = i[n],
                                o = e[1];
                            e = e[2], a && o && (i[n] = a = a.destroy()), e && !a && (i[n] = i.renderer.text(e.text, 0, 0, e.useHTML).attr({
                                align: e.align,
                                class: "highcharts-" + n,
                                zIndex: e.zIndex || 4
                            }).add(), i[n].update = function(e) {
                                i.setTitle(!t && e, t && e)
                            }, i[n].css(e.style))
                        }), i.layOutTitles(n)
                    },
                    layOutTitles: function(e) {
                        var t, n = 0,
                            a = this.renderer,
                            i = this.spacingBox;
                        h(["title", "subtitle"], function(e) {
                            var t, o = this[e],
                                r = this.options[e];
                            e = "title" === e ? -3 : r.verticalAlign ? 0 : n + 2, o && (t = r.style.fontSize, t = a.fontMetrics(t, o).b, o.css({
                                width: (r.width || i.width + r.widthAdjust) + "px"
                            }).align(m({
                                y: e + t
                            }, r), !1, "spacingBox"), r.floating || r.verticalAlign || (n = Math.ceil(n + o.getBBox(r.useHTML).height)))
                        }, this), t = this.titleOffset !== n, this.titleOffset = n, !this.isDirtyBox && t && (this.isDirtyBox = this.isDirtyLegend = t, this.hasRendered && C(e, !0) && this.isDirtyBox && this.redraw())
                    },
                    getChartSize: function() {
                        var t = (n = this.options.chart).width,
                            n = n.height,
                            a = this.renderTo;
                        p(t) || (this.containerWidth = e.getStyle(a, "width")), p(n) || (this.containerHeight = e.getStyle(a, "height")), this.chartWidth = Math.max(0, t || this.containerWidth || 600), this.chartHeight = Math.max(0, e.relativeLength(n, this.chartWidth) || (1 < this.containerHeight ? this.containerHeight : 400))
                    },
                    temporaryDisplay: function(t) {
                        var n = this.renderTo;
                        if (t)
                            for (; n && n.style;) n.hcOrigStyle && (e.css(n, n.hcOrigStyle), delete n.hcOrigStyle), n.hcOrigDetached && (o.body.removeChild(n), n.hcOrigDetached = !1), n = n.parentNode;
                        else
                            for (; n && n.style && (o.body.contains(n) || n.parentNode || (n.hcOrigDetached = !0, o.body.appendChild(n)), ("none" === e.getStyle(n, "display", !1) || n.hcOricDetached) && (n.hcOrigStyle = {
                                    display: n.style.display,
                                    height: n.style.height,
                                    overflow: n.style.overflow
                                }, t = {
                                    display: "block",
                                    overflow: "hidden"
                                }, n !== this.renderTo && (t.height = 0), e.css(n, t), n.offsetWidth || n.style.setProperty("display", "block", "important")), (n = n.parentNode) !== o.body););
                    },
                    setClassName: function(e) {
                        this.container.className = "highcharts-container " + (e || "")
                    },
                    getContainer: function() {
                        var t, n, a, r = this.options,
                            l = r.chart;
                        t = this.renderTo;
                        var c, d = e.uniqueKey();
                        t || (this.renderTo = t = l.renderTo), w(t) && (this.renderTo = t = o.getElementById(t)), t || e.error(13, !0), n = M(i(t, "data-highcharts-chart")), y(n) && u[n] && u[n].hasRendered && u[n].destroy(), i(t, "data-highcharts-chart", this.index), t.innerHTML = "", l.skipClone || t.offsetWidth || this.temporaryDisplay(), this.getChartSize(), n = this.chartWidth, a = this.chartHeight, c = m({
                            position: "relative",
                            overflow: "hidden",
                            width: n + "px",
                            height: a + "px",
                            textAlign: "left",
                            lineHeight: "normal",
                            zIndex: 0,
                            "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
                        }, l.style), this.container = t = s("div", {
                            id: d
                        }, c, t), this._cursor = t.style.cursor, this.renderer = new(e[l.renderer] || e.Renderer)(t, n, a, null, l.forExport, r.exporting && r.exporting.allowHTML), this.setClassName(l.className), this.renderer.setStyle(l.style), this.renderer.chartIndex = this.index, g(this, "afterGetContainer")
                    },
                    getMargins: function(e) {
                        var t = this.spacing,
                            n = this.margin,
                            a = this.titleOffset;
                        this.resetMargins(), a && !p(n[0]) && (this.plotTop = Math.max(this.plotTop, a + this.options.title.margin + t[0])), this.legend && this.legend.display && this.legend.adjustMargins(n, t), g(this, "getMargins"), e || this.getAxisMargins()
                    },
                    getAxisMargins: function() {
                        var e = this,
                            t = e.axisOffset = [0, 0, 0, 0],
                            n = e.margin;
                        e.hasCartesianSeries && h(e.axes, function(e) {
                            e.visible && e.getOffset()
                        }), h(k, function(a, i) {
                            p(n[i]) || (e[a] += t[i])
                        }), e.setChartSize()
                    },
                    reflow: function(t) {
                        var n = this,
                            a = n.options.chart,
                            i = n.renderTo,
                            r = p(a.width) && p(a.height),
                            s = a.width || e.getStyle(i, "width");
                        a = a.height || e.getStyle(i, "height"), i = t ? t.target : L;
                        r || n.isPrinting || !s || !a || i !== L && i !== o || (s === n.containerWidth && a === n.containerHeight || (e.clearTimeout(n.reflowTimeout), n.reflowTimeout = j(function() {
                            n.container && n.setSize(void 0, void 0, !1)
                        }, t ? 100 : 0)), n.containerWidth = s, n.containerHeight = a)
                    },
                    setReflow: function(e) {
                        var n = this;
                        !1 === e || this.unbindReflow ? !1 === e && this.unbindReflow && (this.unbindReflow = this.unbindReflow()) : (this.unbindReflow = t(L, "resize", function(e) {
                            n.reflow(e)
                        }), t(this, "destroy", this.unbindReflow))
                    },
                    setSize: function(t, i, o) {
                        var r = this,
                            s = r.renderer;
                        r.isResizing += 1, e.setAnimation(o, r), r.oldChartHeight = r.chartHeight, r.oldChartWidth = r.chartWidth, void 0 !== t && (r.options.chart.width = t), void 0 !== i && (r.options.chart.height = i), r.getChartSize(), ((t = s.globalAnimation) ? n : d)(r.container, {
                            width: r.chartWidth + "px",
                            height: r.chartHeight + "px"
                        }, t), r.setChartSize(!0), s.setSize(r.chartWidth, r.chartHeight, o), h(r.axes, function(e) {
                            e.isDirty = !0, e.setScale()
                        }), r.isDirtyLegend = !0, r.isDirtyBox = !0, r.layOutTitles(), r.getMargins(), r.redraw(o), r.oldChartHeight = null, g(r, "resize"), j(function() {
                            r && g(r, "endResize", null, function() {
                                --r.isResizing
                            })
                        }, a(t).duration)
                    },
                    setChartSize: function(e) {
                        var t, n, a, i, o = this.inverted,
                            r = this.renderer,
                            s = this.chartWidth,
                            l = this.chartHeight,
                            c = this.options.chart,
                            u = this.spacing,
                            d = this.clipOffset;
                        this.plotLeft = t = Math.round(this.plotLeft), this.plotTop = n = Math.round(this.plotTop), this.plotWidth = a = Math.max(0, Math.round(s - t - this.marginRight)), this.plotHeight = i = Math.max(0, Math.round(l - n - this.marginBottom)), this.plotSizeX = o ? i : a, this.plotSizeY = o ? a : i, this.plotBorderWidth = c.plotBorderWidth || 0, this.spacingBox = r.spacingBox = {
                            x: u[3],
                            y: u[0],
                            width: s - u[3] - u[1],
                            height: l - u[0] - u[2]
                        }, this.plotBox = r.plotBox = {
                            x: t,
                            y: n,
                            width: a,
                            height: i
                        }, s = 2 * Math.floor(this.plotBorderWidth / 2), o = Math.ceil(Math.max(s, d[3]) / 2), r = Math.ceil(Math.max(s, d[0]) / 2), this.clipBox = {
                            x: o,
                            y: r,
                            width: Math.floor(this.plotSizeX - Math.max(s, d[1]) / 2 - o),
                            height: Math.max(0, Math.floor(this.plotSizeY - Math.max(s, d[2]) / 2 - r))
                        }, e || h(this.axes, function(e) {
                            e.setAxisSize(), e.setAxisTranslation()
                        }), g(this, "afterSetChartSize", {
                            skipAxes: e
                        })
                    },
                    resetMargins: function() {
                        var e = this,
                            t = e.options.chart;
                        h(["margin", "spacing"], function(n) {
                            var a = t[n],
                                i = _(a) ? a : [a, a, a, a];
                            h(["Top", "Right", "Bottom", "Left"], function(a, o) {
                                e[n][o] = C(t[n + a], i[o])
                            })
                        }), h(k, function(t, n) {
                            e[t] = C(e.margin[n], e.spacing[n])
                        }), e.axisOffset = [0, 0, 0, 0], e.clipOffset = [0, 0, 0, 0]
                    },
                    drawChartBox: function() {
                        var e, t, n = this.options.chart,
                            a = this.renderer,
                            i = this.chartWidth,
                            o = this.chartHeight,
                            r = this.chartBackground,
                            s = this.plotBackground,
                            l = this.plotBorder,
                            c = this.plotBGImage,
                            u = n.backgroundColor,
                            d = n.plotBackgroundColor,
                            p = n.plotBackgroundImage,
                            h = this.plotLeft,
                            m = this.plotTop,
                            f = this.plotWidth,
                            b = this.plotHeight,
                            v = this.plotBox,
                            y = this.clipRect,
                            _ = this.clipBox,
                            w = "animate";
                        r || (this.chartBackground = r = a.rect().addClass("highcharts-background").add(), w = "attr"), t = (e = n.borderWidth || 0) + (n.shadow ? 8 : 0), u = {
                            fill: u || "none"
                        }, (e || r["stroke-width"]) && (u.stroke = n.borderColor, u["stroke-width"] = e), r.attr(u).shadow(n.shadow), r[w]({
                            x: t / 2,
                            y: t / 2,
                            width: i - t - e % 2,
                            height: o - t - e % 2,
                            r: n.borderRadius
                        }), w = "animate", s || (w = "attr", this.plotBackground = s = a.rect().addClass("highcharts-plot-background").add()), s[w](v), s.attr({
                            fill: d || "none"
                        }).shadow(n.plotShadow), p && (c ? c.animate(v) : this.plotBGImage = a.image(p, h, m, f, b).add()), y ? y.animate({
                            width: _.width,
                            height: _.height
                        }) : this.clipRect = a.clipRect(_), w = "animate", l || (w = "attr", this.plotBorder = l = a.rect().addClass("highcharts-plot-border").attr({
                            zIndex: 1
                        }).add()), l.attr({
                            stroke: n.plotBorderColor,
                            "stroke-width": n.plotBorderWidth || 0,
                            fill: "none"
                        }), l[w](l.crisp({
                            x: h,
                            y: m,
                            width: f,
                            height: b
                        }, -l.strokeWidth())), this.isDirtyBox = !1, g(this, "afterDrawChartBox")
                    },
                    propFromSeries: function() {
                        var e, t, n, a = this,
                            i = a.options.chart,
                            o = a.options.series;
                        h(["inverted", "angular", "polar"], function(r) {
                            for (e = E[i.type || i.defaultSeriesType], n = i[r] || e && e.prototype[r], t = o && o.length; !n && t--;)(e = E[o[t].type]) && e.prototype[r] && (n = !0);
                            a[r] = n
                        })
                    },
                    linkSeries: function() {
                        var e = this,
                            t = e.series;
                        h(t, function(e) {
                            e.linkedSeries.length = 0
                        }), h(t, function(t) {
                            var n = t.options.linkedTo;
                            w(n) && (n = ":previous" === n ? e.series[t.index - 1] : e.get(n)) && n.linkedParent !== t && (n.linkedSeries.push(t), t.linkedParent = n, t.visible = C(t.options.visible, n.options.visible, t.visible))
                        }), g(this, "afterLinkSeries")
                    },
                    renderSeries: function() {
                        h(this.series, function(e) {
                            e.translate(), e.render()
                        })
                    },
                    renderLabels: function() {
                        var e = this,
                            t = e.options.labels;
                        t.items && h(t.items, function(n) {
                            var a = m(t.style, n.style),
                                i = M(a.left) + e.plotLeft,
                                o = M(a.top) + e.plotTop + 12;
                            delete a.left, delete a.top, e.renderer.text(n.html, i, o).attr({
                                zIndex: 2
                            }).css(a).add()
                        })
                    },
                    render: function() {
                        var e, t, n, a = this.axes,
                            i = this.renderer,
                            o = this.options;
                        this.setTitle(), this.legend = new O(this, o.legend), this.getStacks && this.getStacks(), this.getMargins(!0), this.setChartSize(), o = this.plotWidth, e = this.plotHeight = Math.max(this.plotHeight - 21, 0), h(a, function(e) {
                            e.setScale()
                        }), this.getAxisMargins(), t = 1.1 < o / this.plotWidth, n = 1.05 < e / this.plotHeight, (t || n) && (h(a, function(e) {
                            (e.horiz && t || !e.horiz && n) && e.setTickInterval(!0)
                        }), this.getMargins()), this.drawChartBox(), this.hasCartesianSeries && h(a, function(e) {
                            e.visible && e.render()
                        }), this.seriesGroup || (this.seriesGroup = i.g("series-group").attr({
                            zIndex: 3
                        }).add()), this.renderSeries(), this.renderLabels(), this.addCredits(), this.setResponsive && this.setResponsive(), this.hasRendered = !0
                    },
                    addCredits: function(e) {
                        var t = this;
                        (e = S(!0, this.options.credits, e)).enabled && !this.credits && (this.credits = this.renderer.text(e.text + (this.mapCredits || ""), 0, 0).addClass("highcharts-credits").on("click", function() {
                            e.href && (L.location.href = e.href)
                        }).attr({
                            align: e.position.align,
                            zIndex: 8
                        }).css(e.style).add().align(e.position), this.credits.update = function(e) {
                            t.credits = t.credits.destroy(), t.addCredits(e)
                        })
                    },
                    destroy: function() {
                        var t, n = this,
                            a = n.axes,
                            i = n.series,
                            o = n.container,
                            r = o && o.parentNode;
                        for (g(n, "destroy"), n.renderer.forExport ? e.erase(u, n) : u[n.index] = void 0, e.chartCount--, n.renderTo.removeAttribute("data-highcharts-chart"), T(n), t = a.length; t--;) a[t] = a[t].destroy();
                        for (this.scroller && this.scroller.destroy && this.scroller.destroy(), t = i.length; t--;) i[t] = i[t].destroy();
                        h("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "), function(e) {
                            var t = n[e];
                            t && t.destroy && (n[e] = t.destroy())
                        }), o && (o.innerHTML = "", T(o), r && c(o)), x(n, function(e, t) {
                            delete n[t]
                        })
                    },
                    firstRender: function() {
                        var e = this,
                            t = e.options;
                        e.isReadyToRender && !e.isReadyToRender() || (e.getContainer(), e.resetMargins(), e.setChartSize(), e.propFromSeries(), e.getAxes(), h(t.series || [], function(t) {
                            e.initSeries(t)
                        }), e.linkSeries(), g(e, "beforeRender"), P && (e.pointer = new P(e, t)), e.render(), !e.renderer.imgCount && e.onload && e.onload(), e.temporaryDisplay(!0))
                    },
                    onload: function() {
                        h([this.callback].concat(this.callbacks), function(e) {
                            e && void 0 !== this.index && e.apply(this, [this])
                        }, this), g(this, "load"), g(this, "render"), p(this.index) && this.setReflow(this.options.chart.reflow), this.onload = null
                    }
                })
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.Chart,
                    a = e.each;
                t(n, "afterSetChartSize", function(t) {
                    var n = this.options.chart.scrollablePlotArea;
                    (n = n && n.minWidth) && !this.renderer.forExport && (this.scrollablePixels = n = Math.max(0, n - this.chartWidth)) && (this.plotWidth += n, this.clipBox.width += n, t.skipAxes || a(this.axes, function(t) {
                        1 === t.side ? t.getPlotLinePath = function() {
                            var n, a = this.right;
                            return this.right = a - t.chart.scrollablePixels, n = e.Axis.prototype.getPlotLinePath.apply(this, arguments), this.right = a, n
                        } : (t.setAxisSize(), t.setAxisTranslation())
                    }))
                }), t(n, "render", function() {
                    this.scrollablePixels ? (this.setUpScrolling && this.setUpScrolling(), this.applyFixed()) : this.fixedDiv && this.applyFixed()
                }), n.prototype.setUpScrolling = function() {
                    this.scrollingContainer = e.createElement("div", {
                        className: "highcharts-scrolling"
                    }, {
                        overflowX: "auto",
                        WebkitOverflowScrolling: "touch"
                    }, this.renderTo), this.innerContainer = e.createElement("div", {
                        className: "highcharts-inner-container"
                    }, null, this.scrollingContainer), this.innerContainer.appendChild(this.container), this.setUpScrolling = null
                }, n.prototype.applyFixed = function() {
                    var t, n, a = this.container;
                    (i = !this.fixedDiv) && (this.fixedDiv = e.createElement("div", {
                        className: "highcharts-fixed"
                    }, {
                        position: "absolute",
                        overflow: "hidden",
                        pointerEvents: "none",
                        zIndex: 2
                    }, null, !0), this.renderTo.insertBefore(this.fixedDiv, this.renderTo.firstChild), this.fixedRenderer = t = new e.Renderer(this.fixedDiv, 0, 0), this.scrollableMask = t.path().attr({
                        fill: e.color(this.options.chart.backgroundColor || "#fff").setOpacity(.85).get(),
                        zIndex: -1
                    }).addClass("highcharts-scrollable-mask").add(), e.each([this.inverted ? ".highcharts-xaxis" : ".highcharts-yaxis", this.inverted ? ".highcharts-xaxis-labels" : ".highcharts-yaxis-labels", ".highcharts-contextbutton", ".highcharts-credits", ".highcharts-legend", ".highcharts-subtitle", ".highcharts-title", ".highcharts-legend-checkbox"], function(n) {
                        e.each(a.querySelectorAll(n), function(e) {
                            (e.namespaceURI === t.SVG_NS ? t.box : t.box.parentNode).appendChild(e), e.style.pointerEvents = "auto"
                        })
                    })), this.fixedRenderer.setSize(this.chartWidth, this.chartHeight), n = this.chartWidth + this.scrollablePixels, e.stop(this.container), this.container.style.width = n + "px", this.renderer.boxWrapper.attr({
                        width: n,
                        height: this.chartHeight,
                        viewBox: [0, 0, n, this.chartHeight].join(" ")
                    }), this.chartBackground.attr({
                        width: n
                    }), i && ((n = this.options.chart.scrollablePlotArea).scrollPositionX && (this.scrollingContainer.scrollLeft = this.scrollablePixels * n.scrollPositionX)), i = this.axisOffset, n = this.plotTop - i[0] - 1;
                    var i = this.plotTop + this.plotHeight + i[2],
                        o = this.plotLeft + this.plotWidth - this.scrollablePixels;
                    this.scrollableMask.attr({
                        d: this.scrollablePixels ? ["M", 0, n, "L", this.plotLeft - 1, n, "L", this.plotLeft - 1, i, "L", 0, i, "Z", "M", o, n, "L", this.chartWidth, n, "L", this.chartWidth, i, "L", o, i, "Z"] : ["M", 0, 0]
                    })
                }
            }(c),
            function(e) {
                var t, n = e.each,
                    a = e.extend,
                    i = e.erase,
                    o = e.fireEvent,
                    r = e.format,
                    s = e.isArray,
                    l = e.isNumber,
                    c = e.pick,
                    u = e.uniqueKey,
                    d = e.defined,
                    p = e.removeEvent;
                e.Point = t = function() {}, e.Point.prototype = {
                    init: function(e, t, n) {
                        return this.series = e, this.color = e.color, this.applyOptions(t, n), this.id = d(this.id) ? this.id : u(), e.options.colorByPoint ? (t = e.options.colors || e.chart.options.colors, this.color = this.color || t[e.colorCounter], t = t.length, n = e.colorCounter, e.colorCounter++, e.colorCounter === t && (e.colorCounter = 0)) : n = e.colorIndex, this.colorIndex = c(this.colorIndex, n), e.chart.pointCount++, o(this, "afterInit"), this
                    },
                    applyOptions: function(e, n) {
                        var i = this.series,
                            o = i.options.pointValKey || i.pointValKey;
                        return e = t.prototype.optionsToObject.call(this, e), a(this, e), this.options = this.options ? a(this.options, e) : e, e.group && delete this.group, e.dataLabels && delete this.dataLabels, o && (this.y = this[o]), this.isNull = c(this.isValid && !this.isValid(), null === this.x || !l(this.y, !0)), this.selected && (this.state = "select"), "name" in this && void 0 === n && i.xAxis && i.xAxis.hasNames && (this.x = i.xAxis.nameToX(this)), void 0 === this.x && i && (this.x = void 0 === n ? i.autoIncrement(this) : n), this
                    },
                    setNestedProperty: function(t, n, a) {
                        return a = a.split("."), e.reduce(a, function(t, a, i, o) {
                            return t[a] = o.length - 1 === i ? n : e.isObject(t[a], !0) ? t[a] : {}, t[a]
                        }, t), t
                    },
                    optionsToObject: function(t) {
                        var n = {},
                            a = this.series,
                            i = a.options.keys,
                            o = i || a.pointArrayMap || ["y"],
                            r = o.length,
                            c = 0,
                            u = 0;
                        if (l(t) || null === t) n[o[0]] = t;
                        else if (s(t))
                            for (!i && t.length > r && ("string" === (a = typeof t[0]) ? n.name = t[0] : "number" === a && (n.x = t[0]), c++); u < r;) i && void 0 === t[c] || (0 < o[u].indexOf(".") ? e.Point.prototype.setNestedProperty(n, t[c], o[u]) : n[o[u]] = t[c]), c++, u++;
                        else "object" == typeof t && (n = t, t.dataLabels && (a._hasPointLabels = !0), t.marker && (a._hasPointMarkers = !0));
                        return n
                    },
                    getClassName: function() {
                        return "highcharts-point" + (this.selected ? " highcharts-point-select" : "") + (this.negative ? " highcharts-negative" : "") + (this.isNull ? " highcharts-null-point" : "") + (void 0 !== this.colorIndex ? " highcharts-color-" + this.colorIndex : "") + (this.options.className ? " " + this.options.className : "") + (this.zone && this.zone.className ? " " + this.zone.className.replace("highcharts-negative", "") : "")
                    },
                    getZone: function() {
                        var e, t = (n = this.series).zones,
                            n = n.zoneAxis || "y",
                            a = 0;
                        for (e = t[a]; this[n] >= e.value;) e = t[++a];
                        return this.nonZonedColor || (this.nonZonedColor = this.color), this.color = e && e.color && !this.options.color ? e.color : this.nonZonedColor, e
                    },
                    destroy: function() {
                        var e, t = this.series.chart,
                            n = t.hoverPoints;
                        for (e in t.pointCount--, n && (this.setState(), i(n, this), n.length || (t.hoverPoints = null)), this === t.hoverPoint && this.onMouseOut(), (this.graphic || this.dataLabel || this.dataLabels) && (p(this), this.destroyElements()), this.legendItem && t.legend.destroyItem(this), this) this[e] = null
                    },
                    destroyElements: function() {
                        for (var e, t = ["graphic", "dataLabel", "dataLabelUpper", "connector", "shadowGroup"], a = 6; a--;) this[e = t[a]] && (this[e] = this[e].destroy());
                        this.dataLabels && (n(this.dataLabels, function(e) {
                            e.element && e.destroy()
                        }), delete this.dataLabels), this.connectors && (n(this.connectors, function(e) {
                            e.element && e.destroy()
                        }), delete this.connectors)
                    },
                    getLabelConfig: function() {
                        return {
                            x: this.category,
                            y: this.y,
                            color: this.color,
                            colorIndex: this.colorIndex,
                            key: this.name || this.category,
                            series: this.series,
                            point: this,
                            percentage: this.percentage,
                            total: this.total || this.stackTotal
                        }
                    },
                    tooltipFormatter: function(e) {
                        var t = this.series,
                            a = t.tooltipOptions,
                            i = c(a.valueDecimals, ""),
                            o = a.valuePrefix || "",
                            s = a.valueSuffix || "";
                        return n(t.pointArrayMap || ["y"], function(t) {
                            t = "{point." + t, (o || s) && (e = e.replace(RegExp(t + "}", "g"), o + t + "}" + s)), e = e.replace(RegExp(t + "}", "g"), t + ":,." + i + "f}")
                        }), r(e, {
                            point: this,
                            series: this.series
                        }, t.chart.time)
                    },
                    firePointEvent: function(e, t, n) {
                        var a = this,
                            i = this.series.options;
                        (i.point.events[e] || a.options && a.options.events && a.options.events[e]) && this.importEvents(), "click" === e && i.allowPointSelect && (n = function(e) {
                            a.select && a.select(null, e.ctrlKey || e.metaKey || e.shiftKey)
                        }), o(this, e, t, n)
                    },
                    visible: !0
                }
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.animObject,
                    a = e.arrayMax,
                    i = e.arrayMin,
                    o = e.correctFloat,
                    r = e.defaultOptions,
                    s = e.defaultPlotOptions,
                    l = e.defined,
                    u = e.each,
                    d = e.erase,
                    p = e.extend,
                    h = e.fireEvent,
                    m = e.grep,
                    f = e.isArray,
                    g = e.isNumber,
                    v = e.isString,
                    y = e.merge,
                    _ = e.objectEach,
                    w = e.pick,
                    O = e.removeEvent,
                    k = e.splat,
                    S = e.SVGElement,
                    x = e.syncTimeout,
                    P = e.win;
                e.Series = e.seriesType("line", null, {
                    lineWidth: 2,
                    allowPointSelect: !1,
                    showCheckbox: !1,
                    animation: {
                        duration: 1e3
                    },
                    events: {},
                    marker: {
                        lineWidth: 0,
                        lineColor: "#ffffff",
                        enabledThreshold: 2,
                        radius: 4,
                        states: {
                            normal: {
                                animation: !0
                            },
                            hover: {
                                animation: {
                                    duration: 50
                                },
                                enabled: !0,
                                radiusPlus: 2,
                                lineWidthPlus: 1
                            },
                            select: {
                                fillColor: "#cccccc",
                                lineColor: "#000000",
                                lineWidth: 2
                            }
                        }
                    },
                    point: {
                        events: {}
                    },
                    dataLabels: {
                        align: "center",
                        formatter: function() {
                            return null === this.y ? "" : e.numberFormat(this.y, -1)
                        },
                        style: {
                            fontSize: "11px",
                            fontWeight: "bold",
                            color: "contrast",
                            textOutline: "1px contrast"
                        },
                        verticalAlign: "bottom",
                        x: 0,
                        y: 0,
                        padding: 5
                    },
                    cropThreshold: 300,
                    pointRange: 0,
                    softThreshold: !0,
                    states: {
                        normal: {
                            animation: !0
                        },
                        hover: {
                            animation: {
                                duration: 50
                            },
                            lineWidthPlus: 1,
                            marker: {},
                            halo: {
                                size: 10,
                                opacity: .25
                            }
                        },
                        select: {}
                    },
                    stickyTracking: !0,
                    turboThreshold: 1e3,
                    findNearestPointBy: "x"
                }, {
                    isCartesian: !0,
                    pointClass: e.Point,
                    sorted: !0,
                    requireSorting: !0,
                    directTouch: !1,
                    axisTypes: ["xAxis", "yAxis"],
                    colorCounter: 0,
                    parallelArrays: ["x", "y"],
                    coll: "series",
                    init: function(e, n) {
                        var a, i, o = this,
                            r = e.series;
                        o.chart = e, o.options = n = o.setOptions(n), o.linkedSeries = [], o.bindAxes(), p(o, {
                            name: n.name,
                            state: "",
                            visible: !1 !== n.visible,
                            selected: !0 === n.selected
                        }), a = n.events, _(a, function(e, n) {
                            t(o, n, e)
                        }), (a && a.click || n.point && n.point.events && n.point.events.click || n.allowPointSelect) && (e.runTrackerClick = !0), o.getColor(), o.getSymbol(), u(o.parallelArrays, function(e) {
                            o[e + "Data"] = []
                        }), o.setData(n.data, !1), o.isCartesian && (e.hasCartesianSeries = !0), r.length && (i = r[r.length - 1]), o._i = w(i && i._i, -1) + 1, e.orderSeries(this.insert(r)), h(this, "afterInit")
                    },
                    insert: function(e) {
                        var t, n = this.options.index;
                        if (g(n)) {
                            for (t = e.length; t--;)
                                if (n >= w(e[t].options.index, e[t]._i)) {
                                    e.splice(t + 1, 0, this);
                                    break
                                } - 1 === t && e.unshift(this), t += 1
                        } else e.push(this);
                        return w(t, e.length - 1)
                    },
                    bindAxes: function() {
                        var t, n = this,
                            a = n.options,
                            i = n.chart;
                        u(n.axisTypes || [], function(o) {
                            u(i[o], function(e) {
                                t = e.options, (a[o] === t.index || void 0 !== a[o] && a[o] === t.id || void 0 === a[o] && 0 === t.index) && (n.insert(e.series), n[o] = e, e.isDirty = !0)
                            }), n[o] || n.optionalAxis === o || e.error(18, !0)
                        })
                    },
                    updateParallelArrays: function(e, t) {
                        var n = e.series,
                            a = arguments,
                            i = g(t) ? function(a) {
                                var i = "y" === a && n.toYData ? n.toYData(e) : e[a];
                                n[a + "Data"][t] = i
                            } : function(e) {
                                Array.prototype[t].apply(n[e + "Data"], Array.prototype.slice.call(a, 2))
                            };
                        u(n.parallelArrays, i)
                    },
                    autoIncrement: function() {
                        var e, t = this.options,
                            n = this.xIncrement,
                            a = t.pointIntervalUnit,
                            i = this.chart.time;
                        n = w(n, t.pointStart, 0);
                        return this.pointInterval = e = w(this.pointInterval, t.pointInterval, 1), a && (t = new i.Date(n), "day" === a ? i.set("Date", t, i.get("Date", t) + e) : "month" === a ? i.set("Month", t, i.get("Month", t) + e) : "year" === a && i.set("FullYear", t, i.get("FullYear", t) + e), e = t.getTime() - n), this.xIncrement = n + e, n
                    },
                    setOptions: function(e) {
                        var t = this.chart,
                            n = t.options,
                            a = n.plotOptions,
                            i = (t.userOptions || {}).plotOptions || {},
                            o = a[this.type];
                        return this.userOptions = e, t = y(o, a.series, e), this.tooltipOptions = y(r.tooltip, r.plotOptions.series && r.plotOptions.series.tooltip, r.plotOptions[this.type].tooltip, n.tooltip.userOptions, a.series && a.series.tooltip, a[this.type].tooltip, e.tooltip), this.stickyTracking = w(e.stickyTracking, i[this.type] && i[this.type].stickyTracking, i.series && i.series.stickyTracking, !(!this.tooltipOptions.shared || this.noSharedTooltip) || t.stickyTracking), null === o.marker && delete t.marker, this.zoneAxis = t.zoneAxis, e = this.zones = (t.zones || []).slice(), !t.negativeColor && !t.negativeFillColor || t.zones || e.push({
                            value: t[this.zoneAxis + "Threshold"] || t.threshold || 0,
                            className: "highcharts-negative",
                            color: t.negativeColor,
                            fillColor: t.negativeFillColor
                        }), e.length && l(e[e.length - 1].value) && e.push({
                            color: this.color,
                            fillColor: this.fillColor
                        }), h(this, "afterSetOptions", {
                            options: t
                        }), t
                    },
                    getName: function() {
                        return this.name || "Series " + (this.index + 1)
                    },
                    getCyclic: function(e, t, n) {
                        var a, i = this.chart,
                            o = this.userOptions,
                            r = e + "Index",
                            s = e + "Counter",
                            c = n ? n.length : w(i.options.chart[e + "Count"], i[e + "Count"]);
                        t || (a = w(o[r], o["_" + r]), l(a) || (i.series.length || (i[s] = 0), o["_" + r] = a = i[s] % c, i[s] += 1), n && (t = n[a])), void 0 !== a && (this[r] = a), this[e] = t
                    },
                    getColor: function() {
                        this.options.colorByPoint ? this.options.color = null : this.getCyclic("color", this.options.color || s[this.type].color, this.chart.options.colors)
                    },
                    getSymbol: function() {
                        this.getCyclic("symbol", this.options.marker.symbol, this.chart.options.symbols)
                    },
                    drawLegendSymbol: e.LegendSymbolMixin.drawLineMarker,
                    updateData: function(t) {
                        var n, a, i, o = this.options,
                            r = this.points,
                            s = [],
                            l = this.requireSorting;
                        if (u(t, function(t) {
                                var a;
                                a = e.defined(t) && this.pointClass.prototype.optionsToObject.call({
                                    series: this
                                }, t).x, g(a) && (-1 === (a = e.inArray(a, this.xData, i)) || r[a].touched ? s.push(t) : t !== o.data[a] ? (r[a].update(t, !1, null, !1), r[a].touched = !0, l && (i = a + 1)) : r[a] && (r[a].touched = !0), n = !0)
                            }, this), n)
                            for (t = r.length; t--;)(a = r[t]).touched || a.remove(!1), a.touched = !1;
                        else {
                            if (t.length !== r.length) return !1;
                            u(t, function(e, t) {
                                r[t].update && e !== o.data[t] && r[t].update(e, !1, null, !1)
                            })
                        }
                        return u(s, function(e) {
                            this.addPoint(e, !1)
                        }, this), !0
                    },
                    setData: function(t, n, a, i) {
                        var o, r, s = this,
                            l = s.points,
                            c = l && l.length || 0,
                            d = s.options,
                            p = s.chart,
                            h = null,
                            m = s.xAxis,
                            b = d.turboThreshold,
                            y = this.xData,
                            _ = this.yData,
                            O = (o = s.pointArrayMap) && o.length;
                        if (o = (t = t || []).length, n = w(n, !0), !1 !== i && o && c && !s.cropped && !s.hasGroupedData && s.visible && !s.isSeriesBoosting && (r = this.updateData(t)), !r) {
                            if (s.xIncrement = null, s.colorCounter = 0, u(this.parallelArrays, function(e) {
                                    s[e + "Data"].length = 0
                                }), b && o > b) {
                                for (a = 0; null === h && a < o;) h = t[a], a++;
                                if (g(h))
                                    for (a = 0; a < o; a++) y[a] = this.autoIncrement(), _[a] = t[a];
                                else if (f(h))
                                    if (O)
                                        for (a = 0; a < o; a++) h = t[a], y[a] = h[0], _[a] = h.slice(1, O + 1);
                                    else
                                        for (a = 0; a < o; a++) h = t[a], y[a] = h[0], _[a] = h[1];
                                else e.error(12)
                            } else
                                for (a = 0; a < o; a++) void 0 !== t[a] && (h = {
                                    series: s
                                }, s.pointClass.prototype.applyOptions.apply(h, [t[a]]), s.updateParallelArrays(h, a));
                            for (_ && v(_[0]) && e.error(14, !0), s.data = [], s.options.data = s.userOptions.data = t, a = c; a--;) l[a] && l[a].destroy && l[a].destroy();
                            m && (m.minRange = m.userMinRange), s.isDirty = p.isDirtyBox = !0, s.isDirtyData = !!l, a = !1
                        }
                        "point" === d.legendType && (this.processData(), this.generatePoints()), n && p.redraw(a)
                    },
                    processData: function(t) {
                        var n, a = this.xData,
                            i = this.yData,
                            o = a.length;
                        n = 0;
                        var r, s, l, c = this.xAxis;
                        l = (m = this.options).cropThreshold;
                        var u, d, p = this.getExtremesFromAll || m.getExtremesFromAll,
                            h = this.isCartesian,
                            m = c && c.val2lin,
                            f = c && c.isLog,
                            g = this.requireSorting;
                        if (h && !this.isDirty && !c.isDirty && !this.yAxis.isDirty && !t) return !1;
                        for (c && (u = (t = c.getExtremes()).min, d = t.max), h && this.sorted && !p && (!l || o > l || this.forceCrop) && (a[o - 1] < u || a[0] > d ? (a = [], i = []) : this.yData && (a[0] < u || a[o - 1] > d) && (a = (n = this.cropData(this.xData, this.yData, u, d)).xData, i = n.yData, n = n.start, r = !0)), l = a.length || 1; --l;) 0 < (o = f ? m(a[l]) - m(a[l - 1]) : a[l] - a[l - 1]) && (void 0 === s || o < s) ? s = o : 0 > o && g && (e.error(15), g = !1);
                        this.cropped = r, this.cropStart = n, this.processedXData = a, this.processedYData = i, this.closestPointRange = s
                    },
                    cropData: function(e, t, n, a, i) {
                        var o, r = e.length,
                            s = 0,
                            l = r;
                        for (i = w(i, this.cropShoulder, 1), o = 0; o < r; o++)
                            if (e[o] >= n) {
                                s = Math.max(0, o - i);
                                break
                            }
                        for (n = o; n < r; n++)
                            if (e[n] > a) {
                                l = n + i;
                                break
                            }
                        return {
                            xData: e.slice(s, l),
                            yData: t.slice(s, l),
                            start: s,
                            end: l
                        }
                    },
                    generatePoints: function() {
                        var e, t, n, a, i = (h = this.options).data,
                            o = this.data,
                            r = this.processedXData,
                            s = this.processedYData,
                            l = this.pointClass,
                            c = r.length,
                            u = this.cropStart || 0,
                            d = this.hasGroupedData,
                            h = h.keys,
                            m = [];
                        for (o || d || ((o = []).length = i.length, o = this.data = o), h && d && (this.options.keys = !1), a = 0; a < c; a++) t = u + a, d ? ((n = (new l).init(this, [r[a]].concat(k(s[a])))).dataGroup = this.groupMap[a], n.dataGroup.options && (n.options = n.dataGroup.options, p(n, n.dataGroup.options))) : (n = o[t]) || void 0 === i[t] || (o[t] = n = (new l).init(this, i[t], r[a])), n && (n.index = t, m[a] = n);
                        if (this.options.keys = h, o && (c !== (e = o.length) || d))
                            for (a = 0; a < e; a++) a !== u || d || (a += c), o[a] && (o[a].destroyElements(), o[a].plotX = void 0);
                        this.data = o, this.points = m
                    },
                    getExtremes: function(e) {
                        var t, n, o, r, s, l = this.yAxis,
                            c = this.processedXData,
                            u = [],
                            d = 0,
                            p = (t = this.xAxis.getExtremes()).min,
                            h = t.max,
                            m = this.requireSorting ? 1 : 0;
                        for (t = (e = e || this.stackedYData || this.processedYData || []).length, s = 0; s < t; s++)
                            if (o = c[s], r = e[s], n = (g(r, !0) || f(r)) && (!l.positiveValuesOnly || r.length || 0 < r), o = this.getExtremesFromAll || this.options.getExtremesFromAll || this.cropped || (c[s + m] || o) >= p && (c[s - m] || o) <= h, n && o)
                                if (n = r.length)
                                    for (; n--;) "number" == typeof r[n] && (u[d++] = r[n]);
                                else u[d++] = r;
                        this.dataMin = i(u), this.dataMax = a(u)
                    },
                    translate: function() {
                        this.processedXData || this.processData(), this.generatePoints();
                        var e, t, n, a, i = this.options,
                            r = i.stacking,
                            s = this.xAxis,
                            c = s.categories,
                            u = this.yAxis,
                            d = this.points,
                            p = d.length,
                            m = !!this.modifyValue,
                            f = i.pointPlacement,
                            b = "between" === f || g(f),
                            v = i.threshold,
                            y = i.startFromThreshold ? v : 0,
                            _ = Number.MAX_VALUE;
                        for ("between" === f && (f = .5), g(f) && (f *= w(i.pointRange || s.pointRange)), i = 0; i < p; i++) {
                            var O = d[i],
                                k = O.x,
                                S = O.y;
                            t = O.low;
                            var x, P = r && u.stacks[(this.negStacks && S < (y ? 0 : v) ? "-" : "") + this.stackKey];
                            u.positiveValuesOnly && null !== S && 0 >= S && (O.isNull = !0), O.plotX = e = o(Math.min(Math.max(-1e5, s.translate(k, 0, 0, 0, 1, f, "flags" === this.type)), 1e5)), r && this.visible && !O.isNull && P && P[k] && (a = this.getStackIndicator(a, k, this.index), t = (S = (x = P[k]).points[a.key])[0], S = S[1], t === y && a.key === P[k].base && (t = w(g(v) && v, u.min)), u.positiveValuesOnly && 0 >= t && (t = null), O.total = O.stackTotal = x.total, O.percentage = x.total && O.y / x.total * 100, O.stackY = S, x.setOffset(this.pointXOffset || 0, this.barW || 0)), O.yBottom = l(t) ? Math.min(Math.max(-1e5, u.translate(t, 0, 1, 0, 1)), 1e5) : null, m && (S = this.modifyValue(S, O)), O.plotY = t = "number" == typeof S && 1 / 0 !== S ? Math.min(Math.max(-1e5, u.translate(S, 0, 1, 0, 1)), 1e5) : void 0, O.isInside = void 0 !== t && 0 <= t && t <= u.len && 0 <= e && e <= s.len, O.clientX = b ? o(s.translate(k, 0, 0, 0, 1, f)) : e, O.negative = O.y < (v || 0), O.category = c && void 0 !== c[O.x] ? c[O.x] : O.x, O.isNull || (void 0 !== n && (_ = Math.min(_, Math.abs(e - n))), n = e), O.zone = this.zones.length && O.getZone()
                        }
                        this.closestPointRangePx = _, h(this, "afterTranslate")
                    },
                    getValidPoints: function(e, t) {
                        var n = this.chart;
                        return m(e || this.points || [], function(e) {
                            return !(t && !n.isInsidePlot(e.plotX, e.plotY, n.inverted)) && !e.isNull
                        })
                    },
                    setClip: function(e) {
                        var t = this.chart,
                            n = this.options,
                            a = t.renderer,
                            i = t.inverted,
                            o = this.clipBox,
                            r = o || t.clipBox,
                            s = this.sharedClipKey || ["_sharedClip", e && e.duration, e && e.easing, r.height, n.xAxis, n.yAxis].join(),
                            l = t[s],
                            c = t[s + "m"];
                        l || (e && (r.width = 0, i && (r.x = t.plotSizeX), t[s + "m"] = c = a.clipRect(i ? t.plotSizeX + 99 : -99, i ? -t.plotLeft : -t.plotTop, 99, i ? t.chartWidth : t.chartHeight)), t[s] = l = a.clipRect(r), l.count = {
                            length: 0
                        }), e && !l.count[this.index] && (l.count[this.index] = !0, l.count.length += 1), !1 !== n.clip && (this.group.clip(e || o ? l : t.clipRect), this.markerGroup.clip(c), this.sharedClipKey = s), e || (l.count[this.index] && (delete l.count[this.index], --l.count.length), 0 === l.count.length && s && t[s] && (o || (t[s] = t[s].destroy()), t[s + "m"] && (t[s + "m"] = t[s + "m"].destroy())))
                    },
                    animate: function(e) {
                        var t, a = this.chart,
                            i = n(this.options.animation);
                        e ? this.setClip(i) : ((e = a[t = this.sharedClipKey]) && e.animate({
                            width: a.plotSizeX,
                            x: 0
                        }, i), a[t + "m"] && a[t + "m"].animate({
                            width: a.plotSizeX + 99,
                            x: 0
                        }, i), this.animate = null)
                    },
                    afterAnimate: function() {
                        this.setClip(), h(this, "afterAnimate"), this.finishedAnimating = !0
                    },
                    drawPoints: function() {
                        var e, t, n, a, i, o, r, s, l = this.points,
                            c = this.chart,
                            u = this.options.marker,
                            d = this[this.specialGroup] || this.markerGroup,
                            p = w(u.enabled, !!this.xAxis.isRadial || null, this.closestPointRangePx >= u.enabledThreshold * u.radius);
                        if (!1 !== u.enabled || this._hasPointMarkers)
                            for (e = 0; e < l.length; e++) a = (t = l[e]).graphic, i = t.marker || {}, o = !!t.marker, n = p && void 0 === i.enabled || i.enabled, r = t.isInside, n && !t.isNull ? (n = w(i.symbol, this.symbol), s = this.markerAttribs(t, t.selected && "select"), a ? a[r ? "show" : "hide"](!0).animate(s) : r && (0 < s.width || t.hasImage) && (t.graphic = a = c.renderer.symbol(n, s.x, s.y, s.width, s.height, o ? i : u).add(d)), a && a.attr(this.pointAttribs(t, t.selected && "select")), a && a.addClass(t.getClassName(), !0)) : a && (t.graphic = a.destroy())
                    },
                    markerAttribs: function(e, t) {
                        var n = this.options.marker,
                            a = e.marker || {},
                            i = a.symbol || n.symbol,
                            o = w(a.radius, n.radius);
                        return t && (n = n.states[t], t = a.states && a.states[t], o = w(t && t.radius, n && n.radius, o + (n && n.radiusPlus || 0))), e.hasImage = i && 0 === i.indexOf("url"), e.hasImage && (o = 0), e = {
                            x: Math.floor(e.plotX) - o,
                            y: e.plotY - o
                        }, o && (e.width = e.height = 2 * o), e
                    },
                    pointAttribs: function(e, t) {
                        var n = this.options.marker,
                            a = (s = e && e.options) && s.marker || {},
                            i = this.color,
                            o = s && s.color,
                            r = e && e.color,
                            s = w(a.lineWidth, n.lineWidth);
                        return e = e && e.zone && e.zone.color, i = o || e || r || i, e = a.fillColor || n.fillColor || i, i = a.lineColor || n.lineColor || i, t && (n = n.states[t], t = a.states && a.states[t] || {}, s = w(t.lineWidth, n.lineWidth, s + w(t.lineWidthPlus, n.lineWidthPlus, 0)), e = t.fillColor || n.fillColor || e, i = t.lineColor || n.lineColor || i), {
                            stroke: i,
                            "stroke-width": s,
                            fill: e
                        }
                    },
                    destroy: function() {
                        var t, n, a, i = this,
                            o = i.chart,
                            r = /AppleWebKit\/533/.test(P.navigator.userAgent),
                            s = i.data || [];
                        for (h(i, "destroy"), O(i), u(i.axisTypes || [], function(e) {
                                (a = i[e]) && a.series && (d(a.series, i), a.isDirty = a.forceRedraw = !0)
                            }), i.legendItem && i.chart.legend.destroyItem(i), t = s.length; t--;)(n = s[t]) && n.destroy && n.destroy();
                        i.points = null, e.clearTimeout(i.animationTimeout), _(i, function(e, t) {
                            e instanceof S && !e.survive && e[r && "group" === t ? "hide" : "destroy"]()
                        }), o.hoverSeries === i && (o.hoverSeries = null), d(o.series, i), o.orderSeries(), _(i, function(e, t) {
                            delete i[t]
                        })
                    },
                    getGraphPath: function(e, t, n) {
                        var a, i, o = this,
                            r = o.options,
                            s = r.step,
                            c = [],
                            d = [];
                        return (a = (e = e || o.points).reversed) && e.reverse(), (s = {
                            right: 1,
                            center: 2
                        }[s] || s && 3) && a && (s = 4 - s), !r.connectNulls || t || n || (e = this.getValidPoints(e)), u(e, function(a, u) {
                            var p = a.plotX,
                                h = a.plotY,
                                m = e[u - 1];
                            (a.leftCliff || m && m.rightCliff) && !n && (i = !0), a.isNull && !l(t) && 0 < u ? i = !r.connectNulls : a.isNull && !t ? i = !0 : (0 === u || i ? u = ["M", a.plotX, a.plotY] : o.getPointSpline ? u = o.getPointSpline(e, a, u) : s ? (u = 1 === s ? ["L", m.plotX, h] : 2 === s ? ["L", (m.plotX + p) / 2, m.plotY, "L", (m.plotX + p) / 2, h] : ["L", p, m.plotY]).push("L", p, h) : u = ["L", p, h], d.push(a.x), s && (d.push(a.x), 2 === s && d.push(a.x)), c.push.apply(c, u), i = !1)
                        }), c.xMap = d, o.graphPath = c
                    },
                    drawGraph: function() {
                        var e = this,
                            t = this.options,
                            n = (this.gappedPath || this.getGraphPath).call(this),
                            a = [
                                ["graph", "highcharts-graph", t.lineColor || this.color, t.dashStyle]
                            ];
                        a = e.getZonesGraphs(a);
                        u(a, function(a, i) {
                            var o = a[0],
                                r = e[o];
                            r ? (r.endX = e.preventGraphAnimation ? null : n.xMap, r.animate({
                                d: n
                            })) : n.length && (e[o] = e.chart.renderer.path(n).addClass(a[1]).attr({
                                zIndex: 1
                            }).add(e.group), r = {
                                stroke: a[2],
                                "stroke-width": t.lineWidth,
                                fill: e.fillGraph && e.color || "none"
                            }, a[3] ? r.dashstyle = a[3] : "square" !== t.linecap && (r["stroke-linecap"] = r["stroke-linejoin"] = "round"), r = e[o].attr(r).shadow(2 > i && t.shadow)), r && (r.startX = n.xMap, r.isArea = n.isArea)
                        })
                    },
                    getZonesGraphs: function(e) {
                        return u(this.zones, function(t, n) {
                            e.push(["zone-graph-" + n, "highcharts-graph highcharts-zone-graph-" + n + " " + (t.className || ""), t.color || this.color, t.dashStyle || this.options.dashStyle])
                        }, this), e
                    },
                    applyZones: function() {
                        var e, t, n, a, i, o, r, s, l, c = this,
                            d = this.chart,
                            p = d.renderer,
                            h = this.zones,
                            m = this.clips || [],
                            f = this.graph,
                            g = this.area,
                            b = Math.max(d.chartWidth, d.chartHeight),
                            v = this[(this.zoneAxis || "y") + "Axis"],
                            y = d.inverted,
                            _ = !1;
                        h.length && (f || g) && v && void 0 !== v.min && (i = v.reversed, o = v.horiz, f && !this.showLine && f.hide(), g && g.hide(), a = v.getExtremes(), u(h, function(u, h) {
                            e = i ? o ? d.plotWidth : 0 : o ? 0 : v.toPixels(a.min), e = Math.min(Math.max(w(t, e), 0), b), t = Math.min(Math.max(Math.round(v.toPixels(w(u.value, a.max), !0)), 0), b), _ && (e = t = v.toPixels(a.max)), r = Math.abs(e - t), s = Math.min(e, t), l = Math.max(e, t), v.isXAxis ? (n = {
                                x: y ? l : s,
                                y: 0,
                                width: r,
                                height: b
                            }, o || (n.x = d.plotHeight - n.x)) : (n = {
                                x: 0,
                                y: y ? l : s,
                                width: b,
                                height: r
                            }, o && (n.y = d.plotWidth - n.y)), y && p.isVML && (n = v.isXAxis ? {
                                x: 0,
                                y: i ? s : l,
                                height: n.width,
                                width: d.chartWidth
                            } : {
                                x: n.y - d.plotLeft - d.spacingBox.x,
                                y: 0,
                                width: n.height,
                                height: d.chartHeight
                            }), m[h] ? m[h].animate(n) : (m[h] = p.clipRect(n), f && c["zone-graph-" + h].clip(m[h]), g && c["zone-area-" + h].clip(m[h])), _ = u.value > a.max, c.resetZones && 0 === t && (t = void 0)
                        }), this.clips = m)
                    },
                    invertGroups: function(e) {
                        function b() {
                            u(["group", "markerGroup"], function(t) {
                                a[t] && (i.renderer.isVML && a[t].attr({
                                    width: a.yAxis.len,
                                    height: a.xAxis.len
                                }), a[t].width = a.yAxis.len, a[t].height = a.xAxis.len, a[t].invert(e))
                            })
                        }
                        var n, a = this,
                            i = a.chart;
                        a.xAxis && (n = t(i, "resize", b), t(a, "destroy", n), b(), a.invertGroups = b)
                    },
                    plotGroup: function(e, t, n, a, i) {
                        var o = this[e],
                            r = !o;
                        return r && (this[e] = o = this.chart.renderer.g().attr({
                            zIndex: a || .1
                        }).add(i)), o.addClass("highcharts-" + t + " highcharts-series-" + this.index + " highcharts-" + this.type + "-series " + (l(this.colorIndex) ? "highcharts-color-" + this.colorIndex + " " : "") + (this.options.className || "") + (o.hasClass("highcharts-tracker") ? " highcharts-tracker" : ""), !0), o.attr({
                            visibility: n
                        })[r ? "attr" : "animate"](this.getPlotBox()), o
                    },
                    getPlotBox: function() {
                        var e = this.chart,
                            t = this.xAxis,
                            n = this.yAxis;
                        return e.inverted && (t = n, n = this.xAxis), {
                            translateX: t ? t.left : e.plotLeft,
                            translateY: n ? n.top : e.plotTop,
                            scaleX: 1,
                            scaleY: 1
                        }
                    },
                    render: function() {
                        var e, t = this,
                            a = t.chart,
                            i = t.options,
                            o = !!t.animate && a.renderer.isSVG && n(i.animation).duration,
                            r = t.visible ? "inherit" : "hidden",
                            s = i.zIndex,
                            l = t.hasRendered,
                            c = a.seriesGroup,
                            u = a.inverted;
                        e = t.plotGroup("group", "series", r, s, c), t.markerGroup = t.plotGroup("markerGroup", "markers", r, s, c), o && t.animate(!0), e.inverted = !!t.isCartesian && u, t.drawGraph && (t.drawGraph(), t.applyZones()), t.drawDataLabels && t.drawDataLabels(), t.visible && t.drawPoints(), t.drawTracker && !1 !== t.options.enableMouseTracking && t.drawTracker(), t.invertGroups(u), !1 === i.clip || t.sharedClipKey || l || e.clip(a.clipRect), o && t.animate(), l || (t.animationTimeout = x(function() {
                            t.afterAnimate()
                        }, o)), t.isDirty = !1, t.hasRendered = !0, h(t, "afterRender")
                    },
                    redraw: function() {
                        var e = this.chart,
                            t = this.isDirty || this.isDirtyData,
                            n = this.group,
                            a = this.xAxis,
                            i = this.yAxis;
                        n && (e.inverted && n.attr({
                            width: e.plotWidth,
                            height: e.plotHeight
                        }), n.animate({
                            translateX: w(a && a.left, e.plotLeft),
                            translateY: w(i && i.top, e.plotTop)
                        })), this.translate(), this.render(), t && delete this.kdTree
                    },
                    kdAxisArray: ["clientX", "plotY"],
                    searchPoint: function(e, t) {
                        var n = this.xAxis,
                            a = this.yAxis,
                            i = this.chart.inverted;
                        return this.searchKDTree({
                            clientX: i ? n.len - e.chartY + n.pos : e.chartX - n.pos,
                            plotY: i ? a.len - e.chartX + a.pos : e.chartY - a.pos
                        }, t)
                    },
                    buildKDTree: function() {
                        this.buildingKdTree = !0;
                        var e = this,
                            t = -1 < e.options.findNearestPointBy.indexOf("y") ? 2 : 1;
                        delete e.kdTree, x(function() {
                            e.kdTree = function a(t, n, i) {
                                var o, r;
                                if (r = t && t.length) return o = e.kdAxisArray[n % i], t.sort(function(e, t) {
                                    return e[o] - t[o]
                                }), {
                                    point: t[r = Math.floor(r / 2)],
                                    left: a(t.slice(0, r), n + 1, i),
                                    right: a(t.slice(r + 1), n + 1, i)
                                }
                            }(e.getValidPoints(null, !e.directTouch), t, t), e.buildingKdTree = !1
                        }, e.options.kdNow ? 0 : 1)
                    },
                    searchKDTree: function(e, t) {
                        var n = this,
                            a = this.kdAxisArray[0],
                            i = this.kdAxisArray[1],
                            o = t ? "distX" : "dist";
                        if (t = -1 < n.options.findNearestPointBy.indexOf("y") ? 2 : 1, this.kdTree || this.buildingKdTree || this.buildKDTree(), this.kdTree) return function c(e, t, r, s) {
                            var u, d, p = t.point,
                                h = n.kdAxisArray[r % s],
                                m = p;
                            return u = ((d = l(e[a]) && l(p[a]) ? Math.pow(e[a] - p[a], 2) : null) || 0) + ((u = l(e[i]) && l(p[i]) ? Math.pow(e[i] - p[i], 2) : null) || 0), p.dist = l(u) ? Math.sqrt(u) : Number.MAX_VALUE, p.distX = l(d) ? Math.sqrt(d) : Number.MAX_VALUE, d = 0 > (h = e[h] - p[h]) ? "right" : "left", t[u = 0 > h ? "left" : "right"] && (m = (u = c(e, t[u], r + 1, s))[o] < m[o] ? u : p), t[d] && Math.sqrt(h * h) < m[o] && (m = (e = c(e, t[d], r + 1, s))[o] < m[o] ? e : m), m
                        }(e, this.kdTree, t, t)
                    }
                })
            }(c),
            function(e) {
                var t = e.Axis,
                    n = e.Chart,
                    a = e.correctFloat,
                    i = e.defined,
                    o = e.destroyObjectProperties,
                    r = e.each,
                    s = e.format,
                    l = e.objectEach,
                    c = e.pick,
                    u = e.Series;
                e.StackItem = function(e, t, n, a, i) {
                    var o = e.chart.inverted;
                    this.axis = e, this.isNegative = n, this.options = t, this.x = a, this.total = null, this.points = {}, this.stack = i, this.rightCliff = this.leftCliff = 0, this.alignOptions = {
                        align: t.align || (o ? n ? "left" : "right" : "center"),
                        verticalAlign: t.verticalAlign || (o ? "middle" : n ? "bottom" : "top"),
                        y: c(t.y, o ? 4 : n ? 14 : -6),
                        x: c(t.x, o ? n ? -6 : 6 : 0)
                    }, this.textAlign = t.textAlign || (o ? n ? "right" : "left" : "center")
                }, e.StackItem.prototype = {
                    destroy: function() {
                        o(this, this.axis)
                    },
                    render: function(e) {
                        var t = this.axis.chart,
                            n = this.options,
                            a = (a = n.format) ? s(a, this, t.time) : n.formatter.call(this);
                        this.label ? this.label.attr({
                            text: a,
                            visibility: "hidden"
                        }) : this.label = t.renderer.text(a, null, null, n.useHTML).css(n.style).attr({
                            align: this.textAlign,
                            rotation: n.rotation,
                            visibility: "hidden"
                        }).add(e), this.label.labelrank = t.plotHeight
                    },
                    setOffset: function(e, t) {
                        var n = this.axis,
                            a = n.chart,
                            o = n.translate(n.usePercentage ? 100 : this.total, 0, 0, 0, 1),
                            r = n.translate(0);
                        r = i(o) && Math.abs(o - r);
                        e = a.xAxis[0].translate(this.x) + e, n = i(o) && this.getStackBox(a, this, e, o, t, r, n), (t = this.label) && n && (t.align(this.alignOptions, null, n), n = t.alignAttr, t[!1 === this.options.crop || a.isInsidePlot(n.x, n.y) ? "show" : "hide"](!0))
                    },
                    getStackBox: function(e, t, n, a, i, o, r) {
                        var s = t.axis.reversed,
                            l = e.inverted;
                        return e = r.height + r.pos - (l ? e.plotLeft : e.plotTop), t = t.isNegative && !s || !t.isNegative && s, {
                            x: l ? t ? a : a - o : n,
                            y: l ? e - n - i : t ? e - a - o : e - a,
                            width: l ? o : i,
                            height: l ? i : o
                        }
                    }
                }, n.prototype.getStacks = function() {
                    var e = this;
                    r(e.yAxis, function(e) {
                        e.stacks && e.hasVisibleSeries && (e.oldStacks = e.stacks)
                    }), r(e.series, function(t) {
                        !t.options.stacking || !0 !== t.visible && !1 !== e.options.chart.ignoreHiddenSeries || (t.stackKey = t.type + c(t.options.stack, ""))
                    })
                }, t.prototype.buildStacks = function() {
                    var e, t = this.series,
                        n = c(this.options.reversedStacks, !0),
                        a = t.length;
                    if (!this.isXAxis) {
                        for (this.usePercentage = !1, e = a; e--;) t[n ? e : a - e - 1].setStackedPoints();
                        for (e = 0; e < a; e++) t[e].modifyStacks()
                    }
                }, t.prototype.renderStackTotals = function() {
                    var e = this.chart,
                        t = e.renderer,
                        n = this.stacks,
                        a = this.stackTotalGroup;
                    a || (this.stackTotalGroup = a = t.g("stack-labels").attr({
                        visibility: "visible",
                        zIndex: 6
                    }).add()), a.translate(e.plotLeft, e.plotTop), l(n, function(e) {
                        l(e, function(e) {
                            e.render(a)
                        })
                    })
                }, t.prototype.resetStacks = function() {
                    var e = this,
                        t = e.stacks;
                    e.isXAxis || l(t, function(t) {
                        l(t, function(n, a) {
                            n.touched < e.stacksTouched ? (n.destroy(), delete t[a]) : (n.total = null, n.cumulative = null)
                        })
                    })
                }, t.prototype.cleanStacks = function() {
                    var e;
                    this.isXAxis || (this.oldStacks && (e = this.stacks = this.oldStacks), l(e, function(e) {
                        l(e, function(e) {
                            e.cumulative = e.total
                        })
                    }))
                }, u.prototype.setStackedPoints = function() {
                    if (this.options.stacking && (!0 === this.visible || !1 === this.chart.options.chart.ignoreHiddenSeries)) {
                        var t, n, o, r, s, l, u, d = this.processedXData,
                            p = this.processedYData,
                            h = [],
                            m = p.length,
                            f = (v = this.options).threshold,
                            g = c(v.startFromThreshold && f, 0),
                            b = v.stack,
                            v = v.stacking,
                            y = this.stackKey,
                            _ = "-" + y,
                            w = this.negStacks,
                            O = this.yAxis,
                            k = O.stacks,
                            S = O.oldStacks;
                        for (O.stacksTouched += 1, s = 0; s < m; s++) l = d[s], u = p[s], r = (t = this.getStackIndicator(t, l, this.index)).key, k[o = (n = w && u < (g ? 0 : f)) ? _ : y] || (k[o] = {}), k[o][l] || (S[o] && S[o][l] ? (k[o][l] = S[o][l], k[o][l].total = null) : k[o][l] = new e.StackItem(O, O.options.stackLabels, n, l, b)), o = k[o][l], null !== u ? (o.points[r] = o.points[this.index] = [c(o.cumulative, g)], i(o.cumulative) || (o.base = r), o.touched = O.stacksTouched, 0 < t.index && !1 === this.singleStacks && (o.points[r][0] = o.points[this.index + "," + l + ",0"][0])) : o.points[r] = o.points[this.index] = null, "percent" === v ? (n = n ? y : _, w && k[n] && k[n][l] ? (n = k[n][l], o.total = n.total = Math.max(n.total, o.total) + Math.abs(u) || 0) : o.total = a(o.total + (Math.abs(u) || 0))) : o.total = a(o.total + (u || 0)), o.cumulative = c(o.cumulative, g) + (u || 0), null !== u && (o.points[r].push(o.cumulative), h[s] = o.cumulative);
                        "percent" === v && (O.usePercentage = !0), this.stackedYData = h, O.oldStacks = {}
                    }
                }, u.prototype.modifyStacks = function() {
                    var e, t = this,
                        n = t.stackKey,
                        a = t.yAxis.stacks,
                        i = t.processedXData,
                        o = t.options.stacking;
                    t[o + "Stacker"] && r([n, "-" + n], function(n) {
                        for (var r, s, l = i.length; l--;) r = i[l], e = t.getStackIndicator(e, r, t.index, n), (s = (r = a[n] && a[n][r]) && r.points[e.key]) && t[o + "Stacker"](s, r, l)
                    })
                }, u.prototype.percentStacker = function(e, t, n) {
                    t = t.total ? 100 / t.total : 0, e[0] = a(e[0] * t), e[1] = a(e[1] * t), this.stackedYData[n] = e[1]
                }, u.prototype.getStackIndicator = function(e, t, n, a) {
                    return !i(e) || e.x !== t || a && e.key !== a ? e = {
                        x: t,
                        index: 0,
                        key: a
                    } : e.index++, e.key = [n, t, e.index].join(), e
                }
            }(c),
            function(t) {
                var n = t.addEvent,
                    a = t.animate,
                    i = t.Axis,
                    o = t.createElement,
                    r = t.css,
                    s = t.defined,
                    l = t.each,
                    c = t.erase,
                    u = t.extend,
                    d = t.fireEvent,
                    p = t.inArray,
                    h = t.isNumber,
                    m = t.isObject,
                    g = t.isArray,
                    b = t.merge,
                    v = t.objectEach,
                    y = t.pick,
                    _ = t.Point,
                    w = t.Series,
                    O = t.seriesTypes,
                    k = t.setAnimation,
                    S = t.splat;
                u(t.Chart.prototype, {
                    addSeries: function(e, t, n) {
                        var a, i = this;
                        return e && (t = y(t, !0), d(i, "addSeries", {
                            options: e
                        }, function() {
                            a = i.initSeries(e), i.isDirtyLegend = !0, i.linkSeries(), d(i, "afterAddSeries"), t && i.redraw(n)
                        })), a
                    },
                    addAxis: function(e, t, n, a) {
                        var o = t ? "xAxis" : "yAxis",
                            r = this.options;
                        return e = b(e, {
                            index: this[o].length,
                            isX: t
                        }), t = new i(this, e), r[o] = S(r[o] || {}), r[o].push(e), y(n, !0) && this.redraw(a), t
                    },
                    showLoading: function(e) {
                        var t = this,
                            i = t.options,
                            s = t.loadingDiv,
                            l = i.loading,
                            c = function() {
                                s && r(s, {
                                    left: t.plotLeft + "px",
                                    top: t.plotTop + "px",
                                    width: t.plotWidth + "px",
                                    height: t.plotHeight + "px"
                                })
                            };
                        s || (t.loadingDiv = s = o("div", {
                            className: "highcharts-loading highcharts-loading-hidden"
                        }, null, t.container), t.loadingSpan = o("span", {
                            className: "highcharts-loading-inner"
                        }, null, s), n(t, "redraw", c)), s.className = "highcharts-loading", t.loadingSpan.innerHTML = e || i.lang.loading, r(s, u(l.style, {
                            zIndex: 10
                        })), r(t.loadingSpan, l.labelStyle), t.loadingShown || (r(s, {
                            opacity: 0,
                            display: ""
                        }), a(s, {
                            opacity: l.style.opacity || .5
                        }, {
                            duration: l.showDuration || 0
                        })), t.loadingShown = !0, c()
                    },
                    hideLoading: function() {
                        var e = this.options,
                            t = this.loadingDiv;
                        t && (t.className = "highcharts-loading highcharts-loading-hidden", a(t, {
                            opacity: 0
                        }, {
                            duration: e.loading.hideDuration || 100,
                            complete: function() {
                                r(t, {
                                    display: "none"
                                })
                            }
                        })), this.loadingShown = !1
                    },
                    propsRequireDirtyBox: "backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
                    propsRequireUpdateSeries: "chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),
                    update: function(e, t, n, a) {
                        var i, o, r = this,
                            c = {
                                credits: "addCredits",
                                title: "setTitle",
                                subtitle: "setSubtitle"
                            },
                            u = e.chart,
                            m = [];
                        d(r, "update", {
                            options: e
                        }), u && (b(!0, r.options.chart, u), "className" in u && r.setClassName(u.className), "reflow" in u && r.setReflow(u.reflow), ("inverted" in u || "polar" in u || "type" in u) && (r.propFromSeries(), i = !0), "alignTicks" in u && (i = !0), v(u, function(e, t) {
                            -1 !== p("chart." + t, r.propsRequireUpdateSeries) && (o = !0), -1 !== p(t, r.propsRequireDirtyBox) && (r.isDirtyBox = !0)
                        }), "style" in u && r.renderer.setStyle(u.style)), e.colors && (this.options.colors = e.colors), e.plotOptions && b(!0, this.options.plotOptions, e.plotOptions), v(e, function(e, t) {
                            r[t] && "function" == typeof r[t].update ? r[t].update(e, !1) : "function" == typeof r[c[t]] && r[c[t]](e), "chart" !== t && -1 !== p(t, r.propsRequireUpdateSeries) && (o = !0)
                        }), l("xAxis yAxis zAxis series colorAxis pane".split(" "), function(t) {
                            var a;
                            e[t] && ("series" === t && (a = [], l(r[t], function(e, t) {
                                e.options.isInternal || a.push(t)
                            })), l(S(e[t]), function(e, i) {
                                (i = s(e.id) && r.get(e.id) || r[t][a ? a[i] : i]) && i.coll === t && (i.update(e, !1), n && (i.touched = !0)), !i && n && ("series" === t ? r.addSeries(e, !1).touched = !0 : "xAxis" !== t && "yAxis" !== t || (r.addAxis(e, "xAxis" === t, !1).touched = !0))
                            }), n && l(r[t], function(e) {
                                e.touched || e.options.isInternal ? delete e.touched : m.push(e)
                            }))
                        }), l(m, function(e) {
                            e.remove && e.remove(!1)
                        }), i && l(r.axes, function(e) {
                            e.update({}, !1)
                        }), o && l(r.series, function(e) {
                            e.update({}, !1)
                        }), e.loading && b(!0, r.options.loading, e.loading), i = u && u.width, u = u && u.height, h(i) && i !== r.chartWidth || h(u) && u !== r.chartHeight ? r.setSize(i, u, a) : y(t, !0) && r.redraw(a), d(r, "afterUpdate", {
                            options: e
                        })
                    },
                    setSubtitle: function(e) {
                        this.setTitle(void 0, e)
                    }
                }), u(_.prototype, {
                    update: function(e, t, n, a) {
                        function f() {
                            o.applyOptions(e), null === o.y && s && (o.graphic = s.destroy()), m(e, !0) && (s && s.element && e && e.marker && void 0 !== e.marker.symbol && (o.graphic = s.destroy()), e && e.dataLabels && o.dataLabel && (o.dataLabel = o.dataLabel.destroy()), o.connector && (o.connector = o.connector.destroy())), i = o.index, r.updateParallelArrays(o, i), c.data[i] = m(c.data[i], !0) || m(e, !0) ? o.options : y(e, c.data[i]), r.isDirty = r.isDirtyData = !0, !r.fixedBox && r.hasCartesianSeries && (l.isDirtyBox = !0), "point" === c.legendType && (l.isDirtyLegend = !0), t && l.redraw(n)
                        }
                        var i, o = this,
                            r = o.series,
                            s = o.graphic,
                            l = r.chart,
                            c = r.options;
                        t = y(t, !0), !1 === a ? f() : o.firePointEvent("update", {
                            options: e
                        }, f)
                    },
                    remove: function(e, t) {
                        this.series.removePoint(p(this, this.series.data), e, t)
                    }
                }), u(w.prototype, {
                    addPoint: function(e, t, n, a) {
                        var i, o, r, s, l = this.options,
                            c = this.data,
                            u = this.chart,
                            d = (d = this.xAxis) && d.hasNames && d.names,
                            p = l.data,
                            h = this.xData;
                        if (t = y(t, !0), i = {
                                series: this
                            }, this.pointClass.prototype.applyOptions.apply(i, [e]), s = i.x, r = h.length, this.requireSorting && s < h[r - 1])
                            for (o = !0; r && h[r - 1] > s;) r--;
                        this.updateParallelArrays(i, "splice", r, 0, 0), this.updateParallelArrays(i, r), d && i.name && (d[s] = i.name), p.splice(r, 0, e), o && (this.data.splice(r, 0, null), this.processData()), "point" === l.legendType && this.generatePoints(), n && (c[0] && c[0].remove ? c[0].remove(!1) : (c.shift(), this.updateParallelArrays(i, "shift"), p.shift())), this.isDirtyData = this.isDirty = !0, t && u.redraw(a)
                    },
                    removePoint: function(e, t, n) {
                        var a = this,
                            i = a.data,
                            o = i[e],
                            r = a.points,
                            s = a.chart,
                            l = function() {
                                r && r.length === i.length && r.splice(e, 1), i.splice(e, 1), a.options.data.splice(e, 1), a.updateParallelArrays(o || {
                                    series: a
                                }, "splice", e, 1), o && o.destroy(), a.isDirty = !0, a.isDirtyData = !0, t && s.redraw()
                            };
                        k(n, s), t = y(t, !0), o ? o.firePointEvent("remove", null, l) : l()
                    },
                    remove: function(t, n, a) {
                        function e() {
                            i.destroy(), i.remove = null, o.isDirtyLegend = o.isDirtyBox = !0, o.linkSeries(), y(t, !0) && o.redraw(n)
                        }
                        var i = this,
                            o = i.chart;
                        !1 !== a ? d(i, "remove", null, e) : e()
                    },
                    update: function(e, n) {
                        var a, i = this,
                            o = i.chart,
                            r = i.userOptions,
                            s = i.oldType || i.type,
                            c = e.type || r.type || o.options.chart.type,
                            h = O[s].prototype,
                            m = ["group", "markerGroup", "dataLabelsGroup"],
                            f = ["navigatorSeries", "baseSeries"],
                            g = i.finishedAnimating && {
                                animation: !1
                            },
                            v = ["data", "name", "turboThreshold"],
                            _ = t.keys(e),
                            w = 0 < _.length;
                        if (l(_, function(e) {
                                -1 === p(e, v) && (w = !1)
                            }), w) e.data && this.setData(e.data, !1), e.name && this.setName(e.name, !1);
                        else {
                            for (a in f = m.concat(f), l(f, function(e) {
                                    f[e] = i[e], delete i[e]
                                }), e = b(r, g, {
                                    index: i.index,
                                    pointStart: y(r.pointStart, i.xData[0])
                                }, {
                                    data: i.options.data
                                }, e), i.remove(!1, null, !1), h) i[a] = void 0;
                            O[c || s] ? u(i, O[c || s].prototype) : t.error(17, !0), l(f, function(e) {
                                i[e] = f[e]
                            }), i.init(o, e), e.zIndex !== r.zIndex && l(m, function(t) {
                                i[t] && i[t].attr({
                                    zIndex: e.zIndex
                                })
                            }), i.oldType = s, o.linkSeries()
                        }
                        d(this, "afterUpdate"), y(n, !0) && o.redraw(!!w && void 0)
                    },
                    setName: function(e) {
                        this.name = this.options.name = this.userOptions.name = e, this.chart.isDirtyLegend = !0
                    }
                }), u(i.prototype, {
                    update: function(e, t) {
                        var n = this.chart,
                            a = e && e.events || {};
                        e = b(this.userOptions, e), n.options[this.coll].indexOf && (n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)] = e), v(n.options[this.coll].events, function(e, t) {
                            void 0 === a[t] && (a[t] = void 0)
                        }), this.destroy(!0), this.init(n, u(e, {
                            events: a
                        })), n.isDirtyBox = !0, y(t, !0) && n.redraw()
                    },
                    remove: function(e) {
                        for (var t = this.chart, n = this.coll, a = this.series, i = a.length; i--;) a[i] && a[i].remove(!1);
                        c(t.axes, this), c(t[n], this), g(t.options[n]) ? t.options[n].splice(this.options.index, 1) : delete t.options[n], l(t[n], function(e, t) {
                            e.options.index = e.userOptions.index = t
                        }), this.destroy(), t.isDirtyBox = !0, y(e, !0) && t.redraw()
                    },
                    setTitle: function(e, t) {
                        this.update({
                            title: e
                        }, t)
                    },
                    setCategories: function(e, t) {
                        this.update({
                            categories: e
                        }, t)
                    }
                })
            }(c),
            function(e) {
                var t = e.color,
                    n = e.each,
                    a = e.map,
                    i = e.pick,
                    o = e.Series;
                (0, e.seriesType)("area", "line", {
                    softThreshold: !1,
                    threshold: 0
                }, {
                    singleStacks: !1,
                    getStackPoints: function(t) {
                        var o, r, s = [],
                            l = [],
                            c = this.xAxis,
                            u = this.yAxis,
                            d = u.stacks[this.stackKey],
                            p = {},
                            h = this.index,
                            m = u.series,
                            f = m.length,
                            g = i(u.options.reversedStacks, !0) ? 1 : -1;
                        if (t = t || this.points, this.options.stacking) {
                            for (r = 0; r < t.length; r++) t[r].leftNull = t[r].rightNull = null, p[t[r].x] = t[r];
                            e.objectEach(d, function(e, t) {
                                null !== e.total && l.push(t)
                            }), l.sort(function(e, t) {
                                return e - t
                            }), o = a(m, function() {
                                return this.visible
                            }), n(l, function(e, t) {
                                var a, i, m = 0;
                                if (p[e] && !p[e].isNull) s.push(p[e]), n([-1, 1], function(n) {
                                    var s = 1 === n ? "rightNull" : "leftNull",
                                        c = 0,
                                        u = d[l[t + n]];
                                    if (u)
                                        for (r = h; 0 <= r && r < f;)(a = u.points[r]) || (r === h ? p[e][s] = !0 : o[r] && (i = d[e].points[r]) && (c -= i[1] - i[0])), r += g;
                                    p[e][1 === n ? "rightCliff" : "leftCliff"] = c
                                });
                                else {
                                    for (r = h; 0 <= r && r < f;) {
                                        if (a = d[e].points[r]) {
                                            m = a[1];
                                            break
                                        }
                                        r += g
                                    }
                                    m = u.translate(m, 0, 1, 0, 1), s.push({
                                        isNull: !0,
                                        plotX: c.translate(e, 0, 0, 0, 1),
                                        x: e,
                                        plotY: m,
                                        yBottom: m
                                    })
                                }
                            })
                        }
                        return s
                    },
                    getGraphPath: function(e) {
                        var t, n, a, r, s = o.prototype.getGraphPath,
                            l = (g = this.options).stacking,
                            c = this.yAxis,
                            u = [],
                            d = [],
                            p = this.index,
                            h = c.stacks[this.stackKey],
                            m = g.threshold,
                            f = c.getThreshold(g.threshold),
                            g = g.connectNulls || "percent" === l,
                            b = function(t, n, i) {
                                var o = e[t];
                                t = l && h[o.x].points[p];
                                var r = o[i + "Null"] || 0;
                                i = o[i + "Cliff"] || 0;
                                var s, g;
                                o = !0;
                                i || r ? (s = (r ? t[0] : t[1]) + i, g = t[0] + i, o = !!r) : !l && e[n] && e[n].isNull && (s = g = m), void 0 !== s && (d.push({
                                    plotX: a,
                                    plotY: null === s ? f : c.getThreshold(s),
                                    isNull: o,
                                    isCliff: !0
                                }), u.push({
                                    plotX: a,
                                    plotY: null === g ? f : c.getThreshold(g),
                                    doCurve: !1
                                }))
                            };
                        for (e = e || this.points, l && (e = this.getStackPoints(e)), t = 0; t < e.length; t++) n = e[t].isNull, a = i(e[t].rectPlotX, e[t].plotX), r = i(e[t].yBottom, f), (!n || g) && (g || b(t, t - 1, "left"), n && !l && g || (d.push(e[t]), u.push({
                            x: t,
                            plotX: a,
                            plotY: r
                        })), g || b(t, t + 1, "right"));
                        return t = s.call(this, d, !0, !0), u.reversed = !0, (n = s.call(this, u, !0, !0)).length && (n[0] = "L"), n = t.concat(n), s = s.call(this, d, !1, g), n.xMap = t.xMap, this.areaPath = n, s
                    },
                    drawGraph: function() {
                        this.areaPath = [], o.prototype.drawGraph.apply(this);
                        var e = this,
                            a = this.areaPath,
                            r = this.options,
                            s = [
                                ["area", "highcharts-area", this.color, r.fillColor]
                            ];
                        n(this.zones, function(t, n) {
                            s.push(["zone-area-" + n, "highcharts-area highcharts-zone-area-" + n + " " + t.className, t.color || e.color, t.fillColor || r.fillColor])
                        }), n(s, function(n) {
                            var o = n[0],
                                s = e[o];
                            s ? (s.endX = e.preventGraphAnimation ? null : a.xMap, s.animate({
                                d: a
                            })) : (s = e[o] = e.chart.renderer.path(a).addClass(n[1]).attr({
                                fill: i(n[3], t(n[2]).setOpacity(i(r.fillOpacity, .75)).get()),
                                zIndex: 0
                            }).add(e.group)).isArea = !0, s.startX = a.xMap, s.shiftUnit = r.step ? 2 : 1
                        })
                    },
                    drawLegendSymbol: e.LegendSymbolMixin.drawRectangle
                })
            }(c),
            function(e) {
                var t = e.pick;
                (e = e.seriesType)("spline", "line", {}, {
                    getPointSpline: function(e, n, a) {
                        var i, o, r, s, l = n.plotX,
                            c = n.plotY,
                            u = e[a - 1];
                        if (a = e[a + 1], u && !u.isNull && !1 !== u.doCurve && !n.isCliff && a && !a.isNull && !1 !== a.doCurve && !n.isCliff) {
                            e = u.plotY, r = a.plotX;
                            var d = 0;
                            o = (1.5 * c + e) / 2.5, s = (1.5 * c + (a = a.plotY)) / 2.5, (r = (1.5 * l + r) / 2.5) !== (i = (1.5 * l + u.plotX) / 2.5) && (d = (s - o) * (r - l) / (r - i) + c - s), s += d, (o += d) > e && o > c ? s = 2 * c - (o = Math.max(e, c)) : o < e && o < c && (s = 2 * c - (o = Math.min(e, c))), s > a && s > c ? o = 2 * c - (s = Math.max(a, c)) : s < a && s < c && (o = 2 * c - (s = Math.min(a, c))), n.rightContX = r, n.rightContY = s
                        }
                        return n = ["C", t(u.rightContX, u.plotX), t(u.rightContY, u.plotY), t(i, l), t(o, c), l, c], u.rightContX = u.rightContY = null, n
                    }
                })
            }(c),
            function(e) {
                var t = e.seriesTypes.area.prototype;
                (0, e.seriesType)("areaspline", "spline", e.defaultPlotOptions.area, {
                    getStackPoints: t.getStackPoints,
                    getGraphPath: t.getGraphPath,
                    drawGraph: t.drawGraph,
                    drawLegendSymbol: e.LegendSymbolMixin.drawRectangle
                })
            }(c),
            function(e) {
                var t = e.animObject,
                    n = e.color,
                    a = e.each,
                    i = e.extend,
                    o = e.defined,
                    r = e.isNumber,
                    s = e.merge,
                    l = e.pick,
                    c = e.Series,
                    u = e.seriesType,
                    d = e.svg;
                u("column", "line", {
                    borderRadius: 0,
                    crisp: !0,
                    groupPadding: .2,
                    marker: null,
                    pointPadding: .1,
                    minPointLength: 0,
                    cropThreshold: 50,
                    pointRange: null,
                    states: {
                        hover: {
                            halo: !1,
                            brightness: .1
                        },
                        select: {
                            color: "#cccccc",
                            borderColor: "#000000"
                        }
                    },
                    dataLabels: {
                        align: null,
                        verticalAlign: null,
                        y: null
                    },
                    softThreshold: !1,
                    startFromThreshold: !0,
                    stickyTracking: !1,
                    tooltip: {
                        distance: 6
                    },
                    threshold: 0,
                    borderColor: "#ffffff"
                }, {
                    cropShoulder: 0,
                    directTouch: !0,
                    trackerGroups: ["group", "dataLabelsGroup"],
                    negStacks: !0,
                    init: function() {
                        c.prototype.init.apply(this, arguments);
                        var e = this,
                            t = e.chart;
                        t.hasRendered && a(t.series, function(t) {
                            t.type === e.type && (t.isDirty = !0)
                        })
                    },
                    getColumnMetrics: function() {
                        var e, t = this,
                            n = t.options,
                            i = t.xAxis,
                            o = t.yAxis,
                            r = i.options.reversedStacks,
                            s = (r = i.reversed && !r || !i.reversed && r, {}),
                            c = 0;
                        !1 === n.grouping ? c = 1 : a(t.chart.series, function(n) {
                            var a, i = n.options,
                                r = n.yAxis;
                            n.type !== t.type || !n.visible && t.chart.options.chart.ignoreHiddenSeries || o.len !== r.len || o.pos !== r.pos || (i.stacking ? (e = n.stackKey, void 0 === s[e] && (s[e] = c++), a = s[e]) : !1 !== i.grouping && (a = c++), n.columnIndex = a)
                        });
                        var u = Math.min(Math.abs(i.transA) * (i.ordinalSlope || n.pointRange || i.closestPointRange || i.tickInterval || 1), i.len),
                            d = u * n.groupPadding,
                            p = (u - 2 * d) / (c || 1);
                        n = Math.min(n.maxPointWidth || i.len, l(n.pointWidth, p * (1 - 2 * n.pointPadding)));
                        return t.columnMetrics = {
                            width: n,
                            offset: (p - n) / 2 + (d + ((t.columnIndex || 0) + (r ? 1 : 0)) * p - u / 2) * (r ? -1 : 1)
                        }, t.columnMetrics
                    },
                    crispCol: function(e, t, n, a) {
                        var i = this.chart,
                            o = -((r = this.borderWidth) % 2 ? .5 : 0),
                            r = r % 2 ? .5 : 1;
                        return i.inverted && i.renderer.isVML && (r += 1), this.options.crisp && (n = Math.round(e + n) + o, n -= e = Math.round(e) + o), a = Math.round(t + a) + r, o = .5 >= Math.abs(t) && .5 < a, a -= t = Math.round(t) + r, o && a && (--t, a += 1), {
                            x: e,
                            y: t,
                            width: n,
                            height: a
                        }
                    },
                    translate: function() {
                        var e = this,
                            t = e.chart,
                            n = e.options,
                            i = e.dense = 2 > e.closestPointRange * e.xAxis.transA,
                            r = (i = e.borderWidth = l(n.borderWidth, i ? 0 : 1), e.yAxis),
                            s = n.threshold,
                            u = e.translatedThreshold = r.getThreshold(s),
                            d = l(n.minPointLength, 5),
                            p = e.getColumnMetrics(),
                            h = p.width,
                            m = e.barW = Math.max(h, 1 + 2 * i),
                            f = e.pointXOffset = p.offset;
                        t.inverted && (u -= .5), n.pointPadding && (m = Math.ceil(m)), c.prototype.translate.apply(e), a(e.points, function(n) {
                            var a, i = l(n.yBottom, u),
                                c = 999 + Math.abs(i),
                                p = h,
                                g = (c = Math.min(Math.max(-c, n.plotY), r.len + c), n.plotX + f),
                                b = m,
                                v = Math.min(c, i),
                                y = Math.max(c, i) - v;
                            d && Math.abs(y) < d && (y = d, a = !r.reversed && !n.negative || r.reversed && n.negative, n.y === s && e.dataMax <= s && r.min < s && (a = !a), v = Math.abs(v - u) > d ? i - d : u - (a ? d : 0)), o(n.options.pointWidth) && (p = b = Math.ceil(n.options.pointWidth), g -= Math.round((p - h) / 2)), n.barX = g, n.pointWidth = p, n.tooltipPos = t.inverted ? [r.len + r.pos - t.plotLeft - c, e.xAxis.len - g - b / 2, y] : [g + b / 2, c + r.pos - t.plotTop, y], n.shapeType = "rect", n.shapeArgs = e.crispCol.apply(e, n.isNull ? [g, u, b, 0] : [g, v, b, y])
                        })
                    },
                    getSymbol: e.noop,
                    drawLegendSymbol: e.LegendSymbolMixin.drawRectangle,
                    drawGraph: function() {
                        this.group[this.dense ? "addClass" : "removeClass"]("highcharts-dense-data")
                    },
                    pointAttribs: function(e, t) {
                        var a, i = this.options;
                        a = (u = this.pointAttrToOptions || {}).stroke || "borderColor";
                        var o = u["stroke-width"] || "borderWidth",
                            r = e && e.color || this.color,
                            l = e && e[a] || i[a] || this.color || r,
                            c = e && e[o] || i[o] || this[o] || 0,
                            u = i.dashStyle;
                        return e && this.zones.length && (r = e.getZone(), r = e.options.color || r && r.color || this.color), t && (t = (e = s(i.states[t], e.options.states && e.options.states[t] || {})).brightness, r = e.color || void 0 !== t && n(r).brighten(e.brightness).get() || r, l = e[a] || l, c = e[o] || c, u = e.dashStyle || u), a = {
                            fill: r,
                            stroke: l,
                            "stroke-width": c
                        }, u && (a.dashstyle = u), a
                    },
                    drawPoints: function() {
                        var e, t = this,
                            n = this.chart,
                            i = t.options,
                            o = n.renderer,
                            l = i.animationLimit || 250;
                        a(t.points, function(a) {
                            var c = a.graphic,
                                u = c && n.pointCount < l ? "animate" : "attr";
                            r(a.plotY) && null !== a.y ? (e = a.shapeArgs, c ? c[u](s(e)) : a.graphic = c = o[a.shapeType](e).add(a.group || t.group), i.borderRadius && c.attr({
                                r: i.borderRadius
                            }), c[u](t.pointAttribs(a, a.selected && "select")).shadow(i.shadow, null, i.stacking && !i.borderRadius), c.addClass(a.getClassName(), !0)) : c && (a.graphic = c.destroy())
                        })
                    },
                    animate: function(e) {
                        var n, a = this,
                            o = this.yAxis,
                            r = a.options,
                            s = this.chart.inverted,
                            l = {},
                            c = s ? "translateX" : "translateY";
                        d && (e ? (l.scaleY = .001, e = Math.min(o.pos + o.len, Math.max(o.pos, o.toPixels(r.threshold))), s ? l.translateX = e - o.len : l.translateY = e, a.group.attr(l)) : (n = a.group.attr(c), a.group.animate({
                            scaleY: 1
                        }, i(t(a.options.animation), {
                            step: function(e, t) {
                                l[c] = n + t.pos * (o.pos - n), a.group.attr(l)
                            }
                        })), a.animate = null))
                    },
                    remove: function() {
                        var e = this,
                            t = e.chart;
                        t.hasRendered && a(t.series, function(t) {
                            t.type === e.type && (t.isDirty = !0)
                        }), c.prototype.remove.apply(e, arguments)
                    }
                })
            }(c),
            function(e) {
                (e = e.seriesType)("bar", "column", null, {
                    inverted: !0
                })
            }(c),
            function(e) {
                var t = e.Series;
                (e = e.seriesType)("scatter", "line", {
                    lineWidth: 0,
                    findNearestPointBy: "xy",
                    marker: {
                        enabled: !0
                    },
                    tooltip: {
                        headerFormat: '<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',
                        pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"
                    }
                }, {
                    sorted: !1,
                    requireSorting: !1,
                    noSharedTooltip: !0,
                    trackerGroups: ["group", "markerGroup", "dataLabelsGroup"],
                    takeOrdinalPosition: !1,
                    drawGraph: function() {
                        this.options.lineWidth && t.prototype.drawGraph.call(this)
                    }
                })
            }(c),
            function(e) {
                var t = e.deg2rad,
                    n = e.isNumber,
                    a = e.pick,
                    i = e.relativeLength;
                e.CenteredSeriesMixin = {
                    getCenter: function() {
                        var e, t, n = this.options,
                            o = this.chart,
                            r = 2 * (n.slicedOffset || 0),
                            s = o.plotWidth - 2 * r,
                            l = (o = o.plotHeight - 2 * r, n.center),
                            c = (l = [a(l[0], "50%"), a(l[1], "50%"), n.size || "100%", n.innerSize || 0], Math.min(s, o));
                        for (e = 0; 4 > e; ++e) t = l[e], n = 2 > e || 2 === e && /%$/.test(t), l[e] = i(t, [s, o, c, l[2]][e]) + (n ? r : 0);
                        return l[3] > l[2] && (l[3] = l[2]), l
                    },
                    getStartAndEndRadians: function(e, a) {
                        return e = n(e) ? e : 0, a = n(a) && a > e && 360 > a - e ? a : e + 360, {
                            start: t * (e + -90),
                            end: t * (a + -90)
                        }
                    }
                }
            }(c),
            function(e) {
                var t = e.addEvent,
                    n = e.CenteredSeriesMixin,
                    a = e.defined,
                    i = e.each,
                    o = e.extend,
                    r = n.getStartAndEndRadians,
                    s = e.inArray,
                    l = e.noop,
                    c = e.pick,
                    u = e.Point,
                    d = e.Series,
                    p = e.seriesType,
                    h = e.setAnimation;
                p("pie", "line", {
                    center: [null, null],
                    clip: !1,
                    colorByPoint: !0,
                    dataLabels: {
                        allowOverlap: !0,
                        distance: 30,
                        enabled: !0,
                        formatter: function() {
                            return this.point.isNull ? void 0 : this.point.name
                        },
                        x: 0
                    },
                    ignoreHiddenPoint: !0,
                    legendType: "point",
                    marker: null,
                    size: null,
                    showInLegend: !1,
                    slicedOffset: 10,
                    stickyTracking: !1,
                    tooltip: {
                        followPointer: !0
                    },
                    borderColor: "#ffffff",
                    borderWidth: 1,
                    states: {
                        hover: {
                            brightness: .1
                        }
                    }
                }, {
                    isCartesian: !1,
                    requireSorting: !1,
                    directTouch: !0,
                    noSharedTooltip: !0,
                    trackerGroups: ["group", "dataLabelsGroup"],
                    axisTypes: [],
                    pointAttribs: e.seriesTypes.column.prototype.pointAttribs,
                    animate: function(e) {
                        var t = this,
                            n = t.points,
                            a = t.startAngleRad;
                        e || (i(n, function(e) {
                            var n = e.graphic,
                                i = e.shapeArgs;
                            n && (n.attr({
                                r: e.startR || t.center[3] / 2,
                                start: a,
                                end: a
                            }), n.animate({
                                r: i.r,
                                start: i.start,
                                end: i.end
                            }, t.options.animation))
                        }), t.animate = null)
                    },
                    updateTotals: function() {
                        var e, t, n = 0,
                            a = this.points,
                            i = a.length,
                            o = this.options.ignoreHiddenPoint;
                        for (e = 0; e < i; e++) t = a[e], n += o && !t.visible ? 0 : t.isNull ? 0 : t.y;
                        for (this.total = n, e = 0; e < i; e++)(t = a[e]).percentage = 0 < n && (t.visible || !o) ? t.y / n * 100 : 0, t.total = n
                    },
                    generatePoints: function() {
                        d.prototype.generatePoints.call(this), this.updateTotals()
                    },
                    translate: function(e) {
                        this.generatePoints();
                        var t, n, a, i, o, s, l = 0,
                            u = (g = this.options).slicedOffset,
                            d = u + (g.borderWidth || 0),
                            p = r(g.startAngle, g.endAngle),
                            h = this.startAngleRad = p.start,
                            m = (p = (this.endAngleRad = p.end) - h, this.points),
                            f = g.dataLabels.distance,
                            g = g.ignoreHiddenPoint,
                            b = m.length;
                        for (e || (this.center = e = this.getCenter()), this.getX = function(t, n, i) {
                                return a = Math.asin(Math.min((t - e[1]) / (e[2] / 2 + i.labelDistance), 1)), e[0] + (n ? -1 : 1) * Math.cos(a) * (e[2] / 2 + i.labelDistance)
                            }, o = 0; o < b; o++)(s = m[o]).labelDistance = c(s.options.dataLabels && s.options.dataLabels.distance, f), this.maxLabelDistance = Math.max(this.maxLabelDistance || 0, s.labelDistance), t = h + l * p, g && !s.visible || (l += s.percentage / 100), n = h + l * p, s.shapeType = "arc", s.shapeArgs = {
                            x: e[0],
                            y: e[1],
                            r: e[2] / 2,
                            innerR: e[3] / 2,
                            start: Math.round(1e3 * t) / 1e3,
                            end: Math.round(1e3 * n) / 1e3
                        }, (a = (n + t) / 2) > 1.5 * Math.PI ? a -= 2 * Math.PI : a < -Math.PI / 2 && (a += 2 * Math.PI), s.slicedTranslation = {
                            translateX: Math.round(Math.cos(a) * u),
                            translateY: Math.round(Math.sin(a) * u)
                        }, n = Math.cos(a) * e[2] / 2, i = Math.sin(a) * e[2] / 2, s.tooltipPos = [e[0] + .7 * n, e[1] + .7 * i], s.half = a < -Math.PI / 2 || a > Math.PI / 2 ? 1 : 0, s.angle = a, t = Math.min(d, s.labelDistance / 5), s.labelPos = [e[0] + n + Math.cos(a) * s.labelDistance, e[1] + i + Math.sin(a) * s.labelDistance, e[0] + n + Math.cos(a) * t, e[1] + i + Math.sin(a) * t, e[0] + n, e[1] + i, 0 > s.labelDistance ? "center" : s.half ? "right" : "left", a]
                    },
                    drawGraph: null,
                    drawPoints: function() {
                        var e, t, n, a, r = this,
                            s = r.chart.renderer,
                            l = r.options.shadow;
                        l && !r.shadowGroup && (r.shadowGroup = s.g("shadow").add(r.group)), i(r.points, function(i) {
                            if (t = i.graphic, i.isNull) t && (i.graphic = t.destroy());
                            else {
                                a = i.shapeArgs, e = i.getTranslate();
                                var c = i.shadowGroup;
                                l && !c && (c = i.shadowGroup = s.g("shadow").add(r.shadowGroup)), c && c.attr(e), n = r.pointAttribs(i, i.selected && "select"), t ? t.setRadialReference(r.center).attr(n).animate(o(a, e)) : (i.graphic = t = s[i.shapeType](a).setRadialReference(r.center).attr(e).add(r.group), t.attr(n).attr({
                                    "stroke-linejoin": "round"
                                }).shadow(l, c)), t.attr({
                                    visibility: i.visible ? "inherit" : "hidden"
                                }), t.addClass(i.getClassName())
                            }
                        })
                    },
                    searchPoint: l,
                    sortByAngle: function(e, t) {
                        e.sort(function(e, n) {
                            return void 0 !== e.angle && (n.angle - e.angle) * t
                        })
                    },
                    drawLegendSymbol: e.LegendSymbolMixin.drawRectangle,
                    getCenter: n.getCenter,
                    getSymbol: l
                }, {
                    init: function() {
                        u.prototype.init.apply(this, arguments);
                        var e, n = this;
                        return n.name = c(n.name, "Slice"), e = function(e) {
                            n.slice("select" === e.type)
                        }, t(n, "select", e), t(n, "unselect", e), n
                    },
                    isValid: function() {
                        return e.isNumber(this.y, !0) && 0 <= this.y
                    },
                    setVisible: function(e, t) {
                        var n = this,
                            a = n.series,
                            o = a.chart,
                            r = a.options.ignoreHiddenPoint;
                        t = c(t, r), e !== n.visible && (n.visible = n.options.visible = e = void 0 === e ? !n.visible : e, a.options.data[s(n, a.data)] = n.options, i(["graphic", "dataLabel", "connector", "shadowGroup"], function(t) {
                            n[t] && n[t][e ? "show" : "hide"](!0)
                        }), n.legendItem && o.legend.colorizeItem(n, e), e || "hover" !== n.state || n.setState(""), r && (a.isDirty = !0), t && o.redraw())
                    },
                    slice: function(e, t, n) {
                        var i = this.series;
                        h(n, i.chart), c(t, !0), this.sliced = this.options.sliced = a(e) ? e : !this.sliced, i.options.data[s(this, i.data)] = this.options, this.graphic.animate(this.getTranslate()), this.shadowGroup && this.shadowGroup.animate(this.getTranslate())
                    },
                    getTranslate: function() {
                        return this.sliced ? this.slicedTranslation : {
                            translateX: 0,
                            translateY: 0
                        }
                    },
                    haloPath: function(e) {
                        var t = this.shapeArgs;
                        return this.sliced || !this.visible ? [] : this.series.chart.renderer.symbols.arc(t.x, t.y, t.r + e, t.r + e, {
                            innerR: this.shapeArgs.r - 1,
                            start: t.start,
                            end: t.end
                        })
                    }
                })
            }(c),
            function(t) {
                var n = t.addEvent,
                    a = t.arrayMax,
                    i = t.defined,
                    o = t.each,
                    r = t.extend,
                    s = t.format,
                    l = t.map,
                    u = t.merge,
                    d = t.noop,
                    p = t.pick,
                    h = t.relativeLength,
                    m = t.Series,
                    f = t.seriesTypes,
                    g = t.some,
                    v = t.stableSort,
                    y = t.isArray,
                    _ = t.splat;
                t.distribute = function(n, a, i) {
                    function e(e, t) {
                        return e.target - t.target
                    }
                    var r, s, c = !0,
                        u = n,
                        d = [];
                    s = 0;
                    var h = u.reducedLen || a;
                    for (r = n.length; r--;) s += n[r].size;
                    if (s > h) {
                        for (v(n, function(e, t) {
                                return (t.rank || 0) - (e.rank || 0)
                            }), s = r = 0; s <= h;) s += n[r].size, r++;
                        d = n.splice(r - 1, n.length)
                    }
                    for (v(n, e), n = l(n, function(e) {
                            return {
                                size: e.size,
                                targets: [e.target],
                                align: p(e.align, .5)
                            }
                        }); c;) {
                        for (r = n.length; r--;) c = n[r], s = (Math.min.apply(0, c.targets) + Math.max.apply(0, c.targets)) / 2, c.pos = Math.min(Math.max(0, s - c.size * c.align), a - c.size);
                        for (r = n.length, c = !1; r--;) 0 < r && n[r - 1].pos + n[r - 1].size > n[r].pos && (n[r - 1].size += n[r].size, n[r - 1].targets = n[r - 1].targets.concat(n[r].targets), n[r - 1].align = .5, n[r - 1].pos + n[r - 1].size > a && (n[r - 1].pos = a - n[r - 1].size), n.splice(r, 1), c = !0)
                    }
                    u.push.apply(u, d), r = 0, g(n, function(e) {
                        var n = 0;
                        if (g(e.targets, function() {
                                if (u[r].pos = e.pos + n, Math.abs(u[r].pos - u[r].target) > i) return o(u.slice(0, r + 1), function(e) {
                                    delete e.pos
                                }), u.reducedLen = (u.reducedLen || a) - .1 * a, u.reducedLen > .1 * a && t.distribute(u, a, i), !0;
                                n += u[r].size, r++
                            })) return !0
                    }), v(u, e)
                }, m.prototype.drawDataLabels = function() {
                    function c(e, t) {
                        var n, a = [];
                        if (y(e) && !y(t)) a = l(e, function(e) {
                            return u(e, t)
                        });
                        else if (y(t) && !y(e)) a = l(t, function(t) {
                            return u(e, t)
                        });
                        else if (y(e) || y(t))
                            for (n = Math.max(e.length, t.length); n--;) a[n] = u(e[n], t[n]);
                        else a = u(e, t);
                        return a
                    }
                    var e, a, r = this,
                        d = r.chart,
                        h = r.options,
                        m = h.dataLabels,
                        f = r.points,
                        g = r.hasRendered || 0,
                        v = p(m.defer, !!h.animation),
                        w = d.renderer;
                    m = c(c(d.options.plotOptions && d.options.plotOptions.series && d.options.plotOptions.series.dataLabels, d.options.plotOptions && d.options.plotOptions[r.type] && d.options.plotOptions[r.type].dataLabels), m);
                    (y(m) || m.enabled || r._hasPointLabels) && (a = r.plotGroup("dataLabelsGroup", "data-labels", v && !g ? "hidden" : "visible", m.zIndex || 6), v && (a.attr({
                        opacity: +g
                    }), g || n(r, "afterAnimate", function() {
                        r.visible && a.show(!0), a[h.animation ? "animate" : "attr"]({
                            opacity: 1
                        }, {
                            duration: 200
                        })
                    })), o(f, function(n) {
                        e = _(c(m, n.dlOptions || n.options && n.options.dataLabels)), o(e, function(e, o) {
                            var l, c, u, m, f = e.enabled && !n.isNull && function b(e, t) {
                                    var n = t.filter;
                                    return !n || (t = n.operator, e = e[n.property], n = n.value, ">" === t && e > n || "<" === t && e < n || ">=" === t && e >= n || "<=" === t && e <= n || "==" === t && e == n || "===" === t && e === n)
                                }(n, e),
                                g = n.dataLabels ? n.dataLabels[o] : n.dataLabel,
                                v = n.connectors ? n.connectors[o] : n.connector,
                                y = !g;
                            f && (l = n.getLabelConfig(), c = e[n.formatPrefix + "Format"] || e.format, l = i(c) ? s(c, l, d.time) : (e[n.formatPrefix + "Formatter"] || e.formatter).call(l, e), c = e.style, u = e.rotation, c.color = p(e.color, c.color, r.color, "#000000"), "contrast" === c.color && (n.contrastColor = w.getContrast(n.color || r.color), c.color = e.inside || 0 > p(e.distance, n.labelDistance) || h.stacking ? n.contrastColor : "#000000"), h.cursor && (c.cursor = h.cursor), m = {
                                fill: e.backgroundColor,
                                stroke: e.borderColor,
                                "stroke-width": e.borderWidth,
                                r: e.borderRadius || 0,
                                rotation: u,
                                padding: e.padding,
                                zIndex: 1
                            }, t.objectEach(m, function(e, t) {
                                void 0 === e && delete m[t]
                            })), !g || f && i(l) ? f && i(l) && (g ? m.text = l : (n.dataLabels = n.dataLabels || [], g = n.dataLabels[o] = u ? w.text(l, 0, -9999).addClass("highcharts-data-label") : w.label(l, 0, -9999, e.shape, null, null, e.useHTML, null, "data-label"), o || (n.dataLabel = g), g.addClass(" highcharts-data-label-color-" + n.colorIndex + " " + (e.className || "") + (e.useHTML ? " highcharts-tracker" : ""))), g.options = e, g.attr(m), g.css(c).shadow(e.shadow), g.added || g.add(a), r.alignDataLabel(n, g, e, null, y)) : (n.dataLabel = n.dataLabel.destroy(), n.dataLabels && (1 === n.dataLabels.length ? delete n.dataLabels : delete n.dataLabels[o]), o || delete n.dataLabel, v && (n.connector = n.connector.destroy(), n.connectors && (1 === n.connectors.length ? delete n.connectors : delete n.connectors[o])))
                        })
                    })), t.fireEvent(this, "afterDrawDataLabels")
                }, m.prototype.alignDataLabel = function(e, t, n, a, i) {
                    var o, s = this.chart,
                        l = s.inverted,
                        c = p(e.dlBox && e.dlBox.centerX, e.plotX, -9999),
                        u = p(e.plotY, -9999),
                        d = t.getBBox(),
                        h = n.rotation,
                        m = n.align,
                        f = this.visible && (e.series.forceDL || s.isInsidePlot(c, Math.round(u), l) || a && s.isInsidePlot(c, l ? a.x + 1 : a.y + a.height - 1, l)),
                        g = "justify" === p(n.overflow, "justify");
                    f && (o = n.style.fontSize, o = s.renderer.fontMetrics(o, t).b, a = r({
                        x: l ? this.yAxis.len - u : c,
                        y: Math.round(l ? this.xAxis.len - c : u),
                        width: 0,
                        height: 0
                    }, a), r(n, {
                        width: d.width,
                        height: d.height
                    }), h ? (g = !1, c = s.renderer.rotCorr(o, h), c = {
                        x: a.x + n.x + a.width / 2 + c.x,
                        y: a.y + n.y + {
                            top: 0,
                            middle: .5,
                            bottom: 1
                        }[n.verticalAlign] * a.height
                    }, t[i ? "attr" : "animate"](c).attr({
                        align: m
                    }), u = 180 < (u = (h + 720) % 360) && 360 > u, "left" === m ? c.y -= u ? d.height : 0 : "center" === m ? (c.x -= d.width / 2, c.y -= d.height / 2) : "right" === m && (c.x -= d.width, c.y -= u ? 0 : d.height), t.placed = !0, t.alignAttr = c) : (t.align(n, null, a), c = t.alignAttr), g && 0 <= a.height ? e.isLabelJustified = this.justifyDataLabel(t, n, c, d, a, i) : p(n.crop, !0) && (f = s.isInsidePlot(c.x, c.y) && s.isInsidePlot(c.x + d.width, c.y + d.height)), n.shape && !h) && t[i ? "attr" : "animate"]({
                        anchorX: l ? s.plotWidth - e.plotY : e.plotX,
                        anchorY: l ? s.plotHeight - e.plotX : e.plotY
                    }), f || (t.attr({
                        y: -9999
                    }), t.placed = !1)
                }, m.prototype.justifyDataLabel = function(e, t, n, a, i, o) {
                    var r, s, l = this.chart,
                        c = t.align,
                        u = t.verticalAlign,
                        d = e.box ? 0 : e.padding || 0;
                    return 0 > (r = n.x + d) && ("right" === c ? t.align = "left" : t.x = -r, s = !0), (r = n.x + a.width - d) > l.plotWidth && ("left" === c ? t.align = "right" : t.x = l.plotWidth - r, s = !0), 0 > (r = n.y + d) && ("bottom" === u ? t.verticalAlign = "top" : t.y = -r, s = !0), (r = n.y + a.height - d) > l.plotHeight && ("top" === u ? t.verticalAlign = "bottom" : t.y = l.plotHeight - r, s = !0), s && (e.placed = !o, e.align(t, null, i)), s
                }, f.pie && (f.pie.prototype.drawDataLabels = function() {
                    var e, n, r, s, l, c, u, d, h, f, g = this,
                        b = g.data,
                        v = g.chart,
                        y = g.options.dataLabels,
                        _ = p(y.connectorPadding, 10),
                        w = p(y.connectorWidth, 1),
                        O = v.plotWidth,
                        k = v.plotHeight,
                        S = Math.round(v.chartWidth / 3),
                        x = g.center,
                        P = x[2] / 2,
                        C = x[1],
                        M = [
                            [],
                            []
                        ],
                        T = [0, 0, 0, 0];
                    g.visible && (y.enabled || g._hasPointLabels) && (o(b, function(e) {
                        e.dataLabel && e.visible && e.dataLabel.shortened && (e.dataLabel.attr({
                            width: "auto"
                        }).css({
                            width: "auto",
                            textOverflow: "clip"
                        }), e.dataLabel.shortened = !1)
                    }), m.prototype.drawDataLabels.apply(g), o(b, function(e) {
                        e.dataLabel && (e.visible ? (M[e.half].push(e), e.dataLabel._pos = null, !i(y.style.width) && !i(e.options.dataLabels && e.options.dataLabels.style && e.options.dataLabels.style.width) && e.dataLabel.getBBox().width > S && (e.dataLabel.css({
                            width: .7 * S
                        }), e.dataLabel.shortened = !0)) : (e.dataLabel = e.dataLabel.destroy(), e.dataLabels && 1 === e.dataLabels.length && delete e.dataLabels))
                    }), o(M, function(n, a) {
                        var m, b, w, S = n.length,
                            M = [];
                        if (S)
                            for (g.sortByAngle(n, a - .5), 0 < g.maxLabelDistance && (m = Math.max(0, C - P - g.maxLabelDistance), b = Math.min(C + P + g.maxLabelDistance, v.plotHeight), o(n, function(e) {
                                    0 < e.labelDistance && e.dataLabel && (e.top = Math.max(0, C - P - e.labelDistance), e.bottom = Math.min(C + P + e.labelDistance, v.plotHeight), w = e.dataLabel.getBBox().height || 21, e.distributeBox = {
                                        target: e.labelPos[1] - e.top + w / 2,
                                        size: w,
                                        rank: e.y
                                    }, M.push(e.distributeBox))
                                }), m = b + w - m, t.distribute(M, m, m / 5)), f = 0; f < S; f++) e = n[f], l = e.labelPos, r = e.dataLabel, h = !1 === e.visible ? "hidden" : "inherit", d = m = l[1], M && i(e.distributeBox) && (void 0 === e.distributeBox.pos ? h = "hidden" : (c = e.distributeBox.size, d = e.top + e.distributeBox.pos)), delete e.positionIndex, u = y.justify ? x[0] + (a ? -1 : 1) * (P + e.labelDistance) : g.getX(d < e.top + 2 || d > e.bottom - 2 ? m : d, a, e), r._attr = {
                                visibility: h,
                                align: l[6]
                            }, r._pos = {
                                x: u + y.x + ({
                                    left: _,
                                    right: -_
                                }[l[6]] || 0),
                                y: d + y.y - 10
                            }, l.x = u, l.y = d, p(y.crop, !0) && (s = r.getBBox().width, m = null, u - s < _ && 1 === a ? (m = Math.round(s - u + _), T[3] = Math.max(m, T[3])) : u + s > O - _ && 0 === a && (m = Math.round(u + s - O + _), T[1] = Math.max(m, T[1])), 0 > d - c / 2 ? T[0] = Math.max(Math.round(c / 2 - d), T[0]) : d + c / 2 > k && (T[2] = Math.max(Math.round(d + c / 2 - k), T[2])), r.sideOverflow = m)
                    }), 0 === a(T) || this.verifyDataLabelOverflow(T)) && (this.placeDataLabels(), w && o(this.points, function(e) {
                        var t;
                        n = e.connector, (r = e.dataLabel) && r._pos && e.visible && 0 < e.labelDistance ? (h = r._attr.visibility, (t = !n) && (e.connector = n = v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-" + e.colorIndex + (e.className ? " " + e.className : "")).add(g.dataLabelsGroup), n.attr({
                            "stroke-width": w,
                            stroke: y.connectorColor || e.color || "#666666"
                        })), n[t ? "attr" : "animate"]({
                            d: g.connectorPath(e.labelPos)
                        }), n.attr("visibility", h)) : n && (e.connector = n.destroy())
                    }))
                }, f.pie.prototype.connectorPath = function(e) {
                    var t = e.x,
                        n = e.y;
                    return p(this.options.dataLabels.softConnector, !0) ? ["M", t + ("left" === e[6] ? 5 : -5), n, "C", t, n, 2 * e[2] - e[4], 2 * e[3] - e[5], e[2], e[3], "L", e[4], e[5]] : ["M", t + ("left" === e[6] ? 5 : -5), n, "L", e[2], e[3], "L", e[4], e[5]]
                }, f.pie.prototype.placeDataLabels = function() {
                    o(this.points, function(e) {
                        var t = e.dataLabel;
                        t && e.visible && ((e = t._pos) ? (t.sideOverflow && (t._attr.width = t.getBBox().width - t.sideOverflow, t.css({
                            width: t._attr.width + "px",
                            textOverflow: (this.options.dataLabels.style || {}).textOverflow || "ellipsis"
                        }), t.shortened = !0), t.attr(t._attr), t[t.moved ? "animate" : "attr"](e), t.moved = !0) : t && t.attr({
                            y: -9999
                        }))
                    }, this)
                }, f.pie.prototype.alignDataLabel = d, f.pie.prototype.verifyDataLabelOverflow = function(e) {
                    var t, n = this.center,
                        a = this.options,
                        i = a.center,
                        o = a.minSize || 80,
                        r = null !== a.size;
                    return r || (null !== i[0] ? t = Math.max(n[2] - Math.max(e[1], e[3]), o) : (t = Math.max(n[2] - e[1] - e[3], o), n[0] += (e[3] - e[1]) / 2), null !== i[1] ? t = Math.max(Math.min(t, n[2] - Math.max(e[0], e[2])), o) : (t = Math.max(Math.min(t, n[2] - e[0] - e[2]), o), n[1] += (e[0] - e[2]) / 2), t < n[2] ? (n[2] = t, n[3] = Math.min(h(a.innerSize || 0, t), t), this.translate(n), this.drawDataLabels && this.drawDataLabels()) : r = !0), r
                }), f.column && (f.column.prototype.alignDataLabel = function(e, t, n, a, i) {
                    var o = this.chart.inverted,
                        r = e.series,
                        s = e.dlBox || e.shapeArgs,
                        l = p(e.below, e.plotY > p(this.translatedThreshold, r.yAxis.len)),
                        c = p(n.inside, !!this.options.stacking);
                    s && (0 > (a = u(s)).y && (a.height += a.y, a.y = 0), 0 < (s = a.y + a.height - r.yAxis.len) && (a.height -= s), o && (a = {
                        x: r.yAxis.len - a.y - a.height,
                        y: r.xAxis.len - a.x - a.width,
                        width: a.height,
                        height: a.width
                    }), c || (o ? (a.x += l ? 0 : a.width, a.width = 0) : (a.y += l ? a.height : 0, a.height = 0))), n.align = p(n.align, !o || c ? "center" : l ? "right" : "left"), n.verticalAlign = p(n.verticalAlign, o || c ? "middle" : l ? "top" : "bottom"), m.prototype.alignDataLabel.call(this, e, t, n, a, i), e.isLabelJustified && e.contrastColor && t.css({
                        color: e.contrastColor
                    })
                })
            }(c),
            function(e) {
                var t = e.Chart,
                    n = e.each,
                    a = e.isArray,
                    i = e.objectEach,
                    o = e.pick;
                (e = e.addEvent)(t, "render", function() {
                    var e = [];
                    n(this.labelCollectors || [], function(t) {
                        e = e.concat(t())
                    }), n(this.yAxis || [], function(t) {
                        t.options.stackLabels && !t.options.stackLabels.allowOverlap && i(t.stacks, function(t) {
                            i(t, function(t) {
                                e.push(t.label)
                            })
                        })
                    }), n(this.series || [], function(t) {
                        var i = t.options.dataLabels;
                        t.visible && (!1 !== i.enabled || t._hasPointLabels) && n(t.points, function(t) {
                            if (t.visible) {
                                var i = a(t.dataLabels) ? t.dataLabels : t.dataLabel ? [t.dataLabel] : [];
                                n(i, function(n) {
                                    var a = n.options;
                                    n.labelrank = o(a.labelrank, t.labelrank, t.shapeArgs && t.shapeArgs.height), a.allowOverlap || e.push(n)
                                })
                            }
                        })
                    }), this.hideOverlappingLabels(e)
                }), t.prototype.hideOverlappingLabels = function(e) {
                    var t, a, i, o, r, s, l = e.length,
                        c = this.renderer,
                        u = function(e, t, n, a, i, o, r, s) {
                            return !(i > e + n || i + r < e || o > t + a || o + s < t)
                        };
                    for (i = function(e) {
                            var t, n, a, i = e.box ? 0 : e.padding || 0;
                            if (a = 0, e && (!e.alignAttr || e.placed)) return t = e.alignAttr || {
                                x: e.attr("x"),
                                y: e.attr("y")
                            }, n = e.parentGroup, e.width || (a = e.getBBox(), e.width = a.width, e.height = a.height, a = c.fontMetrics(null, e.element).h), {
                                x: t.x + (n.translateX || 0) + i,
                                y: t.y + (n.translateY || 0) + i - a,
                                width: e.width - 2 * i,
                                height: e.height - 2 * i
                            }
                        }, a = 0; a < l; a++)(t = e[a]) && (t.oldOpacity = t.opacity, t.newOpacity = 1, t.absoluteBox = i(t));
                    for (e.sort(function(e, t) {
                            return (t.labelrank || 0) - (e.labelrank || 0)
                        }), a = 0; a < l; a++)
                        for (s = (i = e[a]) && i.absoluteBox, t = a + 1; t < l; ++t) r = (o = e[t]) && o.absoluteBox, s && r && i !== o && 0 !== i.newOpacity && 0 !== o.newOpacity && (r = u(s.x, s.y, s.width, s.height, r.x, r.y, r.width, r.height)) && ((i.labelrank < o.labelrank ? i : o).newOpacity = 0);
                    n(e, function(e) {
                        var t, n;
                        e && (n = e.newOpacity, e.oldOpacity !== n && (e.alignAttr && e.placed ? (n ? e.show(!0) : t = function() {
                            e.hide()
                        }, e.alignAttr.opacity = n, e[e.isOld ? "animate" : "attr"](e.alignAttr, null, t)) : e.attr({
                            opacity: n
                        })), e.isOld = !0)
                    })
                }
            }(c),
            function(e) {
                var t, n = e.addEvent,
                    i = e.Chart,
                    o = e.createElement,
                    r = e.css,
                    s = e.defaultOptions,
                    l = e.defaultPlotOptions,
                    c = e.each,
                    u = e.extend,
                    d = e.fireEvent,
                    p = e.hasTouch,
                    h = e.inArray,
                    m = e.isObject,
                    f = e.Legend,
                    g = e.merge,
                    b = e.pick,
                    v = e.Point,
                    y = e.Series,
                    _ = e.seriesTypes,
                    w = e.svg;
                t = e.TrackerMixin = {
                    drawTrackerPoint: function() {
                        var e = this,
                            t = e.chart.pointer,
                            n = function(e) {
                                var n = t.getPointFromEvent(e);
                                void 0 !== n && (t.isDirectTouch = !0, n.onMouseOver(e))
                            };
                        c(e.points, function(e) {
                            e.graphic && (e.graphic.element.point = e), e.dataLabel && (e.dataLabel.div ? e.dataLabel.div.point = e : e.dataLabel.element.point = e)
                        }), e._hasTracking || (c(e.trackerGroups, function(a) {
                            e[a] && (e[a].addClass("highcharts-tracker").on("mouseover", n).on("mouseout", function(e) {
                                t.onTrackerMouseOut(e)
                            }), p && e[a].on("touchstart", n), e.options.cursor && e[a].css(r).css({
                                cursor: e.options.cursor
                            }))
                        }), e._hasTracking = !0), d(this, "afterDrawTracker")
                    },
                    drawTrackerGraph: function() {
                        var e, t = this,
                            n = t.options,
                            a = n.trackByArea,
                            i = [].concat(a ? t.areaPath : t.graphPath),
                            o = i.length,
                            r = t.chart,
                            s = r.pointer,
                            l = r.renderer,
                            u = r.options.tooltip.snap,
                            h = t.tracker,
                            m = function() {
                                r.hoverSeries !== t && t.onMouseOver()
                            },
                            f = "rgba(192,192,192," + (w ? 1e-4 : .002) + ")";
                        if (o && !a)
                            for (e = o + 1; e--;) "M" === i[e] && i.splice(e + 1, 0, i[e + 1] - u, i[e + 2], "L"), (e && "M" === i[e] || e === o) && i.splice(e, 0, "L", i[e - 2] + u, i[e - 1]);
                        h ? h.attr({
                            d: i
                        }) : t.graph && (t.tracker = l.path(i).attr({
                            "stroke-linejoin": "round",
                            stroke: f,
                            fill: a ? f : "none",
                            "stroke-width": t.graph.strokeWidth() + (a ? 0 : 2 * u),
                            visibility: t.visible ? "visible" : "hidden",
                            zIndex: 2
                        }).addClass(a ? "highcharts-tracker-area" : "highcharts-tracker-line").add(t.group), c([t.tracker, t.markerGroup], function(e) {
                            e.addClass("highcharts-tracker").on("mouseover", m).on("mouseout", function(e) {
                                s.onTrackerMouseOut(e)
                            }), n.cursor && e.css({
                                cursor: n.cursor
                            }), p && e.on("touchstart", m)
                        })), d(this, "afterDrawTracker")
                    }
                }, _.column && (_.column.prototype.drawTracker = t.drawTrackerPoint), _.pie && (_.pie.prototype.drawTracker = t.drawTrackerPoint), _.scatter && (_.scatter.prototype.drawTracker = t.drawTrackerPoint), s.legend.itemStyle.cursor = "pointer", u(f.prototype, {
                    setItemEvents: function(e, t, n) {
                        var a = this,
                            i = a.chart.renderer.boxWrapper,
                            o = "highcharts-legend-" + (e instanceof v ? "point" : "series") + "-active";
                        (n ? t : e.legendGroup).on("mouseover", function() {
                            e.setState("hover"), i.addClass(o), t.css(a.options.itemHoverStyle)
                        }).on("mouseout", function() {
                            t.css(g(e.visible ? a.itemStyle : a.itemHiddenStyle)), i.removeClass(o), e.setState()
                        }).on("click", function(t) {
                            var n = function() {
                                e.setVisible && e.setVisible()
                            };
                            i.removeClass(o), t = {
                                browserEvent: t
                            }, e.firePointEvent ? e.firePointEvent("legendItemClick", t, n) : d(e, "legendItemClick", t, n)
                        })
                    },
                    createCheckboxForItem: function(e) {
                        e.checkbox = o("input", {
                            type: "checkbox",
                            className: "highcharts-legend-checkbox",
                            checked: e.selected,
                            defaultChecked: e.selected
                        }, this.options.itemCheckboxStyle, this.chart.container), n(e.checkbox, "click", function(t) {
                            d(e.series || e, "checkboxClick", {
                                checked: t.target.checked,
                                item: e
                            }, function() {
                                e.select()
                            })
                        })
                    }
                }), u(i.prototype, {
                    showResetZoom: function() {
                        function a() {
                            e.zoomOut()
                        }
                        var e = this,
                            t = s.lang,
                            n = e.options.chart.resetZoomButton,
                            i = n.theme,
                            o = i.states,
                            r = "chart" === n.relativeTo ? null : "plotBox";
                        d(this, "beforeShowResetZoom", null, function() {
                            e.resetZoomButton = e.renderer.button(t.resetZoom, null, null, a, i, o && o.hover).attr({
                                align: n.position.align,
                                title: t.resetZoomTitle
                            }).addClass("highcharts-reset-zoom").add().align(n.position, !1, r)
                        })
                    },
                    zoomOut: function() {
                        d(this, "selection", {
                            resetSelection: !0
                        }, this.zoom)
                    },
                    zoom: function(e) {
                        var t, n, a = this.pointer,
                            i = !1;
                        !e || e.resetSelection ? (c(this.axes, function(e) {
                            t = e.zoom()
                        }), a.initiated = !1) : c(e.xAxis.concat(e.yAxis), function(e) {
                            var n = e.axis;
                            a[n.isXAxis ? "zoomX" : "zoomY"] && (t = n.zoom(e.min, e.max), n.displayBtn && (i = !0))
                        }), n = this.resetZoomButton, i && !n ? this.showResetZoom() : !i && m(n) && (this.resetZoomButton = n.destroy()), t && this.redraw(b(this.options.chart.animation, e && e.animation, 100 > this.pointCount))
                    },
                    pan: function(e, t) {
                        var n, a = this,
                            i = a.hoverPoints;
                        i && c(i, function(e) {
                            e.setState()
                        }), c("xy" === t ? [1, 0] : [1], function(t) {
                            var i, o = (t = a[t ? "xAxis" : "yAxis"][0]).horiz,
                                r = e[o ? "chartX" : "chartY"],
                                s = a[o = o ? "mouseDownX" : "mouseDownY"],
                                l = (t.pointRange || 0) / 2,
                                c = t.reversed && !a.inverted || !t.reversed && a.inverted ? -1 : 1,
                                u = t.getExtremes(),
                                d = t.toValue(s - r, !0) + l * c;
                            s = (i = (c = t.toValue(s + t.len - r, !0) - l * c) < d) ? c : d, d = i ? d : c;
                            0 < (i = (c = Math.min(u.dataMin, l ? u.min : t.toValue(t.toPixels(u.min) - t.minPixelPadding))) - s) && (d += i, s = c), 0 < (i = d - (l = Math.max(u.dataMax, l ? u.max : t.toValue(t.toPixels(u.max) + t.minPixelPadding)))) && (d = l, s -= i), t.series.length && s !== u.min && d !== u.max && (t.setExtremes(s, d, !1, !1, {
                                trigger: "pan"
                            }), n = !0), a[o] = r
                        }), n && a.redraw(!1), r(a.container, {
                            cursor: "move"
                        })
                    }
                }), u(v.prototype, {
                    select: function(e, t) {
                        var n = this,
                            a = n.series,
                            i = a.chart;
                        e = b(e, !n.selected), n.firePointEvent(e ? "select" : "unselect", {
                            accumulate: t
                        }, function() {
                            n.selected = n.options.selected = e, a.options.data[h(n, a.data)] = n.options, n.setState(e && "select"), t || c(i.getSelectedPoints(), function(e) {
                                e.selected && e !== n && (e.selected = e.options.selected = !1, a.options.data[h(e, a.data)] = e.options, e.setState(""), e.firePointEvent("unselect"))
                            })
                        })
                    },
                    onMouseOver: function(e) {
                        var t = this.series.chart,
                            n = t.pointer;
                        e = e ? n.normalize(e) : n.getChartCoordinatesFromPoint(this, t.inverted), n.runPointActions(e, this)
                    },
                    onMouseOut: function() {
                        var e = this.series.chart;
                        this.firePointEvent("mouseOut"), c(e.hoverPoints || [], function(e) {
                            e.setState()
                        }), e.hoverPoints = e.hoverPoint = null
                    },
                    importEvents: function() {
                        if (!this.hasImportedEvents) {
                            var t = this,
                                a = g(t.series.options.point, t.options).events;
                            t.events = a, e.objectEach(a, function(e, a) {
                                n(t, a, e)
                            }), this.hasImportedEvents = !0
                        }
                    },
                    setState: function(e, t) {
                        var n, a = Math.floor(this.plotX),
                            i = this.plotY,
                            o = this.series,
                            r = o.options.states[e || "normal"] || {},
                            s = l[o.type].marker && o.options.marker,
                            c = s && !1 === s.enabled,
                            p = s && s.states && s.states[e || "normal"] || {},
                            h = !1 === p.enabled,
                            m = o.stateMarkerGraphic,
                            f = this.marker || {},
                            g = o.chart,
                            v = o.halo,
                            y = s && o.markerAttribs;
                        (e = e || "") === this.state && !t || this.selected && "select" !== e || !1 === r.enabled || e && (h || c && !1 === p.enabled) || e && f.states && f.states[e] && !1 === f.states[e].enabled || (y && (n = o.markerAttribs(this, e)), this.graphic ? (this.state && this.graphic.removeClass("highcharts-point-" + this.state), e && this.graphic.addClass("highcharts-point-" + e), this.graphic.animate(o.pointAttribs(this, e), b(g.options.chart.animation, r.animation)), n && this.graphic.animate(n, b(g.options.chart.animation, p.animation, s.animation)), m && m.hide()) : (e && p && (s = f.symbol || o.symbol, m && m.currentSymbol !== s && (m = m.destroy()), m ? m[t ? "animate" : "attr"]({
                            x: n.x,
                            y: n.y
                        }) : s && (o.stateMarkerGraphic = m = g.renderer.symbol(s, n.x, n.y, n.width, n.height).add(o.markerGroup), m.currentSymbol = s), m && m.attr(o.pointAttribs(this, e))), m && (m[e && g.isInsidePlot(a, i, g.inverted) ? "show" : "hide"](), m.element.point = this)), (a = r.halo) && a.size ? (v || (o.halo = v = g.renderer.path().add((this.graphic || m).parentGroup)), v.show()[t ? "animate" : "attr"]({
                            d: this.haloPath(a.size)
                        }), v.attr({
                            class: "highcharts-halo highcharts-color-" + b(this.colorIndex, o.colorIndex) + (this.className ? " " + this.className : ""),
                            zIndex: -1
                        }), v.point = this, v.attr(u({
                            fill: this.color || o.color,
                            "fill-opacity": a.opacity
                        }, a.attributes))) : v && v.point && v.point.haloPath && v.animate({
                            d: v.point.haloPath(0)
                        }, null, v.hide), this.state = e, d(this, "afterSetState"))
                    },
                    haloPath: function(e) {
                        return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX) - e, this.plotY - e, 2 * e, 2 * e)
                    }
                }), u(y.prototype, {
                    onMouseOver: function() {
                        var e = this.chart,
                            t = e.hoverSeries;
                        t && t !== this && t.onMouseOut(), this.options.events.mouseOver && d(this, "mouseOver"), this.setState("hover"), e.hoverSeries = this
                    },
                    onMouseOut: function() {
                        var e = this.options,
                            t = this.chart,
                            n = t.tooltip,
                            a = t.hoverPoint;
                        t.hoverSeries = null, a && a.onMouseOut(), this && e.events.mouseOut && d(this, "mouseOut"), !n || this.stickyTracking || n.shared && !this.noSharedTooltip || n.hide(), this.setState()
                    },
                    setState: function(e) {
                        var t = this,
                            n = t.options,
                            a = t.graph,
                            i = n.states,
                            o = n.lineWidth;
                        n = 0;
                        if (e = e || "", t.state !== e && (c([t.group, t.markerGroup, t.dataLabelsGroup], function(n) {
                                n && (t.state && n.removeClass("highcharts-series-" + t.state), e && n.addClass("highcharts-series-" + e))
                            }), t.state = e, !i[e] || !1 !== i[e].enabled) && (e && (o = i[e].lineWidth || o + (i[e].lineWidthPlus || 0)), a && !a.dashstyle))
                            for (o = {
                                    "stroke-width": o
                                }, a.animate(o, b(i[e || "normal"] && i[e || "normal"].animation, t.chart.options.chart.animation)); t["zone-graph-" + n];) t["zone-graph-" + n].attr(o), n += 1
                    },
                    setVisible: function(e, t) {
                        var n, a = this,
                            i = a.chart,
                            o = a.legendItem,
                            r = i.options.chart.ignoreHiddenSeries,
                            s = a.visible;
                        n = (a.visible = e = a.options.visible = a.userOptions.visible = void 0 === e ? !s : e) ? "show" : "hide", c(["group", "dataLabelsGroup", "markerGroup", "tracker", "tt"], function(e) {
                            a[e] && a[e][n]()
                        }), i.hoverSeries !== a && (i.hoverPoint && i.hoverPoint.series) !== a || a.onMouseOut(), o && i.legend.colorizeItem(a, e), a.isDirty = !0, a.options.stacking && c(i.series, function(e) {
                            e.options.stacking && e.visible && (e.isDirty = !0)
                        }), c(a.linkedSeries, function(t) {
                            t.setVisible(e, !1)
                        }), r && (i.isDirtyBox = !0), d(a, n), !1 !== t && i.redraw()
                    },
                    show: function() {
                        this.setVisible(!0)
                    },
                    hide: function() {
                        this.setVisible(!1)
                    },
                    select: function(e) {
                        this.selected = e = void 0 === e ? !this.selected : e, this.checkbox && (this.checkbox.checked = e), d(this, e ? "select" : "unselect")
                    },
                    drawTracker: t.drawTrackerGraph
                })
            }(c),
            function(e) {
                var n = e.Chart,
                    a = e.each,
                    i = e.inArray,
                    o = e.isArray,
                    r = e.isObject,
                    s = e.pick,
                    l = e.splat;
                n.prototype.setResponsive = function(t) {
                    var n = this.options.responsive,
                        i = [],
                        o = this.currentResponsive;
                    n && n.rules && a(n.rules, function(n) {
                        void 0 === n._id && (n._id = e.uniqueKey()), this.matchResponsiveRule(n, i, t)
                    }, this);
                    var r = e.merge.apply(0, e.map(i, function(t) {
                        return e.find(n.rules, function(e) {
                            return e._id === t
                        }).chartOptions
                    }));
                    (i = i.toString() || void 0) !== (o && o.ruleIds) && (o && this.update(o.undoOptions, t), i ? (this.currentResponsive = {
                        ruleIds: i,
                        mergedOptions: r,
                        undoOptions: this.currentOptions(r)
                    }, this.update(r, t)) : this.currentResponsive = void 0)
                }, n.prototype.matchResponsiveRule = function(e, t) {
                    var n = e.condition;
                    (n.callback || function() {
                        return this.chartWidth <= s(n.maxWidth, Number.MAX_VALUE) && this.chartHeight <= s(n.maxHeight, Number.MAX_VALUE) && this.chartWidth >= s(n.minWidth, 0) && this.chartHeight >= s(n.minHeight, 0)
                    }).call(this) && t.push(e._id)
                }, n.prototype.currentOptions = function(t) {
                    var n = {};
                    return function t(n, a, s, c) {
                        var u;
                        e.objectEach(n, function(e, n) {
                            if (!c && -1 < i(n, ["series", "xAxis", "yAxis"]))
                                for (e = l(e), s[n] = [], u = 0; u < e.length; u++) a[n][u] && (s[n][u] = {}, t(e[u], a[n][u], s[n][u], c + 1));
                            else r(e) ? (s[n] = o(e) ? [] : {}, t(e, a[n] || {}, s[n], c + 1)) : s[n] = a[n] || null
                        })
                    }(t, this.options, n, 0), n
                }
            }(c), c
    }, e.exports ? e.exports = i.document ? o(i) : o : void 0 === (a = function() {
        return o(i)
    }.call(t, n, t, e)) || (e.exports = a)
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    var a = n(460),
        i = n(21),
        o = n(0),
        r = n(23);
    t.a = {
        getTranslatedGameType: function getTranslatedGameType(e) {
            var t = a.b.find(function(t) {
                return t.value === e
            });
            if (t) return t.label
        },
        isFenPlayable: function isFenPlayable(e) {
            if ("string" != typeof e || !e.length) return !1;
            var t = i.default.getPositionInfo(e);
            return t && !0 === t.isValid && !1 === t.gameOver
        },
        shouldAnimateLastMove: function shouldAnimateLastMove(e) {
            return !e.isFinished && !(!e.lastMove || !e.lastMove.length)
        },
        isAnalyzable: function isAnalyzable(e) {
            return "chess" === e || "chess960" === e
        },
        shareBoardLabels: function shareBoardLabels() {
            return {
                generatingGif: o.a.trans("Generating GIF"),
                animatedGif: o.a.trans("Animated GIF"),
                gifReady: o.a.trans("Ready! Download GIF"),
                image: o.a.trans("Image"),
                current: o.a.trans("Current"),
                download: o.a.trans("Download")
            }
        },
        shareMenuBoardParams: function shareMenuBoardParams() {
            return {
                boardStyle: r.default.state.board.boardOptions.boardStyle,
                pieceStyle: r.default.state.board.boardOptions.pieceStyle,
                flipped: r.default.state.board.boardOptions.flipBoard
            }
        }
    }
}, , function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(15),
        r = n(38),
        s = n(48),
        l = n(568),
        c = n(1),
        u = n(24),
        d = n.n(u),
        p = n(2),
        h = function mappings() {
            var e = {
                    mappings: {}
                },
                t = function getMappingKey(e, t) {
                    return "line-".concat(e, "-move-").concat(t)
                };
            return {
                addMapping: function addMapping(t, n) {
                    e.mappings[t] = n
                },
                getMappingKey: t,
                getMappedMoveIds: function getMappedMoveIds(n, a) {
                    return e.mappings[t(n, a)]
                },
                resetMappings: function resetMappings() {
                    e.mappings = {}
                },
                state: e
            }
        }(),
        m = n(428);
    class line_node_LineNode {
        constructor() {
            var e = this,
                t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                i = Object.assign({
                    id: 0,
                    hasAltLines: !1,
                    isChild: !1,
                    isContinuation: !1,
                    moves: []
                }, t);
            this.formattedLineNumber = n, this._JCELines = a, Object.keys(i).forEach(function(t) {
                return e[t] = i[t]
            })
        }
        addMove(e) {
            var t = e.previous ? p.a.findNode(this._JCELines, e.previous) : null;
            this.moves.push(Object(m.a)(e, t)), this.addMoveMapping(e)
        }
        addMoveMapping(e) {
            var t = h.getMappingKey(e.ids.line, e.ids.move);
            h.addMapping(t, {
                line: this.formattedLineNumber,
                move: this.getLastMoveIndex()
            })
        }
        getFirstMove() {
            return this.moves[0] || {}
        }
        getLastMove() {
            return this.moves[this.getLastMoveIndex()] || {}
        }
        getLastMoveIndex() {
            return this.moves.length - 1
        }
        toObject() {
            var e = this,
                t = {};
            return ["id", "hasAltLines", "isChild", "isContinuation", "moves"].forEach(function(n) {
                return t[n] = e[n]
            }), t
        }
    }
    class move_list_lines_MoveListLines {
        constructor() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            this.lines = [], this._JCELines = e
        }
        addLine() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = this.getLastLineIndex() + 1;
            this.lines.push(new line_node_LineNode(e, t, this._JCELines))
        }
        getLastLine() {
            return this.getLine(this.getLastLineIndex())
        }
        getLastLineIndex() {
            return this.lines.length - 1
        }
        getLine(e) {
            return this.lines[e]
        }
        toObjects() {
            return this.lines.map(function(e) {
                return e.toObject()
            })
        }
    }
    var f = function getAlternateLines(e, t) {
            return t.lines.reduce(function(t, n) {
                return [].concat(d()(t), [e[n]])
            }, [])
        },
        g = function createFormattedLinesFromMoveNodeLines(e, t, n) {
            var a = f(e, n);
            Array.isArray(a) && void 0 !== a && (a = a.filter(Boolean)).forEach(function(n) {
                if (t.addLine({
                        hasAltLines: void 0 !== n.lines,
                        id: n.id,
                        isChild: !0
                    }), function flattenAlternateLine(e, t, n) {
                        var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                        t.forEach(function(i, o) {
                            var r = Object.assign({}, i);
                            r.openParenthesis = Boolean(0 === o), r.indentation = a, n.addMove(r), r.lines && f(e, r).forEach(function(t) {
                                flattenAlternateLine(e, t, n, a + 1)
                            }), r.lines || o + 1 !== t.length || (n.getLastMove().closeParenthesisCount = n.getLastMove().closeParenthesisCount + 1 || 1)
                        });
                        var i = n.getFirstMove(),
                            o = n.getLastMove();
                        t.id === n.id && o.indentation !== i.indentation && o.closeParenthesisCount > 0 && (n.getLastMove().closeParenthesisCount += o.indentation - 1)
                    }(e, n, t.getLastLine()), p.a.isContinuation(e, n.id)) {
                    var a = t.getLastLine();
                    a.isContinuation = !0, a.getFirstMove().isInvisible = a.length > 1
                }
            })
        },
        b = function getFormattedLines(e) {
            var t = new move_list_lines_MoveListLines(e);
            return h.resetMappings(), t.addLine(), e[0].forEach(function(n) {
                t.getLastLine().isChild && t.addLine(), t.getLastLine().addMove(n), n.lines && g(e, t, n)
            }), t.toObjects()
        },
        v = n(398);
    var y = function(e) {
        e.lines = b(Object(v.a)(e)), e.startingMoveNumber = function getStartingMoveNumber(e) {
            var t = Object(v.a)(e),
                n = e.game.setup.moveNumber;
            if (t && t[0].length) {
                var a = e.game.tree.selectedNode;
                a && (n -= Math.ceil(a.moveNumber / 2), 2 === t[0][0].color && 2 === a.color && (n -= 1))
            }
            return n
        }(e), e.$nextTick(function() {
            var t = e.game.tree.selected,
                n = e.getComponentRefByLineMove(t.line, t.move);
            n && (n.isSelected = !0, e.updateScrollPosition(t))
        })
    };
    var _ = function(e, t) {
            var n = e.getComponentRefByLineMove(t.from.line, t.from.move),
                a = e.getComponentRefByLineMove(t.to.line, t.to.move);
            n && (n.isSelected = !1), a && (a.isSelected = !0)
        },
        w = function(e) {
            Object.keys(e.$refs).forEach(function(t) {
                var n = e.$refs[t] && e.$refs[t][0];
                n && void 0 !== n.isSelected && !0 === n.isSelected && (n.isSelected = !1)
            })
        };
    var O, k = n(86),
        S = n(44),
        x = ["annotationString", "coords", "closeParenthesisCount", "figurineIndex", "hasComment", "hasCommentBefore", "hasLines", "iconName", "indentation", "isEnPassant", "isInvisible", "isFirstNodeOnLine", "isWhite", "nodeMoveNumber", "openParenthesis", "previousHasComment", "previousHasLines"].concat(d()(S.nodeProps)),
        P = ["atMoveNode", "curFen", "id", "initComment", "startingFen", "parentId", "hasAltLines", "isChild", "isContinuation"],
        C = function updateLine(e, t, n) {
            P.forEach(function(a) {
                e.lines[t][a] !== n[a] && e.$set(e.lines[t], a, n[a])
            })
        },
        M = function updateMove(e, t, n) {
            var a = t.line,
                i = t.move;
            (arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : x).forEach(function(t) {
                (!Object(k.a)(e.lines[a].moves[i], t) && void 0 !== n[t] || e.lines[a].moves[i][t] !== n[t]) && e.$set(e.lines[a].moves[i], t, n[t])
            })
        },
        T = function mergeFormattedLines(e) {
            var t = b(Object(v.a)(e));
            ! function trimDeletedLines(e, t) {
                if (e.lines.length !== t.length) {
                    var n = e.lines.length - t.length;
                    if (n > 0)
                        for (var a = n, i = e.lines.length - 1; a > 0;) e.$delete(e.lines, i), i--, a--
                }
            }(e, t), t.forEach(function(n, a) {
                void 0 === e.lines[a] ? e.$set(e.lines, a, n) : (! function trimDeletedMoves(e, t, n) {
                    var a = e.lines[n].moves ? e.lines[n].moves.length : -1;
                    if (t[n].moves.length < a)
                        for (var i = a - t[n].moves.length, o = e.lines[n].moves.length - 1; i > 0;) e.$delete(e.lines[n].moves, o), o--, i--
                }(e, t, a), C(e, a, n), n.moves.forEach(function(t, n) {
                    void 0 === e.lines[a].moves[n] ? e.$set(e.lines[a].moves, n, t) : M(e, {
                        line: a,
                        move: n
                    }, t)
                }))
            })
        },
        E = function(e) {
            var t = e.game.tree.selected,
                n = e.getComponentRefByLineMove(t.line, t.move);
            n && (n.isSelected = !0)
        },
        A = function(e) {
            e.updateScrollPosition(e.game.tree.selected)
        };

    function treeChange(e) {
        setTimeout(function() {
            w(e)
        }), setTimeout(function() {
            T(e)
        }), setTimeout(function() {
            e.$nextTick(function() {
                E(e)
            })
        })
    }
    var j = (O = {}, i()(O, c.a.INIT, function init(e) {
            y(e)
        }), i()(O, c.a.LOAD, function load(e) {
            y(e)
        }), i()(O, c.a.JUMP_TO_POSITION, function jumpToPosition(e, t) {
            w(e), _(e, t)
        }), i()(O, c.a.MAKE_MOVE, function makeMove(e) {
            setTimeout(function() {
                T(e)
            }), setTimeout(function() {
                w(e)
            }), setTimeout(function() {
                E(e)
            }), setTimeout(function() {
                A(e)
            })
        }), i()(O, c.a.TREE_CHANGE, treeChange), i()(O, c.a.TREE_AMENDED, treeChange), i()(O, c.a.SETTINGS_CHANGE, treeChange), i()(O, c.a.UPDATE_NODE, function updateNode(e, t) {
            var n = Object(v.a)(e),
                a = b(n),
                i = h.getMappedMoveIds(t.line, t.move),
                o = a[i.line],
                r = a[i.line].moves[i.move];
            if (i) {
                C(e, i.line, o), M(e, i, r);
                var s = p.a.findNode(n, t, 1);
                if (s.ids.line !== t.line || s.ids.move !== t.move) {
                    var l = h.getMappedMoveIds(s.ids.line, s.ids.move),
                        c = a[l.line].moves[l.move];
                    M(e, l, c, ["previousHasComment", "previousHasLines"])
                }
            }
        }), O),
        L = n(36),
        D = n(571),
        N = n(32),
        I = n(112),
        $ = {
            props: {
                clearAnalysisOnConfirm: Boolean,
                game: Object,
                isChildNode: Boolean,
                isDarkMode: Boolean,
                isDiagram: Boolean,
                mainLineIsImmutable: Boolean,
                moveNode: Object,
                nodeLimit: Object
            },
            data: function data() {
                return {
                    moveList: S.default.state,
                    notationRows: r.h
                }
            },
            computed: {
                commands: function commands() {
                    var commands = [],
                        e = p.a.findNode(this.moveList.lines, this.moveNode.ids, -1);
                    if (Object(N.j)(this.moveNode) || !p.a.isFirstNodeInLine(this.moveList.lines, this.moveNode.ids) && Object(N.i)(e) ? commands.push(r.c.DELETE_COMMENT_BEFORE) : commands.push(r.c.INSERT_COMMENT_BEFORE), Object(N.i)(this.moveNode) ? commands.push(r.c.DELETE_COMMENT_AFTER) : commands.push(r.c.INSERT_COMMENT_AFTER), Object(N.h)(this.moveNode) && commands.push(r.c.REMOVE_ANNOTATION), Object(N.g)(this.moveNode) && commands.push(r.c.REMOVE_EVAL_ANNOTATION), Object(N.r)(this.moveNode) || commands.push(r.c.DELETE_LINE), Object(N.c)(this.moveNode, this.mainLineIsImmutable) && commands.push(r.c.DELETE_MOVE), this.isChildNode) {
                        var t = p.a.getParentNode(this.moveList.lines, this.moveNode.ids),
                            n = t.lines.length > 1;
                        this.mainLineIsImmutable && p.a.isMainLine(t.ids.line) || commands.push(r.c.PROMOTE_VARIATION), n && !Object(N.p)(this.moveNode, t) && commands.push(r.c.MOVE_VARIATION_UP), n && !Object(N.q)(this.moveNode, t) && commands.push(r.c.MOVE_VARIATION_DOWN)
                    }
                    if (Object(N.n)(this.moveNode, this.moveList) && (commands.push(r.c.CREATE_VARIATION), commands.push(r.c.CREATE_CONTINUATION)), this.isDiagram && !this.moveNode.indentation) {
                        var a = Object(N.s)(this.nodeLimit, this.moveNode, r.g.BEGIN),
                            i = Object(N.s)(this.nodeLimit, this.moveNode, r.g.END),
                            o = Object(N.s)(this.nodeLimit, this.moveNode, r.g.FOCUS),
                            s = Object(N.t)(this.nodeLimit, this.moveNode),
                            l = Object(N.u)(this.nodeLimit, this.moveNode);
                        i || s || (a ? commands.push(r.c.REMOVE_BEGIN) : commands.push(r.c.SET_BEGIN)), s || l || (o ? commands.push(r.c.REMOVE_FOCUS) : commands.push(r.c.SET_FOCUS)), a || l || (i ? commands.push(r.c.REMOVE_END) : commands.push(r.c.SET_END))
                    }
                    return commands.push(r.c.CLEAR_ALL_ANALYSIS), commands
                },
                componentClasses: function componentClasses() {
                    var e;
                    return e = {}, i()(e, this.$style.component, !0), i()(e, this.$style.darkMode, this.isDarkMode), e
                }
            },
            mounted: function mounted() {
                document.addEventListener("mousedown", this.documentClick)
            },
            beforeDestroy: function beforeDestroy() {
                document.removeEventListener("mousedown", this.documentClick)
            },
            methods: {
                createConfirmPopover: function createConfirmPopover(e) {
                    var t = I.b.createInstance("confirmPopover").$children[0];
                    t.labels.messageLabel = this.$trans("Are you sure that you want to clear all analysis?"), t.show(), t.onConfirm = function() {
                        L.a.$emit(r.e.CLEAR_ANALYSIS, e)
                    }
                },
                documentClick: function documentClick(e) {
                    e.target === this.$el || this.$el.contains(e.target) || this.$emit("closeMenu")
                },
                onAction: function onAction(e) {
                    e.action === r.a.CLEAR_ANALYSIS && this.clearAnalysisOnConfirm ? this.createConfirmPopover(e) : this.$emit("onAction", e)
                }
            }
        },
        B = n(585),
        R = n(5);
    var F = Object(R.a)($, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("ul", {
                class: e.componentClasses
            }, [e._l(e.commands, function(t, a) {
                var i;
                return n("li", {
                    key: "command-" + a,
                    class: [e.$style.big, e.$style.item, (i = {}, i[e.$style.last] = a === e.commands.length - 1, i)],
                    attrs: {
                        "data-cy": "context-menu-command-" + t.action
                    },
                    domProps: {
                        textContent: e._s(t.name)
                    },
                    on: {
                        click: function(n) {
                            return e.onAction(t)
                        }
                    }
                })
            }), e._v(" "), e._l(e.notationRows, function(t, a) {
                return n("li", {
                    key: "notation-" + a,
                    class: e.$style.small
                }, e._l(t, function(t, i) {
                    return n("span", {
                        key: a + "-" + i,
                        class: e.$style.item,
                        attrs: {
                            "data-cy": "context-menu-annotation-" + t.code,
                            title: t.meaning
                        },
                        domProps: {
                            innerHTML: e._s(t.display || t.code)
                        },
                        on: {
                            click: function(n) {
                                return e.onAction(t)
                            }
                        }
                    })
                }), 0)
            })], 2)
        }, [], !1, function injectStyles(e) {
            this.$style = B.default.locals || B.default
        }, null, null).exports,
        z = n(569),
        U = {
            components: {
                MoveNode: D.a,
                MoveNodeContextMenu: F
            },
            mixins: [z.a],
            props: {
                clearAnalysisOnConfirm: Boolean,
                enableGameResult: Boolean,
                initialNodeLimit: {
                    type: Object,
                    default: function _default() {
                        return Object(o.a)()
                    }
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                isDiagram: {
                    type: Boolean,
                    required: !1
                },
                onCommentChange: {
                    type: Function,
                    default: function _default() {}
                },
                showMoveNodeContextMenu: {
                    type: Boolean,
                    default: !0
                }
            },
            data: function data() {
                return {
                    cachedHistoryLength: 0,
                    contextMenuIsChildNode: !1,
                    contextMenuNode: null,
                    contextMenuStyleObj: {
                        left: 0,
                        top: 0
                    },
                    isContextMenuVisible: !1,
                    lines: [],
                    nodeLimit: Object(o.a)(),
                    nodeSelectedFromContextMenu: !1
                }
            },
            watch: {
                initialNodeLimit: "copyNodeLimit"
            },
            created: function created() {
                this.copyNodeLimit()
            },
            mounted: function mounted() {
                var e = this;
                this.clearAnalysisOnConfirm && L.a.$on(r.e.CLEAR_ANALYSIS, function(t) {
                    e.onContextMenuAction(t)
                })
            },
            methods: {
                fireHistoryEvent: function fireHistoryEvent(e) {
                    Object(l.a)(this, e, j)
                },
                closeContextMenu: function closeContextMenu() {
                    this.isContextMenuVisible = !1, this.contextMenuNode = null, this.contextMenuIsChildNode = !1
                },
                copyNodeLimit: function copyNodeLimit() {
                    this.nodeLimit = {
                        begin: Object.assign({}, this.initialNodeLimit.begin),
                        end: Object.assign({}, this.initialNodeLimit.end),
                        focus: Object.assign({}, this.initialNodeLimit.focus)
                    }
                },
                getClasses: function getClasses(e, t) {
                    var n = this.lines[t + 1],
                        a = e && (!n || !n.isChild);
                    return [this.$style.line, i()({}, this.$style.alternate, e), i()({}, this.$style.main, !e), i()({}, this.$style["last-child"], a), i()({}, this.$style["dark-mode"], this.isDarkMode)]
                },
                handleDiagramSpecificActions: function handleDiagramSpecificActions(e) {
                    Object.prototype.hasOwnProperty.call(r.f.SET, e) ? this.nodeLimit[r.f.SET[e]] = this.contextMenuNode : Object.prototype.hasOwnProperty.call(r.f.REMOVE, e) && (this.nodeLimit[r.f.REMOVE[e]] = {})
                },
                onContextMenuAction: function onContextMenuAction(e) {
                    var t = this;
                    r.d.includes(e.action) ? (this.handleDiagramSpecificActions(e.action), this.$emit("nodeLimit", this.nodeLimit)) : this.$emit("moveList-contextMenuAction", {
                        node: this.contextMenuNode,
                        actionItem: e
                    }), this.closeContextMenu(), this.$nextTick(function() {
                        t.updateScrollPosition(t.game.tree.selected)
                    })
                },
                openContextMenu: function openContextMenu(e, t) {
                    var n = this;
                    this.showMoveNodeContextMenu && (this.isContextMenuVisible = !0, this.contextMenuNode = e, this.contextMenuIsChildNode = t, this.nodeSelectedFromContextMenu = !0, this.goToNode(this.contextMenuNode.ids), this.$nextTick(function() {
                        var t = function getMenuPosition(e, t) {
                                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                                        x: 0,
                                        y: 0
                                    },
                                    a = t.y + n.y - window.pageYOffset,
                                    i = window.innerHeight - e.height,
                                    o = {
                                        top: 0,
                                        left: 0
                                    };
                                return o.top = Math.min(a, i), o.bottom = o.top + e.height, t.x > window.innerWidth - e.width ? (a < i && (n.y = 0), o.left = t.x - e.width - n.y) : (a < i && (n.x = 0), o.left = t.x + n.x), o
                            }(n.$refs.moveNodeContextMenu.$el.getBoundingClientRect(), n.getComponentRefByLineMove(e.ids.line, e.ids.move).$el.getBoundingClientRect(), {
                                x: 10,
                                y: 20
                            }),
                            a = t.top,
                            i = t.left,
                            r = t.bottom,
                            l = Object(s.f)(o.d.DIAGRAM_EDITOR);
                        l && (r > l.getBoundingClientRect().bottom && (n.contextMenuStyleObj.height = "270px", n.contextMenuStyleObj.overflowX = "scroll"));
                        n.contextMenuStyleObj.top = "".concat(a, "px"), n.contextMenuStyleObj.left = "".concat(i, "px")
                    }))
                },
                showGameResult: function showGameResult(e, t) {
                    return this.enableGameResult && e === t - 1 && "*" !== this.game.setup.result
                }
            }
        },
        G = n(586);
    var H = Object(R.a)(U, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.game.settings.rules ? n("div", {
            class: e.$style.component,
            attrs: {
                "data-cy": "horizontal-move-list"
            }
        }, [n("div", [e._l(e.lines, function(t, a) {
            return n("div", {
                key: a,
                class: e.getClasses(t.isChild, a)
            }, [e._l(t.moves, function(a, i) {
                return n("move-node", {
                    key: "move-" + a.ids.line + "-" + a.ids.move,
                    ref: "move-" + a.ids.line + "-" + a.ids.move,
                    refInFor: !0,
                    attrs: {
                        "data-cy": "move-node-" + a.ids.line + "-" + a.ids.move,
                        editable: e.showMoveNodeContextMenu,
                        "has-alt-lines": t.hasAltLines,
                        index: i,
                        "is-continuation": t.isContinuation,
                        "is-dark-mode": e.isDarkMode,
                        "is-last": i === t.moves.length - 1,
                        "move-display-type": e.moveDisplayType,
                        "move-list-node-limits": e.nodeLimit,
                        node: a,
                        "on-click": e.goToNode,
                        "on-comment-change": e.onCommentChange,
                        "on-context-menu": e.openContextMenu,
                        "starting-move-number": e.startingMoveNumber
                    },
                    on: {
                        "moveList-saveComment": function(t) {
                            return e.$emit("moveList-saveComment", t)
                        }
                    }
                })
            }), e._v(" "), e.showGameResult(a, e.lines.length) ? n("span", {
                class: e.$style.result,
                domProps: {
                    textContent: e._s(e.game.setup.result)
                }
            }) : e._e()], 2)
        }), e._v(" "), e.showMoveNodeContextMenu && e.isContextMenuVisible ? n("move-node-context-menu", {
            ref: "moveNodeContextMenu",
            style: e.contextMenuStyleObj,
            attrs: {
                "clear-analysis-on-confirm": e.clearAnalysisOnConfirm,
                game: e.game,
                "is-child-node": e.contextMenuIsChildNode,
                "is-dark-mode": e.isDarkMode,
                "is-diagram": e.isDiagram,
                "main-line-is-immutable": e.game.settings.mainLineIsImmutable,
                "move-node": e.contextMenuNode,
                "node-limit": e.nodeLimit
            },
            on: {
                closeMenu: e.closeContextMenu,
                onAction: e.onContextMenuAction
            }
        }) : e._e()], 2)]) : e._e()
    }, [], !1, function horizontal_move_list_injectStyles(e) {
        this.$style = G.default.locals || G.default
    }, null, null);
    t.a = H.exports
}, , , , , , , , , function(e, t, n) {
    "use strict";
    var a = n(3),
        i = n.n(a),
        o = n(20),
        r = n(25),
        s = n(574),
        l = n(36);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                i()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var c = {
            name: "widget-board-controls",
            mixins: [{
                name: "widget-board-controls",
                components: {
                    BoardControls: s.a
                },
                props: {
                    boardSelector: {
                        type: String,
                        default: o.h.board
                    },
                    hideActions: {
                        type: Object,
                        default: function _default() {
                            return {}
                        }
                    }
                },
                data: function data() {
                    return {
                        board: null,
                        difference: null,
                        start: null,
                        width: null
                    }
                },
                computed: _objectSpread({}, Object(r.mapState)({
                    boardOptions: function boardOptions(e) {
                        return e.board.boardOptions
                    }
                })),
                mounted: function mounted() {
                    this.board = document.querySelector(this.boardSelector)
                },
                methods: _objectSpread({}, Object(r.mapMutations)("board", ["setOption", "setStyle"]), {
                    boardDidReachMaxWidth: function boardDidReachMaxWidth() {
                        return this.board.children[0].offsetHeight === this.board.offsetHeight - this.board.offsetHeight % 8 || document.querySelector(o.h.sidebar).offsetWidth === o.b.minSidebarWidth && this.board.offsetLeft - o.b.boardPaddingLeft === this.board.parentNode.offsetLeft
                    },
                    flipBoard: function flipBoard() {
                        this.setOption({
                            option: "flipBoard",
                            value: !this.boardOptions.flipBoard
                        })
                    },
                    toggleBoardSettings: function toggleBoardSettings() {
                        l.a.$emit("showBoardSettingsModal")
                    }
                })
            }]
        },
        u = n(577),
        d = n(5);
    var p = Object(d.a)(c, function() {
        var e = this.$createElement;
        return (this._self._c || e)("board-controls", {
            attrs: {
                "hide-actions": this.hideActions,
                flip: this.flipBoard,
                settings: this.toggleBoardSettings
            }
        })
    }, [], !1, function injectStyles(e) {
        this.$style = u.default.locals || u.default
    }, null, null);
    t.a = p.exports
}, function(e, t, n) {
    "use strict";
    var a = n(48),
        i = n(97),
        o = n(229),
        r = n(422),
        s = n(285),
        l = n(396),
        c = ["p", "n", "b", "r", "q", "k"],
        u = {
            props: {
                boardId: {
                    type: String,
                    required: !0
                },
                inGameVariantOnly: {
                    type: Boolean,
                    default: !1
                },
                flipped: {
                    type: Boolean,
                    default: !1
                },
                game: {
                    type: Object,
                    required: !0
                },
                size: {
                    type: Number,
                    required: !1,
                    default: 0
                },
                pieceStyle: {
                    type: String,
                    default: i.a.defaultBoardOptions.pieceStyle
                },
                highlightColor: {
                    type: String,
                    default: i.a.defaultBoardOptions.highlightColor
                },
                highlightOpacity: {
                    type: Number,
                    default: i.a.defaultBoardOptions.highlightOpacity
                }
            },
            data: function data() {
                return {
                    actualSize: 0,
                    selectedPiece: null,
                    cursorPiece: null
                }
            },
            computed: {
                hand: function hand() {
                    var e = {
                        1: {},
                        2: {}
                    };
                    c.forEach(function(t) {
                        e[1][t] = 0, e[2][t] = 0
                    });
                    for (var t = 0; t < this.game.setup.hand.length; t += 1) {
                        var n = this.game.setup.hand.substr(t, 1),
                            a = n.charCodeAt(0) < 97 ? 1 : 2;
                        e[a][n.toLowerCase()] += 1
                    }
                    return e
                },
                containerStyle: function containerStyle() {
                    var e = {};
                    return this.inGameVariantOnly ? e.position = "relative" : (e.width = "".concat(this.actualSize * (this.pieces.length / 2), "px"), e.height = "".concat(2 * this.actualSize, "px")), Object(a.a)() < o.n.desktop && (e.margin = "0 auto"), e
                },
                highlightStyle: function highlightStyle() {
                    var e = {
                        backgroundColor: this.highlightColor,
                        width: "".concat(this.actualSize, "px"),
                        height: "".concat(this.actualSize, "px"),
                        display: null !== this.selectedPiece ? "block" : "none",
                        opacity: this.highlightOpacity
                    };
                    if (null !== this.selectedPiece) {
                        var t = this.getPiecePosition(this.selectedPiece),
                            n = t.xTransform,
                            a = t.yTransform;
                        e[s.e] = "translate3d(".concat(n, "px, ").concat(a, "px, 0)")
                    }
                    return e
                },
                pieces: function pieces() {
                    var e = this,
                        pieces = [];
                    return ["1", "2"].forEach(function(t) {
                        c.forEach(function(n) {
                            if (e.inGameVariantOnly && "k" !== n && e.hand[t][n] > 0 || !e.inGameVariantOnly) {
                                var a = e.generateStyles(n, t);
                                pieces.push({
                                    type: n,
                                    color: t,
                                    style: a.piece,
                                    handStyle: a.hand,
                                    url: e.getPieceUrl(t, n)
                                })
                            }
                        })
                    }), pieces
                }
            },
            mounted: function mounted() {
                var e = this;
                this.addDOMEvents(), this.$nextTick(function() {
                    e.resize()
                })
            },
            beforeDestroy: function beforeDestroy() {
                document.documentElement.removeEventListener("click", this.onGlobalClick), this.removeCursorPiece()
            },
            methods: {
                resize: function resize(e) {
                    if (this.size) this.actualSize = this.size;
                    else if (e) this.actualSize = 8 * e / 10;
                    else {
                        var t = document.getElementById(this.boardId);
                        this.actualSize = t.offsetWidth / 10
                    }
                },
                addDOMEvents: function addDOMEvents() {
                    new r.a(this.$el).observe({
                        dragstart: this.onDragStart,
                        dragmove: this.onDragMove,
                        dragstop: this.onDrop,
                        dragcancel: this.onDragCancel,
                        click: this.onClick
                    }), document.documentElement.addEventListener("click", this.onGlobalClick, !1)
                },
                onDragStart: function onDragStart(e) {
                    var t = e.target.getAttribute("data-type"),
                        n = e.target.getAttribute("data-color");
                    if ((!this.inGameVariantOnly || 0 !== this.hand[n][t] && Number(n) === this.game.setup.sideToMove) && !e.isRightClick) {
                        var a = e.target.classList.contains(this.$style.el) ? e.target : null;
                        if (!a) return;
                        this.draggingPiece = {
                            el: a,
                            origCoords: a.style[s.e]
                        }
                    }
                },
                onDragMove: function onDragMove(e) {
                    if (this.draggingPiece) {
                        var t = Object(s.d)(e, document.body),
                            n = t.x - this.actualSize / 2,
                            a = t.y - this.actualSize / 2;
                        this.draggingPiece.el.style[s.e] = "translate3d(".concat(n, "px, ").concat(a, "px, 0)"), this.draggingPiece.el.classList.add(this.$style.dragging), this.selectedPiece = null
                    }
                },
                onDrop: function onDrop(e) {
                    if (this.draggingPiece) {
                        this.resetPiecePosition();
                        var t = document.getElementById(this.boardId) || document.querySelector(".board");
                        if (t) {
                            var n = Object(s.b)(e, t, this.game.setup.files, this.game.setup.ranks, this.flipped),
                                a = e.target.getAttribute("data-type"),
                                i = "1" === e.target.getAttribute("data-color") ? a.toUpperCase() : a.toLowerCase();
                            this.$emit("droppablePieces-dropPiece", {
                                fileRank: n,
                                pieceType: i
                            })
                        }
                        this.draggingPiece = null, this.selectedPiece = null
                    }
                },
                onDragCancel: function onDragCancel() {
                    this.resetPiecePosition(), this.draggingPiece = null, this.selectedPiece = null
                },
                onClick: function onClick(e) {
                    var t = e.target.getAttribute("data-color"),
                        n = e.target.getAttribute("data-type");
                    if (this.selectedPiece && this.selectedPiece.type === n && this.selectedPiece.color === t) this.selectedPiece = null;
                    else {
                        if (this.inGameVariantOnly && (0 === this.hand[t][n] || Number(t) !== this.game.setup.sideToMove)) return;
                        this.selectedPiece = {
                            type: n,
                            color: t
                        }, this.createCursorPiece(e)
                    }
                },
                createCursorPiece: function createCursorPiece(e) {
                    var t = this.selectedPiece,
                        n = t.color,
                        a = t.type;
                    this.removeCursorPiece();
                    var i = document.createElement("img");
                    i.src = this.getPieceUrl(n, a, 30), i.width = 30, i.height = 30, i.style.position = "fixed", i.style.zIndex = 1e3, document.body.appendChild(i), this.cursorPiece = i, document.documentElement.addEventListener("mousemove", this.onMouseMove), e && this.onMouseMove(e)
                },
                onMouseMove: function onMouseMove(e) {
                    var t = function getPos(e) {
                        return "".concat(e + 8, "px")
                    };
                    this.cursorPiece.style.top = t(e.pageY), this.cursorPiece.style.left = t(e.pageX)
                },
                removeCursorPiece: function removeCursorPiece() {
                    this.cursorPiece && (document.documentElement.removeEventListener("mousemove", this.onMouseMove), document.body.removeChild(this.cursorPiece), this.cursorPiece = null)
                },
                onGlobalClick: function onGlobalClick(e) {
                    if (e.target.className !== this.$style.el && e.target.className !== this.$style.component && this.selectedPiece && this.selectedPiece.type) {
                        var t = document.getElementById(this.boardId) || document.querySelector(".board");
                        if (t) {
                            var n = Object(s.b)(e, t, this.game.setup.files, this.game.setup.ranks, this.flipped),
                                a = this.selectedPiece,
                                i = a.type,
                                o = "1" === a.color ? i.toUpperCase() : i.toLowerCase();
                            this.$emit("droppablePieces-dropPiece", {
                                fileRank: n,
                                pieceType: o
                            })
                        }
                        this.draggingPiece = null
                    }
                },
                resetPiecePosition: function resetPiecePosition() {
                    this.draggingPiece && (this.draggingPiece.el.classList.remove(this.$style.dragging), this.draggingPiece.el.style[s.e] = this.draggingPiece.origCoords)
                },
                getPiecePosition: function getPiecePosition(e) {
                    var t = e.type,
                        n = e.color,
                        a = c.indexOf(t),
                        i = this.inGameVariantOnly ? 0 : this.actualSize * a,
                        o = "1" === n ? 0 : this.actualSize;
                    return this.inGameVariantOnly && (o = "1" === n ? this.flipped ? this.actualSize * a : this.actualSize * (5 - a + 4) : this.flipped ? this.actualSize * (5 - a + 4) : this.actualSize * a), {
                        xTransform: i,
                        yTransform: o
                    }
                },
                getPieceUrl: function getPieceUrl(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        a = Object(l.b)(this.pieceStyle, n || this.actualSize);
                    return "".concat(a).concat("1" === e ? "w" : "b").concat(t, ".png")
                },
                generateStyles: function generateStyles(e, t) {
                    var n = this.getPiecePosition({
                            color: t,
                            type: e
                        }),
                        a = n.xTransform,
                        i = n.yTransform,
                        o = {
                            width: "".concat(this.actualSize, "px"),
                            height: "".concat(this.actualSize, "px")
                        };
                    o[s.e] = "translate3d(".concat(a, "px, ").concat(i, "px, 0)");
                    var r = null;
                    if (this.inGameVariantOnly) {
                        var l = .22 * this.actualSize;
                        (r = {
                            width: "".concat(l, "px"),
                            height: "".concat(l, "px"),
                            fontSize: "".concat(.8 * l, "px"),
                            lineHeight: "".concat(.8 * l, "px"),
                            borderRadius: "".concat(l, "px")
                        })[s.e] = "translate3d(".concat(this.actualSize - l, "px, ").concat(i + (this.actualSize - l), "px, 0)")
                    }
                    return {
                        piece: o,
                        hand: r
                    }
                }
            },
            watch: {
                "game.setup.sideToMove": function watchSideToMove() {
                    if (this.selectedPiece) {
                        var e = Number(this.selectedPiece.color);
                        this.inGameVariantOnly && e !== this.game.setup.sideToMove && (this.selectedPiece = null)
                    }
                },
                size: function size() {
                    this.resize()
                },
                selectedPiece: function selectedPiece() {
                    this.selectedPiece || this.removeCursorPiece()
                }
            }
        },
        d = n(590),
        p = n(5);
    var h = Object(p.a)(u, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            ref: "container",
            class: e.$style.component,
            style: e.containerStyle
        }, [n("div", {
            style: e.highlightStyle
        }), e._v(" "), e._l(e.pieces, function(t) {
            return n("span", {
                key: t.url
            }, [n("img", {
                class: e.$style.el,
                style: t.style,
                attrs: {
                    "data-color": t.color,
                    "data-type": t.type,
                    height: e.actualSize,
                    src: t.url,
                    width: e.actualSize
                }
            }), e._v(" "), e.inGameVariantOnly && e.hand[t.color][t.type] > 1 ? n("span", {
                class: e.$style.hand,
                style: t.handStyle
            }, [e._v("\n      " + e._s(e.hand[t.color][t.type]) + "\n    ")]) : e._e()])
        })], 2)
    }, [], !1, function injectStyles(e) {
        this.$style = d.default.locals || d.default
    }, null, null);
    t.a = h.exports
}, , , function(e, t, n) {
    e.exports = {
        component: "board-tab-container-component",
        darkMode: "board-tab-container-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        component: "board-tab-item-component",
        active: "board-tab-item-active",
        darkMode: "board-tab-item-darkMode",
        icon: "board-tab-item-icon",
        label: "board-tab-item-label",
        badge: "board-tab-item-badge"
    }
}, function(e, t, n) {
    e.exports = {
        icon: "board-main-control-button-icon",
        darkMode: "board-main-control-button-darkMode",
        primaryDark: "board-main-control-button-primaryDark",
        primary: "board-main-control-button-primary",
        button: "board-main-control-button-button"
    }
}, function(e, t, n) {
    e.exports = {
        component: "main-controls-component",
        darkMode: "main-controls-darkMode",
        float: "main-controls-float",
        button: "main-controls-button",
        badge: "main-controls-badge"
    }
}, function(e, t, n) {
    e.exports = {
        component: "alt-share-menu-share-link-component",
        input: "alt-share-menu-share-link-input",
        action: "alt-share-menu-share-link-action",
        icon: "alt-share-menu-share-link-icon",
        message: "alt-share-menu-share-link-message",
        "message-enter": "alt-share-menu-share-link-message-enter",
        "message-leave-to": "alt-share-menu-share-link-message-leave-to",
        "message-enter-active": "alt-share-menu-share-link-message-enter-active",
        "message-leave-active": "alt-share-menu-share-link-message-leave-active"
    }
}, function(e, t, n) {
    e.exports = {
        component: "header-controls-component",
        tab: "header-controls-tab",
        active: "header-controls-active",
        icon: "header-controls-icon",
        close: "header-controls-close"
    }
}, function(e, t, n) {
    e.exports = {
        component: "pgn-download-component",
        pgn: "pgn-download-pgn",
        header: "pgn-download-header",
        textarea: "pgn-download-textarea",
        download: "pgn-download-download",
        button: "pgn-download-button",
        timestamps: "pgn-download-timestamps",
        icon: "pgn-download-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "share-board-component",
        icon: "share-board-icon",
        text: "share-board-text"
    }
}, function(e, t, n) {
    e.exports = {
        component: "share-menu-content-component",
        section: "share-menu-content-section",
        social: "share-menu-content-social"
    }
}, function(e, t, n) {
    e.exports = {
        component: "tinymce-component"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "alt-share-menu-tab-embed-bold",
        header: "alt-share-menu-tab-embed-header",
        darkMode: "alt-share-menu-tab-embed-darkMode",
        inactive: "alt-share-menu-tab-embed-inactive",
        scrollable: "alt-share-menu-tab-embed-scrollable",
        accordion: "alt-share-menu-tab-embed-accordion",
        component: "alt-share-menu-tab-embed-component",
        controls: "alt-share-menu-tab-embed-controls",
        stretch: "alt-share-menu-tab-embed-stretch",
        select: "alt-share-menu-tab-embed-select",
        half: "alt-share-menu-tab-embed-half",
        section: "alt-share-menu-tab-embed-section",
        flex: "alt-share-menu-tab-embed-flex",
        code: "alt-share-menu-tab-embed-code",
        content: "alt-share-menu-tab-embed-content",
        label: "alt-share-menu-tab-embed-label",
        input: "alt-share-menu-tab-embed-input",
        toggles: "alt-share-menu-tab-embed-toggles",
        toggle: "alt-share-menu-tab-embed-toggle"
    }
}, function(e, t, n) {
    e.exports = {
        button: "alt-share-menu-tab-event-button",
        download: "alt-share-menu-tab-event-download",
        heading: "alt-share-menu-tab-event-heading",
        icon: "alt-share-menu-tab-event-icon",
        section: "alt-share-menu-tab-event-section"
    }
}, function(e, t, n) {
    e.exports = {
        component: "alt-share-menu-tab-gif-component",
        gif: "alt-share-menu-tab-gif-gif",
        square: "alt-share-menu-tab-gif-square",
        button: "alt-share-menu-tab-gif-button"
    }
}, function(e, t, n) {
    e.exports = {
        component: "alt-share-menu-tab-image-component",
        image: "alt-share-menu-tab-image-image",
        button: "alt-share-menu-tab-image-button"
    }
}, function(e, t, n) {
    e.exports = {
        button: "alt-share-menu-tab-pgn-button",
        download: "alt-share-menu-tab-pgn-download",
        heading: "alt-share-menu-tab-pgn-heading",
        pgn: "alt-share-menu-tab-pgn-pgn",
        icon: "alt-share-menu-tab-pgn-icon",
        section: "alt-share-menu-tab-pgn-section",
        textarea: "alt-share-menu-tab-pgn-textarea",
        toggle: "alt-share-menu-tab-pgn-toggle",
        toggles: "alt-share-menu-tab-pgn-toggles"
    }
}, function(e, t, n) {
    e.exports = {
        component: "board-tab-item-underlined-component",
        active: "board-tab-item-underlined-active",
        blue: "board-tab-item-underlined-blue",
        icon: "board-tab-item-underlined-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "alt-share-menu-tab-selector-component",
        tab: "alt-share-menu-tab-selector-tab"
    }
}, function(e, t, n) {
    e.exports = {
        close: "alt-share-menu-close",
        content: "alt-share-menu-content",
        header: "alt-share-menu-header",
        share: "alt-share-menu-share",
        tab: "alt-share-menu-tab",
        modal: "alt-share-menu-modal",
        wrapper: "alt-share-menu-wrapper"
    }
}, function(e, t, n) {
    e.exports = {
        component: "secondary-controls-component",
        darkMode: "secondary-controls-darkMode",
        icon: "secondary-controls-icon",
        action: "secondary-controls-action"
    }
}, function(e, t, n) {
    e.exports = {
        component: "controls-component",
        darkMode: "controls-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        primary: "retry-controls-primary",
        disabled: "retry-controls-disabled",
        component: "retry-controls-component",
        darkMode: "retry-controls-darkMode",
        button: "retry-controls-button",
        icon: "retry-controls-icon",
        top: "retry-controls-top",
        bottom: "retry-controls-bottom"
    }
}, function(e, t, n) {
    e.exports = {
        locked: "locked-message-locked",
        button: "locked-message-button",
        icon: "locked-message-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "run-full-analysis-button-component",
        light: "run-full-analysis-button-light",
        darkMode: "run-full-analysis-button-darkMode",
        colored: "run-full-analysis-button-colored",
        analysis: "run-full-analysis-button-analysis",
        button: "run-full-analysis-button-button",
        text: "run-full-analysis-button-text"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "move-list-bold",
        header: "move-list-header",
        darkMode: "move-list-darkMode",
        inactive: "move-list-inactive",
        scrollable: "move-list-scrollable",
        component: "move-list-component"
    }
}, function(e, t, n) {
    e.exports = {
        button: "analysis-area-button",
        locked: "analysis-area-locked",
        save: "analysis-area-save",
        message: "analysis-area-message",
        players: "analysis-area-players"
    }
}, function(e, t, n) {
    e.exports = {
        content: "engine-settings-dialog-content",
        body: "engine-settings-dialog-body",
        row: "engine-settings-dialog-row",
        label: "engine-settings-dialog-label",
        select: "engine-settings-dialog-select",
        footer: "engine-settings-dialog-footer"
    }
}, function(e, t, n) {
    e.exports = {
        icon: "icon-toggle-icon",
        off: "icon-toggle-off"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "row-bold",
        header: "row-header",
        component: "row-component",
        darkMode: "row-darkMode",
        inactive: "row-inactive",
        scrollable: "row-scrollable",
        data: "row-data",
        padded: "row-padded",
        icon: "row-icon",
        lock: "row-lock",
        toggle: "row-toggle",
        value: "row-value",
        hidden: "row-hidden"
    }
}, function(e, t, n) {
    e.exports = {
        component: "tallies-table-component",
        padded: "tallies-table-padded",
        bordered: "tallies-table-bordered",
        darkMode: "tallies-table-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        component: "modal-settings-old-component",
        modal: "modal-settings-old-modal",
        setting: "modal-settings-old-setting",
        classifications: "modal-settings-old-classifications",
        disabled: "modal-settings-old-disabled",
        player: "modal-settings-old-player",
        row: "modal-settings-old-row",
        select: "modal-settings-old-select",
        settings: "modal-settings-old-settings",
        label: "modal-settings-old-label"
    }
}, function(e, t, n) {
    e.exports = {
        component: "analysis-settings-component",
        settings: "analysis-settings-settings",
        setting: "analysis-settings-setting",
        classifications: "analysis-settings-classifications",
        inline: "analysis-settings-inline",
        message: "analysis-settings-message",
        disabled: "analysis-settings-disabled",
        player: "analysis-settings-player",
        row: "analysis-settings-row",
        select: "analysis-settings-select",
        label: "analysis-settings-label"
    }
}, function(e, t, n) {
    e.exports = {
        component: "ui-settings-component",
        setting: "ui-settings-setting",
        classifications: "ui-settings-classifications",
        disabled: "ui-settings-disabled",
        player: "ui-settings-player",
        row: "ui-settings-row",
        select: "ui-settings-select",
        label: "ui-settings-label"
    }
}, function(e, t, n) {
    e.exports = {
        modal: "modal-settings-modal",
        close: "modal-settings-close",
        tabs: "modal-settings-tabs"
    }
}, function(e, t, n) {
    e.exports = {
        component: "options-component",
        darkMode: "options-darkMode",
        bar: "options-bar",
        checkbox: "options-checkbox",
        right: "options-right",
        icon: "options-icon",
        depth: "options-depth"
    }
}, function(e, t, n) {
    e.exports = {
        component: "accordion-component",
        darkMode: "accordion-darkMode",
        trigger: "accordion-trigger",
        icon: "accordion-icon",
        heading: "accordion-heading",
        big: "accordion-big",
        right: "accordion-right",
        content: "accordion-content",
        open: "accordion-open"
    }
}, function(e, t, n) {
    e.exports = {
        text: "initial-view-text"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "load-fen-accordion",
        component: "load-fen-component",
        darkMode: "load-fen-darkMode",
        controls: "load-fen-controls",
        stretch: "load-fen-stretch",
        select: "load-fen-select"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "load-pgn-accordion",
        component: "load-pgn-component",
        darkMode: "load-pgn-darkMode",
        controls: "load-pgn-controls",
        stretch: "load-pgn-stretch",
        select: "load-pgn-select",
        multi: "load-pgn-multi",
        pgn: "load-pgn-pgn",
        textarea: "load-pgn-textarea"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "basic-section-accordion",
        component: "basic-section-component",
        darkMode: "basic-section-darkMode",
        controls: "basic-section-controls",
        stretch: "basic-section-stretch",
        select: "basic-section-select",
        expand: "basic-section-expand"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "setup-content-accordion",
        component: "setup-content-component",
        darkMode: "setup-content-darkMode",
        controls: "setup-content-controls",
        stretch: "setup-content-stretch",
        select: "setup-content-select",
        top: "setup-content-top",
        bottom: "setup-content-bottom",
        iconized: "setup-content-iconized",
        colortitle: "setup-content-colortitle",
        labels: "setup-content-labels",
        options: "setup-content-options",
        textwrap: "setup-content-textwrap",
        flex: "setup-content-flex",
        label: "setup-content-label",
        textarea: "setup-content-textarea",
        advanced: "setup-content-advanced",
        "toggle-button": "setup-content-toggle-button",
        "advanced-container": "setup-content-advanced-container",
        "advanced-item": "setup-content-advanced-item",
        "advanced-input": "setup-content-advanced-input",
        "toggle-icon": "setup-content-toggle-icon"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "setup-section-accordion",
        component: "setup-section-component",
        darkMode: "setup-section-darkMode",
        controls: "setup-section-controls",
        stretch: "setup-section-stretch",
        select: "setup-section-select",
        wrapper: "setup-section-wrapper",
        open: "setup-section-open",
        content: "setup-section-content",
        section: "setup-section-section"
    }
}, function(e, t, n) {
    e.exports = {
        accordion: "board-setup-accordion",
        component: "board-setup-component",
        darkMode: "board-setup-darkMode",
        controls: "board-setup-controls",
        stretch: "board-setup-stretch",
        select: "board-setup-select",
        prompt: "board-setup-prompt",
        open: "board-setup-open"
    }
}, function(e, t, n) {
    e.exports = {
        score: "score-text-score",
        negative: "score-text-negative"
    }
}, function(e, t, n) {
    e.exports = {
        component: "engine-line-component",
        darkMode: "engine-line-darkMode",
        preview: "engine-line-preview",
        open: "engine-line-open",
        icon: "engine-line-icon",
        inverted: "engine-line-inverted",
        node: "engine-line-node",
        clickable: "engine-line-clickable",
        thinking: "engine-line-thinking"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "move-feedback-row-bold",
        header: "move-feedback-row-header",
        darkMode: "move-feedback-row-darkMode",
        inactive: "move-feedback-row-inactive",
        scrollable: "move-feedback-row-scrollable",
        component: "move-feedback-row-component",
        engine: "move-feedback-row-engine",
        score: "move-feedback-row-score",
        colored: "move-feedback-row-colored",
        line: "move-feedback-row-line",
        description: "move-feedback-row-description",
        moves: "move-feedback-row-moves",
        indicator: "move-feedback-row-indicator",
        black: "move-feedback-row-black",
        white: "move-feedback-row-white",
        "line-end-icon": "move-feedback-row-line-end-icon",
        san: "move-feedback-row-san",
        topline: "move-feedback-row-topline"
    }
}, function(e, t, n) {
    e.exports = {
        component: "move-feedback-component",
        row: "move-feedback-row",
        darkMode: "move-feedback-darkMode",
        thinking: "move-feedback-thinking"
    }
}, function(e, t, n) {
    e.exports = {
        component: "eco-classifier-component",
        darkMode: "eco-classifier-darkMode",
        label: "eco-classifier-label",
        clickable: "eco-classifier-clickable",
        icon: "eco-classifier-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "opening-component",
        icon: "opening-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "feedback-component",
        darkMode: "feedback-darkMode",
        full: "feedback-full"
    }
}, function(e, t, n) {
    e.exports = {
        component: "lines-component",
        darkMode: "lines-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "tab-analysis-bold",
        header: "tab-analysis-header",
        darkMode: "tab-analysis-darkMode",
        inactive: "tab-analysis-inactive",
        scrollable: "tab-analysis-scrollable",
        accordion: "tab-analysis-accordion",
        component: "tab-analysis-component",
        controls: "tab-analysis-controls",
        stretch: "tab-analysis-stretch",
        select: "tab-analysis-select"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "details-section-bold",
        header: "details-section-header",
        darkMode: "details-section-darkMode",
        inactive: "details-section-inactive",
        scrollable: "details-section-scrollable",
        component: "details-section-component",
        bordered: "details-section-bordered",
        padded: "details-section-padded",
        row: "details-section-row"
    }
}, function(e, t, n) {
    e.exports = {
        component: "form-select-alt-component",
        darkMode: "form-select-alt-darkMode",
        options: "form-select-alt-options",
        option: "form-select-alt-option",
        selected: "form-select-alt-selected",
        select: "form-select-alt-select",
        value: "form-select-alt-value",
        icon: "form-select-alt-icon",
        overlay: "form-select-alt-overlay"
    }
}, function(e, t, n) {
    e.exports = {
        component: "game-details-form-component",
        darkMode: "game-details-form-darkMode",
        select: "game-details-form-select",
        date: "game-details-form-date",
        icon: "game-details-form-icon",
        content: "game-details-form-content",
        controls: "game-details-form-controls",
        eco: "game-details-form-eco",
        normal: "game-details-form-normal",
        short: "game-details-form-short",
        wide: "game-details-form-wide",
        spaced: "game-details-form-spaced",
        disabled: "game-details-form-disabled"
    }
}, function(e, t, n) {
    e.exports = {
        component: "game-details-component",
        darkMode: "game-details-darkMode"
    }
}, function(e, t, n) {
    e.exports = {
        table: "game-phases-table"
    }
}, function(e, t, n) {
    e.exports = {
        component: "arbitrary-move-list-component",
        darkMode: "arbitrary-move-list-darkMode",
        node: "arbitrary-move-list-node",
        enabled: "arbitrary-move-list-enabled",
        separator: "arbitrary-move-list-separator"
    }
}, function(e, t, n) {
    e.exports = {
        eco: "opening-eco",
        row: "opening-row"
    }
}, function(e, t, n) {
    e.exports = {
        table: "performance-table"
    }
}, function(e, t, n) {
    e.exports = {
        component: "performance-by-piece-component",
        icon: "performance-by-piece-icon",
        section: "performance-by-piece-section"
    }
}, function(e, t, n) {
    e.exports = {
        table: "time-table"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "tab-details-bold",
        header: "tab-details-header",
        darkMode: "tab-details-darkMode",
        inactive: "tab-details-inactive",
        scrollable: "tab-details-scrollable",
        component: "tab-details-component",
        content: "tab-details-content"
    }
}, function(e, t, n) {
    e.exports = {
        component: "stat-component",
        darkMode: "stat-darkMode",
        white: "stat-white",
        fill: "stat-fill",
        draw: "stat-draw",
        black: "stat-black",
        text: "stat-text",
        label: "stat-label"
    }
}, function(e, t, n) {
    e.exports = {
        component: "stats-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "suggested-moves-component",
        darkMode: "suggested-moves-darkMode",
        "total-games": "suggested-moves-total-games",
        "suggested-moves-items": "suggested-moves-suggested-moves-items",
        "move-type": "suggested-moves-move-type",
        "suggested-moves-list": "suggested-moves-suggested-moves-list",
        "game-info": "suggested-moves-game-info",
        player: "suggested-moves-player",
        result: "suggested-moves-result",
        "percent-label": "suggested-moves-percent-label",
        "suggested-white": "suggested-moves-suggested-white",
        "suggested-draw": "suggested-moves-suggested-draw",
        "suggested-black": "suggested-moves-suggested-black",
        unstyled: "suggested-moves-unstyled"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "tab-openings-bold",
        header: "tab-openings-header",
        darkMode: "tab-openings-darkMode",
        inactive: "tab-openings-inactive",
        scrollable: "tab-openings-scrollable",
        component: "tab-openings-component",
        "total-games": "tab-openings-total-games",
        section: "tab-openings-section",
        "opening-moves": "tab-openings-opening-moves",
        "upgrade-button": "tab-openings-upgrade-button"
    }
}, function(e, t, n) {
    e.exports = {
        component: "upgrade-component",
        button: "upgrade-button",
        top: "upgrade-top",
        darkMode: "upgrade-darkMode",
        title: "upgrade-title",
        bullets: "upgrade-bullets"
    }
}, function(e, t, n) {
    e.exports = {
        component: "smart-updating-chart-component"
    }
}, function(e, t, n) {
    e.exports = {
        component: "game-arc-component",
        darkMode: "game-arc-darkMode",
        arc: "game-arc-arc",
        title: "game-arc-title",
        chart: "game-arc-chart",
        wrapper: "game-arc-wrapper",
        icon: "game-arc-icon",
        separator: "game-arc-separator",
        example: "game-arc-example"
    }
}, function(e, t, n) {
    e.exports = {
        component: "game-summary-component",
        darkMode: "game-summary-darkMode",
        icon: "game-summary-icon",
        label: "game-summary-label",
        row: "game-summary-row",
        hoverable: "game-summary-hoverable",
        value: "game-summary-value"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "player-accuracy-bold",
        header: "player-accuracy-header",
        darkMode: "player-accuracy-darkMode",
        inactive: "player-accuracy-inactive",
        scrollable: "player-accuracy-scrollable",
        component: "player-accuracy-component",
        black: "player-accuracy-black",
        white: "player-accuracy-white",
        loser: "player-accuracy-loser",
        winner: "player-accuracy-winner",
        avatar: "player-accuracy-avatar",
        icon: "player-accuracy-icon",
        text: "player-accuracy-text",
        label: "player-accuracy-label",
        value: "player-accuracy-value"
    }
}, function(e, t, n) {
    e.exports = {
        component: "top-themes-component",
        darkMode: "top-themes-darkMode",
        row: "top-themes-row",
        theme: "top-themes-theme",
        divider: "top-themes-divider"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "tab-report-bold",
        header: "tab-report-header",
        darkMode: "tab-report-darkMode",
        inactive: "tab-report-inactive",
        scrollable: "tab-report-scrollable",
        component: "tab-report-component",
        players: "tab-report-players",
        score: "tab-report-score",
        section: "tab-report-section"
    }
}, function(e, t, n) {
    e.exports = {
        component: "dropdown-menu-component",
        darkMode: "dropdown-menu-darkMode",
        right: "dropdown-menu-right",
        dropdown: "dropdown-menu-dropdown",
        toggle: "dropdown-menu-toggle",
        icon: "dropdown-menu-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "no-mistakes-component",
        darkMode: "no-mistakes-darkMode",
        icon: "no-mistakes-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "promo-header-component",
        icon: "promo-header-icon"
    }
}, function(e, t, n) {
    e.exports = {
        component: "retry-upgrade-component",
        title: "retry-upgrade-title"
    }
}, function(e, t, n) {
    e.exports = {
        component: "move-component",
        darkMode: "move-darkMode",
        background: "move-background",
        classification: "move-classification",
        icon: "move-icon",
        svg: "move-svg",
        answer: "move-answer",
        redo: "move-redo",
        move: "move-move",
        node: "move-node",
        score: "move-score",
        text: "move-text"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "retry-row-bold",
        header: "retry-row-header",
        darkMode: "retry-row-darkMode",
        inactive: "retry-row-inactive",
        scrollable: "retry-row-scrollable",
        component: "retry-row-component",
        selected: "retry-row-selected",
        boxes: "retry-row-boxes",
        moves: "retry-row-moves",
        number: "retry-row-number",
        section: "retry-row-section"
    }
}, function(e, t, n) {
    e.exports = {
        component: "retry-self-analysis-component",
        darkMode: "retry-self-analysis-darkMode",
        title: "retry-self-analysis-title",
        message: "retry-self-analysis-message"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "status-bold",
        header: "status-header",
        darkMode: "status-darkMode",
        inactive: "status-inactive",
        scrollable: "status-scrollable",
        component: "status-component",
        icon: "status-icon",
        good: "status-good",
        complete: "status-complete",
        empty: "status-empty",
        white: "status-white",
        rectangle: "status-rectangle",
        black: "status-black"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "tab-retry-bold",
        header: "tab-retry-header",
        darkMode: "tab-retry-darkMode",
        inactive: "tab-retry-inactive",
        scrollable: "tab-retry-scrollable",
        component: "tab-retry-component",
        engine: "tab-retry-engine",
        depth: "tab-retry-depth",
        lines: "tab-retry-lines",
        overlay: "tab-retry-overlay",
        brighten: "tab-retry-brighten",
        title: "tab-retry-title",
        content: "tab-retry-content",
        empty: "tab-retry-empty",
        section: "tab-retry-section",
        dropdown: "tab-retry-dropdown",
        prompt: "tab-retry-prompt",
        indicator: "tab-retry-indicator",
        circle: "tab-retry-circle",
        black: "tab-retry-black",
        white: "tab-retry-white",
        loader: "tab-retry-loader",
        titles: "tab-retry-titles",
        locked: "tab-retry-locked",
        icon: "tab-retry-icon"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "sidebar-bold",
        header: "sidebar-header",
        darkMode: "sidebar-darkMode",
        inactive: "sidebar-inactive",
        scrollable: "sidebar-scrollable",
        component: "sidebar-component",
        tab: "sidebar-tab",
        "active-tab": "sidebar-active-tab",
        badge: "sidebar-badge",
        content: "sidebar-content",
        "tab-container": "sidebar-tab-container"
    }
}, function(e, t, n) {
    e.exports = {
        component: "analysis-captured-pieces-component",
        pieces: "analysis-captured-pieces-pieces",
        top: "analysis-captured-pieces-top"
    }
}, function(e, t, n) {
    e.exports = {
        time: "move-time-time",
        dark: "move-time-dark",
        inactive: "move-time-inactive",
        indicator: "move-time-indicator",
        icon: "move-time-icon",
        content: "move-time-content",
        iconless: "move-time-iconless"
    }
}, function(e, t, n) {
    e.exports = {
        avatar: "player-row-avatar",
        winner: "player-row-winner",
        container: "player-row-container",
        component: "player-row-component",
        constrained: "player-row-constrained",
        pieces: "player-row-pieces",
        top: "player-row-top",
        rating: "player-row-rating",
        username: "player-row-username",
        wrapper: "player-row-wrapper",
        "move-time": "player-row-move-time"
    }
}, function(e, t, n) {
    e.exports = {
        avatar: "player-avatar",
        container: "player-container",
        player: "player-player",
        constrained: "player-constrained",
        top: "player-top",
        pieces: "player-pieces",
        rating: "player-rating",
        username: "player-username",
        wrapper: "player-wrapper"
    }
}, function(e, t, n) {
    e.exports = {
        bar: "evaluation-bar-bar",
        flipped: "evaluation-bar-flipped",
        score: "evaluation-bar-score",
        fill: "evaluation-bar-fill",
        color: "evaluation-bar-color",
        white: "evaluation-bar-white",
        black: "evaluation-bar-black",
        loader: "evaluation-bar-loader",
        "loading-message": "evaluation-bar-loading-message",
        dark: "evaluation-bar-dark",
        light: "evaluation-bar-light"
    }
}, function(e, t, n) {
    e.exports = {
        avatar: "player-avatar-avatar",
        winner: "player-avatar-winner"
    }
}, function(e, t, n) {
    e.exports = {
        component: "analysis-evaluation-bar-component",
        player: "analysis-evaluation-bar-player",
        bar: "analysis-evaluation-bar-bar",
        withPlayers: "analysis-evaluation-bar-withPlayers"
    }
}, function(e, t, n) {
    e.exports = {
        bold: "charts-bold",
        header: "charts-header",
        darkMode: "charts-darkMode",
        inactive: "charts-inactive",
        scrollable: "charts-scrollable",
        component: "charts-component",
        tab: "charts-tab",
        "active-tab": "charts-active-tab",
        data: "charts-data",
        tabs: "charts-tabs",
        expanded: "charts-expanded",
        loader: "charts-loader",
        lockmessage: "charts-lockmessage",
        "active-chart": "charts-active-chart",
        loading: "charts-loading",
        "best-move": "charts-best-move"
    }
}, function(e, t, n) {
    e.exports = {
        charts: "analysis-charts-charts"
    }
}, function(e, t, n) {
    e.exports = {
        container: "modal-container",
        blue: "modal-blue",
        header: "modal-header",
        icon: "modal-icon",
        body: "modal-body",
        intro: "modal-intro",
        benefits: "modal-benefits",
        close: "modal-close",
        subtitle: "modal-subtitle",
        sublabel: "modal-sublabel",
        title: "modal-title"
    }
}, function(e, t, n) {
    e.exports = {
        buttons: "modal-upgrade-buttons",
        btn: "modal-upgrade-btn"
    }
}, function(e, t, n) {
    e.exports = {
        btn: "modal-first-time-btn"
    }
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    var a = n(1133)();
    e.exports = function(e) {
        return e !== a && null !== e
    }
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    var a = n(674),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(675),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(676),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(677),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(678),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(679),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(680),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(681),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(682),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(683),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(684),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(685),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(686),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(687),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(688),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(689),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(690),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(691),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(692),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(693),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(694),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(695),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(696),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(697),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(698),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(699),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(700),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(701),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(702),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(703),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(704),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(705),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(706),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(707),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(708),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(709),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(710),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(711),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(712),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(713),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(714),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(715),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(716),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(717),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(718),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(719),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(720),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(721),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(722),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(723),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(724),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(725),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(726),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(727),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(728),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(729),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(730),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(731),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(732),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(733),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(734),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(735),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(736),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(737),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(738),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(739),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(740),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(741),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(742),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(743),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(744),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(745),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(746),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(747),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(748),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(749),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(750),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(751),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(752),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(753),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(754),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(755),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(756),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(757),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(758),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(759),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(760),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(761),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(762),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(763),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(764),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(765),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(766),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(767),
        i = n.n(a);
    t.default = i.a
}, function(e, t, n) {
    "use strict";
    var a = n(768),
        i = n.n(a);
    t.default = i.a
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    var a, i;
    i = function(e) {
        ! function(e) {
            var t = e.addEvent,
                n = e.defined,
                i = e.Color,
                o = e.seriesTypes.column,
                r = e.each,
                s = e.isNumber,
                l = e.isObject,
                c = e.merge,
                u = e.pick,
                d = e.seriesType,
                p = e.Axis,
                h = e.Point,
                m = e.Series;
            d("xrange", "column", {
                colorByPoint: !0,
                dataLabels: {
                    verticalAlign: "middle",
                    inside: !0,
                    formatter: function() {
                        var e = this.point.partialFill;
                        return l(e) && (e = e.amount), n(e) || (e = 0), 100 * e + "%"
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size: 0.85em">{point.x} - {point.x2}</span><br/>',
                    pointFormat: '<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'
                },
                borderRadius: 3,
                pointRange: 0
            }, {
                type: "xrange",
                parallelArrays: ["x", "x2", "y"],
                requireSorting: !1,
                animate: e.seriesTypes.line.prototype.animate,
                cropShoulder: 1,
                getExtremesFromAll: !0,
                autoIncrement: e.noop,
                getColumnMetrics: function() {
                    function a() {
                        r(t.series, function(e) {
                            var t = e.xAxis;
                            e.xAxis = e.yAxis, e.yAxis = t
                        })
                    }
                    var e, t = this.chart;
                    return a(), e = o.prototype.getColumnMetrics.call(this), a(), e
                },
                cropData: function(e, t, n, a) {
                    return (t = m.prototype.cropData.call(this, this.x2Data, t, n, a)).xData = e.slice(t.start, t.end), t
                },
                translatePoint: function(e) {
                    var t = this.xAxis,
                        a = this.yAxis,
                        i = this.columnMetrics,
                        o = this.options,
                        r = o.minPointLength || 0,
                        d = e.plotX,
                        p = u(e.x2, e.x + (e.len || 0)),
                        h = t.translate(p, 0, 0, 0, 1),
                        m = (p = Math.abs(h - d), this.chart.inverted),
                        f = u(o.borderWidth, 1) % 2 / 2,
                        g = i.offset,
                        b = Math.round(i.width);
                    r && (0 > (r -= p) && (r = 0), d -= r / 2, h += r / 2), d = Math.max(d, -10), h = Math.min(Math.max(h, -10), t.len + 10), n(e.options.pointWidth) && (g -= (Math.ceil(e.options.pointWidth) - b) / 2, b = Math.ceil(e.options.pointWidth)), o.pointPlacement && s(e.plotY) && a.categories && (e.plotY = a.translate(e.y, 0, 1, 0, 1, o.pointPlacement)), e.shapeArgs = {
                        x: Math.floor(Math.min(d, h)) + f,
                        y: Math.floor(e.plotY + g) + f,
                        width: Math.round(Math.abs(h - d)),
                        height: b,
                        r: this.options.borderRadius
                    }, r = (o = e.shapeArgs.x) + e.shapeArgs.width, 0 > o || r > t.len ? (o = Math.min(t.len, Math.max(0, o)), t = (r = Math.max(0, Math.min(r, t.len))) - o, e.dlBox = c(e.shapeArgs, {
                        x: o,
                        width: r - o,
                        centerX: t ? t / 2 : null
                    })) : e.dlBox = null, e.tooltipPos[0] += m ? 0 : p / 2, e.tooltipPos[1] -= m ? -p / 2 : i.width / 2, (t = e.partialFill) && (l(t) && (t = t.amount), s(t) || (t = 0), i = e.shapeArgs, e.partShapeArgs = {
                        x: i.x,
                        y: i.y,
                        width: i.width,
                        height: i.height,
                        r: this.options.borderRadius
                    }, e.clipRectArgs = {
                        x: i.x,
                        y: i.y,
                        width: Math.max(Math.round(p * t + (e.plotX - d)), 0),
                        height: i.height
                    }), a.categories && (e.category = a.categories[e.y])
                },
                translate: function() {
                    o.prototype.translate.apply(this, arguments), r(this.points, function(e) {
                        this.translatePoint(e)
                    }, this)
                },
                drawPoint: function(e, t) {
                    var n = this.options,
                        a = this.chart.renderer,
                        o = e.graphic,
                        r = e.shapeType,
                        s = e.shapeArgs,
                        u = e.partShapeArgs,
                        d = e.clipRectArgs,
                        p = e.partialFill,
                        h = e.selected && "select",
                        m = n.stacking && !n.borderRadius;
                    e.isNull ? o && (e.graphic = o.destroy()) : (o ? e.graphicOriginal[t](c(s)) : (e.graphic = o = a.g("point").addClass(e.getClassName()).add(e.group || this.group), e.graphicOriginal = a[r](s).addClass(e.getClassName()).addClass("highcharts-partfill-original").add(o)), u && (e.graphicOverlay ? (e.graphicOverlay[t](c(u)), e.clipRect.animate(c(d))) : (e.clipRect = a.clipRect(d.x, d.y, d.width, d.height), e.graphicOverlay = a[r](u).addClass("highcharts-partfill-overlay").add(o).clip(e.clipRect))), e.graphicOriginal.attr(this.pointAttribs(e, h)).shadow(n.shadow, null, m), u && (l(p) || (p = {}), l(n.partialFill) && (p = c(p, n.partialFill)), t = p.fill || i(e.color || this.color).brighten(-.3).get(), e.graphicOverlay.attr(this.pointAttribs(e, h)).attr({
                        fill: t
                    }).shadow(n.shadow, null, m)))
                },
                drawPoints: function() {
                    var e = this,
                        t = e.getAnimationVerb();
                    r(e.points, function(n) {
                        e.drawPoint(n, t)
                    })
                },
                getAnimationVerb: function() {
                    return this.chart.pointCount < (this.options.animationLimit || 250) ? "animate" : "attr"
                }
            }, {
                applyOptions: function() {
                    var e, t = h.prototype.applyOptions.apply(this, arguments),
                        n = t.series;
                    return n.options.colorByPoint && !t.options.color && (e = n.options.colors || n.chart.options.colors, n = t.y % (e ? e.length : n.chart.options.chart.colorCount), e = e && e[n], t.color = e, t.options.colorIndex || (t.colorIndex = n)), t
                },
                init: function() {
                    return h.prototype.init.apply(this, arguments), this.y || (this.y = 0), this
                },
                setState: function() {
                    h.prototype.setState.apply(this, arguments), this.series.drawPoint(this, this.series.getAnimationVerb())
                },
                getLabelConfig: function() {
                    var e = h.prototype.getLabelConfig.call(this),
                        t = this.series.yAxis.categories;
                    return e.x2 = this.x2, e.yCategory = this.yCategory = t && t[this.y], e
                },
                tooltipDateKeys: ["x", "x2"],
                isValid: function() {
                    return "number" == typeof this.x && "number" == typeof this.x2
                }
            }), t(p, "afterGetSeriesExtremes", function() {
                var e, t, n = this.series;
                this.isXAxis && (e = u(this.dataMax, -Number.MAX_VALUE), r(n, function(n) {
                    n.x2Data && r(n.x2Data, function(n) {
                        n > e && (e = n, t = !0)
                    })
                }), t && (this.dataMax = e))
            })
        }(e)
    }, e.exports ? e.exports = i : void 0 === (a = function() {
        return i
    }.call(t, n, t, e)) || (e.exports = a)
}, function(e, t, n) {
    var a = n(21).default;
    e.exports = function createQuick(e) {
        "use strict";
        var t = {};
        t.createStreamingGameAnalysis = function() {
            var e = {
                    4: "P",
                    8: "N",
                    16: "B",
                    32: "R",
                    64: "Q",
                    128: "K"
                },
                t = 252,
                n = 48,
                i = function gradeMoveClosure() {
                    var e = 1e3;
                    return function moveGrade(t, n) {
                        var a, i, o, r, s, l, c, u, d, p, h = ["blunder", "mistake", "inaccuracy", "good", "excellent"],
                            m = {
                                blunder: [0, 40],
                                mistake: [40, 60],
                                inaccuracy: [60, 80],
                                good: [80, 95],
                                excellent: [95, 100]
                            },
                            f = 4.9,
                            g = .1215;
                        if (t <= 0) return {
                            letter: h[4],
                            number: 100,
                            gradeIndex: 4
                        };
                        for (t = Math.min(e, t), a = function generateSdiffCutoffs(e) {
                                return e = Math.min(20, Math.abs(e)), [.001776052 * Math.pow(e, 3) + -.018218136 * Math.pow(e, 2) + .303967449 * e + 2, .001304692 * Math.pow(e, 3) + -.011609068 * Math.pow(e, 2) + .205317058 * e + 1.1, .0004461266 * Math.pow(e, 3) + .0041181833 * Math.pow(e, 2) + .0141864828 * e + .5, .0002172109 * Math.pow(e, 3) + -.0010745878 * Math.pow(e, 2) + .0295840731 * e + .1, 0]
                            }(n), i = 0; i < a.length; i += 1)
                            if (!(t < a[i])) {
                                o = i;
                                break
                            }
                        return (r = h[o]) === h[0] ? (u = a[o], c = m.blunder[1], l = e / (e - u) * (t - u), s = c - f * (l = Math.min(e, l)) / (1 + g * l)) : (d = m[r][0], c = m[r][1], s = d + (t - (p = a[o - 1])) / ((u = a[o]) - p) * (c - d)), s = Math.min(100, s), {
                            letter: r,
                            number: s = Math.max(0, s),
                            gradeIndex: o
                        }
                    }
                }();

            function classifyEvals(e, t, n, a, o, r, s, l, c, u) {
                var d = {
                    color: e,
                    suggestedMove: {
                        score: t.cp / 100,
                        mateIn: t.mateIn,
                        moveLan: s,
                        depth: n
                    },
                    playedMove: {
                        score: a.cp / 100,
                        mateIn: a.mateIn,
                        moveLan: r,
                        depth: o
                    },
                    scenarios: {}
                };
                return function classifyPosition(e, t, n) {
                        var a, o, r, s = "black" === e.color ? -1 : 1,
                            l = e.suggestedMove.score * s,
                            c = e.playedMove.score * s,
                            u = 5,
                            d = 0;
                        if (e.playedMove.moveLan === e.suggestedMove.moveLan) return e.playedMove.score = e.suggestedMove.score, e.playedMove.mateIn = e.suggestedMove.mateIn, e.difference = 0, void(e.classification = n ? 5 : 0);
                        "number" == typeof e.suggestedMove.mateIn && (l = 0 === e.suggestedMove.mateIn ? 1e3 * (l > 0 ? 1 : -1) : (1e3 - 10 * Math.abs(e.suggestedMove.mateIn)) * (e.suggestedMove.mateIn > 0 ? 1 : -1) * s), "number" == typeof e.playedMove.mateIn && (c = 0 === e.playedMove.mateIn ? 1e3 * (c > 0 ? 1 : -1) : (1e3 - 10 * Math.abs(e.playedMove.mateIn)) * (e.playedMove.mateIn > 0 ? 1 : -1) * s), l < c && (l = c), c >= 10 ? u = 0 : c >= 7 ? u = 1 : c >= 6 ? u = 2 : c >= 5 ? u = 3 : c <= -25 && l >= -5 ? d = 4 : c <= -25 && l >= -10 ? d = 3 : c <= -20 && l >= -15 && (d = 2), a = Math.abs(Math.round(100 * (l - c)) / 100), t && e.suggestedMove.mateIn && e.playedMove.mateIn && e.suggestedMove.mateIn !== e.playedMove.mateIn && (o = e.suggestedMove.mateIn * s < e.playedMove.mateIn * s), e.difference = a, r = i(a, c), e.classification = 4 - r.gradeIndex, e.classification > u ? e.classification = u : e.classification < d && (e.classification = d), o && (e.classification = 1)
                    }(d, !1, u),
                    function determineScenarios(e, t, n) {
                        var a = !1,
                            i = !1;
                        ("white" === e.color && e.playedMove.score <= -2.5 && e.suggestedMove.score >= 2.5 || "black" === e.color && e.playedMove.score >= 2.5 && e.suggestedMove.score <= -2.5) && (e.scenarios.winningToLosing = !0), t && n && (("white" === n.color && n.playedMove.score > 1.5 || "black" === n.color && n.playedMove.score < -1.5) && (a = !0), a || (("white" === t.color && t.playedMove.score < -2.5 || "black" === t.color && t.playedMove.score > 2.5) && (i = !0), i && ("white" === e.color && e.suggestedMove.score > 2.5 && e.playedMove.score < 1 || "black" === e.color && e.suggestedMove.score < -2.5 && e.playedMove.score > -1) && (e.scenarios.missedWin = !0))), e.suggestedMove.mateIn && "number" != typeof e.playedMove.mateIn && (e.scenarios.missedMate = !0), "number" == typeof e.suggestedMove.mateIn && ("white" === e.color && e.playedMove.mateIn > 0 && e.playedMove.mateIn > e.suggestedMove.mateIn || "black" === e.color && e.playedMove.mateIn < 0 && e.playedMove.mateIn < e.suggestedMove.mateIn) && (e.scenarios.fasterMate = !0)
                    }(d, l, c), 0 === d.classification ? d.classificationName = "excellent" : 1 === d.classification ? d.classificationName = "good" : 2 === d.classification ? d.classificationName = "inaccuracy" : 3 === d.classification ? d.classificationName = "mistake" : 4 === d.classification ? d.classificationName = "blunder" : d.classificationName = "forced", d
            }

            function setAnnotation(e, t) {
                var n = e._history();
                return n[n.length - 1].annotation = t, t
            }

            function setAdditional(e, t) {
                var n = e._history(),
                    a = n.length - 1;
                n[a].additionalAnnotation ? n[a].additionalAnnotation.push(t) : n[a].additionalAnnotation = [t]
            }

            function setComment(e, t) {
                var n = e._history(),
                    a = n.length - 1;
                n[a].comment ? n[a].comment += " " + t : n[a].comment = t
            }

            function scoreToString(e, t) {
                return "number" == typeof t ? 0 === t ? "Checkmate" : t < 1 ? "♚ Mate in " + Math.abs(t) : "♔ Mate in " + Math.abs(t) : (e > 0 ? "+" : "") + Number(e / 100).toFixed(2)
            }

            function setAlternateLine(e, t, n, a, i) {
                var o, r, s;
                for (setComment(e, (i.fasterMate ? "FASTER MATE" : i.missedMate ? "MISSED MATE" : t.toUpperCase()) + " (" + scoreToString(n.cp, n.mateIn) + ")"), o = "(" + scoreToString(a.cp, a.mateIn) + ") ", "number" == typeof a.mateIn ? o += "Checkmate after " : o += "The best move was ", e.createVariation(), e._history().initComment = o, s = a.pv.length, r = 0; r < s; ++r) e.move(a.pv[r].moveSan);
                e.selectLine(0)
            }
            return function createStreamingGameAnalysis(i, o, r) {
                var s, l, c, u, d, p, h, m, f, g, b, v, y, _, w, O, k, S, x = o.moves.length,
                    P = o.startingFen,
                    C = a.createGame({
                        headers: r
                    }),
                    M = {
                        startingFen: P,
                        variant: o.variant,
                        firstMoveNumber: C.startingMoveNumber(),
                        playerToMove: 1 === C.turn() ? "white" : "black",
                        positions: [],
                        totalPositions: x,
                        playMayContinue: null,
                        E1: {
                            white: 0,
                            black: 0
                        },
                        positionCounts: {
                            white: 0,
                            black: 0
                        },
                        avgDifference: {
                            white: 0,
                            black: 0
                        },
                        tallies: {
                            white: {
                                excellent: 0,
                                good: 0,
                                inaccuracy: 0,
                                mistake: 0,
                                blunder: 0,
                                forced: 0,
                                book: 0,
                                missedMate: 0,
                                fasterMate: 0,
                                winningToLosing: 0,
                                missedWin: 0
                            },
                            black: {
                                excellent: 0,
                                good: 0,
                                inaccuracy: 0,
                                mistake: 0,
                                blunder: 0,
                                forced: 0,
                                book: 0,
                                missedMate: 0,
                                fasterMate: 0,
                                winningToLosing: 0,
                                missedWin: 0
                            }
                        },
                        castled: {
                            white: -1,
                            black: -1
                        }
                    },
                    T = !0,
                    E = o.moves[o.moves.length - 1].split(" "),
                    A = {
                        white: {
                            medianDepth: 0,
                            all: [],
                            K: [],
                            Q: [],
                            R: [],
                            B: [],
                            N: [],
                            P: []
                        },
                        black: {
                            medianDepth: 0,
                            all: [],
                            K: [],
                            Q: [],
                            R: [],
                            B: [],
                            N: [],
                            P: []
                        }
                    },
                    j = {
                        white: 0,
                        black: 0,
                        sudden: 0
                    },
                    L = x - 1,
                    D = 1;
                return {
                    updateAnalysis: function updateAnalysis() {
                        var o, r, P, N = {
                            tallies: M.tallies,
                            castled: M.castled,
                            positionCounts: M.positionCounts,
                            E1: M.E1,
                            startingAtPos: D,
                            positions: []
                        };
                        for (T && (T = !1, N.startingFen = M.startingFen, N.variant = M.variant, N.firstMoveNumber = M.firstMoveNumber, N.playerToMove = M.playerToMove, N.totalPositions = M.totalPositions, N.gameStartPhase = M.gameStartPhase), s = D; s < x && (v = i[s - 1], y = i[s], v && y); ++s) {
                            if (g = 1 === C.turn() ? "white" : "black", b = 1 === C.moves().length, _ = v.depth, o = v.eval[0], r = g, P = void 0, u = "number" == typeof o.mateIn && o.mateIn ? (P = "white" === r ? 1 : -1, {
                                    cp: o.cp,
                                    mateIn: o.mateIn - Math.floor((1 + (o.mateIn * P > 0 ? 1 : 0)) / 2) * P,
                                    pv: o.pv
                                }) : o, y = i[s], w = y.depth, d = y.eval[0] || {}, p = E[s - 1], !(O = C.move(a.uciToObj(p)[0]))) return {
                                message: "Could not play move: " + p + " at " + C.fen()
                            };
                            0 === u.cp && !u.isBook && 1 === u.pv.length && C.inDraw() && (s === L ? (d = {
                                cp: 0,
                                pv: d.pv,
                                mateIn: null
                            }, y = y.eval[1] ? {
                                num: y.num,
                                eval: [d, {
                                    cp: 0,
                                    pv: y.eval[1].pv,
                                    mateIn: null
                                }],
                                depth: y.depth
                            } : {
                                num: y.num,
                                eval: [d],
                                depth: y.depth,
                                mateIn: null
                            }) : (u.cp = d.cp, u.mateIn = d.mateIn)), k = e[O.piece & t], O.flags & n && (M.castled[g] = s - 1), h = u.pv[0] ? u.pv[0].moveLan : void 0, (l = classifyEvals(g, u, _, d, w, p, h, f, m, b)).suggestedMove.eval = u, M.positions.push(l), N.positions.push(l), M.tallies[g][l.classificationName]++, 4 === l.classification ? (l.symbol = setAnnotation(C, "??"), setAlternateLine(C, l.classificationName, d, v.eval[0], l.scenarios)) : 3 === l.classification ? (l.symbol = setAnnotation(C, "?"), setAlternateLine(C, l.classificationName, d, v.eval[0], l.scenarios)) : 2 === l.classification && setAlternateLine(C, l.classificationName, d, v.eval[0], l.scenarios), b && setAdditional(C, "□"), b || v.isBook || (M.positionCounts[g] += 1), b || y.isBook || 0 !== l.difference || (M.E1[g] += 1), y.isBook && (M.tallies[g].book++, l.scenarios.book = 1, c = s), l.classification < 5 && !y.isBook && "number" == typeof l.difference && (A[g].all.push(l.difference), A[g][k].push(l.difference)), l.scenarios.missedMate && M.tallies[g].missedMate++, l.scenarios.fasterMate && (M.tallies[g].fasterMate++, l.classification <= 1 && setAlternateLine(C, l.classificationName, d, v.eval[0], l.scenarios)), l.scenarios.winningToLosing && (M.tallies[g].winningToLosing++, setComment(C, "From winning to losing.")), l.scenarios.missedWin && M.tallies[g].missedWin++, d.cp >= 150 ? "white" !== S && (++j[S = "white"], 3 !== l.classification && 4 !== l.classification || ++j.sudden, setAdditional(C, "±")) : d.cp <= -150 ? "black" !== S && (++j[S = "black"], 3 !== l.classification && 4 !== l.classification || ++j.sudden, setAdditional(C, "∓")) : ("white" === S && d.cp < 125 && l.difference >= .5 || "black" === S && d.cp > -125 && l.difference >= .5) && (3 !== l.classification && 4 !== l.classification || ++j.sudden, S = "", setAdditional(C, "=")), m = f, f = l
                        }
                        return s === x ? function completeGameAnalysis(e) {
                            return d && d.pv && d.pv.length && (M.playMayContinue = d), 0 === j.white && 0 === j.black ? M.arc = "balanced" : 0 !== j.white && 0 !== j.black || 1 !== j.white && 1 !== j.black || !S ? 0 !== j.white && 0 !== j.black || !S ? 1 !== j.white && 1 !== j.black || !j.sudden ? j.white + j.black > 5 ? M.arc = "wild" : M.arc = "sharp" : M.arc = "throwAway" : M.arc = "rough" : j.sudden ? M.arc = "sudden" : M.arc = "smooth", M.arcPlayerScenarios = function addGameShapeConditions(e, t, n) {
                                    var a = -250,
                                        i = 250;
                                    if ("*" === t) return {
                                        white: !1,
                                        black: !1
                                    };

                                    function playerResult(e, t) {
                                        return "1-0" === e && "w" === t ? "win" : "1-0" === e && "b" === t ? "loss" : "0-1" === e && "w" === t ? "loss" : "0-1" === e && "b" === t ? "win" : "draw"
                                    }

                                    function evalSummary(e, t, n, o) {
                                        if (e >= i && "w" === t) return "Winning";
                                        if (e >= i && "b" === t) return "Losing";
                                        if (e <= a && "w" === t) return "Losing";
                                        if (e <= a && "b" === t) return "Winning";
                                        if (o) {
                                            if ("w" === t && "1-0" === n && isResigned(o)) return "Winning";
                                            if ("w" === t && "0-1" === n && isResigned(o)) return "Losing";
                                            if ("b" === t && "0-1" === n && isResigned(o)) return "Winning";
                                            if ("b" === t && "1-0" === n && isResigned(o)) return "Losing"
                                        }
                                        return "Even"
                                    }

                                    function getFlagged(e) {
                                        return !e || -1 === e.toLowerCase().indexOf(" on time") && -1 === e.toLowerCase().indexOf(" abandoned") ? "" : "Flag"
                                    }

                                    function isResigned(e) {
                                        return e && -1 !== e.toLowerCase().indexOf("resignation")
                                    }
                                    return {
                                        white: playerResult(t, "w") + evalSummary(e, "w", t, n) + getFlagged(n),
                                        black: playerResult(t, "b") + evalSummary(e, "b", t, n) + getFlagged(n)
                                    }
                                }(d.cp, C.header().Result, C.header().Termination), c ? M.bookPly = c : i[0] && i[0].isBook && (M.bookPly = 0),
                                function calculateAverageDifferences(e) {
                                    var t, n, a = {
                                            white: 0,
                                            black: 0
                                        },
                                        i = {
                                            white: 0,
                                            black: 0
                                        };
                                    for (t = e.positions.length - 1; t >= 0; --t) a[(n = e.positions[t]).color] += Math.max(n.difference, 10), ++i[n.color];
                                    i.white && (e.avgDifference.white = a.white / i.white), i.black && (e.avgDifference.black = a.black / i.black)
                                }(M), M.annotatedPgn = C.pgn(), e.done = 1, e
                        }(N) : (D = s, N)
                    },
                    gameAnalysis: M
                }
            }
        }();
        var n, i, o = [],
            r = 1,
            s = 4,
            l = [],
            c = [],
            u = Math.round(window.navigator.hardwareConcurrency / 2) || 1;

        function processQueue(e) {
            var t;
            c.length && (t = c.shift(), e.claimed = !0, sendCommand(e, t.data, t.gameFingerprints, t.send))
        }

        function sendCommand(e, t, n, a) {
            var i;
            if (n.canceled) return e.claimed = !1, void processQueue(e);
            i = Date.now(), e.getBestMove(t, function onAnalysis(n) {
                var o = {
                    num: t.num,
                    depth: n.depth,
                    eval: [{
                        cp: n.cp,
                        pv: n.pv,
                        mate: n.mate,
                        mateIn: n.mateIn,
                        score: n.score
                    }],
                    done: 1
                };
                a({
                    move: o,
                    evalTime: Date.now() - i,
                    done: 1
                }), e.claimed = !1, processQueue(e)
            })
        }

        function evaluate(e, t, n) {
            var a = function claimEngine() {
                var e;
                for (e = o.length - 1; e >= 0; e--)
                    if (!o[e].claimed) return o[e].claimed = !0, o[e]
            }();
            a ? sendCommand(a, e, t, n) : function queue(e) {
                c.push(e)
            }({
                data: e,
                gameFingerprints: t,
                send: n
            })
        }

        function analyzeFingerprints(e, t) {
            ! function handleBookMoves(e, t) {
                var a, i, o = e.hashes,
                    s = o.length,
                    l = [],
                    c = {};
                for (i = 0; i < s; ++i) e.done[i] || (a = n[o[i]]) && (a.constructor === Array && (a = a[0]), l.push({
                    num: i,
                    eval: [{
                        cp: a.s || 0,
                        isBook: 1,
                        pv: []
                    }],
                    depth: 10,
                    isBook: 1,
                    done: 1
                }), e.done[i] = r);
                l.length && (1 === l.length ? (c.move = l[0], c.done = c.move.done) : c.moves = l, t(c))
            }(e, t),
            function evaluateMoves(e, t) {
                var n, a, o = e.moves,
                    r = o.length;
                for (n = 0; n < r; ++n) e.done[n] === i && (a = {
                    fen: e.startingFen,
                    moves: o[n],
                    variant: e.variant,
                    num: n,
                    depth: e.options.depth
                }, e.done[n] = s, evaluate(a, e, t))
            }(e, t)
        }

        function analyze(n, i, o) {
            var r, s, c, d, p = [],
                h = 0;

            function intercept(e) {
                var t, n, a, r, m;
                if (!s.canceled) {
                    if (e.moves)
                        for (a = (t = e.moves).length, n = 0; n < a; ++n) ++h, p[t[n].num] = t[n];
                    else e.move && (++h, p[e.move.num] = e.move);
                    (r = c.updateAnalysis()).done ? o(null, c.gameAnalysis) : i && (e.evalTime && (l.unshift(e.evalTime), l.length > 10 * u && l.pop(), m = function calculateETA(e) {
                        var t, n, a = 0,
                            i = l.length;
                        for (n = 0; n < i; ++n) a += l[n];
                        return t = a / i * Math.max(e / u, 1), Math.max(t, 0)
                    }(d - h)), i({
                        progress: h / d,
                        eta: m,
                        data: r
                    }))
                }
            }
            return Date.now(), n.options = {
                rejectNullMoves: !0,
                skipBadLines: !0
            }, (r = a.createGame(n)) ? (s = a.gameFingerprints({
                game: r
            })).variant && "Chess960" !== s.variant ? o({
                message: "Unsupported variant"
            }) : s.moves.length < 2 ? o({
                message: "Missing moves"
            }) : (s.done = [], e.depth && (e.depth = parseInt(e.depth, 10)), s.options = {
                depth: e.depth || 10
            }, d = s.moves.length, c = t.createStreamingGameAnalysis(p, s, r.header()), loadBook(function onBookLoad() {
                analyzeFingerprints(s, intercept)
            }), function cancel() {
                s.canceled = !0
            }) : o({
                message: "Invalid game"
            })
        }

        function loadBook(t) {
            a.loadECO(e.pathToBook, function onload(e, a, i) {
                if (e) throw e;
                n = i, t && t()
            })
        }
        return function init() {
            loadBook(),
                function spawnEngines() {
                    var t, n, i = {
                        enginePath: e.enginePath || e.pathToEngine,
                        pathToWasmEngine: e.pathToWasmEngine,
                        pathToNonWasmEngine: e.pathToNonWasmEngine
                    };
                    for (t = 0; t < u; ++t)(n = a(i)).claimed = !1, n.id = t, o[t] = n
                }()
        }(), analyze.stopEngines = function stopEngines() {
            var e;
            for (e = o.length - 1; e >= 0; e--) o[e].stopAll(), o[e].quit();
            o.length = 0
        }, analyze
    }
}, function(e, t, n) {
    e.exports = n(26)(52)
}, function(e, t, n) {
    "use strict";
    var a, i, o, r, s, l, c, u = n(1126),
        d = n(1140),
        p = Function.prototype.apply,
        h = Function.prototype.call,
        m = Object.create,
        f = Object.defineProperty,
        g = Object.defineProperties,
        b = Object.prototype.hasOwnProperty,
        v = {
            configurable: !0,
            enumerable: !1,
            writable: !0
        };
    i = function(e, t) {
        var n, i;
        return d(t), i = this, a.call(this, e, n = function() {
            o.call(i, e, n), p.call(t, this, arguments)
        }), n.__eeOnceListener__ = t, this
    }, s = {
        on: a = function(e, t) {
            var n;
            return d(t), b.call(this, "__ee__") ? n = this.__ee__ : (n = v.value = m(null), f(this, "__ee__", v), v.value = null), n[e] ? "object" == typeof n[e] ? n[e].push(t) : n[e] = [n[e], t] : n[e] = t, this
        },
        once: i,
        off: o = function(e, t) {
            var n, a, i, o;
            if (d(t), !b.call(this, "__ee__")) return this;
            if (!(n = this.__ee__)[e]) return this;
            if ("object" == typeof(a = n[e]))
                for (o = 0; i = a[o]; ++o) i !== t && i.__eeOnceListener__ !== t || (2 === a.length ? n[e] = a[o ? 0 : 1] : a.splice(o, 1));
            else a !== t && a.__eeOnceListener__ !== t || delete n[e];
            return this
        },
        emit: r = function(e) {
            var t, n, a, i, o;
            if (b.call(this, "__ee__") && (i = this.__ee__[e]))
                if ("object" == typeof i) {
                    for (n = arguments.length, o = new Array(n - 1), t = 1; t < n; ++t) o[t - 1] = arguments[t];
                    for (i = i.slice(), t = 0; a = i[t]; ++t) p.call(a, this, o)
                } else switch (arguments.length) {
                    case 1:
                        h.call(i, this);
                        break;
                    case 2:
                        h.call(i, this, arguments[1]);
                        break;
                    case 3:
                        h.call(i, this, arguments[1], arguments[2]);
                        break;
                    default:
                        for (n = arguments.length, o = new Array(n - 1), t = 1; t < n; ++t) o[t - 1] = arguments[t];
                        p.call(i, this, o)
                }
        }
    }, l = {
        on: u(a),
        once: u(i),
        off: u(o),
        emit: u(r)
    }, c = g({}, l), e.exports = t = function(e) {
        return null == e ? m(c) : g(Object(e), l)
    }, t.methods = s
}, , , , function(e, t, n) {
    n(1123), n(1124), e.exports = n(1261)
}, function(e, t, n) {
    e.exports = {
        bold: "analysis-bold",
        header: "analysis-header",
        darkMode: "analysis-darkMode",
        inactive: "analysis-inactive",
        scrollable: "analysis-scrollable"
    }
}, function(e, t, n) {
    e.exports = {
        "data-labels": "highcharts-data-labels",
        tooltip: "highcharts-tooltip"
    }
}, function(e) {
    e.exports = ["253722886374156508674764177294511164668890556513686495459116516200341563852518674285349464521156209598902523733899414234526255725982794528657845593986531195633090195533940912645843536734074984438539742709846296542982778159067546063237195346549119754840151552248096659378555384418942429558624487255199561649083044707564593874195968567586548130177570307886294351573124990024420576285253698945579581185258487582829234035082585797966577817588583148452588591591783314446594616379103953597425502370198600338371666161603219319106826605924696343351608821604711666611702552152331614503694954751617584153991030620528945142292623338068408536626266898632148629068041434568631765438207269634367069414074637000622476178639690038785054642395416021579645180597896350647909916524348650782883501189653504221665363656105852872169658659601296027661069701371044663862863709639666584201873813669201794008268671915151708617674436978277178677014668092510679408807239877681723141748999684173144143138686726892566996689256699599381691610936427625693813544443203696111918024676698729510159130701083746987375703374140105023705712416005618708058672370038710588479402423713070403651860715249070275964717188322985332719343048217962721577578088838723628557291750725671556030837727906085901713730180518091711732151692656377734003160263675735854627870972737785900116515739812937927952741752190637320743747306593459745830207651669747960991492826749988029304263751855457839210753659042663560755550412589980757593411329066759420937544890761200580977766763012146265941764831692017940766739022872009768534627232535770226485563341771894402502673773809713820567775565415861970777049782133338778613953042951780313791837582782181220372528784000766124527785724546310632787528131134982789267872248735790927808724243792683510765646794311525385855795875696295469797455828132731799035959969993800488404386063801829122308589803305508116132804718050213078806066748599429807447368841077808636457950936809825547060795811158284519496812395256412303813608286913635814877180661740816177996265143817646401608861819274416229071820790704355737822035656712368823168882575455824373932612963825618884969594826807974079454827973121797839829162210907698830263514915487831300975212679832330455046047833335993487942834373453785134835490718720572836647885975133837749189982922838674923786570839584696662570840654078815061841779324214323842840725902990843846264344884844883724642076845817438909549846719231321724847700828372145848706366814039849751807575056850741385089301851699040748248852664676871020853574449747019854564027261264855577546166983856591065072702857596603514596858490415462947859336344628350860214195649051861012242031507861722503311892862520549694348863326576540628864116642459260864962571624663865744657079469866470879287504867237003814662868027069733293868785213796626869559318787608870365345633888871147431088695871921536079677872591895040940873254273538378874004437137886874770561665044875448901090131876079357732271876733755765885877372192871850878090434616060878696949866726879223660479147879894019440410880516495618725881075128086444881633760554163882136529775110882679201315180883213892391426883772524859145884355098718338884865848403109885384578551705885943211019424886477902095670886988651780442887635069350231888337350166792888951845881283889390771391633889829696901984890412270761177891042727403317891641262190158892191914194053892830351300018893516671188930894171069222543894673838443490895136705345315895639474566262896086380540437896589149761384897075958054682897530844492682897993711394506898448597832506898919445198155899406253491453899845179001804900252182656856900707069094856901193877388154901712607536750902175474438574902582478093627902989481748679903356583084609903883293697030904410004309451904761144717731905120265589836905439484142818905742741768152906093882176432906484924903835906867987167414907306912677765907753818651940908112939524045908448119004677908823200804431909246165387132909756915071904910283625684325910722551194675911113593922079911472714794184911831835666289912182976074569912566038338148913004963848499913364084720604913643400954464913970599971270914313759915726914672880787831915032001659936915439005314989915869950361515916260993088918916628094424848916971254369304917370277560532917777281215584918104480232391918415718321549918718975946882918998292180742919285588878426919572885576110919868162737618920235264073548920602365409478920897642570986921176958804846921424353183407921655786634319922030868434073922429891625301922661325076213922964582701547923339664501301923722726764880924089828100809924369144334669924624519177055924903835410914925270936746844925566213908352925821588750738926116865912247926356279826984926651556988492926978756005299927289994094457927545368936843927784782851579928080060013088928335434855474928582829234035928846184540245929069637527333929325012369719929596348139754929827781590666930099117360701930402374986034930713613075192930984948845227931224362759964931471757138525931671268734139931846838938279932070291925367932325666767753932565080682489932796514133401932980064801366933211498252278933490814486138933722247937050933977622779436934217036694173934424528753611934632020813050934823551944839935007102612804935230555599891935461989050804935709383429365935980719199400936228113577961936459547028873936690980479785936874531147750937018179496592937193749700733937433163615469937640655674908937768343096101937896030517294938063620257609938199288142627938334956027644938558409014732938765901074170938941471278311939101080554802939260689831293939452220963082939651732558696939827302762837939978931575503940146521315819940314111056135940513622651749940776977957959941008411408871941199942540660941391473672450941583004804239941790496863678942037891242239942261344229327942420953505818942580562782309942724211131151942859879016168943067371075607943306784990344943458413803010943562159832730943689847253922943833495602764943961183023957944120792300449944320303896062944487893636378944631541985220946219654286307947903532153289949619331875569950792460057779952117217052655953426013119883954798652897706956163312211706957392303640688958493607648477959794423251879960935629578791962132699152475963202081304965964167717427737965085470767561966075048281806967112508578999968070164237946968908112939524969881729526120970679775908576971605509712224972499321660575973480918710996974239062774328975061050548258975906979713661976673104240818977311541346783978101607265414978644278805484979426364260291980016918583308980679297080746981485323927027982035975930921982650471645412983249006432254983791677972324984390212759166985084513111902985643145579621986241680366463986600801238568987135492314813987430769476322987885655914322988348522816146988739565543549989058784096532989346080794216989609436100426990080283466075990351619236110990535169904075990798525210285991117743763268991389079533302991684356694811991859926898951992139243132811992482403077267992673934209056992945269979091993208625285302993456019663863993687453114775993902925638038994094456769827994317909756915994485499497231994645108773722994940385935231995099995211722995275565415862995443155156178995602764432669995826217419756996009768087721996169377364212996281103857756996416771742774996568400555440996672146585160996767912151054996887619108423996967423746668997063189312563997095111167861997174915806107997206837661405997278661835826997334525082598997382407865545997446251576142997494134359089997557978069685997613841316457997637782707931997653743635580997701626418527997701626418527997733548273826997765470129124997765470129124997781431056773997837294303545997861235695019997901138014141997941040333264997957001260913997957001260913997988923116212997988923116212997996903580036998020844971510998052766826808998060747290633998068727754457998068727754457998100649609755998148532392703998180454248001998212376103299998212376103299998212376103299998212376103299998212376103299998212376103299998244297958597998260258886246998260258886246998300161205369998340063524492998340063524492998340063524492998340063524492998340063524492998356024452141998364004915966998387946307439998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998419868162738998419868162738998451790018036998451790018036998451790018036998451790018036998451790018036998451790018036998491692337159998579477439229998579477439229998579477439229998579477439229998595438366878998627360222176998755047643369998786969498667998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998818891353966998834852281615998850813209264998866774136913998866774136913998914656919860998978500630457999042344341053999106188051650999178012226071999361562894035999537133098176999648859591719999808468868211999888273506456999952117217053999984039072351999999999999999", "275166392670742551904936714922555200868274464558568624008427561792731393549564849249038354567961629929931571169776387404574569453976665577889326927681581225160806346584880213237993588447480567571591926962795078595182992035497598279411999425601407753818652604623880739949607887890444193611255646178156614830893971558618094903675802621111519001484624263802212185627224554291095630161364978533633409413755127636721306242319640105022903931643361052144351646385647933858649426204651014652410898121399655467415766204658579796657782661628333838763664605046845323667693486345426670965476513495674093818332722677206199224299680502130783841683702296777489686710931639347689328523773802691906213589134694803121957448697715991253412700660782404673703581632164461706294989864811708856718752494711466330423124714139785804351716813241185578719271224043541721545656233540724003639091504726605270298310729198921041291731856415494869734370261599604736908049095813739493719374970742111311509425744625157614160747059199080651749477279619492751775653200964754121909565384756380380827734758822402758048761152698194819763123872759485765254656600642767441303688570769604009385025771814597864428774009225416181776179911576461778087242430530780122260705792782428614751089784495554881650786506631765438788342138445086790185625588559792204682936172794024228688171795763969801925797615437409222799546709654765801390196798238803241664405535805093132012833806928638692481808772125835954810527827877356812091998786969813624247841285815220340606196816832394298757818428487063668819888911943562821301454040509822985331907490824764975340367826345107177629827837453912821829321820184189830885991093802832362376901346833870684564187835530621039695837182577051378838643001931272839903915215552841260594065727842665155698849843870205736357845011412063269846352129985795847708808835970849081448613793850422166536319851730962603547852991875887827854021355721195855066796482212856343670694141857636505833719858825594943578859998723125788861076085742103862049702328699863151006336488864531626578137865800520326241866885863406381867923323703574868880979362521869846615485292870844173463362871897594688203872823328491852873804925542273874962092796833876111279587570877236524986832878226102501077879080012130305879933921759533880891577418480881841252613602882766986417251883692720220899884594512633074885464383189951886342234210652887220085231354888018131613809888784256140967889566341595774890292563803808891122532041562891984422134614892598917849105893221394027421893915694380157894514229166999895152666272964895799083842753896541266978437897363254752366898121398815699898911464734330899661628333839900427752860996901098111822259901664724753803902303161859767902861794327486903372544012258904034922509696904769125181556905495347389590906269452380572906979713660958907594209375449908264568336712908910985906501909437696518922909996328986641910554961454360911137535313552911799913810991912438350916955913076788022920913643400954464914162131103060914736724498428915375161604392915933794072112916332817263339916787703701339917346336169058917912949100602918487542495970919094057746636919644709750531920115557116180920610345873302921168978341021921679728025793922110673072319922653344612389923196016152459923658883054283924177613202879924648460568528925023542368282925430546023335925885432461335926364260290808926835107656457927329896413580927784782851579928199766970456928670614336105929069637527333929428758399438929819801126841930210843854245930546023334876930929085598455931439835283227931886741257402932301725376279932756611814279933099771758735933379087992594933714267473226934025505562383934328763187717934647981740699934967200293681935318340701962935653520182593935940816880277936268015897084936595214913891936890492075399937233652019855937576811964311937896030517294938191307678802938470623912662938718018291223938909549423012939148963337749939436260035433939731537196942940010853430801940266228273187940561505434696940840821668555941128118366239941423395527748941694731297783942005969386941942301246548449942580562782309942883820407642943171117105326943426491947712943737730036870944056948589852944288382040764944551737346975944839034044659945070467495571945309881410308945573236716518945852552950378946115908256588946323400316026946546853303114946842130464623947105485770833947297016902622947512489425885947791805659745948039200038306948246692097745948462164621008948701578535745948964933841955949260211003463949523566309674949810863007358950098159705042950361515011252950640831245112950840342840726951015913044866951199463712831951383014380796951574545512585951790018035848951973568703813952157119371778952356630967392952588064418304952811517405392952987087609532953186599205146953441974047532953737251209040954016567442900954279922749110954503375736198954686926404163954878457535952955069988667741955221617480408955365265829250955532855569566955708425773706955931878760794956155331747881956378784734969956586276794407956777807926197957009241377109957280577147144957591815236302957847190078687958022760282828958198330486968958389861618757958565431822898958717060635564958836767592932958900611303529958956474550301959044259652371959179927537388959339536813880959531067945669959698657685985959802403715704959946052064546960113641804862960273251081353960416899430195960544586851388960640352417283960768039838475960927649114967961055336536159961167063029703961294750450896961414457408265961510222974159961637910395352961805500135668961989050803633962188562399247962356152139562962515761416054962675370692545962850940896685963034491564650963194100841141963345729653807963481397538825963625045887667963792635627983964000127687421964167717427737964327326704228964486935980719964606642938088964734330359280964854037316649964965763810193965133353550508965292962827000965404689320543965508435350263965604200916157965707946945876965795732047947965883517150017965955341324438966027165498859966170813847701966346384051841966513973792157966633680749525966769348634543968022281454998969482706334892970871307040365971916747801382973057954128294974127336280785974949324054714975771311828644976744928415240977654701291239978388903963098979186950345554979785485132396980559590123378981261870939939981772620624711982291350773307982961709734570983440537564043983847541219096984294447193271984885001516288985363829345762985890539958182986289563149410986768390978884987071648604217987510574114568988029304263164988348522816146988803409254146989162530126251989641357955724990048361610777990423443410531990838427529408991165626546215991484845099197991668395767162991907809681899992123282205162992426539830495992649992817583992889406732319993072957400284993264488532073993424097808565993559765693582993831101463617993950808420985994230124654845994301948829266994493479961055994565304135476994708952484318994948366399055995060092892599995147877994669995379311445581995483057475300995650647215616995722471390037995850158811230996033709479195996137455508914996185338291862996305045249230996424752206598996456674061897996520517772493996576381019265996664166121335996728009831931996871658180774996983384674317997079150240212997135013486984997206837661405997230779052879997270681372001997382407865545997446251576142997494134359089997542017142036997605860852633997637782707931997637782707931997669704563229997685665490878997733548273826997733548273826997781431056773997781431056773997829313839720997885177086492997925079405615997964981724738998004884043861998036805899159998052766826808998084688682106998108630073580998116610537404998116610537404998132571465054998132571465054998148532392703998148532392703998148532392703998148532392703998156512856527998172473784176998180454248001998180454248001998180454248001998180454248001998196415175650998196415175650998204395639475998212376103299998220356567124998228337030948998228337030948998244297958597998244297958597998244297958597998292180741545998308141669194998324102596843998340063524492998340063524492998340063524492998356024452141998356024452141998356024452141998371985379790998371985379790998387946307439998403907235089998403907235089998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998419868162738998435829090387998435829090387998435829090387998435829090387998467750945685998467750945685998467750945685998467750945685998515633728632998611399294527998627360222176998627360222176998635340686001998675243005123998675243005123998786969498667998818891353966998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998834852281615998850813209264998850813209264998850813209264998866774136913998882735064562998882735064562998882735064562998898695992211998946578775158999058305268702999074266196351999185992689895999345601966386999489250315228999616937736421999776547012912999888273506456999952117217053999999999999999999999999999999", "283083012784703567929708074633571353327055368574808867891402578304311046558581815715129363585662298692800589620608749781593515075096165597130225208689600442117695881604256779404019608262972243947612396852505068616450928127943620169824270187624239860820711628269995052112631964949802883635683845945126639522449044738643305188897579647247538026910651189887156241654980607472906658651620832203662362536510622665969706159322669473129778303673096260354652676655547220404680382423826473684205065998436687908001213031691515170861731695082438191308698649705520885702216972850462705624630903548709048249884283712352161907650715656073931017719199399869120722423507254242725615692784065728823839241537732000063843711735136386126762738089157741848741273362807846744401704627073747298612995387750211482291351753092429732016755861650679137758519145132715761336248862784764145372129028766834788437904769556126602078772325347549200775022744321900777616395064881780130241169617782580243563756785149952915263787799466905017790321293473577792627647518874794949962491820797208433754170799434983161221801773259061817804135476353886806505674109779808788086763603810982714315356813201283258583815348028027389817422948621774819617576173527821692496767912823599827621981825531099867524827542176751313829553253635101831468564952995833391856734713835394953154677837429971429939839217595326640840805707627727842521507350007844420857740252846368090913444848107832027197849703924792109851355880803792852943993104879854564027261264856287807447369857851978356982859448071121894860996281103858862392862273155863773482514804865098239509680866462898823680867835538601504869272022089924870636681403923871897594688203873230332146904874594991460904875975611702552877444017046271878928383317638880309003559287881713565192409883046302651110884251352688618885376598087881886461941168021887491421001389888457057124160889382790927809890300544267633891361945956299892471230427912893460807942158894522209630824895655435493911896740778574051897850063045664898783777313137899757393899733900746971413979901545017796434902430849280960903380524476083904250395032959905080363270713905942253363766906883948095063907793720971063908655611064115909485579301869910291606148149911137535313552911943562159833912709686686990913531674460920914329720843375915183630472603916189168914497917106922254321917865066317654918575327598040919373373980496920179400826776920865720715688921583962459898922302204204108922988524093020923722726764880924393085726142925015561904458925622077155124926204651014317926827127192632927385759660351927936411664246928447161349018928973871961438929540484892982930075175969227930633808436946931168499513192931671268734139932174037955086932636904856910933059869439612933506775413787933953681387962934352704579190934759708234243935270457919014935805148995260936347820535330936850589756277937289515266627937736421240802938183327214978938614272261504938981373597433939396357716310939859224618135940226325954064940601407753819940984470017397941439356455397941886262429572942293266084625942811996233221943187078032975943466394266835943913300241010944352225751361944735288014939945222096308237945692943673886946107927792763946467048664868946802228145500947177309945254947568352672657948007278183008948446203693359948861187812236949236269611990949579429556446949938550428551950281710373007950600928925989950976010725743951406955772270951726174325252952053373342059952356630967392952588064418304952883341579813953226501524269953593602860198953880899557882954176176719391954535297591496954910379391250955269500263355955580738352513955899956905495956195234067004956442628445565956713964215600957089046015354957440186423635957735463585144958054682138126958318037444336958565431822898958860708984406959163966609739959435302379774959666735830687959954032528371960249309689879960504684532265960776020302300960967551434089961167063029703961390516016791961582047148580961757617352721961901265701563962100777297176962324230284264962523741879878962691331620194962834979969036963042472028474963289866407036963529280321772963712830989737963864459802404964071951861842964295404848930964494916444544964718369431631964981724737842965197197261105965348826073771965540357205561965779771120298966011204571210966258598949771966498012864508966681563532472966841172808964967024723476928967248176464016967503551306402967727004293490967870652642332968054203310296968269675833559968429285110051968564952995068968660718560963968756484126857968900132475700969075702679840969235311956331969370979841348969546550045489969714139785804969873749062296970017397411138970145084832330970264791789699970384498747067970544108023558970671795444751970759580546821970895248431839971046877244505971198506057172971326193478365971445900435733971605509712224971757138524891971916747801382972092318005522972243946818189972403556094680972579126298820972722774647663972858442532680973041993200645973217563404785973361211753627973488899174820973624567059837973840039583101973991668395767974063492570188974191179991381974334828340223974454535297592974558281327311974670007820855974773753850574974901441271767975092972403556975236620752398975348347245942975499976058608975627663479801975707468118047975795253220117975922940641310976050628062503976178315483696976306002904889976425709862257976561377747275976673104240818976760889342889976872615836432977000303257625977135971142643977255678100011977383365521204977487111550923977582877116818977686623146537977750466857134977822291031555977941997988923978029783090993978085646337765978221314222783978364962571625978508610920467978660239733133978787927154326978915614575519979059262924361979194930809379979290696375273979402422868817979514149362361979641836783554979769524204747979825387451519979913172553589980040859974782980144606004501980224410642747980288254353343980392000383062980503726876606980559590123378980623433833974980711218936045980806984501939980910730531658980974574242255981014476561378981070339808150981174085837869981301773259062981437441144079982299331237132983001612053693983751775653201984262525337973984757314095095985387770737235985882559494358986552918455621987119531387164987622300608111988212854931129988619858586181988955038066812989378002649514989864810942812990279795061689990495267584952990782564282636991149665618566991373118605653991692337158636991947712001021992219047771056992570188179337992769699774951992913348123793993080937864109993352273634144993519863374459993671492187126993743316361547993815140535968994022632595406994142339552775994301948829266994533382280178994645108773722994852600833160994988268718178995076053820248995187780313792995299506807336995451135620002995538920722072995610744896493995682569070914995818236955932995906022058002996017748551546996105533653616996161396900388996217260147160996297064785405996400810815125996424752206598996496576381019996576381019265996632244266037996712048904282996799834006352996903580036072996951462819019996983384674317997023286993440997079150240212997127033023159997142993950808997206837661405997238759516703997254720444352997294622763475997302603227300997310583691124997350486010247997366446937896997382407865545997398368793194997438271112317997510095286738997542017142036997557978069685997557978069685997613841316457997645763171756997685665490878997717587346177997733548273826997797391984422997829313839720997829313839720997861235695019997893157550317997925079405615997925079405615997964981724738997988923116212998004884043861998004884043861998004884043861998036805899159998052766826808998068727754457998084688682106998100649609755998116610537404998116610537404998116610537404998116610537404998116610537404998132571465054998132571465054998132571465054998148532392703998164493320352998164493320352998180454248001998196415175650998196415175650998212376103299998244297958597998244297958597998244297958597998244297958597998244297958597998244297958597998268239350071998292180741545998292180741545998292180741545998292180741545998292180741545998292180741545998308141669194998308141669194998308141669194998308141669194998308141669194998308141669194998308141669194998308141669194998324102596843998324102596843998324102596843998324102596843998324102596843998324102596843998340063524492998356024452141998356024452141998371985379790998371985379790998371985379790998371985379790998371985379790998371985379790998371985379790998371985379790998371985379790998371985379790998427848626562998515633728632998523614192457998531594656281998531594656281998547555583930998595438366878998691203932773998707164860422998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998723125788071998739086715720998771008571018998771008571018998802930426316998802930426316998882735064562998994461558106999058305268702999170031762246999361562894035999521172170527999600976808772999808468868211999904234434105999952117217053999984039072351999999999999999", "289922270282349581552359823153585311158284520589157741847956593004325411393597313775876654601471597529248605246356918264609332354396438613609883006400617640017237802621598327294782625636441990008630185306370006634845897243548639251113274704643576524667614647758287711682652211386525785656568719773993660535010294798664613027309147668794790353215672976553397283677054570411632680805388409174684516304087594688283083012785691978037763555695792699471693699743029064849703565671236812707508020366144711665842018738715616171611894719406891928559723293377811118727052176272485731066349576237735104464271463738767497166935742270920785916745582813273107748798940194404751919301549806755111487079629758423379566820761695369734889765007262222080768462803058114771702871370884774679584377444777752062949899780816561058529783920961486282786754026143999789323735495507792228624327646795197356870381798022441064275801055017317607804199320064482807128150288095809745742422550812259588527285814757473704372817175554243213819641517565001822059598103842824764975340367827462372113067829792667549838832035177884539834325571002187836719710149554838842513526886840949355976569843199846775095845402454790672847501316776531849344803920004851164349672003853191387483441855194483903404857029990583053859072989322139860900515537963862360940417857864036837821014865944168675083867683909788837869144334668731870588798620976872248735096484873908671571992875432940162482877029032927394878649067083779880117472427497881410307567076882846791055496884387020573636885727738496161886996632244266888337350166792889678068089317890962922765071892255757904649893532632116579894817486792332896182146106332897490942173559898759835921664900068631988891901225799243452902327103251241903444368186679904449906628573905447464606643906460983512362907610170303098908815220340606909820758782500910778414441447911903659840710912933139674078913787049303305914704802643130915670438765901916548289786602917442101734953918423698785373919333471661373920139498507653920993408136881921935102868179922757090642108923539176096915924401066189967925223053963896925989178491054926747322554387927569310328316928287552072526928838204076421929420777935614930115078288350930809378641087931447815747051932174037955086932884299235472933450912167015933969642315611934576157566278935270457919014935932836416453936459547028873937026159960417937584792428136938103522576732938710037827398939372416324837940034794822275940601407753819941112157438590941654828978660942277305156976942931703190589943562159832730944080889981326944519815491676944958741002027945429588367676946012162226869946586755622237947025681132587947416723859991947831707978868948318516272166948725519927218949092621263148949563468628797950018355066796950489202432445951015913044866951518682265813951965588239989952332689575918952675849520374953098814103076953521778685777953936762804654954319825068233954639043621215954950281710373955373246293075955876015514022956275038705250956634159577355956953378130337957264616219495957647678483073957966897036056958326017908161958717060635564959092142435318959483185162722959786442788055960041817630441960321133864300960640352417283960943610042616961238887204124961566086220931961965109412159962332210748089962595566054299962882862751983963178139913492963417553828228963664948206790963888401193877964079932325667964319346240403964566740618965964846056852824965165275405807965404689320543965596220452333965811692975596966091009209455966386286370964966609739358052966825211881315967080586723700967335961566086967583355944648967862672178507968118047020893968389382790928968620816241840968788405982156968987917577770969155507318085969355018913699969562510973138969730100713453969905670917594970113162977032970336615964120970552088487383970775541474471970991013997734971150623274225971326193478365971565607393102971820982235488972044435222575972220005426715972427497486154972658930937066972858442532680973049973664469973209582940960973377172681276973528801493943973648508451311973800137263978973991668395767974183199527556974318867412574974430593906118974542320399662974701929676153974869519416468974973265446188975124894258854975348347245942975507956522433975651604871275975779292292468975922940641310976066588990152976170335019871976337924760187976537436355801976665123776994976736947951415976816752589660976912518155555977048186040573977223756244713977407306912678977550955261520977686623146537977830271495379977973919844221978117568193063978285157933379978452747673695978556493703414978700142052256978827829473449978907634111695979043301996712979226852664677979386461941168979498188434712979617895392080979713660957975979777504668571979857309306817979984996728010980112684149203980208449715097980304215280992980407961310711980519687804255980623433833974980727179863694980822945429588980918710995483981070339808150981190046765518981269851403764981365616969658981445421607904981501284854676981565128565272981652913667342981748679233237981868386190605981972132220325982059917322395982139721960640982195585207412982283370309482982363174947728982434999122149982538745151868982610569326289982666432573061982762198138956982913826951622983033533908991983121319011061983185162721657983225065040780983304869679026983384674317271983456498491692983528322666113983632068695833983711873334078983783697508499983887443538218983967248176464984039072350885984102916061481984174740235902984254544874148984374251831517984509919716534984613665746253984701450848323984765294558920984821157805692984885001516288984940864763060985012688937481985092493575727985172298213972985260083316042985339887954288985411712128709985483536303130985563340941376985627184651972985675067434919985730930681691985802754856112985898520422007985978325060253986034188307024986106012481445986201778047340986273602221761986361387323831986465133353550986513016136498986536957527972986592820774743986664644949164986696566804463986736469123585986768390978884986784351906533986840215153305986912039327726986975883038322987047707212743987438749940147988077187046111988436307918216988779467862672989258295692146989689240738672990000478827829990439404338180990846407993233991197548401513991556669273618991851946435127992227028234881992522305396390992769699774951992977191834389993248527604424993384195489442993583707085056993799179608319993918886565687994094456769827994254066046319994437616714283994597225990775994708952484318994940385935231995068073356423995187780313792995307487271160995355370054108995467096547651995530940258248995666608143265995754393245335995850158811230995945924377125996009768087721996105533653616996185338291862996241201538633996273123393932996313025713054996376869423651996416771742774996488595917195996536478700142996600322410738996648205193686996704068440458996767912151054996839736325475996879638644598996919540963721996975404210493997015306529615997047228384914997079150240212997095111167861997190876733756997254720444352997286642299650997318564154949997334525082598997374427401721997414329720843997446251576142997462212503791997462212503791997462212503791997494134359089997526056214387997526056214387997557978069685997557978069685997573938997334997605860852633997605860852633997613841316457997645763171756997669704563229997685665490878997701626418527997701626418527997717587346177997749509201475997757489665299997765470129124997781431056773997797391984422997813352912071997845274767370997845274767370997845274767370997861235695019997861235695019997877196622668997893157550317997893157550317997893157550317997893157550317997909118477966997909118477966997925079405615997933059869440997941040333264997941040333264997957001260913997957001260913997972962188562997972962188562997972962188562997972962188562997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212997988923116212998004884043861998004884043861998004884043861998020844971510998052766826808998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998084688682106998100649609755998100649609755998100649609755998100649609755998116610537404998132571465054998148532392703998148532392703998148532392703998148532392703998148532392703998148532392703998148532392703998148532392703998148532392703998148532392703998164493320352998220356567124998356024452141998379965843615998403907235089998411887698913998451790018036998547555583930998659282077474998675243005123998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998691203932773998707164860422998723125788071998723125788071998739086715720998771008571018998786969498667998786969498667998834852281615998834852281615998898695992211999010422485755999122148979299999201953617544999377523821685999537133098176999616937736421999808468868211999904234434105999952117217053999984039072351999999999999999", "292994748854803587872887172202591759373054762595869311924409600003192185530604049287344581608310855026894612915582653664617576173527205621718034252151625596539670886629834165961726634111694571688638700461270809643313169361403647854053277577652570507397890656840055544028660902111630728665051952819498669193813544443673455381226757677788773083492682337637463489686830638596715691124128134327695593187876079699958501588112704140264632180708226262110354712487829792668716629690517613720284742949260723947775844732727666671986976731369607201571735128405662937739062774328444743076947632196746883628876510750570603163456754105948637735757792922924680761591623705170765063125468852768446842130465772069972706814775940497661724779635452412494783218680669721786578455939859789531227554946792420155459435795380907538346798493288429924801382216334413804007788932693806721146633042809354699695146812131901106092815124575040301817989561553317820838587138685823583866694332826209439292612828699344005874830981756659697833232247458222835506679648221837781111838220840103426811166842505546422358844771998148532846822977351444848873956554355851020701323161853071680526072855066796482212857125756148947859080969785964861203773163296863310615612979865353614352066867372671699679869303943945222871323001292835873286195393676875129682537149876765677621183878281965747849879870078048936881466170813848883102165897882884682297735144886174644470337887643049814055889199240259844890755430705633892231816513176893708202320719895056900707069896421560021068897778238871243899102995866120900339967758926901584920115557902933618501907904194531786187905527269244888906828084848291907913427928431909150399821238910427274033167911536558504780912637862512569913795029767130914960177485516916037540101831917011156688427917904968636777918854643831900919740475316425920442756132986921184939268670922022887970249922892758527126923810511866950924648460568528925478428806282926404162609931927202208992387928000255374842928862145467895929700094169473930538042871052931280226006736931990487287121932708729031331933466873094664934201075766524934863454263962935581696008172936411664245926937153847381610937768343096101938318995099995938837725248591939500103746030940114599460521940585446826170941128118366239941758575008379942349129331397942979585973537943618023079501944120792300449944567698274624945126330742343945764767848307946315419852202946810208609324947352880149394947879590761815948294574880692948717539463394949148484509920949547507701148950034315994446950569007070691951103698146936951638389223182952093275661181952500279316234952915263435111953338228017812953697348889918954128293936444954607121765917954926340318899955237578408057955652562526934956067546645811956410706590267956674061896477956953378130337957352401321565957735463585144958094584457249958493607648477958876669912055959251751711810959634813975388959946052064546960209407370756960512664996090960768039838475961007453753212961374555089142961701754105949961957128948335962268367037492962587585590475962962667390229963313807798509963521299857948963712830989737963984166759772964295404848930964622603865737964862017780473965093451231386965356806537596965612181379982965867556222368966130911528578966402247298613966641661213350966841172808964967048664868402967304039710788967535473161700967774887076437968038242382647968285636761209968517070212121968772445054507969043780824542969323097058401969610393756085969833846743173969993456019664970161045759980970336615964120970544108023558970751600082997970975053070084971222447448646971421959044260971637431567523971876845482259972044435222575972227985890540972443458413803972595087226470972730755111487972850462068855972994110417697973169680621838973273426651557973377172681276973560723349241973760234944855973919844221346974047531642539974207140919030974382711123170974574242254960974773753850574974941343590889975092972403556975204698897100975300464462995975420171420363975555839305380975691507190398975835155539240976042647598678976210237338994976298022441064976417729398433976553397283450976681084704643976800791662011976984342329976977159912534116977223756244713977295580419134977447209231801977574896652993977670662218888977798349640081977949978452748978101607265414978197372831309978277177469555978396884426923978508610920467978596396022537978708122516081978835809937274978979458286116979107145707309979234833128501979378481477343979514149362361979665778175028979817406987694979953074872712980072781830080980152586468326980240371570396980352098063940980431902702185980503726876606980599492442501980711218936045980814964965764980934671923132981054378880501981190046765518981333695114360981421480216430981517245782325981668874594991981804542480009981876366654430981972132220325982131741496816982243467990360982299331237132982363174947728982442979585973982562686543342982658452109237982730276283658982834022313377982929787879272983009592517517983089397155763983161221330184983209104113131983264967359903983344771998149983440537564043983584185912885983751775653201983887443538218984007150495587984086955133832984142818380604984198681627376984238583946499984294447193271984342329976218984390212759166984485978325060984557802499481984589724354780984661548529201984725392239797984773275022744984837118733341984916923371586984996728009832985068552184253985148356822499985236141924569985331907490463985419692592533985499497230779985563340941376985619204188147985667086971095985722950217867985802754856112985874579030533985930442277305985962364132603985978325060253986018227379375986066110162323986098032017621986129953872919986161875728217986209758511165986297543613235986377348251480986417250570603986457152889726986505035672673986536957527972986560898919445986616762166217986672625412989986704547268287986760410515059986808293298006986880117472428986983863502147987039726748919987095589995691987143472778638987159433706287987167414170112987191355561585987223277416883987279140663655987358945301901987390867157199987446730403971987526535042217987893636378146988348522816146988795428790321989250315228321989633377491900990144127176672990575072223198990894290776180991277353039759991484845099197991820024579829992163184524285992306832873127992498364004916992737777919653992881426268495993017094153512993224586212951993296410387372993464000127687993559765693582993735335897722993942827957161994094456769827994222144191020994413675322810994525401816354994621167382248994692991556669994860581296985994932405471406995004229645827995163838922318995291526343511995411233300879995499018402950995522959794423995578823041195995658627679441995746412781511995826217419756995906022058002995953904840949995993807160072996073611798318996193318755686996249182002458996328986640704996384849887475996424752206598996496576381019996536478700142996632244266037996664166121335996743970759581996799834006352996823775397826996919540963721996959443282844997039247921089997095111167861997150974414633997206837661405997222798589054997222798589054997222798589054997254720444352997270681372001997270681372001997270681372001997270681372001997302603227300997302603227300997302603227300997318564154949997366446937896997366446937896997366446937896997398368793194997414329720843997414329720843997446251576142997478173431440997478173431440997494134359089997510095286738997542017142036997542017142036997557978069685997573938997334997589899924984997589899924984997605860852633997605860852633997621821780282997621821780282997637782707931997637782707931997637782707931997653743635580997661724099405997669704563229997701626418527997701626418527997717587346177997717587346177997733548273826997733548273826997733548273826997749509201475997749509201475997749509201475997749509201475997781431056773997781431056773997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997813352912071997845274767370997845274767370997845274767370997845274767370997845274767370997845274767370997845274767370997845274767370997845274767370997861235695019997861235695019997861235695019997861235695019997877196622668997877196622668997877196622668997877196622668997893157550317997893157550317997893157550317997893157550317997909118477966997909118477966997909118477966997909118477966997909118477966997909118477966997909118477966997909118477966997988923116212998164493320352998180454248001998196415175650998220356567124998244297958597998364004915966998579477439229998587457903053998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998611399294527998627360222176998659282077474998675243005123998675243005123998723125788071998755047643369998802930426316998866774136913998930617847509999010422485755999114168515474999185992689895999297719183439999457328459930999569054953474999680781447018999816449332035999904234434105999952117217053999984039072351999999999999999", "293896541266978590027612404833594185434057427598135763650583602229741592581606427465564299610760857421033615237897626610619834644789555624112173399518628397682473305632938566389479637686942365090643049814055193647822131422278651971972611048656297384003958660654717252167665187620704515669792348331285674652450800441679400826776052683829984198682688179336983065692377060954783696630648173272701051825132077705385216988811709487175394634713716821221649718137998180454722407546326593726565367979187730723189631781734649577833464738504141860725742294862177390745694539766651749309689879176753068488340542756907091440155760801557786539764193254911976767513127862991771208082613762775006783394251778725679536495782316888257546785740507238281789068360653121792388233604137795492634031890798269835442836801310392159992804430753515394807439388377252810352257673216812985810735320815802914465389818779627471949821588750738193824286147510893826903739645348829481429460680832154884841907834796418367836837517756532010840199192377061842625253379726845115158092988847597082342426849895455923898852098063939476854284711027405856399533940913858426571752350860413707244665862440745056103864467782867540866247426300417868066972052416869958341978836871745965875537873677238121080875664373613394877523821684516879239621406796880971382056725882679201315180884387020573636886038976585319887611127958757889207220723668890611782356791891952500279316893357061912438894769604009385896230028889279897602668667103898919445198155900339967758926901840294957943903165051952819904362121526503905615054346959906931830878011908144861379343909214243531834910379391250219911520597577131912510175091376913667342345937914808548672849915830048042392916915391122532917976792811198918918487542496919780377635548920785916077442921799434983161922781032033582923754648620178924688362887651925669959938072926595693741720927345857341229928024196766316928766379902000929524523965333930258726637192931008890236701931703190589437932349608159226933115732686384933889837677366934576157566278935198633744593935876973169681936698960943610937393261296347938015737474662938694076899749939324533541889939947009720205940689192855889941351571353327942037891242239942843918088519943522257513607944001085343080944559717810799945174213525290945684963210062946299458924553946905974175219947464606642938947999297719183948494086476306948980894769604949499624918200949930569964726950353534547428950824381913077951231385568129951622428295533951997510095287952340670039743952699790911848953186599205146953649466106970954080411153496954455492953250954758750578584955069988667741955429109539846955868035050197956243116849951956658100968828957152889725951957591815236302957974877499880958318037444336958669177852617959020318260897959291654030932959594911656265959906149745423960185465979283960568528242861960903707723493961127160710580961342633233844961582047148580961845402454791962060874978054962268367037492962523741879878962787097186088963066413419948963361690581457963609084960018963808596555632964071951861842964335307168053964558760155140964822115461351965053548912263965316904218473965628142307631965875536686192966114950600929966370325443315966585797966578966857133736613967112508578999967351922493735967631238727595967870652642332968094105629419968293617225033968477167892998968700620880086968916093403349969147526854261969410882160471969682217930506969897690453769970025377874962970161045759980970312674572646970504205704436970679775908576970847365648892971030916316856971190525593348971342154406014971509744146330971669353422821971805021307838972004532903452972235966354364972379614703207972531243515873972706813720013972858442532680973018051809171973225543868610973401114072750973496879638645973672449842785973887922366048974055512106364974175219063732974247043238153974374730659346974574242254960974749812459100974901441271767975037109156784975196718433275975324405854468975412190956538975491995594784975571800233030975731409509521975914960177485976058608526328976194276411345976321963832538976417729398433976521475428152976697045632292976832713517310976920498619380977032225112924977159912534116977295580419134977391345985029977503072478572977590857580643977694603610362977830271495379977934017525099978061704946292978197372831309978333040716326978484669528993978628317877835978724083443730978803888081975978907634111695978987438749940979035321532888979115126171133979234833128501979370501013519979522129826185979665778175028979785485132396979897211625940980016918583308980168547395975980320176208641980479785485132980671316616922980799004038115980910730531658981054378880501981126203054922981174085837869981253890476114981325714650536981413499752606981501284854676981589069956746981660894131167981716757377939981844444799132981972132220325982083858713868982187604743588982267409381833982355194483903982450960049798982538745151868982578647470991982626530253938982722295819833982826041849552982929787879272983073436228114983177182257833983225065040780983304869679026983408615708745983512361738464983560244521412983624088232008983719853797903983791677972324983863502146745983935326321166984015130959411984086955133832984174740235902984254544874148984318388584745984366271367692984446076005937984533861108008984565782963306984605685282429984669528993025984741353167446984805196878043984845099197165984885001516288984964806154534985060571720428985148356822499985212200533095985252102852218985276044243691985299985635165985347868418113985419692592533985491516766954985587282332849985691028362568985730930681691985738911145516985770833000814985834676711410985898520422007985970344596428986034188307024986074090626147986129953872919986185817119691986209758511165986241680366463986313504540884986401289642954986457152889726986489074745024986544937991796986640703557691986736469123585986792332370357986856176080954986912039327726986959922110673987047707212743987135492314813987191355561585987239238344533987263179736006987327023446603987398847621024987438749940147987486632723094987869694986673988348522816146988667741369128989242334764497989665299347198990056342074601990359599699935990686798716741991045919588846991444942780074991692337158636991907809681899992067418958390992346735192249992546246787863992745758383477992945269979091993104879255582993200644821477993360254097968993479961055337993575726621231993687453114775993847062391266993982730276284994166280944249994333870684564994461558105757994541362744003994685011092845994724913411967994844620369336994964327326704995068073356423995227682632915995259604488213995355370054108995435174692353995514979330599995562862113546995634686287967995690549534739995754393245335995818236955932995850158811230995969865768598996025729015370996041689943019996057650870669996089572725967996177357828037996257162466282996297064785405996344947568353996392830351300996424752206598996504556844844996504556844844996536478700142996640224729861996743970759581996791853542528996799834006352996831755861651996847716789300996855697253124996903580036072996935501891370996967423746668996983384674317996999345601966996999345601966997007326065791997015306529615997047228384914997047228384914997047228384914997063189312563997079150240212997111072095510997127033023159997142993950808997142993950808997158954878458997190876733756997206837661405997238759516703997246739980528997254720444352997254720444352997270681372001997286642299650997318564154949997334525082598997334525082598997350486010247997350486010247997382407865545997398368793194997398368793194997398368793194997398368793194997430290648493997430290648493997430290648493997438271112317997446251576142997446251576142997478173431440997478173431440997478173431440997494134359089997494134359089997494134359089997510095286738997526056214387997526056214387997526056214387997526056214387997542017142036997542017142036997542017142036997557978069685997557978069685997557978069685997557978069685997557978069685997557978069685997573938997334997573938997334997573938997334997573938997334997573938997334997589899924984997589899924984997589899924984997605860852633997605860852633997605860852633997613841316457997621821780282997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997653743635580997653743635580997677685027054997685665490878997685665490878997685665490878997701626418527997701626418527997701626418527997701626418527997789411520598997957001260913998012864507685998036805899159998052766826808998100649609755998228337030948998435829090387998467750945685998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998499672800983998515633728632998531594656281998579477439229998579477439229998595438366878998627360222176998739086715720998802930426316998882735064562998914656919860998994461558106999146090370772999233875472842999313680111088999441367532281999632898664070999744625157614999840390723509999920195361754999952117217053999952117217053999999999999999", "294694587649434591216701514692595246835746094599380716007214603530557195984607983656010087612181379981805616195553285557620608749780537625165594624360629467064625796633784495554882638205672513687643233364723158648213174149682652897706414697657773769811501662593969961534667270521762725671955054027740676974765773387681587473863981685960768039839690541554275134694994653089238699320064482148703725280513303707978867731793712200533094983716693534228209720923180055225724897451039854728831819705361733061465532377737362935533813741409030692864745598774200757749620927968334753555296633840757330056022856761088854484223764903516192361768438861666640772046031315340775493591687549778661835825898782117376661932785804350948877789307774567858792691491229470796043286035784799211530174134802363813384834805396389638166808365122180901811405678898058814422294223740817319202592055820176208641246823113019328683825985986305524828747226788821831277033821206833894625955661836488276698642838802611207763841164828499832843822322953410846312227666672848610601248145850829170191371852880149394283855178522975755857700349544316860014684053437862105565575471864196447097505866223484908943868090913443889869822674093818871642219845817873541570236062875584568975149877611606786586879351347900340881051186694971882918615229917884754121909565886541745806266888177740890301889702009480791891170414824510892511132747035894075303656649895655435493911897091918982331898528402470752899924983640049901313584345522902845833399837904274336424433905495347389590906780202065344908017173958150909190302140360910347469394921911512617113307912837374108183914194052958358915351220212919916380700046287917346336169058918152363015338919046174963689920187381290601921216861123969922046829361723922948621773897923962140679616924855952627967925725823184844926595693741720927417681515650928351395783123929301070978245930258726637192931200421368490931998467750946932740650886629933514755877612934296841332418935086907251049935813129459084936475507956522937121925526312937848147734346938566389478557939140982873925939771439516065940553524970871941271766715082941934145212520942636426029081943274863135045943809554211291944280401576940944791151261711945389686048553946004181763044946451087737219946866071856096947392782468517947935454008587948454184157183948917051059008949300113322586949707116977639950201905734761950648811708937951047834900164951390994844620951790018035848952308748184444952835458796865953242462451918953537739613426953888880021707954303864140584954734809187110955125851914513955524875105741955915917833144956290999632899956658100968828957041163232407957392303640688957775365904266958158428167845958445724865529958764943418511959076181507669959355497741529959626833511564959882208353950960121622268686960424879894019960768039838475961071297463809961382535552966961685793178299961973089875984962268367037492962531722343703962795077649913963066413419948963369671045281963633026351492963808596555632964040030006544964279443921281964494916444544964742310823105965061529376087965356806537596965548337669385965763810192648966019185035034966274559877420966482051936859966697524460122966944918838683967160391361946967359902957560967495570842577967615277799946967822769859384968086125165595968309578152682968477167892998968636777169489968844269228928969075702679840969251272883980969458764943419969722120249629969913651381418970073260657909970232869934401970376518283243970496225240611970607951734155970767561010646970935150750962971142642810400971334173942190971469841827207971653392495172971844923626961971988571975803972148181252294972347692847908972547204443522972714794183838972874403460329972962188562399973002090881522973137758766540973305348506855973448996855697973592645204539973712352161908973800137263978973903883293697974039551178715974175219063732974318867412574974438574369942974566261791135974725871067626974845578024995974941343590889975045089620609975140855186503975220659824749975332386318293975468054203310975611702552152975771311828644975954862496608976146393628398976321963832538976489553572854976609260530222976705026096117976800791662011976936459547029977112029751169977239717172362977351443665906977471150623274977582877116818977718545001836977886134742151978037763554818978181411903660978325060252502978444767209870978564474167239978700142052256978835809937274978947536430817979059262924361979218872200852979378481477343979482227507063979593954000607979705680494150979785485132396979897211625940979984996728010980080762293905980200469251273980288254353343980447863629834980583531514852980647375225448980767082182816980870828212536980950632850781981046398416676981150144446395981237929548465981285812331413981381577897307981485323927027981541187173799981597050420570981700796450290981788581552360981836464335307981940210365026982051936858570982115780569167982163663352114982211546135061982291350773307982403077266851982474901441272982522784224219982602588862465982706334892184982802100458079982865944168675982929787879272982993631589868983081416691938983169201794008983233045504605983304869679026983392654781096983472459419341983544283593762983648029623482983783697508499983871482610569983935326321166984047052814710984118876989131984182720699727984302427657095984390212759166984462036933587984597704818604984709431312148984781255486569984853079660990984900962443937984932884299235984996728009832985068552184253985124415431025985180278677797985220180996920985252102852218985339887954288985411712128709985443633984007985483536303130985515458158428985587282332849985651126043446985675067434919985706989290217985754872073165985794774392288985882559494358986010246915551986098032017621986137934336744986185817119691986257641294112986329465468533986377348251480986433211498252986536957527972986632723093866986688586340638986800312834182986912039327726986967902574498987039726748919987095589995691987167414170112987231257880708987271160199831987327023446603987398847621024987454710867796987486632723094987534515506041987606339680462988156991684357988635819513830989082725488005989433865896286989753084449268990152107640496990431423874356990782564282636990982075878250991197548401513991436962316250991668395767162991955692464846992211067307232992434520294320992546246787863992761719311126992977191834389993128820647056993200644821477993368234561793993527843838284993655531259477993815140535968993918886565687994094456769827994262046510143994437616714283994541362744003994573284599301994637128309897994716932948143994836639905511994956346862880995068073356423995179799849967995267584952037995291526343511995355370054108995427194228529995506998866774995578823041195995650647215616995658627679441995746412781511995786315100634995866119738879995929963449476995945924377125996041689943019996081592262142996089572725967996137455508914996161396900388996217260147160996265142930107996305045249230996313025713054996313025713054996456674061897996552439627791996568400555440996600322410738996616283338388996632244266037996664166121335996712048904282996712048904282996743970759581996775892614879996807814470177996807814470177996863677716949996887619108423996887619108423996887619108423996903580036072996903580036072996903580036072996919540963721996919540963721996919540963721996935501891370996935501891370996935501891370996967423746668996967423746668996967423746668996983384674317996999345601966996999345601966996999345601966996999345601966997015306529615997031267457265997031267457265997063189312563997063189312563997063189312563997087130704037997111072095510997111072095510997127033023159997127033023159997142993950808997174915806107997174915806107997206837661405997206837661405997206837661405997206837661405997222798589054997222798589054997222798589054997238759516703997238759516703997254720444352997254720444352997270681372001997286642299650997294622763475997302603227300997302603227300997334525082598997334525082598997334525082598997350486010247997350486010247997350486010247997366446937896997366446937896997366446937896997366446937896997366446937896997366446937896997382407865545997382407865545997382407865545997382407865545997414329720843997414329720843997430290648493997446251576142997446251576142997446251576142997446251576142997446251576142997454232039966997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997462212503791997557978069685997765470129124997821333375896997861235695019997893157550317997957001260913998108630073580998308141669194998371985379790998387946307439998395926771264998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998403907235089998419868162738998435829090387998435829090387998435829090387998435829090387998435829090387998435829090387998435829090387998435829090387998435829090387998435829090387998451790018036998483711873334998515633728632998531594656281998579477439229998619379758352998707164860422998755047643369998866774136913998914656919860998962539702808999090227124000999265797328141999313680111088999489250315228999664820519369999760586085263999840390723509999920195361754999952117217053999984039072351999999999999999", "294822275070627591751392590937596052862592374600306449810863604528115174054608797663320192613147016104576617632036773977622372432285764627056964550780631885145164637636912837374108641605350102948646896397618630652331093483153657247059199081661987454710868666560260482339671149027181460675841539910300680893173511244685841061082470690661261232503695409637208115699838794630744704100362313058708529519735687713118286434808717339951797998721465851595295725695497422310729981006496098733995179799850737833782899462741863917130864745630696056055749349592198299753140312514963757034778861347760961167063030764863613873238768790002074921772524859144814776068185082917779579589165722783090993248528786626338722807790065918631191793377811118382796673742677924799873908671572803058113737570806170494629148809322777839848812483041514373815435813129459818356662889247821564809346719824605366063876827270840981278829832569868961832442181539591835043812746397837645443953203840215153304710842705058017972845274767369479847644965125373849959299634495852536989449827855002952771615857229502178667859248559526280861171851307998863222830510909865233907394698867157199176416869088471421959871139450624870873158507972483875073819290377877021052463569878824637287919880612261184620882439787400444884123665267425885799562670582887523342856687889095494230125890539958182370891952500279316893357061912438894849408647631896445501412542897866023973313899214722359664900643225384259901975962842960903356583084609904657398688012905862448725520906955772269484908057076277273909437696518922910754473049974911847796593938912941120137902914090306928639915271415574673916444543756883917489984517900918471581568321919652690214355920841779324214921895200549056922940641310073924025984390213925135268861826926092924520773926938853686176927896509345123928854165004070929692113705649930426316377508931176479977016931966545895647932692768103682933482834022313934209056230348934871434727786935693422501716936523390739470937217691092206937848147734346938502545767960939252709367468940010853430801940768997494134941479258774520942165578663432942740172058800943314765454168944017046270729944639522449045945190174452939945613139035641946115908256588946706462579605947217212264377947664118238552948031219574482948518027867780949012816624902949499624918200949994413675323950433339185674950904186551322951375033916971951909724993217952404513750339952771615086269953106794566900953529759149602953944743268479954327805532058954678945940338954974223101847955301422118654955676503918408956107448964934956610218185881957025202304758957288557610968957567873844828957903053325459958246213269915958581392750547958884650375880959179927537388959586931192441960041817630441960392958038721960672274272581960911688187317961151102102054961414457408265961685793178299961925207093036962116738224826962332210748089962587585590475962858921360509963162178985843963489378002650963736772381211963944264440649964191658819211964455014125421964766252214579965029607520789965237099580228965484493958789965628142307631965755829728824965979282715911966210716166824966505993328332966785309562192966976840693981967216254608718967463648987279967671141046718967870652642332968078144701770968325539080331968564952995068968764464590682969035800360717969307136130752969522608654015969746061641103969993456019664970192967615278970312674572646970456322921488970623912661804970799482865944970911209359488970983033533909971086779563628971246388840119971445900435733971653392495172971844923626961972012513367277972164142179944972363653775557972547204443522972690852792364972850462068855973010071345347973153719694189973265446187732973385153145101973528801493943973704371698083973911863757522974111375353136974255023701978974406652514644974598183646434974717890603802974757792922925974813656169697974917402199416975061050548258975180757505626975276523071521975404210492714975515936986258975603722088328975723429045696975867077394538976002745279556976098510845450976194276411345976321963832538976441670789906976561377747275976705026096117976840693981134976936459547029977032225112924977127990678818977239717172362977399326448853977511052942397977574896652993977662681755064977782388712432977934017525099978053724482467978125548656888978221314222783978317079788677978380923499274978460728137519978532552311940978604376486361978700142052256978827829473449978963497358466979083204315835979178969881729979258774519975979386461941168979514149362361979609914928256979721641421799979849328842992979961055336536980040859974782980128645076852980256332498045980376039455413980495746412781980583531514852980663336153097980751121255167980846886821062980942652386957980998515633729981070339808150981166105374044981277831867588981389558361132981501284854676981636952739693981732718305588981788581552360981876366654430981972132220325982059917322395982155682888289982267409381833982363174947728982427018658324982490862368921982570667007166982666432573061982746237211307982810080921903982889885560149982985651126043983073436228114983145260402535983201123649306983272947823728983336791534324983384674317271983464478955517983536303129938983584185912885983632068695833983679951478780983735814725552983783697508499983847541219096983943306784990984015130959411984086955133832984174740235902984254544874148984318388584745984398193222990984525880644183984621646210078984661548529201984749333631271984861060124814984916923371586984956825690709985020669401306985076532648077985124415431025985188259141621985252102852218985339887954288985435653520183985507477694604985571321405200985619204188147985667086971095985730930681691985834676711410985930442277305985970344596428985986305524077985994285987902986018227379375986058129698498986098032017621986177836655866986273602221761986337445932358986393309179129986481094281200986568879383270986624742630042986696566804463986752430051235986800312834182986848195617129986896078400077986951941646849986999824429796987039726748919987063668140392987079629068041987103570459515987143472778638987582398288989988061226118462988412366526743988851292037093989154549662426989577514245128989984517900180990271814597864990575072223198990814486137934991061880516496991381099069478991700317622460991955692464846992147223596635992434520294320992626051426109992793641166425992929309051442993001133225863993128820647056993248527604424993312371315021993535824302108993639570331828993751296825371993918886565687993990710740108994126378625126994222144191020994270026973968994373773003687994509440888704994653089237546994748854803441994796737586389994812698514038994900483616108994972307790529995028171037301995099995211722995155858458494995275565415862995323448198809995331428662634995371330981757995403252837055995451135620002995499018402950995514979330599995562862113546995594783968844995682569070914995722471390037995738432317686995770354172985995818236955932995898041594177995945924377125996097553189791996233221074809996249182002458996281103857756996297064785405996297064785405996313025713054996328986640704996344947568353996344947568353996368888959826996376869423651996392830351300996456674061897996480615453370996488595917195996504556844844996520517772493996552439627791996552439627791996568400555440996584361483089996608302874563996632244266037996632244266037996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996743970759581996743970759581996767912151054996775892614879996807814470177996807814470177996807814470177996807814470177996823775397826996823775397826996823775397826996855697253124996855697253124996855697253124996871658180774996895599572247996919540963721996935501891370996935501891370996951462819019996951462819019996951462819019996967423746668996983384674317996983384674317997015306529615997031267457265997031267457265997031267457265997031267457265997031267457265997063189312563997063189312563997079150240212997079150240212997095111167861997127033023159997127033023159997142993950808997142993950808997158954878458997158954878458997158954878458997158954878458997158954878458997158954878458997158954878458997158954878458997158954878458997174915806107997174915806107997174915806107997174915806107997174915806107997174915806107997190876733756997206837661405997206837661405997206837661405997206837661405997222798589054997222798589054997222798589054997222798589054997238759516703997238759516703997238759516703997334525082598997446251576142997478173431440997526056214387997573938997334997701626418527997893157550317998052766826808998108630073580998148532392703998156512856527998164493320352998172473784176998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998180454248001998196415175650998212376103299998212376103299998228337030948998228337030948998228337030948998228337030948998244297958597998260258886246998276219813896998300161205369998324102596843998371985379790998387946307439998467750945685998547555583930998643321149825998755047643369998882735064562998898695992211998946578775158999066285732527999217914545193999297719183439999473289387579999632898664070999760586085263999856351651158999920195361754999952117217053999968078144702999999999999999", "295452731712767592956442628446597377619587250601734952835459606164110258088610808740203981615405487366926620185785197836624830415143728629291494421656634031889933443638995738432318643616426986736648851611255646654110736916030658755366861922663655371650200668611239685250673567107720301678339425087386683207508020366688099532344820692871849711905697676088934289702384562590778706733915375162711139131406317715727898105438720141094600418724610154342170729007389909502733412605940657737730036869743741943721769109746037699711107750051873014860754305460233349758175985188259761862959475205765589836081273769308732223517773290983671971777041801669513780784639203230784647183694316788262333806841791781718353471795037747593890798046382455748801047036853782804119515426237807199974462516810160726541427813209263722408816513175745774819641517565001822466601758894825523119403700828412047308190831109444080890833774918998292836344628349800838986161875728841500007980464844029815012849846567602509058849041546294671851611255646178854188945461510856495299506807858514356854420860573316521156862560452013471864475763331365866518762070452868689448230731870884075782485872911113593922874794503056518876430498140552878226102501077880045648253077881817311222128883804446714443885631972930267887196143839880888720412430370890324485659106891768949611351893197452635947894689799371139896238009353104897770258407419899055113083172900252182656856901513095941136902678243659522903843391377907905016519560117906157725887029907434600098958908743396166185909980368058992911073691602956912198937002219913364084720604914489330119867915614575519129916588192105725917617671939093918806761048952919852201809969920793896541267921687708489617922533637655020923419469139546924289339696423925191132108598926021100346352926827127192632927657095430386928471102740491929372895152666930210843854245930897163743157931647327342665932397490942174933139674077857933897818141190934560196638629935182672816944935900914561154936571273522417937161827845434937808245415224938382838810592938877627567714939436260035433940034794822275940633329609117941303688570380941958086603993942548640927011943091312467081943610042615677944168675083396944727307551115945198154916764945661021818588946163791039535946674540724307947201251336728947727961949148948262653025394948773402710166949212328220516949707116977639950249788517709950752557738656951271287887252951718193861427952077314733532952484318388585952867380652163953290345234865953641485643146953904840949356954295883676759954734809187110955205656552759955572757888688955883995977846956298980096723956634159577355956905495347390957240674828021957607776163951957958916572231958278135125213958653216924968959060220580020959363478205353959650774903037959954032528371960265270617528960600450098160960855824940546961079277927633961310711378545961605988540054961925207093036962204523326896962483839560755962723253475492962922765071106963154198522018963369671045281963625045887667963960225368298964279443921281964598662474263964830095925175965061529376087965364787001420965652083699105965907458541490966154852920052966458110545385966721465851595966920977447209967064625796051967208274144893967383844349034967591336408472967822769859384967974398672051968126027484717968325539080331968517070212121968700620880086968932054330998969131565926612969331077522226969570491436962969777983496401969969514628190970161045759980970328635500295970512186168260970751600082997970959092142435971190525593348971461861363382971645412031347971757138524891971932708729031972164142179944972323751456435972475380269101972642970009417972778637894434972866422996505972938247170926973065934592119973193622013311973321309434504973480918710996973624567059837973752254481030973871961438399974007629323416974159258136083974270984629627974358769731697974446554833767974534339935837974677988284679974861538952644974973265446188975061050548258975172777041802975300464462995975460073739486975635643943626975747370437170975819194611591975954862496608976098510845450976210237338994976337924760187976433690326082976545416819626976728967487590976864635372608976952420474678977048186040573977159912534116977263658563836977335482738257977407306912678977495092014748977614798972116977758447320958977878154278327977973919844221978061704946292978157470512186978261216541905978341021180151978452747673695978588415558712978684181124607978795907618151978931575503168979043301996712979155028490256979274735447624979386461941168979474247043238979562032145308979657797711203979745582813273979841348379168979905192089764979961055336536980064801366255980200469251273980344117600115980447863629834980503726876606980551609659553980655355689273980791023574290980870828212536980942652386957981006496097553981054378880501981150144446395981285812331413981397538824957981501284854676981589069956746981652913667342981724737841763981788581552360981868386190605981980112684149982059917322395982091839177693982123761032991982171643815939982235487526535982299331237132982395096803026982498842832745982554706079517982618549790114982714315356009982786139530429982842002777201982905846487798982969690198394983025553445166983073436228114983129299474885983225065040780983320830606675983352752461973983400635244920983488420346991983560244521412983616107768184983640049159657983663990551131983735814725552983831580291447983919365393517984007150495587984063013742359984086955133832984142818380604984214642555025984302427657095984374251831517984406173686815984446076005937984501939252709984565782963306984645587601551984701450848323984709431312148984741353167446984845099197165984932884299235984980767082183985028649865130985084513111902985140376358674985204220069270985268063779867985292005171341985307966098990985331907490463985379790273411985435653520183985499497230779985579301869025985659106507270985706989290217985730930681691985762852536989985810735319937985906500885832986018227379375986098032017621986145914800568986209758511165986289563149410986329465468533986337445932358986369367787656986760410515059987143472778638987749988029304988141030756708988619858586181988994940385935989322139402742989649338419549990000478827829990343638772285990575072223198990942173559127991261392112110991492825563022991756180869232992035497103092992179145451934992274911017828992498364004916992586149106986992729797455828992897387196144992985172298214993176703430003993272468995898993440058736214993647550795652993711394506249993918886565687993982730276284994062534914529994158300480424994190222335722994301948829266994333870684564994413675322810994525401816354994573284599301994653089237546994700972020494994764815731090994828659441687994956346862880995012210109652995068073356423995115956139371995179799849967995227682632915995331428662634995387291909406995419213764704995435174692353995475077011476995554881649722995594783968844995594783968844995658627679441995690549534739995706510462388995778334636809995914002521827995961885304774995977846232423995977846232423996009768087721996033709479195996105533653616996137455508914996137455508914996137455508914996137455508914996153416436563996169377364212996201299219511996241201538633996265142930107996313025713054996313025713054996328986640704996344947568353996352928032177996360908496002996360908496002996408791278949996408791278949996440713134247996456674061897996456674061897996456674061897996456674061897996456674061897996472634989546996488595917195996504556844844996528498236318996584361483089996600322410738996600322410738996600322410738996600322410738996600322410738996600322410738996632244266037996632244266037996648205193686996680127048984996680127048984996680127048984996688107512809996696087976633996712048904282996743970759581996775892614879996775892614879996783873078703996807814470177996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996839736325475996855697253124996855697253124996855697253124996887619108423996887619108423996919540963721996919540963721996919540963721996919540963721996935501891370996935501891370996935501891370996951462819019996951462819019996967423746668996967423746668996983384674317996983384674317996983384674317996983384674317996983384674317996983384674317996983384674317996983384674317997015306529615997015306529615997031267457265997031267457265997031267457265997031267457265997031267457265997031267457265997031267457265997047228384914997047228384914997047228384914997166935342282997334525082598997374427401721997414329720843997470192967615997573938997334997749509201475997925079405615997988923116212998036805899159998052766826808998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998068727754457998100649609755998100649609755998116610537404998116610537404998132571465054998148532392703998164493320352998196415175650998228337030948998308141669194998371985379790998435829090387998531594656281998627360222176998691203932773998882735064562998898695992211998978500630457999106188051650999265797328141999321660574913999473289387579999624918200246999760586085263999840390723509999904234434105999952117217053999999999999999999999999999999", "295101591304487592541458509569597002537787496601559382631319606347660926053611080075974016615812491021978620656632563485625476832713517630249150080603635396549247442640344436818668645148676041052650926531850031656201618438064660766443745710665794135955182670478668220197674915806106651679400826776052684476401768471689679664182082694204587170606698737490622955703390101032672708066652833863712815028809474717228225304455721649402263260725974813656170730132635308764734537851339920738759516703111742821572789811746835746093563750810017078193754999760586085759261328268399763291462499801767297655339728771375672354077775030724785725778414441447337781989689240739785309562191755788541650040700791861522991716795261200580978798732702344660802204204108343805859256539990809290855984550812323432237882815276203852968818308780106300821054059661948823799339217595826648364802962829337781111838832146904378082834964008108151837733229055273840374762581201842816784511516845123138556813847565160487127850071026128039852305555998915854484222623019856702791566246858769731696806860988300640033863262732830032865401497135013867532280976170869599221106731871714044020238873717140440202875592549438973877364212408025879048090275007880787831388760882463728791917884091743412127885791582206758887403635899318888943865417458890468134007949891952500279316893452827478333894841428183806896309833527525897826121654191899326448853207900715049558680902095669800329903508211897275904737203326257905998116610537907219127575695908408216685554909645188578360910969945573237912159034683096913212455907937914225974813656915223532791726916316856335690917378258024356918447640176847919517022329338920402853813864921280704834565922302204204108923315723109827924305300624072925095366542703925821588750738926659537452317927353837805053928008235838667928774360365825929436738863263930091136896876930929085598455931711171053262932445373725121933387068456419934256939013295935015083076628935653520182593936172250331189936770785118031937369319904873937983815619364938614272261504939204826584521939755478588416940314111056135940832841204731941335610425678941902223357222942508738607888943123234322379943793593283642944392128070483944910858219080945413627440027946028123154518946602716549886946985778813465947400762932342947887571225640948358418591289948837246420762949355976569358949922589500902950409397794200950808420985428951255326959603951750115716725952236924010023952675849520374953042950856304953410052192233953793114455812954112333008794954447512489426954758750578584955069988667741955357285365425955588718816338955868035050197956259077777600956634159577355956953378130337957280577147144957615756627775957974877499880958333998371985958685138780266959060220580020959427321915950959714618613634960009895775142960281231545177960544586851388960855824940546961159082565879961486281582686961837421990966962108757761001962276347501317962539702807527962906804143457963218042232615963457456147351963680909134439963960225368298964207619746860964367229023351964598662474263964822115461351964973744274017965221138652579965484493958789965660064162929965795732047947965947360860613966130911528578966322442660367966490032400683966633680749525966793290026016966960879766332967176352289595967391824812858967591336408472967806808931735967958437744402968102086093244968293617225033968445246037700968604855314191968828308301278969019839433068969203390101033969394921232822969538569581664969698178858155969849807670822969985475555839970145084832330970288733181172970440361993839970607951734155970783521938295970975053070084971150623274225971334173942190971533685537804971685314350470971813001771663971964630584330972124239860821972235966354364972379614703207972555184907347972674891864715972770657430610972898344851803973018051809171973137758766540973257465723908973353231289803973496879638645973616586596013973728313089557973903883293697974055512106364974167238599907974294926021100974438574369942974590203182609974717890603802974869519416468975021148229135975148835650328975292483999170975420171420363975531897913907975627663479801975731409509521975883038322187976026686671029976178315483696976313983368713976393788006959976497534036678976601280066397976673104240818976736947951415976800791662011976864635372608976944440010853977056166504397977159912534116977271639027660977391345985029977479131087099977550955261520977614798972116977678642682713977726525465660977782388712432977846232423028977941997988923978061704946292978173431439835978285157933379978412845354572978532552311940978612356950186978692161588432978795907618151978899653647870978995419213765979099165243484979186950345554979274735447624979362520549694979458286115589979562032145308979633856319729979689719566501979769524204747979881250698291979992977191834980104703685378980216430178922980304215280992980392000383062980487765948957980591511978676980671316616922980727179863694980838906357237980950632850781981046398416676981142163982571981229949084641981317734186711981397538824957981469362999377981541187173799981605030884395981684835522641981764640160886981844444799132981940210365026982004054075623982067897786219982139721960640982219526598886982299331237132982419038194500982546725615693982634510717763982714315356009982762198138956982842002777201982969690198394983049494836640983089397155763983161221330184983280928287552983400635244920983480439883166983552264057587983616107768184983703892870254983783697508499983831580291447983871482610569983903404465868983951287248815983999170031762984078974670008984142818380604984174740235902984206662091201984262525337973984366271367692984470017397411984565782963306984677509456850984789235950393984861060124814984900962443937984940864763060984988747546007985044610792779985084513111902985116434967200985148356822499985196239605446985276044243691985323927026639985371809809586985435653520183985507477694604985587282332849985643145579621985706989290217985770833000814985810735319937985882559494358985970344596428986034188307024986074090626147986098032017621986425231034428986784351906533987103570459515987494613186918987869694986673988220835394953988651780441479989138588734777989433865896286989737123521619989984517900180990207970887268990511228512601990814486137934991069860980320991293313967408991452923243899991660415303337991828005043653992027516639267992187125915758992378657047548992538266324039992713836528179992785660702600992961230906740993096898791758993216605749126993264488532073993440058736214993575726621231993663511723301993783218680670993855042855091993871003782740993926867029512994094456769827994142339552775994206183263371994222144191020994285987901617994381753467512994421655786634994509440888704994541362744003994669050165196994732893875792994820678977862994908464079932994956346862880995068073356423995084034284073995115956139371995163838922318995235663096739995243643560564995259604488213995259604488213995307487271160995435174692353995594783968844995610744896493995642666751792995658627679441995690549534739995722471390037995746412781511995794295564458995818236955932995834197883581995866119738879995898041594177995929963449476995961885304774995993807160072995993807160072996025729015370996049670406844996073611798318996073611798318996089572725967996089572725967996089572725967996105533653616996153416436563996169377364212996169377364212996169377364212996169377364212996169377364212996201299219511996217260147160996217260147160996225240610984996233221074809996233221074809996273123393932996313025713054996313025713054996313025713054996328986640704996336967104528996344947568353996360908496002996360908496002996360908496002996360908496002996360908496002996360908496002996408791278949996408791278949996424752206598996440713134247996440713134247996440713134247996440713134247996488595917195996488595917195996488595917195996504556844844996536478700142996560420091616996568400555440996576381019265996584361483089996600322410738996616283338388996632244266037996648205193686996664166121335996664166121335996664166121335996680127048984996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996712048904282996728009831931996728009831931996728009831931996728009831931996743970759581996759931687230996759931687230996759931687230996775892614879996775892614879996775892614879996791853542528996791853542528996791853542528996791853542528996791853542528996903580036072997063189312563997135013486984997190876733756997238759516703997446251576142997637782707931997861235695019997941040333264998004884043861998012864507685998020844971510998020844971510998020844971510998028825435334998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998036805899159998052766826808998052766826808998052766826808998052766826808998084688682106998100649609755998100649609755998100649609755998100649609755998116610537404998148532392703998164493320352998196415175650998212376103299998276219813896998308141669194998371985379790998499672800983998563516511580998691203932773998850813209264998898695992211999026383413404999138109906948999297719183439999369543357860999521172170527999648859591719999776547012912999864332114982999904234434105999936156289404999999999999999999999999999999", "295037747593890592102532999218596308237434760600593746508547604967040684405609699455732367614798972116259619675035513064624343606850430629099963289866633816417410180638891992402598643983528322666649729462276348655363669736485660247713597114665323288589533670398863581951675490399502019680422326145596685202623976506689815332067100694571688506536699567458860709704363717619268708816816433371713652977511053718481158124910722846471836943727219766012801731489314158939735367819577674739493719374970743747306593459747809362680159751951223405104755989338100330760075335578504764273059550221768398959347517772261503838603775916556270250779659393803968783338387627089786746045680175790329273937401794024228688171797527652307152800807622939045804103554498588807471310232551810783202719742813799818045425816592980384020819370181794966822147383205912825084193893349827901297623418830431104655803833080618645556835762054490607838315802914465840853590410675843151963992147845378513399199847676886980671849943338706846852217770896844854380476593300856479338579158858474454535298860772828116770863127064945015865026415335259867021531291399869112412813433871035704595151872775445708905874658835171500876510302778797878226102501077880109491963673881753467511532883293697029671885025457679600886621550444512887994190222336889430673710756890891098590650892239796977000893756085103666895304295085630896756739501700898233125309243899629706478541900890619762821902119611191803903324661229311904394043381801905551210636362906971733197133908272548800536909413755127448910507078671412911544538968605912605940657271913643400954464914648939396358915518809953235916412621901585917482004054076918607249453338919644709750531920450736596811921296665762214922238360493512923124191978038923994062534915924847972164142925598135763651926292436116387927082502035018927928431200421928782340829649929548465356807930306609420140931064753483473931711171053262932245862129507932852377380173933674365154103934416548289787935078926787225935797168531435936419644709750937010199032768937640655674908938263131853223938973393133609939675673950170940178443171117940617368681468941191962076836941774535936029942237402837853942732191594975943306784990344943873397921887944440010853431944974701929676945485451614448946004181763044946411185418097946890013247570947456626179114947991317255359948518027867780949020797088727949459722599077949802882543533950098159705042950441319649498950792460057779951071776291638951335131597848951638389223182952077314733532952548162099181952963146218058953370149873111953801094919637954216079038514954495395272373954758750578584955062008203917955413148612197955772269484302956059566181987956330901952021956666081432653957017221840933957312499002442957551912917179957759404976617958086603993424958453705329354958788884809985959100122899143959395400060651959674716294511959946052064546960249309689879960456801749318960696215664054960983512361739961206965348826961406476944440961677812714475961965109412159962188562399247962396054458685962579605126650962779116722264963002569709351963241983624088963457456147351963656967742965963864459802404964016088615070964119834644790964311365776579964550779691316964750291286930964957783346368965213158188754965428630712017965620161843806965859575758543966051106890332966218696630648966434169153911966665602604823966889055591911967096547651349967264137391665967407785740507967551434089349967687101974367967838730787033968038242382647968205832122963968317558616507968469187429173968684659952436968844269228928968924073867173969051761288366969195409637208969339057986050969498667262541969618374219910969746061641103969937592772892970113162977032970240850398225970344596427944970448342457664970623912661804970791502402120970959092142435971174564665698971334173942190971453880899558971581568320751971717236205768971828962699312971932708729031972036454758751972116259396996972212024962891972331731920259972491341196750972682872328540972826520677382972978149490048973113817375066973233524332434973369192217452973504860102469973688410770434973840039583101973959746540469974087433961662974215121382855974310886948749974406652514644974518379008188974606164110258974717890603802974885480344118975069031012082975204698897100975300464462995975380269101240975491995594784975635643943626975739389973345975843136003064975978803888082976090530381626976194276411345976274081049591976329944296363976425709862257976529455891976976625221457871976728967487590976864635372608977048186040573977175873461766977255678100011977359424129730977439228767976977519033406222977630759899765977702584074186977774408248607977886134742151977973919844221978117568193063978277177469555978396884426923978540532775765978668220196958978763985762853978843790401098978915614575519979019360605238979115126171133979170989417905979218872200852979274735447624979354540085870979418383796466979474247043238979538090753835979617895392080979721641421799979817406987694979913172553589979992977191834980064801366255980184508323624980320176208641980447863629834980583531514852980727179863694980838906357237980910730531658980950632850781981022457025202981134183518746981229949084641981317734186711981373597433483981397538824957981437441144079981477343463202981517245782325981589069956746981668874594991981740698769413981828483871483981908288509728981972132220325982059917322395982131741496816982203565671237982291350773307982387116339202982466920977447982554706079517982666432573061982746237211307982810080921903982873924632500982937768343096983017572981342983113338547236983185162721657983225065040780983280928287552983352752461973983424576636394983488420346991983528322666113983576205449061983632068695833983687931942605983743795189376983791677972324983839560755271983895424002043983951287248815983999170031762984039072350885984102916061481984182720699727984230603482674984278486265622984326369048569984374251831517984454056469762984525880644183984573763427130984597704818604984597704818604984653568065376984725392239797984741353167446984805196878043985403731664884985714969754042986257641294112986640703557691987015785357445987374906229550987813831739901988196894003479988595917194707988875233428567989170510590076989505690070707989713182130145989984517900180990311716916987990535169904075990790544746461991061880516496991189567937689991508786490671991692337158636991835985507478991955692464846992083379886039992235008698706992402598439021992642012353758992737777919653992825563021723992913348123793993025074617337993120840183231993240547140600993328332242670993408136880916993487941519161993575726621231993631589868003993671492187126993711394506249993791199144494993823120999793993902925638038994014652131582994142339552775994254066046319994301948829266994381753467512994429636250459994453577641933994549343207827994669050165196994716932948143994764815731090994780776658739994836639905511994844620369336994876542224634994892503152283995084034284073995211721705266995283545879686995331428662634995355370054108995371330981757995419213764704995435174692353995451135620002995467096547651995483057475300995483057475300995491037939125995514979330599995562862113546995594783968844995610744896493995626705824142995634686287967995642666751792995642666751792995690549534739995714490926213995722471390037995722471390037995722471390037995754393245335995754393245335995754393245335995754393245335995754393245335995754393245335995770354172985995786315100634995818236955932995818236955932995818236955932995866119738879995898041594177995914002521827995914002521827995914002521827995914002521827995914002521827995914002521827995937943913300995961885304774995961885304774995961885304774995961885304774995977846232423995993807160072995993807160072996025729015370996057650870669996081592262142996089572725967996121494581265996129475045090996169377364212996169377364212996169377364212996185338291862996201299219511996201299219511996201299219511996201299219511996233221074809996233221074809996265142930107996265142930107996265142930107996265142930107996265142930107996265142930107996281103857756996281103857756996297064785405996297064785405996313025713054996313025713054996313025713054996313025713054996313025713054996328986640704996344947568353996360908496002996360908496002996360908496002996360908496002996360908496002996376869423651996376869423651996376869423651996376869423651996376869423651996376869423651996376869423651996376869423651996408791278949996504556844844996664166121335996728009831931996791853542528996903580036072997095111167861997334525082598997653743635580997717587346177997813352912071997813352912071997829313839720997837294303545997845274767370997861235695019997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997877196622668997893157550317997893157550317997893157550317997893157550317997893157550317997893157550317997941040333264997941040333264997941040333264997941040333264997941040333264997957001260913997988923116212998004884043861998004884043861998036805899159998068727754457998084688682106998100649609755998132571465054998244297958597998276219813896998356024452141998451790018036998547555583930998691203932773998850813209264998882735064562999010422485755999122148979299999281758255790999369543357860999505211242877999640879127895999760586085263999872312578807999920195361754999936156289404999999999999999999999999999999", "294918040636522591871099548306596284296043286600833160423284605350102947983609803201762086614216398257067618996696087977623856798557132628565272213621633329609116882638317399007230643281247506105649162849344804655036470719678659888592725009664613027309147669521012561250674564665698370679480631414298684548225942892689567937688538694268430881203699088631031236703940753036566708298086284775712735224171229717284088551227721593539016488725815204379679730124654844940734569773195218738895184588128743244537372512747705616650440752166695928367756547970568049760618007118574764297000941695767904170590395771694890907060775126490351619778510207013232781989689240739785413308221474789100282508419792763315403891796155012529328799434983161221802762836576062806106650918551809234992737778812339393165531815595422405950818572135412510821477024244649824501620034156827007485675067829321820184189832075080203661834764496512537837326225400220839712384083763842162386477902844835841859129847325746572391849544315515618851659138429126853941551082949856375592549439858658005203262860677062550876862624295724068864603450752558866590586244873868402151533047870461111199783872639777823887874547108677956876366654429955878138317399007879870078048936881649721481813883349560276443885009496751951886597609053038888018131613809889422693246931890779372097106892183933730228893644358610122895088822562367896501364659314897850063045664899079054474646900324006831277901513095941136902670263195697903795508594959904888832138924906077921248783907267010358642908392255757905909573364403939910762453513798911879718449236912933139674078914066365537165915191610936428916197149378322917098941790497917960831883549918942428933970919908065056741920825818396565921703669417267922509696263547923363605892774924169632739055924903835410914925646018546598926348299363159927194228528562928167845115158929013774280561929763937880070930554003798701931304167398209931982506823297932724689958980933562638660559934280880404769934887395655436935414106267856935932836416453936475507956522937074042743364937736421240802938406780202065938925510350662939396357716310939970951111679940577466362345941183981613011941766555472204942357109795221942859879016168943314765454168943769651892168944232518793992944719327087290945190174452939945653041354764946147830111886946570794694588946953856958166947352880149394947696040093850948063141429780948502066940131948909070595183949308093786411949754999760586950185944807112950648811708937951079756755463951383014380796951726174325252952117217052655952468357460936952763634622444953058911783953953386110800760953753212136689954184157183215954527317127671954750770114759954942301246548955205656552759955540836033390955891976441671956195234067004956450608909390956761846998548957081065551530957328459930091957591815236302957879111933986958134486776371958429763937880958701099707915958932533158827959219829856511959491165626546959682696758336959930091136897960169505051634960376997111072960680254736405960951590506440961198984885002961454359727387961709734569773961949148484510962156640543948962404034922510962707292547843962994589245527963218042232615963505338930299963808596555632964008108151246964215600210684964439053197772964638564793386964846056852824965077490303736965300943290824965484493958789965652083699105965819673439420965995243643561966130911528578966282540341245966442149617736966561856575104966713485387771966865114200437966992801621630967184332753420967431727131981967639219191419967798828467911967918535425279968078144701770968245734442086968373421863279968509089748296968636777169489968748503663033968844269228928968948015258647969059741752191969163487781910969235311956331969339057986050969498667262541969690198394331969905670917594970089221585559970256811325874970408440138541970520166632085970647854053278970791502402120970919189823312971038896780681971126681882751971206486520997971334173942190971477822291032971589548784575971685314350470971797040844014971924728265207972060396150224972196064035242972291829601136972355673311733972443458413803972571145834996972706813720013972818540213557972906325315627972986129953873973081895519768973193622013311973337270362153973480918710996973584664740715973696391234259973856000510750973999648859592974135316744609974255023701978974342808804048974494437616714974654046893205974749812459100974853558488819974989226373837975124894258854975244601216223975316425390644975396230028889975491995594784975555839305380975619683015977975723429045696975843136003064975954862496608976082549917801976210237338994976282061513415976353885687836976505514500503976665123776994976784830734362976880596300257976952420474678977016264185274977088088359696977167892997941977263658563836977407306912678977542974797695977670662218888977790369176257977886134742151977997861235695978093626801590978173431439835978229294686607978277177469555978325060252502978380923499274978460728137519978540532775765978628317877835978716102979905978795907618151978867731792572978923595039344978947536430817978979458286116979043301996712979115126171133979186950345554979258774519975979346559622045979418383796466979506168898536979657797711203979777504668571979833367915343979905192089764979992977191834980088742757729980152586468326980184508323624980232391106571980312195744817980407961310711980487765948957980567570587203980639394761624980687277544571980735160327518980783043110466980862847748711980950632850781981022457025202981094281199623981126203054922981174085837869981261870939939981341675578185981413499752606981477343463202981533206709974981597050420570981644933203518981708776914114981788581552360981868386190605981948190828851982012034539447982067897786219982107800105342982155682888289982243467990360982371155411553982490862368921982554706079517982618549790114982682393500710982738256747482982794119994254982810080921903982849983241026982913826951622982985651126043983049494836640983081416691938983137279938710983209104113131983280928287552983352752461973983392654781096983440537564043983496400810815984230603482674984749333631271985451614447832985986305524077986305524077059986592820774743986991843965971987422789012497987726046637831988164972148181988388425135269988795428790321989106666879479989274256619795989545592389830989705201666321989952596044882990223931814917990503248048777990726701035864990918232167654991141685154741991285333503583991397059997127991628493448039991772141796881991899829218074992083379886039992227028234881992338754728425992386637511372992530285860214992649992817583992697875600530992817582557898992873445804670992945269979091993072957400284993112859719407993176703430003993280449459723993312371315021993384195489442993424097808565993519863374459993647550795652993695433578600993759277289196993863023318915993902925638038993950808420985993982730276284994110417697477994198202799547994270026973968994301948829266994333870684564994349831612213994381753467512994525401816354994700972020494994780776658739994796737586389994828659441687994892503152283994956346862880994988268718178995044131964950995076053820248995123936603195995147877994669995163838922318995179799849967995211721705266995275565415862995283545879686995291526343511995323448198809995371330981757995395272373230995411233300879995435174692353995435174692353995467096547651995467096547651995483057475300995499018402950995499018402950995499018402950995499018402950995514979330599995514979330599995530940258248995530940258248995530940258248995546901185897995562862113546995562862113546995578823041195995594783968844995594783968844995594783968844995594783968844995594783968844995610744896493995610744896493995642666751792995674588607090995674588607090995690549534739995690549534739995722471390037995722471390037995722471390037995754393245335995754393245335995754393245335995786315100634995802276028283995834197883581995834197883581995834197883581995834197883581995850158811230995850158811230995882080666528995882080666528995914002521827995914002521827995929963449476995945924377125995945924377125995961885304774995977846232423995977846232423995977846232423995977846232423995977846232423995977846232423995977846232423995993807160072995993807160072996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996009768087721996025729015370996025729015370996025729015370996025729015370996129475045090996344947568353996416771742774996504556844844996664166121335996903580036072997135013486984997414329720843997565958533510997653743635580997669704563229997685665490878997685665490878997685665490878997693645954703997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997701626418527997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997717587346177997733548273826997749509201475997765470129124997765470129124997797391984422997813352912071997829313839720997829313839720997845274767370997909118477966997957001260913998036805899159998068727754457998116610537404998228337030948998276219813896998340063524492998467750945685998643321149825998739086715720998898695992211998962539702808999074266196351999170031762246999329641038737999433387068456999553094025825999656840055544999808468868211999872312578807999920195361754999920195361754999999999999999999999999999999", "295309083363925592557419437218596547651349496600729414393565605062806250299609364276251736613889199240260618541809649977623010869391729627559733771727632507621342952637455508914178642211865353614648133369511436653863342537468658420187381291663168563356902668236157885496673487303082055678379327406509683103761990647687947903532153692648396724818697684069398113702831468564953707691571034109712567634430913717244186232104721705265510031726134422932661730380029687325734529870876095739014891545497743515873142547747697636186615751735750881841755526471198506759189504093978763107911831836767169967918535770872903133130774312483041514778015418256109781750275326002785293601264106788685298389542792076995514979795420809857469798612995387292801948829265957805196878042552808389063572375811716916987215815052750865880818181092685107821046079198123823879143855841826704228049734829577195026575832274591799275834700652801941837198537979027839760266866710842377859001165845035353454743847461414457408849735846647407851898552343862853949531546773856080315387930858219079692912860182273793753862113546039296864156544778383866143680270697868234561792731870229677748871871953457934975873605413946659875129682537149876733755765885878393692241393879989785006305881498092669146883030341723461884722200054267886334253746828888050053469108889765853191387891154453896860892551035066158894011459946052895304295085630896557227906086897897945828612899142898185243900292084975979901584920115557902829872472188904050883437345905367659968397906628573252677907793720971063908871083587378909972387595167910906101862640911815874738640912981022457025914122228783937915135747689656916181188450673917146824573444918120441160040919125979601934919979889231162920881681643337921799434983161922629403220915923323703573652924010023462564924776147989721925526311589230926412143073755927361818268878928135923259860928878106395544929724035560947930522081943403931216382296139931822897546805932373549550700932988045265191933618501907331934169153911225934735766842769935414106267856935996680127049936515410275645937137886453961937720460313153938263131853223938821764320942939372416324837939915087864907940505642187924941096196510941941606946195713942053852169888942492777680239942907761799116943338706845642943865417458063944360206215185944823073117010945269979091185945676982746237946147830111886946610697013710946945876494342947289036438798947799786123570948246692097745948589852042201948972914305779949387898424656949754999760586950098159705042950505163360094950840342840726951199463712831951646369687006952069334269708952412494214164952723732303322953026989928655953346208481637953665427034619953904840949356954184157183215954487414808549954750770114759955022105884794955301422118654955572757888688955780249948127956051585718162956426667517916956698003287951956905495347390957168850653600957448166887459957695561266021957998818891354958278135125213958517549039950958780904346161959052240116195959339536813880959626833511564959874227890125960129602732511960496704068440960760059374651960911688187317961135141174405961358594161493961534164365633961717715033598961925207093036962108757761001962316249820440962531722343703962739214403141962938725998755963114296202895963329768726158963569182640895963784655164158963976186295948964167717427737964343287631877964502896908368964726349895456964973744274017965157294941982965300943290824965476513494964965644103235280965819673439420966027165498859966218696630648966402247298613966529934719806966649641677174966761368170718966849153272788966960879766332967088567187525967272117855490967471629451104967623258263770967750945684963967894594033805968046222846472968181890731489968293617225033968453226501524968612835778015968748503663033968908112939524969059741752191969267233811629969458764943419969594432828436969722120249629969825866279348969953553700541970137104368506970336615964120970480264312962970599971270330970719678227699970799482865944970879287504190970967072606260971054857708330971190525593348971350134869839971485802754856971637431567523971789060380189971892806409908971964630584330972100298469347972259907745838972379614703207972515282588224972642970009417972762676966785972890364387978972970169026224973034012736820973121797838890973233524332434973369192217452973496879638645973600625668364973680430306609973744274017206973816098191627973919844221346974007629323416974095414425486974199160455206974334828340223974486457152890974582222718784974662027357030974725871067626974773753850574974853558488819974965284982363975100952867381975220659824749975300464462995975396230028889975507956522433975611702552152975731409509521975811214147766975859096930714975922940641310976034667134854976202256875170976313983368713976377827079310976497534036678976617240994047976689065168468976776850270538976872615836432976944440010853977008283721450977135971142643977327502274432977463170159450977542974797695977614798972116977654701291239977710564538011977798349640081977870173814502977941997988923978013822163344978069685410116978173431439835978309099324853978396884426923978452747673695978548513239589978628317877835978724083443730978859751328747978939555966993979003399677589979115126171133979226852664677979290696375273979338579158221979402422868817979514149362361979601934464431979657797711203979737602349449979825387451519979913172553589980016918583308980096723221554980120664613027980144606004501980240371570396980352098063940980399980846887980447863629834980535648731904980631414297799980703238472220980767082182816980838906357237980934671923132981022457025202981086300735799981150144446395981198027229343981261870939939981341675578185981381577897307981405519288781981437441144079981493304390851981557148101448981605030884395981636952739693981708776914114981788581552360981820503407658981868386190605981908288509728981940210365026982004054075623982051936858570982091839177693982155682888289982187604743588982251448454184982347214020079982427018658324982498842832745982562686543342982634510717763982690373964535983241025968429983775717044675984270505801797984853079660990985212200533095985667086971095986058129698498986481094281200986920019791550987255199272182987574417825164987845753595199988149011220532988595917194707988915135747690989226373836847989425885432461989609436100426989856830478987990104224857549990295755989338990535169904075990670837789092990902271240005991006017269724991125724227092991325235822706991548688809794991740219941583991812044116004991915790145723992011555711618992131262668986992211067307232992306832873127992354715656074992434520294320992562207715512992642012353758992721816992004992753738847302992833543485547992905367659968993017094153512993041035544986993072957400284993112859719407993248527604424993304390851196993440058736214993495921982986993519863374459993591687548880993671492187126993711394506249993775238216845993839081927442993886964710389993918886565687994070515378354994174261408073994293968365441994349831612213994413675322810994445597178108994477519033406994493479961055994557323671652994589245526950994637128309897994669050165196994700972020494994716932948143994732893875792994780776658739994860581296985994884522688459994956346862880994972307790529994988268718178994988268718178995004229645827995020190573476995020190573476995036151501125995052112428774995052112428774995099995211722995099995211722995115956139371995115956139371995131917067020995147877994669995179799849967995195760777616995195760777616995211721705266995211721705266995211721705266995211721705266995227682632915995251624024388995275565415862995275565415862995307487271160995307487271160995307487271160995307487271160995339409126458995355370054108995355370054108995355370054108995387291909406995403252837055995419213764704995419213764704995419213764704995427194228529995435174692353995459116083827995514979330599995514979330599995514979330599995530940258248995530940258248995530940258248995530940258248995530940258248995530940258248995530940258248995546901185897995546901185897995554881649722995562862113546995562862113546995562862113546995594783968844995594783968844995594783968844995594783968844995610744896493995610744896493995610744896493995610744896493995610744896493995610744896493995610744896493995610744896493995642666751792995642666751792995642666751792995642666751792995658627679441995658627679441995674588607090995674588607090995674588607090995690549534739995690549534739995794295564458996041689943019996129475045090996265142930107996448693598072996696087976633996983384674317997350486010247997470192967615997605860852633997613841316457997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997629802244106997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997669704563229997669704563229997685665490878997685665490878997717587346177997717587346177997765470129124997797391984422997797391984422997877196622668997893157550317997972962188562997988923116212998036805899159998148532392703998212376103299998260258886246998435829090387998595438366878998755047643369998882735064562998930617847509999074266196351999185992689895999329641038737999465308923755999585015881123999672800983193999808468868211999864332114982999920195361754999920195361754999999999999999999999999999999", "293393772046031588902367005570593227778398481597776642778478602221761128757606555152985492611159880612261615972100298469620624710708186624918200245798629395240451375634215440601408639043621215265645028969083683651110082517996656241520757186661333056677254666121334971989670773945381706675450497182896680326560579701685410116035944690397905926292695369734888992700293681068744705002154725233709535058177581713940274208737718481158124910722966178794312727634750131678732582637702903737099580227603741528737650232746125484813177750355130640193754409206263068758575008379487762804654206502766651237769939770362153448358774304502577690778334636809091782452556142563786059725791263789555168946419793130416739821796362504588767799482865944169802507461733676805532057523183808628477487112811772780233987814853239270266817766108566230820575231832474823184843503104825642826361068828204555248751830965795732048833623290185626836145116754186838650982395097840917434121271843279651413340845721673343655848043988316601850462068855442852744481509265854795460712177856718752493895858578200565017860629179767928862751983145260864818923275821866830000159609868761272405152870684564186871872496129475045874251831516448875927728919605877547763075990879199719087673880827733707883882503631111040884163567586548885616012002618887100378273985888712431966546890180837310264891577418479562892989960576509894426444064929895926771263946897147782229103898257066700717899557882304119900834756516049902119611191803903412446331381904793066573029906101862640257907219127575695908328412047308909349911416852910387371714044911472714794184912589979729622913675322809762914505291047516915295356966147916205129842146917019137152251917769300751760918519464351268919405295835794920434775669162921256763443091921975005187301922773051569757923531195633090924209535058178924839991700318925574194372177926412143073755927170287137088927888528881299928654653408456929372895152666930051234577754930753515394315931352050181157931942604504174932604983001612933235439643752933905798605015934544235710980935054985395751935501891369926936028601982347936587234450066937137886453961937648636138732938023717938487938534467623258939140982873925939715576269293940282189200836940768997494134941287727642731941878281965748942373070722870942796035305572943306784990344943825515138940944336264823712944751248942589945030565176448945437568831501945932357588623946395224490447946905974175219947384802004693947767864268271948126985140376948486106012481948853207348411949228289148165949627312339393949978452747674950305651764481950672753100410951015913044866951359072989322951734154789076952045392878234952308748184444952588064418304952835458796865953202560132795953625524715496953968684659952954240020429987954415590634128954647024085040954902398927426955149793305987955445070467496955716406237531955979761543741956330901952021956674061896477956929436738863957144909262126957392303640688957639698019249957807287759565958022760282828958341978835810958645236461143958956474550301959211849392687959427321915950959658755366862959850286498651960073739485739960273251081353960456801749318960696215664054960991492825563961294750450896961526183901808961725695497422961941168020685962188562399247962435956777808962651429301071962850940896685962994589245527963178139913492963393612436755963561202177071963776674700334964071951861842964359248559526964590682010438964814134997526965013646593140965157294941982965292962827000965444591639666965660064162929965859575758543966019185035034966178794311525966354364515666966537915183631966649641677174966793290026016966984821157806967144430434297967327981102262967495570842577967607297336121967711043365840967854691714682968038242382647968165929803840968269675833559968381402327103968477167892998968596874850366968740523199208968860230156577968995898041594969123585462787969259253347805969402901696647969506647726366969658276539032969817885815524969905670917594970025377874962970208928542927970352576891769970424401066190970496225240611970639873589453970783521938295970895248431839971014955389207971134662346576971294271623067971453880899558971549646465453971613490176049971677333886645971749158061067971820982235488971924728265207972044435222575972164142179944972275868673487972395575630856972539223979698972682872328540972770657430610972850462068855972978149490048973089875983592973177661085662973249485260083973337270362153973425055464224973512840566294973616586596013973696391234259973776195872504973856000510750973951766076644974103394889311974247043238153974382711123170974494437616714974526359472012974550300863486974654046893205974829617097346974965284982363975061050548258975164796577977975244601216223975316425390644975404210492714975491995594784975579780696854975659585335100975747370437170975851116466889975914960177485975946882032784975978803888082976050628062503976146393628398976218217802819976282061513415976345905224012976425709862257976513494964327976593299602573976681084704643976768869806713976840693981134976952420474678977112029751169977231736708537977295580419134977351443665906977455189695625977598838044467977742486393309977846232423028977926037061274978013822163344978093626801590978213333758958978333040716326978428806282221978524571848116978588415558712978668220196958978740044371379978787927154326978827829473449978915614575519979019360605238979091184779659979170989417905979210891737028979250794056151979290696375273979362520549694979474247043238979546071217659979585973536782979657797711203979753563277098979817406987694979849328842992979897211625940979984996728010980080762293905980192488787448980272293425694980320176208641980360078527764980392000383062980415941774536980447863629834980503726876606980559590123378980631414297799980687277544571980743140791343980830925893413980902750067834980974574242255981070339808150981166105374044981245910012290981309753722886981389558361132981445421607904981485323927027981549167637623981613011348220981660894131167981692815986465981740698769413981796562016184981844444799132982411057730675982961709734570983456498491692983943306784990984382232295341984877021052464985236141924569985627184651972985994285987902986377348251480986664644949164987071648604217987398847621024987726046637831988029304263164988324581424672988699663224427989074745024181989346080794216989545592389830989721162593970989848850015163990128166249022990327677844636990511228512601990567091759373990686798716741990982075878250991173607010039991293313967408991349177214180991405040460952991484845099197991604552056566991732239477758991812044116004991955692464846992083379886039992131262668986992235008698706992338754728425992394617975197992458461685793992482403077267992522305396390992594129570811992673934209056992753738847302992809602094074992937289515267992993152762038993009113689688993072957400284993136801110881993240547140600993288429923547993328332242670993408136880916993440058736214993591687548880993767257753021993807160072143993855042855091993918886565687993934847493336993966769348635994014652131582994022632595406994094456769827994094456769827994142339552775994174261408073994214163727196994270026973968994301948829266994381753467512994413675322810994413675322810994413675322810994413675322810994445597178108994493479961055994525401816354994557323671652994589245526950994589245526950994637128309897994653089237546994669050165196994669050165196994685011092845994685011092845994700972020494994700972020494994700972020494994700972020494994716932948143994732893875792994732893875792994732893875792994732893875792994748854803441994764815731090994780776658739994804718050213994844620369336994876542224634994908464079932994932405471406994940385935231994972307790529994972307790529994988268718178995004229645827995036151501125995052112428774995068073356423995084034284073995084034284073995084034284073995099995211722995099995211722995115956139371995115956139371995115956139371995115956139371995115956139371995115956139371995115956139371995123936603195995131917067020995131917067020995147877994669995147877994669995147877994669995163838922318995163838922318995163838922318995163838922318995179799849967995179799849967995179799849967995195760777616995195760777616995195760777616995195760777616995195760777616995195760777616995195760777616995195760777616995195760777616995195760777616995211721705266995227682632915995227682632915995227682632915995243643560564995243643560564995243643560564995363350517932995706510462388995770354172985995866119738879996057650870669996328986640704996823775397826997238759516703997462212503791997621821780282997629802244106997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997637782707931997645763171756997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997653743635580997661724099405997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997669704563229997685665490878997685665490878997685665490878997685665490878997685665490878997685665490878997701626418527997701626418527997701626418527997717587346177997717587346177997717587346177997733548273826997733548273826997749509201475997749509201475997781431056773997797391984422997845274767370997877196622668997909118477966997972962188562998036805899159998084688682106998116610537404998212376103299998292180741545998356024452141998435829090387998515633728632998659282077474998834852281615998930617847509999026383413404999154070834597999233875472842999377523821685999481269851404999585015881123999720683766141999792507940562999864332114982999920195361754999920195361754999984039072351999999999999999", "293186279986593588806601439676593371426747323597832506025250602141956490511606371602317527610872583914577615549135715768620265589836081624630903548114629467064625796634542639618215639259093738528645603562479051651900148436627656648524412239661588431519640666640065120585671548050372688676495937943913681555552008683686303927984294690820870508994695569246484606700205895966674704499385504285709016328028985713740762613123718457216733437723014061577259727810320335818732734266515570737155443474375741712288318197746309035481142750395032959316754345362552472758271750754154762070451534643765781367213062769723716342394773626163152602777337078831022781191642858283785046206885544788597513287472791933347166137795492634031890798780585127608801861044163887805133034331955808317239397954811309913332163814190860772828816832394298757819609595709703822769859384227825714650535489828356184061418830885991093802833351954415591835674269388537837868896940290840159290057938842721018945621845083236237690847301805180917849759788038881852002298373581854165004070037856295787911193858274942939684860238137040525862161428822243863949052718944865473321309435867308827989083869272022089924871027724131327872943035449220874850366303289876630009736166878242063428726879806234338340881450209886199882982458940514884498747067180886094839832091887698913060827889143377013072890452173080299891816832394299893277257274193894705760298789896014556366016897275469650296898464558760155899677589261488900858697907522901999904234434903165051952819904242414569135905319777185450906365217946467907298932213940908288509728185909294048170080910179879654606910961965109412911839816130113912845354572008913763107911832914577115221937915255454647024915846008970041916683957671620917577769619970918351874610952919110018674285919820279954671920690150511548921599923387547922413930697652923196016152459923930218824318924616538713230925382663240388926164748695194926890970903229927712958677158928479083204316929125500774105929803840199192930458238232806931096675338771931743092908560932285764448630932836416452524933442931703191934033486026208934703844987471935406125804032936052543373821936603195377715937090003671013937664597066381938223229534101938630233189153938957432205960939396357716310939931048792556940369974302906940753036566485941263786251257941718672689257942181539591081942700269739677943099292930905943474374730659943849456530414944344245287536944847014508483945341803265606945852552950378946251576141605946650599332833947025681132587947320958294096947632196383254947991317255359948342457663639948709558999569949076660335499949411839816130949747019296762950122101096516950481221968621950848323304550951247346495778951598486904059951877803137918952157119371778952524220707707952883341579813953162657813672953418032656058953713309817567954032528370549954311844604408954631063157391954958262174198955237578408057955524875105741955796210875776956091488037285956370804271144956578296330583956777807926197957025202304758957280577147144957512010598056957735463585144957990838427529958254193733740958445724865529958685138780266958932533158827959116083826792959395400060651959658755366862959810384179528959969993456020960137583196335960281231545177960448821285493960688235200230960991492825563961222926276475961342633233844961470320655036961629929931528961821461063317962020972658931962172601471598962324230284264962483839560755962643448837246962819019041387963058432956123963273905479387963425534292053963633026351492963864459802404964071951861842964263482993632964478955516895964662506184859964806154533701964949802882544965101431695210965300943290824965484493958789965636122771455965771790656473965923419469140966098989673280966274559877420966434169153911966577817502753966737426779244966889055591911967016743013104967152410898121967320000638437967447688059630967535473161700967647199655244967750945684963967910554961454968078144701770968205832122963968325539080331968421304646226968525050675945968620816241840968716581807735968860230156577969019839433068969107624535138969171468245734969299155666927969538569581664969770003032576969937592772892970089221585559970224889470576970408440138541970552088487383970623912661804970719678227699970863326576541971030916316856971166584201874971310232550716971477822291032971581568320751971637431567523971797040844014971980591511979972060396150224972148181252294972243946818189972315770992610972387595167031972507302124400972650950473241972746716039136972850462068855972938247170926973002090881522973089875983592973209582940960973305348506855973361211753627973425055464224973512840566294973640527987487973760234944855973840039583101973903883293697973951766076644974015609787241974119355816960974231082310504974350789267872974470496225241974542320399662974622125037907974709910139977974781734314398974877499880293974989226373837975092972403556975164796577977975268542607696975364308173591975468054203310975603722088328975699487654222975771311828644975859096930714975946882032784976050628062503976130432700749976202256875170976306002904889976369846615485976417729398433976481573109029976569358211099976673104240818976752908879064976840693981134976936459547029977016264185274977088088359696977151932070292977231736708537977319521810608977407306912678977455189695625977495092014748977582877116818977678642682713977758447320958977886134742151978029783090993978133529120712978221314222783978309099324853978372943035449978412845354572978452747673695978492649992818978564474167239978660239733133978771966226677978859751328747978899653647870978971477822291979043301996712979083204315835979170989417905979290696375273979386461941168979506168898536979601934464431979649817247378979729621885624979809426523870979841348379168979873270234466979913172553589979969035800361980056820902431980120664613027980200469251273980304215280992980399980846887980471805021308980519687804255980567570587203980623433833974980679297080746980735160327518980775062646641980814964965764980870828212536980926691459308980982554706080981046398416676981692815986465982107800105342982682393500710983145260402535983656010087306984015130959411984278486265622984629626673902985052591256604985323927026639985738911145516986066110162323986385328715305986680605876814987087609531866987398847621024987845753595199988236796322602988532073484111988683702296777989002920849760989210412909198989569533781303989705201666321989880771870461990040381146952990136146712847990351619236110990479306657303990630935469969990750642427338990878329848531991021978197373991093802371794991205528865338991317255358881991365138141829991452923243899991572630201267991700317622460991716278550109991772141796881991883868290425991971653392495991987614320144992059438494565992211067307232992242989162530992354715656074992482403077267992562207715512992649992817583992769699774951992841523949372992881426268495992977191834389993009113689688993072957400284993088918327933993288429923547993456019663863993519863374459993575726621231993615628940354993631589868003993679472650950993695433578600993751296825371993759277289196993759277289196993823120999793993839081927442993886964710389993918886565687993966769348635994014652131582994102437233652994110417697477994158300480424994190222335722994238105118670994285987901617994285987901617994325890220740994365792539862994365792539862994397714395161994413675322810994429636250459994445597178108994445597178108994445597178108994461558105757994485499497231994493479961055994493479961055994525401816354994525401816354994525401816354994525401816354994589245526950994605206454599994605206454599994621167382248994629147846073994637128309897994653089237546994653089237546994653089237546994669050165196994692991556669994716932948143994716932948143994764815731090994764815731090994780776658739994780776658739994780776658739994820678977862994828659441687994844620369336994844620369336994844620369336994860581296985994860581296985994860581296985994860581296985994876542224634994876542224634994876542224634994876542224634994876542224634994876542224634994892503152283994892503152283994892503152283994924425007581994924425007581994924425007581994924425007581994924425007581994940385935231994940385935231994972307790529994972307790529994972307790529994972307790529994972307790529994972307790529994972307790529994972307790529994972307790529995036151501125995036151501125995036151501125995036151501125995036151501125995036151501125995036151501125995171819386143995483057475300995546901185897995626705824142995874100202704996105533653616996576381019265997063189312563997334525082598997494134359089997534036678212997542017142036997549997605861997557978069685997557978069685997557978069685997557978069685997557978069685997557978069685997557978069685997565958533510997573938997334997589899924984997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997605860852633997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997621821780282997637782707931997637782707931997637782707931997653743635580997669704563229997685665490878997685665490878997717587346177997725567810001997749509201475997781431056773997861235695019997909118477966997925079405615998020844971510998052766826808998100649609755998132571465054998180454248001998276219813896998356024452141998419868162738998547555583930998659282077474998818891353966998930617847509999026383413404999185992689895999249836400492999409445676983999497230779053999616937736421999736644693790999808468868211999872312578807999920195361754999920195361754999984039072351999999999999999", "293274065088663588591128916413592541458509569596627455987742601128437584792605621438718018609922908719455614599460520646619483504381275624112173399518628924393085726633800456482531638293457615757644637926356280651221809011540656010087306274660654717252167665219542559814669816289722759674285349464511678834213844509683630472603068688434711825451693358658005203698370389287025703126745726462707899063093547712655419532983717443697827718722032464526838726685074936555731601040652483736070100394235740315707148899744625157614160748870764368825752932820455525756851228193383760801557786539764807750626466768877787176991772716390276603776371442708250779850924935757783210700205896786610377795157790073899095015793242143233365796314621805819799849967280098803281566724658806417889007709809466426188690812491021978197815579461478301818484350310440820958294096053823599827621981826321165786155828986640703558831620193765662834205864044818836951143600466839608638054044842082581839657844460760059375846751153177023848897897945829851132427816705853534547427896855625428949931857564681659298859671524108981861618757282173863438303034172865321692496768867229023350837869040588639012870923978101607872815348028027874475284503535875999553094026877595645858937879072031666480880436690980480882000861890093883509169552934884985555360478886589628589214888026112077634889446634638405890946961837422892335562542895893636378146298894921232822052896333774918998897682473305349898871562415208900020749205944901185896924329902319122787416903404465867556904449906628573905447464606643906468963976186907474502418081908456099468501909493559765694910531020062886911440792938886912270761176640913028905239973913747146984183914696822179305915710341085024916652035816322917497964981725918152363015338918878585223373919756436244075920546502162706921392431328109922302204204108923028426412143923595039343687924129730419932924704323815300925294878138317925949276171931926635596060843927337876877404928048138157790928726477582877929301070978245929835762054491930418335913683931048792555823931719151517086932373549550700932988045265191933490814486138933977622779436934448470145085934943258902207935517852297576936052543373821936611175841540937217691092206937856128198171938366877882943938797822929469939236748439819939675673950170940202384562591940753036566485941199942540660941598965731888942061832633713942508738607888942875839943818943282843598870943777632355993944256460185466944711346623466945174213525290945629099963290946012162226869946435126809570946897993711394947273075511149947640176847078948039200038306948430242765710948805324565464949132523582271949515585845849949930569964726950193925270937950393436866551950616889853638950872264696024951183502785182951534643193462951869822674094952149138907953952396533286515952627966737427952827478333041953122755494549953489856830479953729270745216953944743268479954279922749110954678945940338954990184029496955197676088934955445070467496955716406237531955931878760794956147351284057956402726126443956650120505004956889534419740957105006943003957328459930091957583834772477957839209614863958070643065775958302076516687958517549039950958701099707915958876669912055959076181507669959307614958581959467224235073959666735830687959874227890125960049798094265960241329226055960448821285493960680254736405960847844476721960999473289388961198984885002961438398799738961725695497422961965109412159962116738224826962252406109843962443937241632962715273011667962954686926404963146218058194963313807798509963465436611176963593124032369963704850525913963848498874755964016088615070964183678355386964335307168053964494916444544964638564793386964798174069877965013646593140965189216797280965340845609947965532376741736965731888337350965899478077666966043126426508966178794311525966306481732718966450130081560966633680749525966777329098367966849153272788966952899302507967048664868402967160391361946967312020174613967423746668156967551434089349967695082438191967798828467911967926515889104968086125165595968213812586788968325539080331968413324182401968501109284472968628796705664968796386445980968908112939524969003878505419969139546390436969243292420156969370979841348969514628190190969658276539032969841827206997970009416947313970121143440857970240850398225970360557355593970480264312962970591990806506970727658691523970887267968014970983033533909971062838172155971150623274225971278310695418971477822291032971661372958996971781079916365971876845482259971964630584330972044435222575972132220324645972204044499066972267888209663972331731920259972403556094680972499321660575972587106762645972690852792364972802579285908972866422996505972930266707101973041993200645973153719694189973217563404785973297368043031973441016391873973608606132188973768215408680973863980974574973943785612820974023590251065974079453497837974175219063732974270984629627974334828340223974430593906118974518379008188974598183646434974701929676153974765773386749974805675705872974869519416468974973265446188975053070084433975084991939732975188737969451975308444926819975380269101240975460073739486975515936986258975595741624503975707468118047975819194611591975914960177485975994764815731976114471773099976202256875170976274081049591976353885687836976409748934608976457631717555976505514500503976601280066397976728967487590976808772125836976856654908783976960400938503977072127432046977143951606467977207795317064977311541346783977407306912678977527013870046977670662218888977774408248607977878154278327977949978452748977997861235695978045744018642978093626801590978149490048362978205353295133978237275150432978277177469555978333040716326978388903963098978444767209870978492649992818978588415558712978668220196958978700142052256978763985762853978835809937274978899653647870978963497358466979011380141414979075223852010979186950345554979274735447624979314637766747979346559622045979386461941168979442325187940979506168898536979609914928256979737602349449979841348379168979921153017413979977016264185980016918583308980064801366255980144606004501980727179863694981277831867588981852425262956982363174947728982977670662219983288908751377983560244521412984023111423236984422134614464984813177341867985044610792779985451614447832985826696247586986209758511165986624742630042986816273761831987039726748919987406828084848987742007565480988005362871690988316600960848988579956267058988867252964742989034842705058989202432445374989473768215409989689240738672989816928159865990024420219303990104224857549990152107640496990239892742566990311716916987990431423874356990543150367899990702759644391990806505674110990894290776180990982075878250991125724227092991165626546215991173607010039991237450720636991333216286531991397059997127991452923243899991524747418320991556669273618991676376230987991748200405408991812044116004991883868290425991923770609548992091360349864992123282205162992242989162530992322793800776992378657047548992434520294320992618070962284992769699774951992857484877021992905367659968992993152762038993088918327933993104879255582993176703430003993216605749126993232566676775993248527604424993280449459723993344293170319993392175953266993424097808565993471980591512993519863374459993567746157407993591687548880993679472650950993679472650950993679472650950993767257753021993775238216845993799179608319993807160072143993823120999793993847062391266993878984246564993894945174214993918886565687993934847493336993934847493336993934847493336993934847493336993982730276284994006671667757994070515378354994094456769827994094456769827994110417697477994126378625126994142339552775994150320016599994158300480424994158300480424994158300480424994158300480424994158300480424994174261408073994190222335722994214163727196994222144191020994230124654845994238105118670994278007437792994285987901617994285987901617994285987901617994285987901617994301948829266994333870684564994333870684564994333870684564994333870684564994365792539862994381753467512994397714395161994397714395161994429636250459994445597178108994445597178108994461558105757994461558105757994461558105757994461558105757994493479961055994525401816354994541362744003994557323671652994573284599301994573284599301994581265063125994589245526950994589245526950994589245526950994605206454599994605206454599994605206454599994621167382248994621167382248994621167382248994621167382248994621167382248994621167382248994637128309897994637128309897994637128309897994637128309897994637128309897994812698514038995147877994669995299506807336995403252837055995594783968844995866119738879996432732670423996983384674317997214818125229997366446937896997382407865545997414329720843997422310184668997430290648493997430290648493997430290648493997430290648493997430290648493997430290648493997430290648493997446251576142997462212503791997478173431440997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997494134359089997510095286738997526056214387997526056214387997526056214387997526056214387997526056214387997526056214387997542017142036997542017142036997557978069685997557978069685997557978069685997557978069685997557978069685997557978069685997557978069685997589899924984997589899924984997589899924984997605860852633997605860852633997621821780282997637782707931997653743635580997685665490878997717587346177997717587346177997749509201475997797391984422997877196622668997909118477966997972962188562998036805899159998164493320352998228337030948998308141669194998403907235089998579477439229998723125788071998898695992211998994461558106999106188051650999233875472842999297719183439999457328459930999529152634351999664820519369999752605621439999808468868211999864332114982999920195361754999920195361754999968078144702999984039072351", "293106475348347588224027580483592373868769253596459866247426600593746508547605030884395001609651572949420614216398257067618916891449731623713150208290628413643400955633193941231864637958278135125644494278007438651165945764768656225559829537661029799051921665849999201954670598375177565674995610744896679584377444017684308812028155688961422437872693781622587905698681627376183703358179177374708074633297687712791087418001717124479274735721330183710277725711458349959730076772061992734442085774025738799419022234743037045313074747186886501844751145196558824754959858266962759381035225767763889997286642767896190126570771559223022042775078607568672778741640464144782189200836353786043764863614789994094456770793178299522768796194914848451799307295740028802315930601887805364467782868808341180789428811110401736549813911544538969816672785022265819426045041738822354875265350824996408791279827470352576892829912374507206832330455046047834852281614607837214498906676839576716198746841723460967551843870205736357846160598854005848363206869583850685521842529853039758670774855258327614001857333248208386859304422773052861331460584489863486185817120865553125947680867388632627328869168276060205870876095318660872464207619747874116163631430875919748455780877691411424832879351347900340880971382056725882551513893988884083762948303885560148755846887020573635740888457057124160889861618757282891401848275422892934097329737894187030150192895328236477104896461462340191897714395160647898951367053453900052671061242901074170430785902103650264153903045344995451903915215552328904968636777170906077921248783907019615980081907977271639028908942907761799909804797854851910682648875553911456753866535912246819785166913044866167622913771088375656914632978468709915582653663831916532328858953917402199415830918064577913268918639171308636919245686559303919963928303513920746013758320921448294574881922206438638214922948621773897923658883054283924297320160248924847972164142925494389733931926092924520773926811166264983927561329864492928159864651333928726477582877929261168659122929875664373613930482179624280930961007453753931439835283227931950584967998932437393261296932972084337542933554658196734934081368809155934663942668348935366223484909935948797344102936419644709750936842609292452937337398049575937880069589645938374858346767938885608031539939412318643960939931048792556940401896158205940880723987678941351571353327941798477327502942269324693151942724211131151943203038960624943649944934800944025026734554944424049925782944799131725536945142291669992945541314861220945916396660974946171771503360946411185418097946754345362552947105485770833947424704323815947871610297990948350438127464948733500391043949004836161078949308093786411949675195122341949986433211498950265749445358950521124287744950792460057779951135620002235951518682265813951877803137918952133177980304952380572358866952659888592725952947185290409953242462451918953513798221953953777153528163954032528370549954287903212935954511356200022954686926404163954878457535952955149793305987955421129076022955620640671636955812171803425956003702935215956203214530829956402726126443956602237722056956785788390021956929436738863957081065551530957272596683319957488069206582957767385440442958046701674301958294096052863958517549039950958701099707915958900611303529959092142435318959307614958581959523087481844959658755366862959842306034827960081719949563960281231545177960488723604616960696215664054960903707723493961143121638230961350613697668961494262046510961629929931528961781558744194961965109412159962196542863071962380093531036962515761416054962651429301071962795077649913962954686926404963082374347597963241983624088963401592900579963545241249421963656967742965963792635627983963960225368298964103873717140964255502529807964383189951000964526838299842964670486648684964782213142228964869998244298965021627056965965221138652579965372767465245965476513494964965564298597034965739868801175965915439005315966027165498859966122931064753966202735702999966306481732718966426188690087966545895647455966697524460122966897036055736967088567187525967192313217244967304039710788967463648987279967599316872297967734984757314967870652642332968014300991174968134007948542968269675833559968445246037700968564952995068968708601343910968868210620401968987917577770969091663607489969171468245734969235311956331969331077522226969442804015769969586452364611969754042104927969841827206997969913651381418970009416947313970137104368506970288733181172970488244776786970655834517102970735639155348970815443793593970895248431839971022935853032971158603738049971238408376295971294271623067971358115333663971501763682505971653392495172971749158061067971828962699312971924728265207972028474294926972132220324645972251927282014972347692847908972435477949978972523263052049972595087226470972658930937066972730755111487972802579285908972882383924154972986129953873973089875983592973193622013311973305348506855973377172681276973425055464224973488899174820973552742885416973632547523662973744274017206973840039583101973935805148995974055512106364974167238599907974270984629627974374730659346974478476689065974550300863486974662027357030974789714778223974861538952644974917402199416974989226373837975069031012082975124894258854975172777041802975252581680047975364308173591975444112811837975515936986258975611702552152975675546262749975731409509521975835155539240975922940641310975978803888082976058608526328976178315483696976274081049591976306002904889976345905224012976393788006959976449651253731976545416819626976673104240818976800791662011976888576764081976944440010853976992322793801977048186040573977120010214994977175873461766977207795317064977271639027660977343463202081977391345985029977463170159450977527013870046977558935725344977622779435941977702584074186977798349640081977910076133625977989880771870978069685410116978125548656888978157470512186978221314222783978293138397204978364962571625978436786746046978500630456642978588415558712978652259269309978684181124607978740044371379978787927154326979330598694396980040859974782980575551051027981182066301693981684835522641982163663352114982522784224219982842002777201983233045504605983656010087306984214642555025984485978325060984853079660990985180278677797985571321405200985946403204954986177836655866986417250570603986672625412989986951941646849987215296953059987414808548673987726046637831988037284726988988252757250251988484190701164988587936730883988851292037093989026862241233989146569198602989330119866567989481748679233989617416564251989753084449268989864810942812989952596044882990040381146952990096244393724990199990423443990303736453163990391521555233990511228512601990583052687022990694779180566990742661963513990830447065583990926212631478990950154022952990998036805899991077841444145991141685154741991197548401513991237450720636991253411648285991309274895057991365138141829991524747418320991556669273618991588591128916991820024579829992035497103092992115301741337992171164988109992187125915758992211067307232992290871945477992322793800776992434520294320992482403077267992530285860214992546246787863992626051426109992657973281407992705856064354992801621630249992817582557898992881426268495992897387196144992929309051442992977191834389993033055081161993072957400284993136801110881993184683893828993200644821477993216605749126993232566676775993280449459723993344293170319993344293170319993352273634144993376215025617993392175953266993424097808565993487941519161993519863374459993535824302108993535824302108993583707085056993631589868003993655531259477993679472650950993679472650950993695433578600993695433578600993711394506249993711394506249993711394506249993711394506249993743316361547993743316361547993743316361547993743316361547993759277289196993791199144494993799179608319993815140535968993823120999793993839081927442993839081927442993871003782740993886964710389993886964710389993934847493336993966769348635993966769348635993982730276284993982730276284993982730276284993998691203933993998691203933994014652131582994014652131582994030613059231994030613059231994030613059231994046573986880994062534914529994062534914529994062534914529994062534914529994062534914529994078495842178994078495842178994078495842178994078495842178994094456769827994094456769827994094456769827994110417697477994110417697477994110417697477994142339552775994158300480424994158300480424994174261408073994174261408073994174261408073994190222335722994365792539862994748854803441994908464079932995020190573476995283545879686995546901185897996049670406844996743970759581996991365138142997158954878458997174915806107997190876733756997198857197580997206837661405997214818125229997222798589054997230779052879997238759516703997238759516703997238759516703997254720444352997270681372001997278661835826997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997286642299650997302603227300997302603227300997302603227300997318564154949997318564154949997318564154949997318564154949997318564154949997318564154949997334525082598997334525082598997366446937896997382407865545997382407865545997398368793194997414329720843997430290648493997430290648493997446251576142997462212503791997478173431440997494134359089997510095286738997534036678212997605860852633997637782707931997661724099405997717587346177997781431056773997861235695019997941040333264997988923116212998068727754457998132571465054998180454248001998292180741545998387946307439998515633728632998707164860422998930617847509999074266196351999170031762246999265797328141999345601966386999489250315228999561074489649999648859591719999736644693790999808468868211999880293042632999920195361754999920195361754999968078144702999984039072351", "292659569374172587242430530062591224681978517595342601311988599636090849600604065248272230608294894099245612747992913348617528290744258621973409094537626618039040429631781399134918636761208561442643640368378210650519528194979655443474374731660479147048026665570682968094670446746364899675179161412861679903595996999684340733883453688666145276363693294814294607698330486967903703198569900883708274144893301713389622204843717938486584840722686862560452727315531578695731457392303641735702999058305739924664421496743731345665810747569948765422751480376039455755039662905208758846344149522762661005857661766347980144606769995052112429773626163152602777879750371092781638548832458784711027404913788150607313297791398656089892794255662139083797136609579749800169185833081803305508116132806282221122692809330758303673812483041514373815451774057108818236955931879820766762964263823368394171069826201458828787828962699312084831620193765662834333551466011836815475715449839073946977798841284535457201843375416979235845498220356567847748711155092850015162881267852145946722423854212886852984856327709766492858370708505578860222176112876861866151660735863438303034172865090259045856866989609436100868976744928415870740427433642872352481126203874028378529360875656393149570877348251480376879279523725919880947440665251882359982762198883764544395320885145164636969886533765342442887914385584090889175298868370890340446586756891553477088088892814390372368894131166903420895376119260051896597130225209897810160726541898983288908751900116514771839901066189966961901888177740890902845833399837903859352305556904809027500678905918311972292906915869950362907689974941344908623689208817909677110433658910682648875553911600402215377912430370453131913236397299411914002521826569914768646353726915510829489410916221090769796917003176224602917857085853830918687054091584919525002793162920362951494741921153017413372921799434983161922413930697652923084289658915923746668156353924440968509090925127288398002925638038082773926132826839896926699439771440927321915949755927976313983369928614751089333929229246803824929716055097122930242765709543930769476321964931248304151437931751073372384932293744912454932804494597226933355146601121933929739996489934416548289787934871434727786935366223484909935845051314382936291957288558936778765581856937313456658101937832186806697938287073244697938765901074170939244728903644939755478588416940258247809363940689192855889941160040221538941622907123362941997988923116942341148867572942708250203502943075351539431943490335658308943801573747466944080889981326944447991317255944743268478764945022584712623945333822801781945692943673886946076005937465946514931447816946905974175219947225192728201947528450353535947791805659745948079102357429948510047403955948948972914306949308093786411949675195122341950010374602972950257768981533950561026606866950920147478971951255326959603951534643193462951750115716725951981549167638952205002154725952444416069462952699790911848952947185290409953186599205146953465915439005953745231672865953968684659952954192137647040954455492953250954726828723285954934320782724955165754233636955461031395145955724386701355955939859224618956115429428758956267058241425956418687054092956578296330583956729925143249956897514883565957128948334477957392303640688957623737091600957871131470161958070643065775958246213269915958461685793178958653216924968958884650375880959108103362967959299634494757959491165626546959674716294511959882208353950960089700413388960241329226055960400938502546960584489170511960768039838475960967551434089961135141174405961254848131773961382535552966961566086220931961709734569773961869343846264962060874978054962236445182194962419995850159962619507445773962866901824334963130257130544963353710117632963497358466474963601104496193963720811453562963896381657702964103873717140964319346240403964510877372193964694428040158964901920099596965069509839912965149314478157965181236333456965269021435526965372767465245965460552567315965596220452333965755829728824965907458541490966043126426508966154852920052966234657558297966314462196543966466091009209966593778430402966745407243069966928957911034967056645332227967232215536367967407785740507967535473161700967671141046718967806808931735967926515889104968046222846472968213812586788968397363254752968541011603594968660718560963968764464590682968892152011875969003878505419969075702679840969195409637208969339057986050969442804015769969538569581664969634335147559969730100713453969833846743173969889709989945969945573236716970033358338787970113162977032970200948079102970296713644997970400459674716970504205704436970607951734155970711697763874970807463329769970903228895663970983033533909971070818635979971174564665698971270330231593971358115333663971445900435733971533685537804971621470639874971725216669593971820982235488971940689192856972044435222575972100298469347972140200788470972172122643768972251927282014972347692847908972411536558505972483360732926972571145834996972642970009417972730755111487972834501141206972906325315627972978149490048973057954128294973169680621838973289387579206973369192217452973480918710996973576684276890973632547523662973696391234259973768215408680973848020046925973943785612820974047531642539974103394889311974143297208434974215121382855974310886948749974438574369942974574242254960974662027357030974725871067626974773753850574974861538952644974989226373837975053070084433975140855186503975244601216223975308444926819975412190956538975499976058608975547858841556975611702552152975675546262749975739389973345975803233683942975851116466889975906979713661975978803888082976034667134854976106491309275976178315483696976266100585766976353885687836976385807543134976425709862257976497534036678976569358211099976633201921696976697045632292976752908879064976808772125836976912518155555977040205576748977135971142643977223756244713977319521810608977399326448853977479131087099977574896652993977654701291239977710564538011977758447320958977798349640081977838251959204977886134742151977926037061274978404864890747979155028490256979761543740922980352098063940980846886821062981301773259062981900308045904982339233556254982730276283658983161221330184983528322666113983951287248815984302427657095984637607137727984972786618358985284024707516985675067434919985850637639060986074090626147986385328715305986632723093866986832234689480987111550923340987390867157199987550476433690987861714522848988045265190813988141030756708988324581424672988484190701164988651780441479988827350645620988955038066812989114647343304989290217547444989362041721865989489729143058989529631462181989593475172777989697221202496989800967232216989888752334286990008459291654990112205321373990207970887268990231912278742990343638772285990439404338180990487287121127990567091759373990630935469969990686798716741990758622891162990806505674110990854388457057990886310312355990966114950601991029958661197991133704690917991373118605653991684356694811991716278550109991748200405408991756180869232991828005043653991907809681899991947712001021992019536175442992139243132811992163184524285992203086843407992274911017828992322793800776992338754728425992354715656074992458461685793992514324932565992562207715512992594129570811992626051426109992673934209056992689895136705992737777919653992753738847302992833543485547992849504413197992865465340846992865465340846992897387196144992897387196144992897387196144992929309051442992929309051442992977191834389992993152762038993009113689688993033055081161993041035544986993041035544986993056996472635993104879255582993136801110881993184683893828993208625285302993232566676775993232566676775993256508068249993264488532073993280449459723993280449459723993280449459723993312371315021993312371315021993328332242670993360254097968993360254097968993376215025617993408136880916993408136880916993408136880916993408136880916993432078272389993440058736214993440058736214993440058736214993487941519161993487941519161993503902446810993535824302108993551785229758993551785229758993551785229758993551785229758993551785229758993551785229758993567746157407993583707085056993583707085056993615628940354993615628940354993647550795652993647550795652993647550795652993679472650950993679472650950993695433578600993695433578600993711394506249993711394506249993711394506249993711394506249993727355433898993735335897722993775238216845993775238216845993775238216845993775238216845993775238216845993791199144494993942827957161994222144191020994461558105757994669050165196994924425007581995243643560564995746412781511996424752206598996799834006352996951462819019996967423746668996967423746668996983384674317996983384674317996991365138142996999345601966996999345601966996999345601966997007326065791997015306529615997023286993440997031267457265997039247921089997047228384914997047228384914997047228384914997047228384914997047228384914997047228384914997047228384914997055208848738997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997063189312563997079150240212997079150240212997095111167861997111072095510997142993950808997142993950808997142993950808997142993950808997142993950808997142993950808997142993950808997142993950808997142993950808997142993950808997158954878458997174915806107997174915806107997174915806107997174915806107997190876733756997190876733756997238759516703997254720444352997254720444352997318564154949997350486010247997366446937896997430290648493997478173431440997510095286738997597880388808997669704563229997765470129124997885177086492997941040333264998020844971510998116610537404998228337030948998356024452141998451790018036998579477439229998755047643369998946578775158999090227124000999170031762246999249836400492999329641038737999473289387579999545113562000999664820519369999752605621439999808468868211999880293042632999920195361754999920195361754999968078144702999984039072351", "292108917370278586364579509361590674029974622595159050644023599524364356056603722088327774607863949052719612221282300927617145228480679621773897498923626274879095973631111040173655636226517485196643017892199895649537931144558654469857788135659449667214658664102277624376668770848961742673614990503248678219718130018682712719263244687293505498540692193510286818697013710436851701554594353024706494501460425711290760218984715815683207508720117153208945724067482802100728273187237642732598598630552736979873270235741401050229039745742422549599749820439563948753643081735910757784942460856762070451534643766068663910746769995052112429773737889646146777392942077794780960209407371784144414473369787496209279683791143281247506794726509504732798182050340766801350294479115804175378673008806992482403077809937273554339812794279603531815571481014477818125229438335820655036470720823264648141350825738591926963828100809219032830542831149346832976872615836835378992227028837932740650887840366782117377842625253379726844708154437936846735192249374848865976090530850908974829617852800344756037854811421639826856758654813018858650024739438860581296984981862512569230524864491724259014866359152793960868354268750100870269580067994871753946339361873046781478940874467304039711875895807064307877284407769780878808676360270880340925414585881865194005076883293697029671884554610313951885767640815284887044515027213888377252485914889622204842545890819274416229892048265845211893253315882719894354619890508895519767608893896716837182577897802180262717898823679632260899845179001804900866678371347901920099596189903061305923100904234434105310905383620896047906429061657063907410658707484908400236221729909413755127448910347469394921911153496241202912047308189552912877276427306913571576780042914345681771024915119786762007915885911289164916652035816322917338355705234917928910028251918551386206566919165881921057919708553461127920259205465022920961486281583921695688953442922389989306178923164094297161923858394649897924480870828213925071425151230925646018546598926204651014317926803185801159927481525226246928032177230141928542926914912929053676599684929532504429157930051234577754930506121015753931016870700525931607425023542932158077027437932636904856910933171595933156933690326081752934097329736804934504333391857934991141685155935485930442277935900914561154936307918216207936730882798908937225671556031937744401704627938255151389399938805803393293939364435861012939851244154310940266228273187940681212392064941040333264169941383493208625941798477327502942229422374028942620465101432942939683654414943322745917993943721769109221944017046270729944344245287536944655483376694944958741002027945333822801781945692943673886945972259907746946235615213956946522911911640946786267217851947081544379359947384802004693947640176847078947943434472412948310535808341948669656680446948980894769604949212328220516949459722599077949739038832937950010374602972950321612692130950648811708937950944088870445951207444176656951462819019041951686272006129951933666384690952205002154725952436435605637952651908128900952843439260690953042950856304953258423379567953529759149602953833016774935954056469762023954279922749110954551258519145954846535680654955085949595391955277480727180955484972786618955676503918408955860054586373956051585718162956283019169074956450608909390956594257258232956809729781495957041163232407957248655291846957408264568337957535951989530957663639410723957847190078687958046701674301958246213269915958429763937880958589373214371958812826201459959076181507669959379439133002959618853047739959762501396581959898169281599960041817630441960225368298406960400938502546960592469634335960831883549072961015434217037961167063029703961310711378545961438398799738961637910395352961813480599492961949148484510962156640543948962364132603387962579605126650962787097186088962986608781702963162178985843963281885943211963433514755878963593124032369963744752845035963864459802404963976186295948964103873717140964223580674509964319346240403964407131342474964494916444544964590682010438964798174069877964997685665491965101431695210965205177724929965340845609947965484493958789965660064162929965867556222368966003224107385966114950600929966250618485946966370325443315966474071473034966601758894227966761368170718966881075128086966968860230157967088567187525967216254608718967343942029911967455668523455967575375480823967703062902016967830750323209967950457280577968030261918823968141988412367968253714905910968381402327103968517070212121968612835778015968732542735384968820327837454968908112939524969027819896892969147526854261969259253347805969355018913699969474725871068969642315611383969801924887875969889709989945969937592772892969993456019664970081241121734970184987151453970272772253523970384498747067970480264312962970552088487383970615932197979970679775908576970751600082997970863326576541970983033533909971054857708330971134662346576971206486520997971278310695418971326193478365971366095797488971421959044260971477822291032971581568320751971677333886645971709255741944971741177597242971813001771663971916747801382972004532903452972084337541698972180103107593972283849137312972387595167031972475380269101972563165371171972650950473241972714794183838972786618358259972898344851803972986129953873973081895519768973177661085662973257465723908973337270362153973417075000399973512840566294973592645204539973640527987487973688410770434973768215408680973824078655452973863980974574973951766076644974023590251065974071473034013974191179991381974334828340223974414632978469974510398544363974606164110258974670007820855974725871067626974773753850574974837597561170974909421735591974981245910012975053070084433975132874722679975188737969451975236620752398975300464462995975388249565065975460073739486975547858841556975643624407451975699487654222975787272756293975922940641310976034667134854976114471773099976186295947520976250139658117976313983368713976377827079310976433690326082976497534036678976569358211099976649162849345976744928415240976816752589660977479131087099978149490048362978644278805484979242813592326979689719566501980224410642747980703238472220981126203054922981477343463202981860405726781982243467990360982714315356009983073436228114983464478955517983951287248815984254544874148984565782963306984916923371586985236141924569985523438622253985818715783761985986305524077986161875728217986329465468533986505035672673986816273761831987039726748919987199336025410987374906229550987590378752813987726046637831987893636378146988021323799339988228815858778988404386062918988532073484111988627839050006988779467862672988867252964742989018881777409989170510590076989258295692146989322139402742989433865896286989481748679233989561553317479989641357955724989705201666321989737123521619989880771870461989912693725759989976537436356990080283466075990136146712847990168068568145990215951351093990239892742566990327677844636990343638772285990599013614671990838427529408990886310312355990910251703829990966114950601991006017269724991069860980320991125724227092991229470256811991285333503583991365138141829991476864635373991556669273618991628493448039991636473911864991676376230987991780122260706991875887826601991939731537197991955692464846992035497103092992059438494565992067418958390992107321277513992163184524285992179145451934992242989162530992274911017828992338754728425992338754728425992370676583723992402598439021992434520294320992434520294320992490383541091992514324932565992514324932565992530285860214992530285860214992554227251688992578168643162992610090498460992626051426109992657973281407992657973281407992657973281407992673934209056992689895136705992689895136705992689895136705992713836528179992721816992004992737777919653992753738847302992769699774951992785660702600992801621630249992817582557898992833543485547992849504413197992865465340846992881426268495992913348123793992929309051442992945269979091992945269979091992945269979091992953250442916992993152762038992993152762038992993152762038992993152762038993009113689688993025074617337993049016008810993072957400284993072957400284993072957400284993088918327933993088918327933993088918327933993088918327933993088918327933993120840183231993136801110881993152762038530993152762038530993152762038530993168722966179993168722966179993168722966179993168722966179993168722966179993168722966179993184683893828993200644821477993232566676775993232566676775993248527604424993248527604424993448039200038993775238216845994014652131582994238105118670994469538569582994828659441687995403252837055996185338291862996592341946914996728009831931996728009831931996743970759581996743970759581996743970759581996751951223405996759931687230996767912151054996775892614879996783873078703996791853542528996799834006352996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996807814470177996815794934002996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996823775397826996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996839736325475996855697253124996855697253124996871658180774996871658180774996871658180774996887619108423996903580036072996903580036072996919540963721996919540963721996919540963721996935501891370996935501891370996951462819019996967423746668996983384674317996983384674317996999345601966996999345601966996999345601966996999345601966997047228384914997095111167861997190876733756997206837661405997238759516703997318564154949997398368793194997430290648493997454232039966997542017142036997669704563229997853255231194997909118477966998036805899159998164493320352998292180741545998403907235089998467750945685998611399294527998834852281615999010422485755999138109906948999201953617544999329641038737999377523821685999489250315228999561074489649999648859591719999736644693790999824429795860999880293042632999920195361754999920195361754999968078144702999984039072351"]
}, function(e, t, n) {
    "use strict";
    var a = n(1127),
        i = n(1135),
        o = n(1136),
        r = n(1137);
    (e.exports = function(e, t) {
        var n, o, s, l, c;
        return arguments.length < 2 || "string" != typeof e ? (l = t, t = e, e = null) : l = arguments[2], null == e ? (n = s = !0, o = !1) : (n = r.call(e, "c"), o = r.call(e, "e"), s = r.call(e, "w")), c = {
            value: t,
            configurable: n,
            enumerable: o,
            writable: s
        }, l ? a(i(l), c) : c
    }).gs = function(e, t, n) {
        var s, l, c, u;
        return "string" != typeof e ? (c = n, n = t, t = e, e = null) : c = arguments[3], null == t ? t = void 0 : o(t) ? null == n ? n = void 0 : o(n) || (c = n, n = void 0) : (c = t, t = n = void 0), null == e ? (s = !0, l = !1) : (s = r.call(e, "c"), l = r.call(e, "e")), u = {
            get: t,
            set: n,
            configurable: s,
            enumerable: l
        }, c ? a(i(c), u) : u
    }
}, function(e, t, n) {
    "use strict";
    e.exports = n(1128)() ? Object.assign : n(1129)
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        var e, t = Object.assign;
        return "function" == typeof t && (t(e = {
            foo: "raz"
        }, {
            bar: "dwa"
        }, {
            trzy: "trzy"
        }), e.foo + e.bar + e.trzy === "razdwatrzy")
    }
}, function(e, t, n) {
    "use strict";
    var a = n(1130),
        i = n(1134),
        o = Math.max;
    e.exports = function(e, t) {
        var n, r, s, l = o(arguments.length, 2);
        for (e = Object(i(e)), s = function(a) {
                try {
                    e[a] = t[a]
                } catch (e) {
                    n || (n = e)
                }
            }, r = 1; r < l; ++r) t = arguments[r], a(t).forEach(s);
        if (void 0 !== n) throw n;
        return e
    }
}, function(e, t, n) {
    "use strict";
    e.exports = n(1131)() ? Object.keys : n(1132)
}, function(e, t, n) {
    "use strict";
    e.exports = function() {
        try {
            return Object.keys("primitive"), !0
        } catch (e) {
            return !1
        }
    }
}, function(e, t, n) {
    "use strict";
    var a = n(835),
        i = Object.keys;
    e.exports = function(e) {
        return i(a(e) ? Object(e) : e)
    }
}, function(e, t, n) {
    "use strict";
    e.exports = function() {}
}, function(e, t, n) {
    "use strict";
    var a = n(835);
    e.exports = function(e) {
        if (!a(e)) throw new TypeError("Cannot use null or undefined");
        return e
    }
}, function(e, t, n) {
    "use strict";
    var a = n(835),
        i = Array.prototype.forEach,
        o = Object.create;
    e.exports = function(e) {
        var t = o(null);
        return i.call(arguments, function(e) {
            a(e) && function(e, t) {
                var n;
                for (n in e) t[n] = e[n]
            }(Object(e), t)
        }), t
    }
}, function(e, t, n) {
    "use strict";
    e.exports = function(e) {
        return "function" == typeof e
    }
}, function(e, t, n) {
    "use strict";
    e.exports = n(1138)() ? String.prototype.contains : n(1139)
}, function(e, t, n) {
    "use strict";
    var a = "razdwatrzy";
    e.exports = function() {
        return "function" == typeof a.contains && (!0 === a.contains("dwa") && !1 === a.contains("foo"))
    }
}, function(e, t, n) {
    "use strict";
    var a = String.prototype.indexOf;
    e.exports = function(e) {
        return a.call(this, e, arguments[1]) > -1
    }
}, function(e, t, n) {
    "use strict";
    e.exports = function(e) {
        if ("function" != typeof e) throw new TypeError(e + " is not a function");
        return e
    }
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    n.r(t);
    var a = {};
    n.r(a), n.d(a, "activateClassification", function() {
        return uu
    }), n.d(a, "cacheSelfAnalysis", function() {
        return du
    }), n.d(a, "connectWebSocket", function() {
        return pu
    }), n.d(a, "destroyRetryTab", function() {
        return hu
    }), n.d(a, "fetchActiveFens", function() {
        return mu
    }), n.d(a, "fetchOpeningInfo", function() {
        return fu
    }), n.d(a, "fetchPlayerDetails", function() {
        return gu
    }), n.d(a, "fetchSavedAnalysis", function() {
        return bu
    }), n.d(a, "finishLoadingFullAnalysis", function() {
        return vu
    }), n.d(a, "flipBoardIfNecessary", function() {
        return yu
    }), n.d(a, "giveRetryHint", function() {
        return _u
    }), n.d(a, "goToFirstNode", function() {
        return wu
    }), n.d(a, "goToNode", function() {
        return Ou
    }), n.d(a, "handleAnalysisStream", function() {
        return ku
    }), n.d(a, "handleRetryAttempt", function() {
        return Su
    }), n.d(a, "handleRetryMoveStream", function() {
        return xu
    }), n.d(a, "handleUrlParamSettings", function() {
        return Pu
    }), n.d(a, "handleWebSocketClose", function() {
        return Cu
    }), n.d(a, "handleWebSocketMessage", function() {
        return Mu
    }), n.d(a, "initFullAnalysis", function() {
        return Iu
    }), n.d(a, "initRetryTab", function() {
        return $u
    }), n.d(a, "initSelfAnalysis", function() {
        return zu
    }), n.d(a, "init", function() {
        return Wu
    }), n.d(a, "insertPlayMayContinue", function() {
        return qu
    }), n.d(a, "insertVariationFromRetry", function() {
        return Yu
    }), n.d(a, "loadFromCache", function() {
        return Xu
    }), n.d(a, "loadFromFen", function() {
        return Qu
    }), n.d(a, "loadFromPgn", function() {
        return Zu
    }), n.d(a, "loadFromGame", function() {
        return Ju
    }), n.d(a, "makeMove", function() {
        return ed
    }), n.d(a, "newAnalysis", function() {
        return td
    }), n.d(a, "parseAndSetAnalysisData", function() {
        return nd
    }), n.d(a, "resetRetryMoves", function() {
        return ad
    }), n.d(a, "restartWebSocketIfNeeded", function() {
        return id
    }), n.d(a, "runClientAnalysis", function() {
        return od
    }), n.d(a, "runFullAnalysis", function() {
        return rd
    }), n.d(a, "saveSelfAnalysis", function() {
        return sd
    }), n.d(a, "selectRetryMove", function() {
        return ld
    }), n.d(a, "setGamePgn", function() {
        return cd
    }), n.d(a, "setRetryMoves", function() {
        return ud
    }), n.d(a, "setToken", function() {
        return dd
    }), n.d(a, "startSelfOrFullAnalysis", function() {
        return pd
    }), n.d(a, "submitRetryMove", function() {
        return md
    }), n.d(a, "updateActiveSidebarTab", function() {
        return fd
    }), n.d(a, "updateMarkings", function() {
        return gd
    }), n.d(a, "updateOpenBoardTabSection", function() {
        return bd
    }), n.d(a, "updateSquareHighlightColor", function() {
        return vd
    });
    var i = {};
    n.r(i), n.d(i, "canDoRetries", function() {
        return yd
    }), n.d(i, "canViewAnalysis", function() {
        return _d
    }), n.d(i, "currentMainLineMoveNumber", function() {
        return wd
    }), n.d(i, "currentMainLinePosition", function() {
        return Od
    }), n.d(i, "currentMoveNumber", function() {
        return kd
    }), n.d(i, "currentPosition", function() {
        return Sd
    }), n.d(i, "displayableChartTabs", function() {
        return xd
    }), n.d(i, "gameHasAnalyzedPositions", function() {
        return Pd
    }), n.d(i, "gameHasMoves", function() {
        return Cd
    }), n.d(i, "gameIsBeingSetup", function() {
        return Md
    }), n.d(i, "hasParsedAndSetAnalysisData", function() {
        return Td
    }), n.d(i, "isAnalysisFinished", function() {
        return Ed
    }), n.d(i, "isAnalysisInProgress", function() {
        return Ad
    }), n.d(i, "isAnalysisTiedToGame", function() {
        return jd
    }), n.d(i, "isChartExpanded", function() {
        return Ld
    }), n.d(i, "isClientSideAnalysis", function() {
        return Dd
    }), n.d(i, "isFullAnalysis", function() {
        return Nd
    }), n.d(i, "isRetryMode", function() {
        return Id
    }), n.d(i, "isSelfAnalysis", function() {
        return $d
    }), n.d(i, "isSetupBoardSection", function() {
        return Bd
    }), n.d(i, "mainLineSelected", function() {
        return Rd
    }), n.d(i, "moveClassification", function() {
        return Fd
    }), n.d(i, "moveCounts", function() {
        return zd
    }), n.d(i, "movesToViewAnalysis", function() {
        return Ud
    }), n.d(i, "openingStats", function() {
        return Gd
    }), n.d(i, "openingWithFormattedUrl", function() {
        return Vd
    }), n.d(i, "pgnHeaders", function() {
        return Wd
    }), n.d(i, "selectedRetryMove", function() {
        return Kd
    }), n.d(i, "showBoardArrows", function() {
        return qd
    }), n.d(i, "showBoardEffectsAndHighlights", function() {
        return Yd
    }), n.d(i, "suggestedMoves", function() {
        return Xd
    }), n.d(i, "userColor", function() {
        return Qd
    });
    var o = n(0),
        r = {
            20: {
                diamondOnly: !1,
                label: o.a.trans("20 (~10 sec)")
            },
            22: {
                diamondOnly: !0,
                label: o.a.trans("22 (~20 sec)")
            },
            24: {
                diamondOnly: !0,
                label: o.a.trans("24 (~30 sec)")
            },
            26: {
                diamondOnly: !0,
                label: o.a.trans("26 (~1 min)")
            }
        },
        s = {
            BASIC: 10,
            FULL: 20
        },
        l = "Analysis - Analyze",
        c = "Analysis - Details",
        u = "Analysis - Openings",
        d = "Analysis - Game Report",
        p = "Analysis - Retry",
        h = "analyzeGame",
        m = "done",
        f = "progress",
        g = "reanalyzing",
        b = "reconnect",
        v = "TEP",
        y = "full",
        _ = "self",
        w = "service",
        O = "analysis",
        k = n(3),
        S = n.n(k),
        x = n(20);

    function ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function _objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var P, C = [_objectSpread({}, x.c.BRILLIANT, {
            coloredByDefault: !1
        }), _objectSpread({}, x.c.BEST_MOVE, {
            coloredByDefault: !1
        }), _objectSpread({}, x.c.EXCELLENT, {
            coloredByDefault: !1
        }), _objectSpread({}, x.c.GOOD, {
            coloredByDefault: !1
        }), _objectSpread({}, x.c.BOOK, {
            coloredByDefault: !1
        }), _objectSpread({}, x.c.INACCURACY, {
            coloredByDefault: !0
        }), _objectSpread({}, x.c.MISTAKE, {
            coloredByDefault: !0
        }), _objectSpread({}, x.c.BLUNDER, {
            coloredByDefault: !0
        }), _objectSpread({}, x.c.MISSED_WIN, {
            coloredByDefault: !0
        })],
        M = (P = {}, S()(P, x.c.BEST_MOVE.key, o.a.trans("The chess engine's top choice.")), S()(P, x.c.BOOK.key, o.a.trans("A conventional opening move.")), S()(P, x.c.BLUNDER.key, o.a.trans("A very bad move that could lose material or end the game.")), S()(P, x.c.BRILLIANT.key, o.a.trans("The best move - and tricky to find too!")), S()(P, x.c.EXCELLENT.key, o.a.trans("Almost as good as the Best move.")), S()(P, x.c.GOOD.key, o.a.trans("A decent move but not the best.")), S()(P, x.c.INACCURACY.key, o.a.trans("A weak move.")), S()(P, x.c.MISSED_WIN.key, o.a.trans("A move was missed that would have won material - or the game.")), S()(P, x.c.MISTAKE.key, o.a.trans("A bad move that immediately worsens your position.")), P),
        T = {
            ANALYZE_GAME_ACTION: "gameAnalysis",
            CLASSIFICATION_ICON_SIZE: 12,
            CONSTRAINED_HEIGHT_THRESHOLD: 750,
            DEFAULT_ARROW_COLOR: "rgba(150, 190, 70, 0.95)",
            MIN_PLY_TO_RUN_ANALYSIS: 1,
            RETRY_HINT_COLOR: "rgba(27, 172, 166, 0.5)",
            SQUARE_OPACITY_COLORED: .8,
            SQUARE_OPACITY_DEFAULT: .5,
            TOGGLE_ICON_OFF: "eye-off",
            TOGGLE_ICON_ON: "eye",
            UPGRADE_ICON: "display-slider",
            RETRY_MINIMUM: 3,
            SECONDS_IN_DAY: 86400
        },
        E = "analysis-wrapper",
        A = "charts-component";

    function errors_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var j = {
            NETWORK: {
                key: "network",
                message: o.a.trans("We are having some trouble connecting to the server right now... Try again when you have a better connection."),
                type: "Network Error"
            },
            SOCKET_NO_MOVES: {
                key: "socket_no_moves",
                message: o.a.trans("Sorry, you can't analyze a game that does not have any moves."),
                type: "Missing moves"
            },
            UPGRADE: {
                key: "upgrade",
                message: o.a.trans("Sorry, you must upgrade your account before running this analysis."),
                type: "Must Upgrade"
            }
        },
        L = Object.keys(j).reduce(function(e, t) {
            return function errors_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? errors_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : errors_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, e, S()({}, j[t].type, j[t].message))
        }, {}),
        D = function getTimeLabel(e) {
            return e > 30 ? o.a.transChoice("{0} 0 minutes|{1} 1 minute|]1,Inf] %1$s% minutes", e / 60, {
                "%1$s%": e / 60
            }) : e > 0 ? o.a.transChoice("{0} 0 seconds|{1} 1 second|]1,Inf] %1$s% seconds", e, {
                "%1$s%": e
            }) : o.a.trans("Unlimited")
        },
        N = function getDepthLabel(e) {
            return e ? "(".concat(o.a.trans("depth=%depth%", {
                "%depth%": e
            }), ")") : ""
        },
        I = [{
            value: 5,
            depth: "16-20"
        }, {
            value: 10,
            depth: "18-22"
        }, {
            value: 30,
            depth: "20-26"
        }, {
            value: 60,
            depth: "22-30"
        }, {
            value: 300,
            depth: "24+"
        }, {
            value: 0
        }].map(function(e) {
            var t = e.value,
                n = e.depth;
            return {
                value: t,
                label: "".concat(D(t), " ").concat(N(n))
            }
        }),
        $ = {
            balanced: {
                desc: o.a.trans("Neither player ever had an advantage."),
                scenarios: {
                    drawEven: o.a.trans("An even game to the end."),
                    drawLosing: null,
                    drawWinning: null,
                    lossLosing: o.a.trans("You lost an even game."),
                    lossWinningFlag: null,
                    winLosingFlag: null,
                    winWinning: o.a.trans("You won a close game - well done!")
                }
            },
            rough: {
                desc: o.a.trans("One player kept up the pressure."),
                scenarios: {
                    drawEven: o.a.trans("You had winning chances but in the end it was even."),
                    drawLosing: o.a.trans("You escaped with the draw!"),
                    drawWinning: o.a.trans("Unfortunate draw - you were winning!"),
                    lossLosing: o.a.trans("Tough game. Your opponent played well."),
                    lossWinningFlag: o.a.trans("You were winning - but you ran out of time!"),
                    winLosingFlag: o.a.trans("Saved by the clock!"),
                    winWinning: o.a.trans("Nice win. You were never in trouble.")
                }
            },
            sharp: {
                desc: o.a.trans("A back and forth game with both players missing opportunities."),
                scenarios: {
                    drawEven: o.a.trans("When the dust settled, it was even."),
                    drawLosing: o.a.trans("You had your chances, but the draw was fortunate."),
                    drawWinning: o.a.trans("A draw is nice, but you were winning."),
                    lossLosing: o.a.trans("That could have gone either way... a dynamic game!"),
                    lossWinningFlag: o.a.trans("You ended up with the advantage, but it was too late."),
                    winLosingFlag: o.a.trans("A back and forth game - but you were quicker."),
                    winWinning: o.a.trans("That was a real battle - but you earned the win!")
                }
            },
            smooth: {
                desc: o.a.trans("One player dominated the entire game."),
                scenarios: {
                    drawEven: null,
                    drawLosing: o.a.trans("Nice save - could have been worse!"),
                    drawWinning: o.a.trans("You settled for a draw."),
                    lossLosing: o.a.trans("You were outplayed this time."),
                    lossWinningFlag: o.a.trans("Watch the clock - you were winning!"),
                    winLosingFlag: o.a.trans("Saved by the clock!"),
                    winWinning: o.a.trans("You had the advantage from start to finish!")
                }
            },
            throwAway: {
                desc: o.a.trans("One player was winning, but then blundered it away."),
                scenarios: {
                    drawEven: null,
                    drawLosing: o.a.trans("You went from winning to losing but got the draw."),
                    drawWinning: o.a.trans("That should have been your win!"),
                    lossLosing: o.a.trans("That game slipped through your fingers."),
                    lossWinningFlag: o.a.trans("You fought back, but not quickly enough."),
                    winLosingFlag: o.a.trans("You blundered the advantage but were saved by the clock!"),
                    winWinning: o.a.trans("Nice comeback win!")
                }
            },
            sudden: {
                desc: o.a.trans("An even game - ended by a blunder."),
                scenarios: {
                    drawEven: null,
                    drawLosing: o.a.trans("You got into trouble but escaped with the draw!"),
                    drawWinning: o.a.trans("You weren't quite able to convert your advantage."),
                    lossLosing: o.a.trans("One mistake made all the difference."),
                    lossWinningFlag: o.a.trans("You broke through, but ran out of time."),
                    winLosingFlag: o.a.trans("After the blunder you outlasted your opponent."),
                    winWinning: o.a.trans("Great win! You saw your chance and took it.")
                }
            },
            wild: {
                desc: o.a.trans("A chaotic game where both players had many chances to win."),
                scenarios: {
                    drawEven: o.a.trans("A back and forth game... that settled peacefully!"),
                    drawLosing: o.a.trans("That battle could have ended worse... good draw!"),
                    drawWinning: o.a.trans("You fought for an advantage, but allowed for a draw."),
                    lossLosing: o.a.trans("A back and forth fight, but it didn't go your way."),
                    lossWinningFlag: o.a.trans("You were finally winning - until the clock ran out."),
                    winLosingFlag: o.a.trans("Chances on both sides, but you were quicker."),
                    winWinning: o.a.trans("A wild game - and you came out on top!")
                }
            }
        },
        B = "live",
        R = "otb",
        F = "board",
        z = "captured-pieces-vertical",
        U = "charts",
        G = "controls",
        H = "evaluation-bar",
        V = "analysis-features",
        W = "modal-first-time",
        K = "modal-settings",
        q = "modal-board-settings",
        Y = "modal-upgrade",
        X = "player-bottom",
        Q = "player-top",
        Z = "settings-gear",
        J = "share-menu",
        ee = "sidebar",
        te = "opponent",
        ne = "self",
        ae = "both";

    function retry_classification_overrides_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var ie = S()({}, x.c.BEST_MOVE.key, function retry_classification_overrides_objectSpread(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = null != arguments[t] ? arguments[t] : {};
                t % 2 ? retry_classification_overrides_ownKeys(n, !0).forEach(function(t) {
                    S()(e, t, n[t])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : retry_classification_overrides_ownKeys(n).forEach(function(t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                })
            }
            return e
        }({}, x.c.BEST_MOVE, {
            label: o.a.trans("Perfect")
        })),
        oe = n(400),
        re = n.n(oe),
        se = n(24),
        le = n.n(se),
        ce = function URLSearchParamEntries() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.search;
            return le()(new URLSearchParams(e).entries()).reduce(function(e, t) {
                var n = re()(t, 2),
                    a = n[0],
                    i = n[1];
                return Object.assign(S()({}, a, i), e)
            }, {})
        },
        ue = n(7),
        de = {
            analysis: function analysis() {
                return ue.a.generate("web_analysis_board_editor")
            },
            authenticate: function authenticate() {
                return ue.a.generate("web_simple_delegated_authentication", {
                    realm: w,
                    codeName: O
                })
            },
            fenStats: function fenStats() {
                return ue.a.generate("web_eco_callback_stats_fen_search")
            },
            getActiveFens: function getActiveFens() {
                return ue.a.generate("web_game_fens_callback_by_user")
            },
            getDiagram: function getDiagram(e) {
                return ue.a.generate("web_tinymce_get_chessdiagram", {
                    id: e || "new"
                })
            },
            getGameView: function getGameView(e, t) {
                return ue.a.generate("web_analysis_game_callback_game_view", {
                    type: e,
                    gameId: t
                })
            },
            getSavedAnalysis: function getSavedAnalysis(e, t) {
                return ue.a.generate("web_analysis_game_callback_view_all", {
                    type: e,
                    gameId: t
                })
            },
            getSavedAnalysisByAnalysisId: function getSavedAnalysisByAnalysisId(e) {
                return ue.a.generate("web_analysis_game_callback_view", {
                    uuid: e
                })
            },
            getUserDetails: function getUserDetails(e) {
                return ue.a.generate("web_user_callback_popup", {
                    username: e
                })
            },
            retryAttempt: function retryAttempt() {
                return ue.a.generate("web_analysis_game_callback_retry_attempt")
            },
            saveSelfAnalysis: function saveSelfAnalysis() {
                return ue.a.generate("web_analysis_game_callback_self_analysis_create")
            },
            upgradeMembership: function upgradeMembership() {
                return ue.a.generate("web_membership", {
                    c: "analysis",
                    ref_id: ce().ref_id || null
                })
            }
        },
        pe = "wss://analysis.chess.com:443",
        he = 1,
        me = .01,
        fe = 0,
        ge = "analysis_chart_tab",
        be = "analysis_engine_settings",
        ve = "analysis_intro_modal_dismissed",
        ye = "self_analysis_pgn",
        _e = "analysis_modal_settings",
        we = {
            "absolute pin": {
                label: o.a.trans("Absolute Pin"),
                lesson: {
                    course: "capturing-pieces",
                    url: "pins"
                },
                puzzles: [21]
            },
            backrank: {
                label: o.a.trans("Backrank"),
                lesson: {
                    course: "finding-checkmate",
                    url: "back-rank-checkmates"
                },
                puzzles: [3]
            },
            "bad bishop": {
                label: o.a.trans("Bad Bishop"),
                lesson: {
                    course: "make-the-most-of-your-pieces",
                    url: "using-your-bishops"
                }
            },
            battery: {
                label: o.a.trans("Battery"),
                lesson: {
                    course: "make-the-most-of-your-pieces",
                    url: "using-your-rooks"
                },
                puzzles: [44]
            },
            "bishop fork": {
                label: o.a.trans("Bishop Fork"),
                lesson: {
                    course: "capturing-pieces",
                    url: "forks"
                },
                puzzles: [11]
            },
            "bishop pair": {
                label: o.a.trans("Bishop Pair"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "using-the-bishop-pair"
                },
                puzzles: [48]
            },
            castling: {
                label: o.a.trans("Castling"),
                lesson: {
                    course: "playing-the-game",
                    url: "castling"
                }
            },
            "direct opposition": {
                label: o.a.trans("Direct Opposition"),
                lesson: {
                    course: "advanced-endgames",
                    url: "king-opposition"
                },
                puzzles: [39]
            },
            "discover check": {
                label: o.a.trans("Discovered Check"),
                lesson: {
                    course: "winning-with-tactics",
                    url: "discovered-attack"
                },
                puzzles: [8]
            },
            "distant opposition": {
                label: o.a.trans("Distant Opposition"),
                lesson: {
                    course: "endgame-patterns",
                    url: "distant-opposition"
                },
                puzzles: [39]
            },
            "double check": {
                label: o.a.trans("Double Check"),
                lesson: {
                    course: "winning-with-tactics",
                    url: "double-check"
                },
                puzzles: [38]
            },
            "doubled rook": {
                label: o.a.trans("Doubled Rooks"),
                lesson: {
                    course: "winning-the-game",
                    url: "checkmate-with-two-rooks"
                },
                puzzles: [46]
            },
            "en passant": {
                label: o.a.trans("En Passant"),
                lesson: {
                    course: "playing-the-game",
                    url: "en-passant"
                },
                puzzles: [37]
            },
            fool: {
                label: o.a.trans("Fool"),
                lesson: {
                    course: "playing-the-game",
                    url: "fastest-checkmate"
                },
                puzzles: [62]
            },
            "hanging pawns": {
                label: o.a.trans("Hanging Pawns"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "isolated-and-hanging-pawns"
                }
            },
            "insufficient material": {
                label: o.a.trans("Insufficient Material"),
                lesson: {
                    course: "playing-the-game",
                    url: "other-draws"
                }
            },
            "isolated D pawn": {
                label: o.a.trans("Isolated D Pawn"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "isolated-and-hanging-pawns"
                }
            },
            "isolated pawn": {
                label: o.a.trans("Isolated Pawn"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "isolated-and-hanging-pawns"
                }
            },
            "king in center": {
                label: o.a.trans("King in Center"),
                lesson: {
                    course: "finding-checkmate",
                    url: "king-safety"
                },
                puzzles: [31]
            },
            "knight and bishop": {
                label: o.a.trans("Knight and Bishop"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "bishops-vs-knights"
                }
            },
            "knight fork": {
                label: o.a.trans("Knight Fork"),
                lesson: {
                    course: "capturing-pieces",
                    url: "forks"
                },
                puzzles: [11]
            },
            "knight outpost": {
                label: o.a.trans("Knight Outpost"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "outposts"
                },
                puzzles: [42]
            },
            "mate-in-2": {
                label: o.a.trans("Mate in 2"),
                lesson: {
                    course: "finding-checkmate",
                    url: "checkmate-in-2-moves"
                },
                puzzles: [15]
            },
            "mate-in-3+": {
                label: o.a.trans("Mate in 3+"),
                lesson: {
                    course: "forcing-moves",
                    url: "checkmate-in-3-moves"
                },
                puzzles: [16]
            },
            "opposite colored bishops": {
                label: o.a.trans("Opposite Colored Bishops"),
                lesson: {
                    course: "advanced-endgames",
                    url: "opposite-colored-bishops-endgames"
                },
                puzzles: [54]
            },
            "outside passed pawns": {
                label: o.a.trans("Outside Passed Pawns"),
                lesson: {
                    course: "understanding-endgames",
                    url: "passed-pawns"
                },
                puzzles: [56]
            },
            "passed pawns": {
                label: o.a.trans("Passed Pawns"),
                lesson: {
                    course: "understanding-endgames",
                    url: "passed-pawns"
                },
                puzzles: [56]
            },
            "pawn fork": {
                label: o.a.trans("Pawn Fork"),
                lesson: {
                    course: "capturing-pieces",
                    url: "forks"
                },
                puzzles: [11]
            },
            "pawn island": {
                label: o.a.trans("Pawn Island"),
                lesson: {
                    course: "reading-the-board",
                    url: "pawn-structures"
                }
            },
            promotion: {
                label: o.a.trans("Promotion"),
                lesson: {
                    course: "how-to-move-the-pieces",
                    url: "pawn-promotion"
                },
                puzzles: [19]
            },
            "queen fork": {
                label: o.a.trans("Queen Fork"),
                lesson: {
                    course: "capturing-pieces",
                    url: "forks"
                },
                puzzles: [11]
            },
            "relative pin": {
                label: o.a.trans("Relative Pin"),
                lesson: {
                    course: "capturing-pieces",
                    url: "pins"
                },
                puzzles: [21]
            },
            "rook and bishop": {
                label: o.a.trans("Rook and Bishop"),
                lesson: {
                    course: "advanced-endgames",
                    url: "common-rook-endgames"
                }
            },
            "rook and knight": {
                label: o.a.trans("Rook and Knight"),
                lesson: {
                    course: "advanced-endgames",
                    url: "common-rook-endgames"
                }
            },
            "rook and minors": {
                label: o.a.trans("Rook and Minors"),
                lesson: {
                    course: "advanced-endgames",
                    url: "common-rook-endgames"
                }
            },
            "rook fork": {
                label: o.a.trans("Rook Fork"),
                lesson: {
                    course: "capturing-pieces",
                    url: "forks"
                },
                puzzles: [11]
            },
            scholar: {
                label: o.a.trans("Scholar"),
                lesson: {
                    course: "winning-the-game",
                    url: "the-4-move-checkmate"
                },
                puzzles: [1]
            },
            skewer: {
                label: o.a.trans("Skewer"),
                lesson: {
                    course: "capturing-pieces",
                    url: "skewers"
                },
                puzzles: [26]
            },
            "smothered mate": {
                label: o.a.trans("Smothered Mate"),
                lesson: {
                    course: "winning-with-tactics",
                    url: "smothered-mate"
                },
                puzzles: [27]
            },
            stalemate: {
                label: o.a.trans("Stalemate"),
                lesson: {
                    course: "playing-the-game",
                    url: "stalemate"
                },
                puzzles: [28]
            },
            "threefold repitition": {
                label: o.a.trans("Threefold Repetition"),
                lesson: {
                    course: "playing-the-game",
                    url: "other-draws"
                },
                puzzles: [20]
            },
            "two rooks": {
                label: o.a.trans("Two Rooks"),
                lesson: {
                    course: "winning-the-game",
                    url: "checkmate-with-two-rooks"
                },
                puzzles: [66]
            },
            "under promotion": {
                label: o.a.trans("Underpromotion"),
                lesson: {
                    course: "advanced-tactics",
                    url: "underpromotion"
                },
                puzzles: [30]
            },
            "diagonal opposition": {
                label: o.a.trans("Diagonal Opposition"),
                lesson: {
                    course: "advanced-endgames",
                    url: "king-opposition"
                },
                puzzles: [39]
            },
            "rooks on seventh": {
                label: o.a.trans("Rooks on Seventh"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "pigs-on-the-7th-rank"
                },
                puzzles: [50]
            },
            "two bishops": {
                label: o.a.trans("Two Bishops"),
                lesson: {
                    course: "endgame-patterns",
                    url: "two-bishop-checkmate"
                },
                puzzles: [64]
            },
            "Alekhines gun": {
                label: o.a.trans("Alekhine's Gun", {}, "dynamic"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "batteries"
                },
                puzzles: [44, 58]
            },
            "connected passed pawn": {
                label: o.a.trans("Connected Passed Pawns"),
                lesson: {
                    course: "understanding-endgames",
                    url: "passed-pawns"
                },
                puzzles: [56]
            },
            anastasia: {
                label: o.a.trans("Anastasia"),
                lesson: {
                    course: "attacking-the-king-1",
                    url: "advanced-checkmate-patterns"
                },
                puzzles: [60]
            },
            arabian: {
                label: o.a.trans("Arabian"),
                lesson: {
                    course: "attacking-the-king-1",
                    url: "advanced-checkmate-patterns"
                },
                puzzles: [60]
            },
            boden: {
                label: o.a.trans("Boden"),
                lesson: {
                    course: "attacking-the-king-1",
                    url: "advanced-checkmate-patterns"
                },
                puzzles: [60]
            },
            "backward pawn": {
                label: o.a.trans("Backward Pawns"),
                lesson: {
                    course: "reading-the-board",
                    url: "pawn-structures"
                }
            },
            "doubled pawn": {
                label: o.a.trans("Doubled Pawns"),
                lesson: {
                    course: "reading-the-board",
                    url: "pawn-structures"
                }
            },
            fianchetto: {
                label: o.a.trans("Fianchetto"),
                lesson: {
                    course: "make-the-most-of-your-pieces",
                    url: "using-your-bishops"
                },
                puzzles: [40]
            },
            "mate-in-1": {
                label: o.a.trans("Mate in 1"),
                lesson: {
                    course: "playing-the-game",
                    url: "checkmate"
                },
                puzzles: [14]
            },
            windmill: {
                label: o.a.trans("Windmill"),
                lesson: {
                    course: "activating-your-pieces",
                    url: "windmill"
                },
                puzzles: [32]
            },
            "trapped piece": {
                label: o.a.trans("Trapped Piece"),
                lesson: {
                    course: "winning-with-tactics",
                    url: "trapped-piece"
                },
                puzzles: [29]
            }
        },
        Oe = {},
        ke = function hasFeatureAccess(e) {
            return Boolean(Oe[e])
        },
        Se = n(50),
        xe = n(98);

    function build_effect_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Pe = function buildEffect() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            if (e.moveLan && t.icon) return function build_effect_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? build_effect_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : build_effect_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({
                position: {
                    x: "right",
                    y: "top"
                },
                square: Se.a.convertLanToFileRanks(e.moveLan).toFileRank,
                template: Object(xe.a)({
                    path: t.icon,
                    size: "100%"
                })
            }, n)
        },
        Ce = n(4),
        Me = n(76),
        Te = n(86);

    function shared_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function shared_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? shared_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : shared_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Ee = function getBackgroundSeriesOptions(e) {
            var t = e.currentMoveNumber,
                n = e.limit,
                a = void 0 === n ? vt.BEST_MOVE_Y_AXIS_LIMIT : n,
                i = e.positions,
                o = e.positive;
            return {
                className: vt.BACKGROUND_SERIES_CLASS,
                data: i.map(function(e, n) {
                    return {
                        color: "transparent",
                        hideTooltip: !0,
                        selected: t === n,
                        y: o ? a : -a
                    }
                }),
                grouping: !1,
                pointStart: 1,
                zIndex: 0
            }
        },
        Ae = function getChartWidthOptions(e) {
            var t = e.offset,
                n = void 0 === t ? 0 : t,
                a = e.positionCount,
                i = void 0 === a ? 0 : a;
            return {
                scrollablePlotArea: {
                    minWidth: vt.COLUMN_WIDTH * i + n,
                    scrollPositionX: 0
                }
            }
        },
        je = function getMainSeriesOptions(e) {
            var t = e.positions,
                n = e.dataAggregator,
                a = e.initialPly;
            return {
                allowPointSelect: !0,
                data: t.map(function(e, i) {
                    return n({
                        initialPly: a,
                        index: i,
                        position: e,
                        positionTotal: t.length
                    })
                }),
                pointStart: 1,
                zIndex: 1
            }
        },
        Le = function getGamePhasePlotlines() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).map(function(e, t) {
                var n = yt[t],
                    a = "game-phase-".concat(n.key);
                return {
                    className: "game-phase-plot-line ".concat(a),
                    color: "blue",
                    label: {
                        align: "left",
                        rotation: 0,
                        style: {
                            fontSize: "0.9rem"
                        },
                        text: '<div class="game-phase-label '.concat(a, '">').concat(n.label, "</div>"),
                        useHTML: !0,
                        verticalAlign: "middle",
                        y: -35
                    },
                    value: e,
                    width: 1,
                    zIndex: 5
                }
            })
        },
        De = function getPlotOptions(e) {
            return {
                series: {
                    borderColor: "transparent",
                    borderWidth: 0,
                    cursor: "pointer",
                    grouping: !1,
                    groupPadding: 0,
                    maxPointWidth: vt.COLUMN_WIDTH,
                    point: {
                        events: {
                            click: function click() {
                                e({
                                    line: 0,
                                    move: this.index
                                })
                            }
                        }
                    },
                    pointPadding: 0,
                    pointPlacement: "between",
                    states: {
                        hover: {
                            brightness: .15
                        }
                    }
                }
            }
        },
        Ne = function getPositionsWithFiller(e) {
            var t = e.fillItem,
                n = void 0 === t ? {} : t,
                a = e.minPositionCount,
                i = void 0 === a ? vt.MIN_POSITIONS : a,
                o = e.positions,
                r = e.offset,
                s = void 0 === r ? 0 : r,
                l = (document.querySelector(".".concat(A)) || {}).clientWidth,
                c = l ? Math.floor((l - s) / vt.COLUMN_WIDTH) : i;
            return o.length < c ? [].concat(le()(o), le()(Array(c - o.length).fill(n))) : o
        },
        Ie = function getSeriesOptions(e) {
            var t = e.currentMoveNumber,
                n = e.dataAggregator,
                a = e.initialPly,
                i = e.limit,
                o = e.positions,
                r = e.positionsWithFiller;
            return [je({
                dataAggregator: n,
                initialPly: a,
                positions: r
            }), Ee({
                positions: o,
                positive: !0,
                currentMoveNumber: t,
                limit: i
            }), Ee({
                positions: o,
                positive: !1,
                currentMoveNumber: t,
                limit: i
            })]
        },
        $e = function playerMoveModifier(e) {
            return 2 * e
        },
        Be = function sharedChartOptions(e) {
            var t = e.additionalOptions,
                n = void 0 === t ? {} : t,
                a = e.initialPly,
                i = e.goToNode,
                o = e.phases,
                r = e.positionCount,
                s = e.propsToExclude,
                l = void 0 === s ? [] : s,
                c = e.showTooltip,
                u = void 0 === c || c;
            return Object(Te.f)({
                chart: shared_objectSpread({
                    backgroundColor: "transparent",
                    height: vt.CHART_HEIGHT,
                    marginLeft: n.marginLeft || 0,
                    marginRight: 0,
                    marginTop: 0,
                    spacing: [0, 0, 0, 0],
                    showAxes: !0,
                    type: "column"
                }, Ae({
                    positionCount: r,
                    offset: n.xOffset
                })),
                credits: {
                    enabled: !1
                },
                legend: {
                    enabled: !1
                },
                lang: {
                    noData: !1
                },
                plotOptions: De(i),
                title: {
                    text: ""
                },
                tooltip: u ? {
                    enabled: !0,
                    formatter: function formatter() {
                        var e = this.points[0].point;
                        if (!e.value) return !1;
                        var t = e.tooltipMarkup ? '<span class="tooltip-markup">'.concat(e.tooltipMarkup, "</span>") : "";
                        return '\n          <div>\n            <header class="tooltip-header">\n              <span class="tooltip-player '.concat(e.color, '"></span>\n              ').concat(e.move, ' <strong class="tooltip-value">').concat(e.value, "</strong>\n              ").concat(t, "\n            </header>\n          </div>\n        ")
                    },
                    padding: 5,
                    shared: !0,
                    useHTML: !0
                } : {
                    enabled: !1
                },
                xAxis: {
                    crosshair: {
                        width: n.crosshairWidth || vt.COLUMN_WIDTH
                    },
                    gridLineWidth: 1,
                    gridZIndex: 15,
                    labels: {
                        align: "left",
                        formatter: function formatter() {
                            var e = this.axis.defaultLabelFormatter.call(this),
                                t = Math.ceil((Number(e) + a) / 2);
                            return isNaN(t) ? "" : t
                        },
                        useHTML: !0,
                        x: 2,
                        y: 15
                    },
                    minPadding: n.minPadding || 0,
                    opposite: !0,
                    plotLines: Le(o),
                    startOnTick: n.startOnTick,
                    tickPositioner: function tickPositioner(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                        return function generateTicks(e) {
                            for (var t = e.initialPly, n = e.min, a = e.max, i = e.modifier, o = void 0 === i ? function(e) {
                                    return e
                                } : i, r = e.tickInterval, s = t % 2 != 0, l = n > 1 ? [] : [s ? 0 : 1], c = o(r) - (s ? 0 : 1); c <= a;) l.push(c), c += o(r);
                            return l
                        }({
                            initialPly: a,
                            min: e,
                            max: t,
                            modifier: $e,
                            tickInterval: n.tickInterval || 5
                        })
                    }
                }
            }, l)
        },
        Re = function updateMoveNumber(e) {
            var t = e.chart,
                n = e.currentMoveNumber,
                a = e.seriesSliceIndex,
                i = void 0 === a ? 1 : a,
                o = t.series[i],
                r = t.series.slice(i);
            r.map(function(e) {
                    return function deselectSeries(e) {
                        return e.data.filter(function(e) {
                            return e.selected
                        }).forEach(function(e) {
                            return e.select(!1, !0)
                        })
                    }(e)
                }),
                function isNumber(e) {
                    return "number" == typeof e
                }(n) && n >= 0 && o && o.data[n] && r.map(function(e) {
                    return e.data[n].select(!0, !0)
                }), t.scrollingContainer && setTimeout(function() {
                    t.scrollingContainer.scrollLeft = n / o.data.length * t.plotWidth
                })
        };

    function best_move_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Fe = function getLabelAdjustment(e) {
            var t = e.diff,
                n = e.limits,
                a = e.whitePlayer,
                i = 0;
            return t > n.top ? i = 7.5 : t < n.bottom && (i = 10 * t - 15), 5 + (a ? i : -i)
        },
        ze = function getAvgDiffLabel(e, t) {
            var n = {
                    bottom: .5,
                    top: wt.BEST_MOVE - .05
                },
                a = Ot(e, n.top),
                i = St(t);
            return {
                className: "avg-diff-plot-line",
                dashStyle: "dash",
                label: {
                    text: '<div class="avg-label avg-label-'.concat(t, '"><div class="rect"></div> ').concat(e.toFixed(2), "</div>"),
                    useHTML: !0,
                    x: -40,
                    y: Fe({
                        diff: e,
                        limits: n,
                        whitePlayer: i
                    })
                },
                value: i ? a : -a,
                width: 1,
                zIndex: 1
            }
        },
        Ue = function getPositionData(e) {
            var t = e.index,
                n = e.initialPly,
                a = e.position,
                i = a.classification,
                o = a.color,
                r = a.difference,
                s = a.scenarios,
                l = kt({
                    classification: i,
                    difference: r,
                    scenarios: s
                }) || {},
                c = Ot(r, wt.BEST_MOVE),
                u = St(o);
            return {
                className: "analysis-".concat(l.key, "-bg"),
                color: o,
                move: xt({
                    color: o,
                    index: t,
                    initialPly: n
                }),
                tooltipMarkup: Object(xe.a)({
                    path: l.icon,
                    size: 15
                }),
                value: r >= 0 && r.toString(),
                y: u ? c : -c
            }
        },
        Ge = function getPlotlines() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = [{
                    className: "best-move-plot-line",
                    label: {
                        style: {
                            color: x.c.BEST_MOVE.color
                        },
                        text: x.c.BEST_MOVE.label,
                        x: -50,
                        y: 2
                    },
                    value: 0,
                    width: 1,
                    zIndex: 1
                }];
            return e.white && t.push(ze(e.white, Me.e.WHITE)), e.black && t.push(ze(e.black, Me.e.BLACK)), t
        };

    function criticality_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var He = function getPositionData(e) {
        var t = e.initialPly,
            n = e.index,
            a = e.position,
            i = a.criticality,
            o = a.color;
        return {
            borderWidth: 1,
            color: o,
            className: "highcharts-point-".concat(o),
            move: xt({
                color: o,
                index: n,
                initialPly: t
            }),
            value: (i || 0) / 100,
            y: i || 0
        }
    };

    function score_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ve = function getPositionData(e) {
            var t = e.initialPly,
                n = e.index,
                a = e.position,
                i = a.classification,
                o = a.color,
                r = a.difference,
                s = a.playedMove,
                l = a.scenarios,
                c = kt({
                    classification: i,
                    difference: r,
                    scenarios: l
                }) || {},
                u = s && s.score,
                d = u > 0 ? Me.e.WHITE : Me.e.BLACK;
            return {
                borderWidth: 1,
                color: o,
                className: "highcharts-point-".concat(d),
                move: xt({
                    color: o,
                    index: n,
                    initialPly: t
                }),
                tooltipMarkup: Object(xe.a)({
                    path: c.icon,
                    size: 15
                }),
                value: u > 0 ? "+".concat(u) : u,
                y: Ot(u, wt.SCORE)
            }
        },
        We = function secondsToMinutesAndSecondsString(e) {
            var t = function secondsToMinutesAndSecondsObject(e) {
                    var t = e.padSeconds,
                        n = void 0 !== t && t,
                        a = e.seconds,
                        i = Math.ceil(a),
                        o = Math.floor(i / 60),
                        r = i % 60;
                    return n && (r = (r = "0".concat(r)).substring(r.length - 2)), {
                        mins: o,
                        secs: r
                    }
                }({
                    padSeconds: !0,
                    seconds: e
                }),
                n = t.mins,
                a = t.secs;
            return "".concat(n, ":").concat(a)
        },
        Ke = function secondsToDaysHoursMinutesString(e) {
            var t = function secondsToDaysHoursMinutesObject(e) {
                    var t = Math.ceil(e),
                        n = Math.floor(t / 86400),
                        a = Math.floor(t % 86400 / 3600),
                        i = Math.ceil(t % 3600 / 60);
                    return 60 === i && (i = 0, a += 1), 24 === a && (a = 0, n += 1), {
                        days: n,
                        hours: a,
                        minutes: i
                    }
                }(e),
                n = t.days,
                a = t.hours,
                i = t.minutes,
                r = n > 0 ? "".concat(o.a.transChoice("{1} 1 day|]1,Inf] %1$s% days", n, {
                    "%1$s%": n
                })).concat(a > 0 || i > 0 ? ", " : "") : "",
                s = a > 0 ? "".concat(o.a.transChoice("{1} 1 hour|]1,Inf] %1$s% hours", a, {
                    "%1$s%": a
                })).concat(i > 0 ? ", " : "") : "",
                l = i > 0 ? "".concat(o.a.transChoice("{1} 1 minute|]1,Inf] %1$s% minutes", i, {
                    "%1$s%": i
                })) : "";
            return "".concat(r).concat(s).concat(l)
        };

    function time_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function time_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? time_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : time_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var qe = function isTimeInHours(e) {
            return e > 3600
        },
        Ye = function getPositionData(e) {
            var t = e.index,
                n = e.initialPly,
                a = e.position,
                i = Math.round(a.time / 10),
                o = qe(i) ? Ke(i) : We(i);
            return {
                borderWidth: 1,
                className: "highcharts-point-".concat(a.color),
                color: a.color,
                move: xt({
                    color: a.color,
                    index: t,
                    initialPly: n
                }),
                value: o,
                y: a.time
            }
        },
        Xe = n(603),
        Qe = n.n(Xe),
        Ze = n(1115);

    function themes_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function themes_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? themes_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : themes_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    n.n(Ze)()(Qe.a);
    var Je, et, tt, nt = function assignThemeRangeEnd(e) {
            return e + 1
        },
        at = function isLastMove(e, t) {
            return e === t - 1
        },
        it = function createColorThemes(e) {
            var t = e.color,
                n = e.colorThemes,
                a = void 0 === n ? {} : n;
            return {
                borderRadius: 0,
                borderWidth: 0,
                className: "highcharts-series-themes",
                data: e.themeNames.reduce(function(e, n, i) {
                    return [].concat(le()(e), le()(function createThemeRanges(e) {
                        var t = e.className,
                            n = e.moves,
                            a = void 0 === n ? [] : n,
                            i = e.themeIndex,
                            o = e.themeName;
                        return a.reduce(function(e, n, r) {
                            var s = e[e.length - 1],
                                l = a[r - 1];
                            return function isFirstMove(e) {
                                return 0 === e
                            }(r) || function isConsecutiveMove(e, t) {
                                return e === t + 1 || e === t
                            }(n, l) ? at(r, a.length) && (s.x2 = nt(n)) : (s.x2 = nt(l), e.push({
                                className: t,
                                name: o,
                                x: n,
                                x2: at(r, a.length) ? nt(n) : null,
                                y: i
                            })), e
                        }, [{
                            className: t,
                            name: o,
                            x: a[0],
                            x2: null,
                            y: i
                        }])
                    }({
                        className: "highcharts-point-".concat(t),
                        moves: a[n],
                        themeIndex: i,
                        themeName: n
                    })))
                }, []),
                groupPadding: 0,
                name: t,
                pointStart: 1,
                zIndex: 10
            }
        },
        ot = function getBackgroundSeriesLimit(e, t) {
            return Math.max(e.length, t) - 1
        },
        rt = function getGameThemes() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.black,
                n = void 0 === t ? {} : t,
                a = e.white,
                i = void 0 === a ? {} : a;
            return Object.keys(themes_objectSpread({}, n, {}, i)).filter(function(e) {
                return we[e]
            })
        },
        st = function getThemesData(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return [Me.e.BLACK, Me.e.WHITE].map(function(n) {
                return it({
                    color: n,
                    colorThemes: t[n],
                    themeNames: e
                })
            })
        },
        lt = function getThemeNames(e) {
            return [o.a.trans("Themes")].concat(le()(rt(e)))
        },
        ct = function themeIsHighlighted(e) {
            var t = e.currentMoveNumber,
                n = void 0 === t ? -1 : t,
                a = e.themeName,
                i = e.themesData;
            return (void 0 === i ? [] : i).reduce(function(e, t) {
                return [].concat(le()(e), le()(t.data.filter(function(e) {
                    return e.name === a
                })))
            }, []).some(function(e) {
                return n + 1 >= e.x && n + 1 <= e.x2
            })
        },
        ut = function formatLabel(e, t, n) {
            var a = ct({
                    themeName: e,
                    themesData: t,
                    currentMoveNumber: n
                }),
                i = (we[e] || {}).label || e;
            return isNaN(e) ? '<span class="themes-label '.concat(a ? "highlight" : "", '">').concat(i, "</span>") : ""
        },
        dt = function updateCallback(e) {
            var t = Qe.a,
                n = e.container,
                a = e.fixedRenderer;
            a && [e.inverted ? ".highcharts-xaxis" : ".highcharts-yaxis", e.inverted ? ".highcharts-xaxis-labels" : ".highcharts-yaxis-labels", ".highcharts-contextbutton", ".highcharts-credits", ".highcharts-legend", ".highcharts-subtitle", ".highcharts-title", ".highcharts-legend-checkbox"].forEach(function(e) {
                t.each(n.querySelectorAll(e), function(e) {
                    (e.namespaceURI === a.SVG_NS ? a.box : a.box.parentNode).appendChild(e), e.style.pointerEvents = "auto"
                })
            })
        },
        pt = "best-move",
        ht = "criticality",
        mt = "score",
        ft = "time",
        gt = "themes",
        bt = (x.c.BRILLIANT.key, x.c.BEST_MOVE.key, x.c.INACCURACY.key, x.c.MISTAKE.key, x.c.BLUNDER.key, x.c.MISSED_WIN.key, Je = {}, S()(Je, -1, x.c.BEST_MOVE), S()(Je, 0, x.c.EXCELLENT), S()(Je, 1, x.c.GOOD), S()(Je, 2, x.c.INACCURACY), S()(Je, 3, x.c.MISTAKE), S()(Je, 4, x.c.BLUNDER), S()(Je, 5, x.c.FORCED), S()(Je, 6, x.c.MISSED_WIN), Je),
        vt = (et = {}, S()(et, Me.e.WHITE, "#e8e7e6"), S()(et, Me.e.BLACK, "#312e2b"), {
            BACKGROUND_SERIES_CLASS: "highcharts-series-background",
            BEST_MOVE_CHART_OFFSET: 55,
            CHART_HEIGHT: 162,
            CHARTS_TAB_HEIGHT: 40,
            COLUMN_WIDTH: 12,
            DATA_PADDING: 30,
            MIN_POSITIONS: 60,
            THEME_ROW_HEIGHT: 25
        }),
        yt = [{
            key: "middle",
            label: o.a.trans("Middle Game")
        }, {
            key: "end",
            label: o.a.trans("Endgame")
        }],
        _t = (tt = {}, S()(tt, mt, {
            chartOptions: function(e) {
                var t = e.currentMoveNumber,
                    n = e.goToNode,
                    a = e.initialPly,
                    i = e.positions,
                    o = void 0 === i ? [] : i,
                    r = e.phases,
                    s = Ne({
                        positions: o
                    });
                return function score_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? score_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : score_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, Be({
                    additionalOptions: {
                        startOnTick: !0
                    },
                    goToNode: n,
                    initialPly: a,
                    phases: r,
                    positionCount: s.length
                }), {
                    series: Ie({
                        currentMoveNumber: t,
                        dataAggregator: Ve,
                        limit: wt.SCORE,
                        initialPly: a,
                        positions: o,
                        positionsWithFiller: s
                    }),
                    yAxis: {
                        endOnTick: !1,
                        labels: {
                            enabled: !1
                        },
                        max: wt.SCORE,
                        min: -wt.SCORE,
                        plotLines: [{
                            value: 0,
                            width: 1,
                            zIndex: 100
                        }],
                        startOnTick: !1,
                        title: "",
                        tickAmount: 1
                    }
                })
            },
            className: "highcharts-score",
            header: {
                label: o.a.trans("Score"),
                icon: "users"
            },
            show: function show() {
                return !0
            },
            updateMoveNumber: Re
        }), S()(tt, ft, {
            chartOptions: function(e) {
                var t = e.currentMoveNumber,
                    n = e.goToNode,
                    a = e.initialPly,
                    i = e.moveTimes,
                    o = void 0 === i ? [] : i,
                    r = e.phases,
                    s = e.positions,
                    l = void 0 === s ? [] : s,
                    c = l.reduce(function(e, t, n) {
                        return [].concat(le()(e), [time_objectSpread({}, t, {
                            time: o[n]
                        })])
                    }, []),
                    u = Ne({
                        fillItem: 0,
                        positions: c
                    }),
                    d = {
                        max: Math.max.apply(Math, le()(o)),
                        min: Math.min.apply(Math, le()(o))
                    };
                return time_objectSpread({}, Be({
                    additionalOptions: {
                        startOnTick: !0
                    },
                    goToNode: n,
                    initialPly: a,
                    phases: r,
                    positionCount: u.length
                }), {
                    series: Ie({
                        currentMoveNumber: t,
                        dataAggregator: Ye,
                        positions: l,
                        positionsWithFiller: u,
                        limit: d.max + 25
                    }),
                    yAxis: {
                        endOnTick: !1,
                        labels: {
                            enabled: !1
                        },
                        max: d.max,
                        min: qe(o[0] / 10) ? d.min : 0,
                        startOnTick: !1,
                        tickAmount: 1,
                        title: "",
                        visible: !1
                    }
                })
            },
            header: {
                label: o.a.trans("Time"),
                icon: "circle-clock"
            },
            show: function show(e) {
                var t = e.time;
                return Boolean(t)
            },
            updateMoveNumber: Re
        }), S()(tt, pt, {
            chartOptions: function(e) {
                var t = e.avgDiff,
                    n = e.currentMoveNumber,
                    a = e.goToNode,
                    i = e.initialPly,
                    o = e.positions,
                    r = void 0 === o ? [] : o,
                    s = e.phases,
                    l = Ne({
                        positions: r,
                        offset: vt.BEST_MOVE_CHART_OFFSET
                    });
                return function best_move_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? best_move_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : best_move_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, Be({
                    additionalOptions: {
                        marginLeft: vt.BEST_MOVE_CHART_OFFSET,
                        xOffset: vt.BEST_MOVE_CHART_OFFSET
                    },
                    goToNode: a,
                    initialPly: i,
                    phases: s,
                    positionCount: l.length
                }), {
                    series: Ie({
                        currentMoveNumber: n,
                        dataAggregator: Ue,
                        limit: wt.BEST_MOVE,
                        initialPly: i,
                        positions: r,
                        positionsWithFiller: l
                    }),
                    yAxis: {
                        endOnTick: !1,
                        labels: {
                            enabled: !1
                        },
                        max: wt.BEST_MOVE,
                        min: -wt.BEST_MOVE,
                        plotLines: Ge(t),
                        startOnTick: !1,
                        tickAmount: 1,
                        title: ""
                    }
                })
            },
            className: "highcharts-best-move",
            header: {
                className: "best-move",
                label: o.a.trans("Best Move Diff"),
                icon: "select"
            },
            show: function show() {
                return !0
            },
            updateMoveNumber: Re
        }), S()(tt, ht, {
            chartOptions: function(e) {
                var t = e.currentMoveNumber,
                    n = e.goToNode,
                    a = e.initialPly,
                    i = e.positions,
                    o = void 0 === i ? [] : i,
                    r = e.phases,
                    s = Ne({
                        positions: o
                    });
                return function criticality_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? criticality_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : criticality_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, Be({
                    additionalOptions: {
                        startOnTick: !0
                    },
                    goToNode: n,
                    initialPly: a,
                    phases: r,
                    positionCount: s.length
                }), {
                    series: Ie({
                        currentMoveNumber: t,
                        dataAggregator: He,
                        limit: wt.CRITICALITY,
                        initialPly: a,
                        positions: o,
                        positionsWithFiller: s
                    }),
                    yAxis: {
                        endOnTick: !1,
                        labels: {
                            enabled: !1
                        },
                        max: wt.CRITICALITY,
                        min: 0,
                        plotLines: [{
                            value: 0,
                            width: 1,
                            zIndex: 100
                        }],
                        startOnTick: !1,
                        title: "",
                        tickAmount: 1
                    }
                })
            },
            header: {
                label: o.a.trans("Criticality"),
                icon: "lightning"
            },
            show: function show(e) {
                var t = e.positions;
                return t && t.some(function(e) {
                    return e.criticality
                })
            },
            updateMoveNumber: Re
        }), S()(tt, gt, {
            badge: function highlightedThemesCount() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    t = e.currentMoveNumber,
                    n = void 0 === t ? -1 : t,
                    a = e.TEP,
                    i = void 0 === a ? {} : a,
                    o = rt(i.moves) || [],
                    r = st(o, i.moves) || {};
                return o.reduce(function(e, t) {
                    return ct({
                        themeName: t,
                        themesData: r,
                        currentMoveNumber: n
                    }) ? e + 1 : e
                }, 0)
            },
            chartOptions: function(e) {
                var t = e.goToNode,
                    n = e.initialPly,
                    a = e.positions,
                    i = void 0 === a ? [] : a,
                    o = e.currentMoveNumber,
                    r = e.TEP,
                    s = void 0 === r ? {} : r,
                    l = Ne({
                        positions: i
                    }),
                    c = lt(s.moves),
                    u = st(c, s.moves),
                    d = Math.ceil(vt.CHART_HEIGHT / vt.THEME_ROW_HEIGHT),
                    p = Be({
                        goToNode: t,
                        initialPly: n,
                        positionCount: l.length,
                        propsToExclude: ["plotOptions"],
                        showTooltip: !1,
                        startOnTick: !0,
                        xOffset: 100
                    }),
                    h = function getChartHeight(e, t) {
                        return Math.max(e.length, t) * vt.THEME_ROW_HEIGHT
                    }(c, d);
                return themes_objectSpread({}, p, {
                    chart: themes_objectSpread({}, p.chart, {
                        backgroundColor: "transparent",
                        type: "xrange",
                        height: h,
                        marginLeft: 100,
                        showAxes: !0
                    }),
                    plotOptions: {
                        column: themes_objectSpread({}, De(t).series, {
                            minPointLength: 500
                        }),
                        xrange: {
                            allowPointSelect: !1,
                            minPointLength: 0
                        }
                    },
                    series: c.length ? [].concat(le()(u), [themes_objectSpread({}, Ee({
                        positions: l,
                        positive: !0,
                        currentMoveNumber: o,
                        limit: ot(c, d)
                    }), {}, {
                        label: {
                            enabled: !1
                        },
                        type: "column",
                        zIndex: 0
                    })]) : [],
                    yAxis: {
                        title: {
                            text: ""
                        },
                        alignTicks: !0,
                        categories: c,
                        labels: {
                            align: "right",
                            formatter: function formatter() {
                                return ut(this.value, u, o)
                            },
                            overflow: "justify",
                            reserveSpace: !0,
                            x: -10
                        },
                        minPadding: 0,
                        reversed: !0,
                        showEmpty: !1
                    }
                })
            },
            className: "highcharts-themes",
            header: {
                label: o.a.trans("Themes"),
                icon: "chess-move-alt"
            },
            onLoad: function initScrollWatcher() {
                var e = document.querySelector(".highcharts-themes");
                e && e.addEventListener("scroll", function() {
                    var t = document.querySelector(".highcharts-fixed"),
                        n = document.querySelector(".highcharts-container  > .highcharts-xaxis-labels");
                    t && (t.scrollTop = e.scrollTop), n && (n.style.transform = "translateY(".concat(e.scrollTop, "px)"))
                }, !1)
            },
            show: function show() {
                return !0
            },
            updateCallback: dt,
            updateMoveNumber: function updateMoveNumber(e) {
                var t = e.chart,
                    n = e.currentMoveNumber,
                    a = e.TEP,
                    i = void 0 === a ? {} : a,
                    o = st(lt(i.moves), i.moves);
                t.series[2].data.filter(function(e) {
                        return e.selected
                    }).forEach(function(e) {
                        return e.select(!1, !0)
                    }),
                    function isNumber(e) {
                        return "number" == typeof e
                    }(n) && n >= 0 && t.series[2].data[n] && t.series[2].data[n].select(!0, !0), t.yAxis[0].update({
                        labels: {
                            formatter: function formatter() {
                                return ut(this.value, o, n)
                            }
                        }
                    }), dt(t)
            }
        }), tt),
        wt = {
            BEST_MOVE: 3,
            CRITICALITY: 400,
            SCORE: 5,
            TIME: 200
        },
        Ot = function assignYValue(e, t) {
            return e >= t ? t : e <= -t ? -t : e
        },
        kt = function getClassificationData(e) {
            var t = e.classification,
                n = e.difference,
                a = e.scenarios,
                i = void 0 === a ? {} : a;
            return i.book && bt[t].key !== x.c.BLUNDER.key ? x.c.BOOK : i.brilliant ? x.c.BRILLIANT : 0 === t && 0 === n ? x.c.BEST_MOVE : i.missedWin || i.missedMate ? x.c.MISSED_WIN : bt[t]
        },
        St = function playerIsWhite(e) {
            return e === Me.e.WHITE
        },
        xt = function getMoveLabel(e) {
            var t = e.color,
                n = e.index,
                a = e.initialPly,
                i = void 0 === a ? 0 : a,
                o = Ce.a.getMoveNumber(t, n + i);
            return St(t) ? "".concat(o, ".") : "".concat(o, "...")
        };

    function build_retry_move_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function build_retry_move_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? build_retry_move_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : build_retry_move_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Pt = function buildRetryMove(e) {
        var t = e.data,
            n = void 0 === t ? {} : t,
            a = e.index,
            i = e.isNewMove,
            o = void 0 !== i && i,
            r = kt(n) || {},
            s = o && ie[r.key],
            l = n.previousMove || {},
            c = {
                beforeFen: n.beforeFen,
                classificationData: build_retry_move_objectSpread({}, r, {}, s),
                playedMove: n.playedMove,
                suggestedMove: n.suggestedMove,
                san: n.san,
                symbol: n.symbol
            },
            u = {
                afterFen: n.fen,
                color: n.color,
                fen: n.beforeFen,
                moveNumber: Ce.a.getMoveNumber(n.color, a),
                newMove: {},
                ply: n.ply,
                previousMove: {
                    ids: l.ids,
                    fen: l.beforeFen,
                    promotion: l.promotion,
                    moveLan: "".concat(l.from).concat(l.to),
                    san: l.san
                }
            },
            d = {
                moveLan: n.moveLan,
                pgn: n.pgn,
                scenarios: n.scenarios,
                viewedAnswer: n.viewedAnswer,
                difference: n.difference
            };
        return build_retry_move_objectSpread({}, c, {}, o ? d : u)
    };

    function build_suggested_move_arrow_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ct = function buildSuggestedMoveArrow() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (e.moveLan) return function build_suggested_move_arrow_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? build_suggested_move_arrow_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : build_suggested_move_arrow_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Se.a.convertLanToFileRanks(e.moveLan), {}, t)
        },
        Mt = n(13),
        Tt = n(23),
        Et = function catchError(e) {
            var t = e.response || {},
                n = t.data,
                a = t.status,
                i = t.statusText,
                o = L[e.message];
            if (!(o || e.response && 401 !== a)) return Promise.reject(e);
            var r = o || (n && n.message ? n.message : Mt.b.badRequest) || i;
            return Tt.default.dispatch("alerts/create", {
                type: Mt.g.error,
                message: r
            }), Promise.reject(e)
        },
        At = function canSaveSelfAnalyses(e) {
            return e.isPremium
        },
        jt = function convertFileToInteger() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "").charCodeAt(0) - 97 + 1
        },
        Lt = function convertMoveLanToFileRank() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return {
                from: {
                    file: jt(e[0]),
                    rank: Number(e[1])
                },
                to: {
                    file: jt(e[2]),
                    rank: Number(e[3])
                }
            }
        },
        Dt = function getAnalyzedMoveKey(e) {
            var t = e.previous || {},
                n = t.line,
                a = t.move;
            return e.fen ? "".concat(e.fen, "-").concat(n).concat(a) : null
        },
        Nt = n(428);

    function create_single_move_node_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var It = function createSingleMoveNode(e) {
            var t = e.classification,
                n = e.nodeData,
                a = e.prevNode,
                i = function create_single_move_node_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? create_single_move_node_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : create_single_move_node_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, Object(Nt.a)(n), {
                    classification: t
                });
            return a && a.moveNumber === i.moveNumber - 1 || (i.isFirstNodeOnLine = !0), i
        },
        $t = n(659),
        Bt = n(11),
        Rt = n(101);
    var Ft = new class service_Eco {
        constructor() {
            this.bookLoaded = !1, this.ecoBook = [], this.ecoBookLen = 0, this.isLoadingStartingPositions = !1, this.pathToEcoJSON = window.Config.pathToEcoJson, this.startingPositions = [], this.startingPositionsLoaded = !1
        }
        setStartingPositions(e) {
            this.startingPositions = [{
                name: o.a.trans("Choose..."),
                id: "",
                disabled: !0
            }].concat(e)
        }
        setBookLoaded(e) {
            this.bookLoaded = e
        }
        setEcoBook(e) {
            this.ecoBook = e, this.ecoBookLen = e.length
        }
        setIsLoadingStartingPositions(e) {
            this.isLoadingStartingPositions = e
        }
        loadStartingPositions() {
            0 === this.startingPositions.length && this.findStartingPositions()
        }
        findStartingPositions() {
            var e = this;
            return this.startingPositionsPromise || (this.startingPositionsPromise = new Promise(function(t, n) {
                e.startingPositionsLoaded ? t(e.startingPositions) : e.isLoadingStartingPositions || (e.setIsLoadingStartingPositions(!0), Bt.default.get(ue.a.generate("web_eco_callback_search_by_starting_position")).then(function(n) {
                    n.data && (e.setStartingPositions(n.data), e.setIsLoadingStartingPositions(!1), t(e.startingPositions))
                }).catch(function(t) {
                    n(t), e.setIsLoadingStartingPositions(!1)
                }).catch(Rt.a))
            })), this.startingPositionsPromise
        }
        loadEcoBook() {
            var e = this;
            return this.setBookLoaded(!1), Bt.default.get(this.pathToEcoJSON).then(function(t) {
                e.setBookLoaded(!0), e.setEcoBook(t.data)
            }).catch(Rt.a)
        }
    };

    function helper_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var zt = new class helper_EcoHelper {
            matchByFen(e, t) {
                var n, a = e.split(" ").slice(0, 3).join(" "),
                    i = null;
                for (n = 0; n < Ft.ecoBookLen; n += 1)
                    if (Ft.ecoBook[n].f === a) {
                        i = Object.assign({}, Ft.ecoBook[n]);
                        break
                    }
                return i && ("Undefined" === i.n ? (i.u = null, i.n = o.a.trans("Starting Position"), i.c = null, i.i = 0, i.m = null) : t && (i.i = t)), i
            }
            findByFen(e, t) {
                t(this.matchByFen(e))
            }
            findByMoveNodes(e, t) {
                var n = this;
                return new Promise(function resolver(a) {
                    if (Ft.bookLoaded) {
                        var i = null;
                        e.some(function(e, a) {
                            if ("number" == typeof t && a > t) return !0;
                            var o = n.matchByFen(e, a);
                            return o && (i = o), !1
                        }), a(i)
                    } else setTimeout(function() {
                        resolver(a)
                    }, 100)
                })
            }
            generateOpeningUrl(e) {
                var t = null,
                    n = {
                        moveList: ""
                    };
                if (e.explorerEcoLink && e.explorerEcoLink.boardFlipped && (n.boardFlipped = 1), e.explorerEcoLink && e.explorerEcoLink.noEngine && (n.ne = 1), e.linkToExplorer) {
                    if (t = ue.a.generate("explorer_index"), e.ecoOpening.u) {
                        var a = e.currentNodeIndex + 1;
                        return n.moveList = Ce.a.getSanMoves(Tt.default.state.game, a).join("+"), a && (n.ply = a, n.moveList && 0 !== n.moveList.length && (n.ply += n.moveList.split(" ").length)), t = ue.a.generate("explorer_index", n), decodeURIComponent(t)
                    }
                } else t = ue.a.generate("web_openings_view"), e.ecoOpening.u && (t = ue.a.generate("web_openings_view", {
                    cleanUrl: e.ecoOpening.u
                }));
                return null !== t && t
            }
            lookUpOpening(e) {
                var t = this;
                return new Promise(function(n) {
                    ! function fetchOpening() {
                        if ("chess" === e.variant) {
                            if (!Ft.bookLoaded) return void setTimeout(fetchOpening, 50);
                            var a, i;
                            e.fens ? a = e.fens : (a = Ce.a.getFens(Tt.default.state.game).slice(), i = Tt.default.state.game.tree.selected && 0 === Tt.default.state.game.tree.selected.line ? Tt.default.state.game.tree.selected.move : Tt.default.getters["game/gameNodes"].length - 1), 1 === a.length && a[0] === e.defaultStartingFen ? n({
                                url: null,
                                name: o.a.trans("Starting Position"),
                                code: null
                            }) : t.findByMoveNodes(a, i + 1).then(function(a) {
                                if (a) {
                                    var r = t.generateOpeningUrl(function helper_objectSpread(e) {
                                        for (var t = 1; t < arguments.length; t++) {
                                            var n = null != arguments[t] ? arguments[t] : {};
                                            t % 2 ? helper_ownKeys(n, !0).forEach(function(t) {
                                                S()(e, t, n[t])
                                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : helper_ownKeys(n).forEach(function(t) {
                                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                            })
                                        }
                                        return e
                                    }({}, e, {
                                        ecoOpening: a,
                                        currentNodeIndex: i
                                    }));
                                    n({
                                        url: r,
                                        name: a.n,
                                        code: a.c
                                    })
                                } else n({
                                    url: ue.a.generate("web_openings_view"),
                                    name: o.a.trans("Custom Position"),
                                    code: null
                                })
                            })
                        } else "chess960" === e.variant ? n({
                            url: "https://support.chess.com/customer/portal/articles/1444895-what-is-chess960",
                            name: "Chess960",
                            code: null
                        }) : n({
                            code: null,
                            name: $t.a.getTranslatedGameType(e.variant)
                        })
                    }()
                })
            }
        },
        Ut = n(21),
        Gt = function formatPercentage(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                n = (100 * e).toFixed(t);
            return isNaN(n) || !isFinite(n) ? null : "".concat(n, "%")
        },
        Ht = n(42),
        Vt = n.n(Ht),
        Wt = function formatPvMoveLine(e) {
            var t = e.fen,
                n = e.pv,
                a = void 0 === n ? [] : n,
                i = e.pvSan,
                o = void 0 === i ? [] : i;
            if ("string" == typeof a[0]) {
                var r = Ut.default.createGame({
                    fen: t,
                    moves: a.join(" ")
                });
                if (r) return {
                    pv: a,
                    pvSan: r.history()
                }
            }
            return "object" === Vt()(a[0]) ? a.reduce(function(e, t) {
                return {
                    pv: [].concat(le()(e.pv), [t.moveLan]),
                    pvSan: [].concat(le()(e.pvSan), [t.moveSan])
                }
            }, {
                pv: [],
                pvSan: []
            }) : {
                pv: a,
                pvSan: o
            }
        };

    function get_analyzed_moves_from_positions_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Kt = function getAnalyzedMovesFromPositions(e, t) {
            return e.reduce(function(e, n, a) {
                var i = t[a] || {},
                    o = "".concat(i.from).concat(i.to) === n.playedMove.moveLan;
                return i.fen && o ? function get_analyzed_moves_from_positions_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? get_analyzed_moves_from_positions_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : get_analyzed_moves_from_positions_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e, S()({}, Dt(i), n)) : e
            }, {})
        },
        qt = function getBestMovePercentage(e) {
            var t = e.colorBestMoves,
                n = e.colorTotalMoves;
            return !t && 0 !== t || !n ? null : Gt(t / n)
        };

    function get_classification_tallies_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function get_classification_tallies_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? get_classification_tallies_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : get_classification_tallies_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Yt = function getGamePhaseTally(e) {
            var t = e.classification,
                n = e.phase,
                a = void 0 === n ? 0 : n,
                i = e.tally;
            return (void 0 === i ? {} : i)["".concat(t, "GP").concat(a)]
        },
        Xt = function getGamePhaseTotalMoves(e) {
            var t = e.gamePhases,
                n = void 0 === t ? [] : t,
                a = e.phase,
                i = e.totalPositions,
                r = n[a - 1] || 0,
                s = n[a] || i;
            if (r && s) return "".concat(o.a.trans("Total Moves"), ": ").concat(s - r)
        };

    function get_game_themes_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Qt = function getThemeWeight(e) {
            var t = e.blackThemes,
                n = e.theme,
                a = e.userColor,
                i = e.themes,
                o = e.whiteThemes;
            return a ? i[a][n] : (t[n] || 0) > (o[n] || 0) ? t[n] : o[n]
        },
        Zt = function getGameThemes() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 ? arguments[1] : void 0,
                n = e.black,
                a = e.white,
                i = t ? e[t] : function get_game_themes_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? get_game_themes_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : get_game_themes_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, n, {}, a);
            return Object.keys(i || {}).filter(function(e) {
                return we[e]
            }).map(function(i) {
                return {
                    name: we[i].label,
                    origName: i,
                    weight: Qt({
                        blackThemes: n,
                        theme: i,
                        userColor: t,
                        themes: e,
                        whiteThemes: a
                    })
                }
            }).sort(function(e, t) {
                return t.weight - e.weight
            })
        },
        Jt = function getInitialPly(e, t) {
            return 2 * (e - 1) + ((t === Me.e.BLACK ? Me.d.BLACK : Me.d.WHITE) - 1)
        },
        en = function getPieceMoveString(e) {
            var t = e.colorPieceMoves,
                n = void 0 === t ? {} : t,
                a = e.key,
                i = e.colorTotalMoves;
            if (n[a] >= 0 && i) return "".concat(n[a], " (").concat(Gt(n[a] / i, 0), ")")
        };

    function get_retry_moves_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function get_retry_moves_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? get_retry_moves_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : get_retry_moves_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }

    function filterRetryCandidates(e, t) {
        var n = e.filter(function(e) {
            return e.classificationData.key !== x.c.INACCURACY.key
        });
        if (n.length >= t) return n;
        var a = e.filter(function(e) {
            return e.classificationData.key === x.c.INACCURACY.key
        });
        return n.concat(a).slice(0, t).sort(function(e, t) {
            return parseFloat(e.ply) - parseFloat(t.ply)
        })
    }
    var tn = function getSavedAnalysisShareUrl(e) {
            var t = window.location;
            return e ? "".concat(t.protocol, "//").concat(t.hostname, "/a/").concat(e) : null
        },
        nn = n(229);
    var an = n(301),
        on = (n(440), n(212)),
        rn = n(427),
        sn = function cleanDiagramString(e, t) {
            var n = t ? e.trim().split(" ")[0].trim() : e.split("\n")[1];
            return n ? n.trim() : ""
        },
        ln = function generateImage(e) {
            return '<div style="text-align: center;"><img id="chess_com_diagram_0_'.concat(e, '" class="chessDiagramEditorImg mceItemNonEditable" src="/bundles/web/images/diagram-placeholder.png" name="mce_chessDiagramEditorImg" /></div><br>')
        },
        cn = function generateTextSetup(e) {
            return "&-diagramtype:\n    ".concat(e.diagramType, "\n    &-colorscheme:\n    ").concat(e.boardStyle, "\n    &-piecestyle:\n    ").concat(e.pieceStyle, "\n    &-float:\n    left\n    &-flip:\n    ").concat(e.isBoardFlipped, "\n    &-prompt:\n    false\n    &-coords:\n    ").concat(e.coords, "\n    &-size:\n    45\n    &-lastmove:\n\n    &-focusnode:\n    ").concat(e.focusNode, "\n    &-beginnode:\n    ").concat(e.beginNode, "\n    &-endnode:\n    ").concat(e.endNode, "\n    &-hideglobalbuttons:\n    false\n    &-pgnbody:\n    ").concat(e.pgn).replace(/^[^\S\r\n]+/gm, "")
        },
        un = function getDiagramPieceStyle(e) {
            return x.l.pieces.includes(e) ? on.a.getDefaultOptions().pieceStyle : e
        },
        dn = function getDiagramType(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return e ? t ? nn.g.CHESS_PROBLEM : nn.g.CHESS_GAME : nn.g.SIMPLE_DIAGRAM
        },
        pn = function hasCoords(e) {
            return "outside" === e || "inside" === e ? "inside" : null
        };
    var hn = function getTextSetupData(e) {
            var t = e.boardOptions,
                n = e.hasMoves,
                a = e.isPuzzle,
                i = e.nodeLimit,
                o = e.pgn,
                r = function getLimitMove(e) {
                    return Object(Te.c)(e) ? e.ids.move + 1 : ""
                };
            return {
                beginNode: r(i.begin),
                boardStyle: t.boardStyle,
                coords: Boolean(t.coordinates),
                diagramType: dn(n, a),
                endNode: r(i.end),
                focusNode: r(i.focus),
                isBoardFlipped: t.flipBoard,
                pgn: o.replace(/\\/g, ""),
                pieceStyle: un(t.pieceStyle)
            }
        },
        mn = function getTitleField(e) {
            return {
                elementType: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "header",
                label: e,
                data: {
                    BLACK: o.a.trans("Black"),
                    WHITE: o.a.trans("White")
                }
            }
        };

    function get_theme_links_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var fn = null,
        gn = function getThemeLinks() {
            return fn || (fn = Object.keys(we).reduce(function(e, t) {
                return function get_theme_links_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? get_theme_links_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : get_theme_links_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e, S()({}, t, {
                    lesson: we[t].lesson ? ue.a.generate("web_lesson_view", {
                        url: we[t].lesson.url,
                        course: we[t].lesson.course
                    }) : null,
                    puzzles: we[t].puzzles ? ue.a.generate("web_tactic_index", {
                        themes: we[t].puzzles.join(",")
                    }) : null
                }))
            }, {})), fn
        },
        bn = function isRetryCompleted(e) {
            var t = e.newMove,
                n = ((void 0 === t ? {} : t).classificationData || {}).key;
            return Boolean(n)
        };

    function merge_analysis_data_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var vn = function mergeAnalysisData() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return function merge_analysis_data_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? merge_analysis_data_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : merge_analysis_data_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, e, {}, t, {
                positions: arguments.length > 2 && void 0 !== arguments[2] && arguments[2] ? t.positions : [].concat(le()(e.positions || []), le()(t.positions || []))
            })
        },
        yn = function promisedDelay(e) {
            return new Promise(function(t) {
                return setTimeout(t, e)
            })
        },
        _n = function roundObjectProp(e) {
            var t = e.defaultVal,
                n = e.digits,
                a = void 0 === n ? 2 : n,
                i = e.divisor,
                o = void 0 === i ? 1 : i,
                r = e.key,
                s = e.method,
                l = void 0 === s ? Math.round : s,
                c = e.object,
                u = void 0 === c ? {} : c;
            return isNaN(u[r]) ? t : function roundToDecimal(e) {
                var t = e.decimals,
                    n = void 0 === t ? 1 : t,
                    a = e.method,
                    i = void 0 === a ? Math.round : a,
                    o = e.number,
                    r = Math.pow(10, n);
                return i(o * r) / r
            }({
                decimals: a,
                method: l,
                number: u[r] / o
            }).toFixed(a)
        },
        wn = n(56),
        On = {},
        kn = function showModal(e) {
            var t = e.component,
                n = e.mount,
                a = On[n];
            a || (a = Object(wn.a)(S()({}, n, {
                component: t,
                el: "#".concat(n),
                store: Tt.default
            })).createInstance(n), On[n] = a);
            a.$children[0].show()
        },
        Sn = n(25),
        xn = n(48),
        Pn = n(214),
        Cn = n(134);

    function analysis_boardvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function analysis_boardvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? analysis_boardvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_boardvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Mn = {
            name: "analysis-board",
            components: {
                ChessBoard: window.chesscom.chessBoard
            },
            computed: analysis_boardvue_type_script_lang_js_objectSpread({}, Object(Sn.mapState)({
                boardSettings: function boardSettings(e) {
                    return e.board
                },
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                game: function game(e) {
                    return e.game
                }
            }), {
                analysisBoardOptions: function analysisBoardOptions() {
                    return analysis_boardvue_type_script_lang_js_objectSpread({}, this.boardSettings.boardOptions, {
                        allowMarkings: !0,
                        captureKeyStrokes: !1,
                        overlayInAnalysisMode: !1
                    })
                }
            }),
            created: function created() {
                this.boardElement = document.getElementById("board-layout-main"), this.throttledResize = Object(Pn.a)(this.onResize, 500), window.addEventListener("resize", this.throttledResize)
            },
            beforeDestroy: function beforeDestroy() {
                window.removeEventListener("resize", this.throttledResize)
            },
            methods: analysis_boardvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                clearArrow: "game/clearArrow",
                clearBlinkingSquare: "game/clearBlinkingSquare",
                clearMarkings: "game/clearMarkings",
                clearSquare: "game/clearSquare",
                goToNode: "game/goToNode",
                makeMove: "analysis/makeMove",
                markArrow: "game/markArrow",
                markSquare: "game/markSquare",
                moveBackward: "game/moveBackward",
                moveForward: "game/moveForward",
                moveToEnd: "game/moveToEnd",
                moveToStart: "game/moveToStart",
                updateOption: "board/updateOption"
            }), {}, Object(Sn.mapMutations)({
                setConstrainedLayout: "analysis/setConstrainedLayout"
            }), {
                onResize: function onResize() {
                    var e;
                    if (window.innerWidth <= Cn.d.MOBILE_WIDTH) e = !1;
                    else {
                        var t = xn.d.getElementContentDimensions(this.boardElement);
                        e = function getLayoutConstraints(e) {
                            var t = e.height,
                                n = e.width;
                            return {
                                constraint: n > t ? t : n,
                                shouldBeConstrained: t < T.CONSTRAINED_HEIGHT_THRESHOLD
                            }
                        }({
                            height: t.height,
                            width: t.width
                        }).shouldBeConstrained
                    }
                    e !== this.constrainedLayout && this.setConstrainedLayout(e)
                }
            })
        },
        Tn = n(5),
        En = Object(Tn.a)(Mn, function() {
            var e = this,
                t = e.$createElement;
            return (e._self._c || t)("chess-board", {
                ref: "board",
                attrs: {
                    game: e.game,
                    options: e.analysisBoardOptions
                },
                on: {
                    "chessboard-clearArrow": e.clearArrow,
                    "chessboard-clearBlinkingSquare": e.clearBlinkingSquare,
                    "chessboard-clearMarkings": e.clearMarkings,
                    "chessboard-clearSquare": e.clearSquare,
                    "chessboard-makeMove": e.makeMove,
                    "chessboard-markArrow": e.markArrow,
                    "chessboard-markSquare": e.markSquare,
                    "chessboard-moveBackward": e.moveBackward,
                    "chessboard-moveForward": e.moveForward,
                    "chessboard-moveToEnd": e.moveToEnd,
                    "chessboard-moveToStart": e.moveToStart
                }
            })
        }, [], !1, null, null, null).exports,
        An = n(574),
        jn = n(670),
        Ln = {
            name: "board-tab-container",
            props: {
                isDarkMode: {
                    type: Boolean,
                    default: !1
                }
            }
        },
        Dn = n(952);
    var Nn = Object(Tn.a)(Ln, function() {
            var e, t = this.$createElement;
            return (this._self._c || t)("div", {
                class: [this.$style.component, (e = {}, e[this.$style.darkMode] = this.isDarkMode, e)]
            }, [this._t("default")], 2)
        }, [], !1, function injectStyles(e) {
            this.$style = Dn.default.locals || Dn.default
        }, null, null).exports,
        In = n(18),
        $n = {
            name: "board-tab-item",
            components: {
                IconFont: In.a
            },
            props: {
                icon: {
                    type: String,
                    required: !0
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                showBadge: {
                    type: Boolean,
                    default: !1
                },
                isActive: {
                    type: Boolean,
                    default: !1
                },
                label: {
                    type: String,
                    required: !0
                }
            }
        },
        Bn = n(953);
    var Rn, Fn = Object(Tn.a)($n, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("div", t._g({
                class: [t.$style.component, (e = {}, e[t.$style.active] = t.isActive, e[t.$style.darkMode] = t.isDarkMode, e)]
            }, t.$listeners), [a("icon-font", {
                class: t.$style.icon,
                attrs: {
                    theme: "primary",
                    "is-dark-mode": t.isDarkMode,
                    name: t.icon
                }
            }), t._v(" "), a("span", {
                class: t.$style.label
            }, [t._v(t._s(t.label))]), t._v(" "), t.showBadge ? t._t("badge", [a("span", {
                class: t.$style.badge
            }, [t._v("*")])]) : t._e()], 2)
        }, [], !1, function board_tab_item_injectStyles(e) {
            this.$style = Bn.default.locals || Bn.default
        }, null, null).exports,
        zn = n(39),
        Un = n(63),
        Gn = n(35),
        Hn = {
            ACCURACY: o.a.trans("Accuracy"),
            BLACK: o.a.trans("Black"),
            BEST_MOVE: o.a.trans("Best Move %"),
            DIFF: o.a.trans("Avg Diff"),
            ENDGAME: o.a.trans("Endgame"),
            MIDDLEGAME: o.a.trans("Middlegame"),
            MOVES: o.a.trans("Moves"),
            PERFORMANCE: o.a.trans("Performance"),
            PERFORMANCE_BY_PIECE: o.a.trans("Performance by Piece"),
            PREDICTION: o.a.trans("Pre-Game Win Prediction"),
            SUMMARY: o.a.trans("Game Summary"),
            TIME: o.a.trans("Time"),
            TOTAL: o.a.trans("Total Moves"),
            TURNING_POINTS: o.a.trans("Turning Points"),
            WHITE: o.a.trans("White")
        },
        Vn = {
            PAWN: {
                icon: "pawn-black",
                key: "P"
            },
            KNIGHT: {
                icon: "knight-black",
                key: "N"
            },
            BISHOP: {
                icon: "bishop-black",
                key: "B"
            },
            ROOK: {
                icon: "rook-black",
                key: "R"
            },
            QUEEN: {
                icon: "queen-black",
                key: "Q"
            },
            KING: {
                icon: "king-black",
                key: "K"
            }
        },
        Wn = {
            ANALYSIS: "analysis",
            DETAILS: "details",
            OPENINGS: "openings",
            REPORT: "report",
            RETRY: "retry",
            SHARE: "share"
        },
        Kn = (Rn = {}, S()(Rn, Wn.REPORT, {
            header: {
                icon: "comp-analysis",
                label: o.a.trans("report.analysis_tab")
            },
            show: function show(e) {
                return e
            }
        }), S()(Rn, Wn.ANALYSIS, {
            header: {
                icon: "chess-board-search",
                label: o.a.trans("Analysis")
            },
            show: function show() {
                return !0
            }
        }), S()(Rn, Wn.RETRY, {
            getBadgeCount: function getBadgeCount(e) {
                var t = e.retryMoveCount;
                return !e.retryHasBeenViewed && t
            },
            header: {
                icon: "undo",
                label: o.a.trans("Retry")
            },
            show: function show(e) {
                return e
            }
        }), S()(Rn, Wn.DETAILS, {
            header: {
                icon: "circle-info",
                label: o.a.trans("Details")
            },
            show: function show() {
                return !0
            }
        }), S()(Rn, Wn.OPENINGS, {
            header: {
                icon: "book-alt",
                label: o.a.trans("Openings")
            },
            show: function show() {
                return !0
            }
        }), Rn),
        qn = n(33),
        Yn = {
            name: "board-main-control-button",
            components: {
                FormButton: qn.a,
                IconFont: In.a
            },
            directives: {
                tooltip: Gn.a
            },
            props: {
                icon: {
                    type: String,
                    required: !0
                },
                isDarkMode: Boolean,
                theme: {
                    type: String,
                    default: "basic"
                },
                title: {
                    type: String,
                    required: !0
                }
            }
        },
        Xn = n(954);
    var Qn = Object(Tn.a)(Yn, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("form-button", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: n.title,
                    expression: "title"
                }],
                class: [n.$style.button, (e = {}, e[n.$style.darkMode] = n.isDarkMode, e[n.$style.primaryDark] = "primary" === n.theme && n.isDarkMode, e)],
                attrs: {
                    "is-dark-mode": n.isDarkMode,
                    theme: n.theme,
                    title: n.title
                }
            }, [i("icon-font", {
                class: [n.$style.icon, n.$style[n.theme], (t = {}, t[n.$style.primaryDarkIcon] = "primary" === n.theme && n.isDarkMode, t)],
                attrs: {
                    family: "chess",
                    name: n.icon
                }
            }), n._v(" "), n._t("default")], 2)
        }, [], !1, function board_main_control_button_injectStyles(e) {
            this.$style = Xn.default.locals || Xn.default
        }, null, null).exports,
        Zn = n(167),
        Jn = window.innerWidth < 960,
        ea = document.querySelector(".base-container"),
        ta = document.querySelector(".board-sidebar") || document.querySelector(".board-layout-sidebar"),
        na = {
            data: function data() {
                return {
                    throttledScrollHandler: Object(Pn.a)(this.onScroll, 500)
                }
            },
            mounted: function mounted() {
                Jn && (this.onScroll(), (ea || window).addEventListener("scroll", this.onScroll))
            },
            destroyed: function destroyed() {
                Jn && (ea || window).removeEventListener("scroll", this.onScroll)
            },
            methods: {
                onScroll: function onScroll() {
                    var e = ea ? ea.scrollTop : document.documentElement.scrollTop;
                    window.innerHeight + e > ta.offsetTop + ta.getBoundingClientRect().height ? this.$el.classList.remove(this.$style.float) : this.$el.classList.add(this.$style.float)
                }
            }
        };

    function main_controlsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function main_controlsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? main_controlsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : main_controlsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var aa = {
            name: "main-controls",
            components: {
                BoardMainControlButton: Qn
            },
            mixins: [Zn.a, na],
            data: function data() {
                return {
                    defaultMoveDelay: 1e3,
                    nextMoveTimeout: null,
                    playing: !1
                }
            },
            computed: main_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameHasMoves: "analysis/gameHasMoves",
                gameNodes: "game/gameNodes",
                selectedNode: "game/selectedNode"
            }), {}, Object(Sn.mapState)({
                activeSidebarTab: function activeSidebarTab(e) {
                    return e.analysis.activeSidebarTab
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                game: function game(e) {
                    return e.game
                }
            }), {
                canMoveForward: function canMoveForward() {
                    var e = (this.selectedNode || {}).ids || {},
                        t = e.line,
                        n = e.move;
                    return Se.a.canMoveForward(this.game, 1) && (n < this.gameNodes.length - 1 || 0 !== t)
                },
                playPauseTheme: function playPauseTheme() {
                    var e = (this.selectedNode || {}).ids || {},
                        t = e.line,
                        n = e.move;
                    return (!this.selectedNode || 0 === t && n <= 0 && !this.playing) && this.canMoveForward ? "primary" : "basic"
                },
                playPauseIcon: function playPauseIcon() {
                    return this.playing ? "pause" : "play"
                }
            }),
            mounted: function mounted() {
                document.addEventListener("keydown", this.onKeydown)
            },
            destroyed: function destroyed() {
                document.removeEventListener("keydown", this.onKeydown)
            },
            methods: main_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                moveBackward: "game/moveBackward",
                moveForward: "game/moveForward",
                selectLineEnd: "game/selectLineEnd",
                selectLineStart: "game/selectLineStart",
                updateSidebarTab: "analysis/updateActiveSidebarTab"
            }), {
                onKeydown: function onKeydown(e) {
                    var t = {
                        37: this.moveBackward,
                        38: this.selectLineStart,
                        39: this.moveForwardIfAllowed,
                        40: this.selectLineEnd
                    }[e.keyCode];
                    t && (e.preventDefault(), this.handleAction(t))
                },
                handleAction: function handleAction(e) {
                    var t = this;
                    this.playing && e !== this.playPause && this.playPause();
                    var n = function action() {
                        return Promise.resolve()
                    };
                    this.activeSidebarTab === Wn.REPORT && (n = function action() {
                        return t.updateSidebarTab(Wn.ANALYSIS)
                    }), n().then(function() {
                        return e()
                    })
                },
                moveForwardIfAllowed: function moveForwardIfAllowed() {
                    this.canMoveForward && this.handleAction(this.moveForward)
                },
                playPause: function playPause() {
                    this.playing = !this.playing, this.playing ? this.playNextMove() : clearTimeout(this.nextMoveTimeout)
                },
                playNextMove: function playNextMove() {
                    clearTimeout(this.nextMoveTimeout), Se.a.canMoveForward(this.game, 1) ? (this.moveForward(), this.nextMoveTimeout = setTimeout(this.playNextMove.bind(this), this.defaultMoveDelay)) : this.playPause()
                }
            })
        },
        ia = n(955);
    var oa = Object(Tn.a)(aa, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("board-main-control-button", {
                attrs: {
                    icon: "chevron-previous",
                    "is-dark-mode": e.isDarkMode,
                    title: e.$trans("First Move")
                },
                nativeOn: {
                    click: function(t) {
                        return e.handleAction(e.selectLineStart)
                    }
                }
            }), e._v(" "), n("board-main-control-button", {
                attrs: {
                    icon: "chevron-left",
                    "is-dark-mode": e.isDarkMode,
                    title: e.$trans("Previous Move")
                },
                nativeOn: {
                    click: function(t) {
                        return e.handleAction(e.moveBackward)
                    }
                }
            }), e._v(" "), n("board-main-control-button", {
                attrs: {
                    icon: e.playPauseIcon,
                    "is-dark-mode": e.isDarkMode,
                    title: e.$trans("Play / Pause"),
                    theme: e.playPauseTheme
                },
                nativeOn: {
                    click: function(t) {
                        return e.handleAction(e.playPause)
                    }
                }
            }), e._v(" "), n("board-main-control-button", {
                attrs: {
                    icon: "chevron-right",
                    "is-dark-mode": e.isDarkMode,
                    title: e.$trans("Next Move")
                },
                nativeOn: {
                    click: function(t) {
                        return e.handleAction(e.moveForwardIfAllowed)
                    }
                }
            }), e._v(" "), n("board-main-control-button", {
                attrs: {
                    icon: "chevron-next",
                    "is-dark-mode": e.isDarkMode,
                    title: e.$trans("Last Move")
                },
                nativeOn: {
                    click: function(t) {
                        return e.handleAction(e.selectLineEnd)
                    }
                }
            })], 1)
        }, [], !1, function main_controls_injectStyles(e) {
            this.$style = ia.default.locals || ia.default
        }, null, null).exports,
        ra = {
            PGN: {
                key: "pgn",
                isVisible: function isVisible() {
                    return !0
                },
                label: "PGN"
            },
            IMAGE: {
                key: "image",
                isVisible: function isVisible() {
                    return !0
                },
                label: "Image"
            },
            GIF: {
                key: "gif",
                isVisible: function isVisible(e) {
                    return e.showGif
                },
                label: "Animated Gif"
            },
            EMBED: {
                key: "embed",
                isVisible: function isVisible() {
                    return !0
                },
                label: "Embed"
            },
            EVENT: {
                key: "event",
                isVisible: function isVisible() {
                    return !0
                },
                label: "Event"
            }
        },
        sa = [ra.PGN.key, ra.IMAGE.key, ra.GIF.key, ra.EMBED.key],
        la = n(100),
        ca = n(1116),
        ua = n.n(ca).a;

    function service_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function service_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? service_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : service_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var da, pa = window.Config,
        ha = function initQuickAnalysis() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : s.FULL;
            return new ua({
                depth: e,
                pathToBook: pa.pathToBook,
                enginePath: pa.pathToEngineWorker,
                pathToWasmEngine: pa.pathToWasmEngine,
                pathToNonWasmEngine: pa.pathToNonWasmEngine
            })
        },
        ma = s.FULL,
        fa = null;
    var ga = function cancelAnalysis() {
        da && (da(), da = null)
    };

    function analyzeGameQuick(e) {
        var t = e.depth,
            n = void 0 === t ? s.FULL : t,
            a = e.options,
            i = void 0 === a ? {} : a,
            o = e.onStream,
            r = e.onDone,
            l = void 0 === r ? function() {
                return {}
            } : r;
        ga(), da = function getQuickAnalysis() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ma;
            return fa && ma === e || (fa = ha(ma = e)), fa
        }(n)(i, o, l)
    }
    var ba = n(59),
        va = n(46),
        ya = n(44),
        _a = {
            name: "share-link",
            components: {
                FormInput: Un.a,
                IconFont: In.a
            },
            props: {
                shareUrl: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    showCopiedMessage: !1
                }
            },
            methods: {
                copyLink: function copyLink() {
                    var e = this;
                    Object(xn.b)(this.shareUrl), this.showCopiedMessage = !0, setTimeout(function() {
                        e.showCopiedMessage = !1
                    }, 1500)
                }
            }
        },
        wa = n(956);
    var Oa = Object(Tn.a)(_a, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    theme: "primary",
                    name: "link"
                }
            }), e._v(" "), n("form-input", {
                ref: "link",
                class: e.$style.input,
                attrs: {
                    disabled: !0,
                    value: e.shareUrl
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            }), e._v(" "), n("div", {
                class: e.$style.action,
                on: {
                    click: e.copyLink
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    theme: "primary",
                    name: "copy"
                }
            })], 1), e._v(" "), n("transition", {
                attrs: {
                    name: e.$style.message
                }
            }, [e.showCopiedMessage ? n("div", {
                class: e.$style.message,
                domProps: {
                    textContent: e._s(e.$trans("Copied to Clipboard!"))
                }
            }) : e._e()])], 1)
        }, [], !1, function alt_share_menu_share_link_injectStyles(e) {
            this.$style = wa.default.locals || wa.default
        }, null, null).exports,
        ka = {
            name: "header-controls",
            components: {
                IconFont: In.a
            },
            props: {
                tabShowing: {
                    type: String,
                    required: !0
                }
            },
            methods: {
                closeModal: function closeModal() {
                    this.$emit("close-modal")
                },
                tabClicked: function tabClicked(e) {
                    this.$emit("tabClicked", e)
                }
            }
        },
        Sa = n(957);
    var xa = Object(Tn.a)(ka, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("div", {
                class: n.$style.component
            }, [i("div", {
                class: [n.$style.tab, (e = {}, e[n.$style.active] = "download" === n.tabShowing, e)],
                on: {
                    click: function(e) {
                        return n.tabClicked("download")
                    }
                }
            }, [i("icon-font", {
                class: n.$style.icon,
                attrs: {
                    theme: "primary",
                    name: "download"
                }
            })], 1), n._v(" "), i("div", {
                class: [n.$style.tab, (t = {}, t[n.$style.active] = "share" === n.tabShowing, t)],
                on: {
                    click: function(e) {
                        return n.tabClicked("share")
                    }
                }
            }, [i("icon-font", {
                class: n.$style.icon,
                attrs: {
                    theme: "primary",
                    name: "share"
                }
            })], 1), n._v(" "), i("icon-font", {
                class: n.$style.close,
                attrs: {
                    theme: "primary",
                    name: "x"
                },
                on: {
                    click: n.closeModal
                }
            })], 1)
        }, [], !1, function header_controls_injectStyles(e) {
            this.$style = Sa.default.locals || Sa.default
        }, null, null).exports,
        Pa = n(461),
        Ca = n(567),
        Ma = n(257),
        Ta = {
            name: "pgn-download",
            components: {
                FormButton: qn.a,
                FormTextarea: Ma.a,
                IconFont: In.a
            },
            props: {
                pgn: {
                    type: String,
                    default: null
                },
                pgnHeaders: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                hasTimestamps: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    labels: {
                        download: o.a.trans("Download")
                    },
                    includeTimestamps: !0
                }
            },
            computed: {
                filename: function filename() {
                    return Object(Ca.a)(this.pgnHeaders)
                }
            },
            methods: {
                download: function download() {
                    Object(Pa.a)(this.pgn, this.filename)
                },
                onIncludeTimestampsChange: function onIncludeTimestampsChange() {
                    this.$emit("change-include-pgn-timestamps", {
                        includeTimestamps: this.includeTimestamps
                    })
                }
            }
        },
        Ea = n(958);
    var Aa, ja = Object(Tn.a)(Ta, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.pgn
            }, [n("div", {
                class: e.$style.header
            }, [e._v("\n      PGN\n      "), e.hasTimestamps ? n("label", {
                class: e.$style.timestamps,
                attrs: {
                    title: "PGN Timestamps"
                }
            }, [n("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: e.includeTimestamps,
                    expression: "includeTimestamps"
                }],
                attrs: {
                    type: "checkbox"
                },
                domProps: {
                    checked: Array.isArray(e.includeTimestamps) ? e._i(e.includeTimestamps, null) > -1 : e.includeTimestamps
                },
                on: {
                    change: [function(t) {
                        var n = e.includeTimestamps,
                            a = t.target,
                            i = !!a.checked;
                        if (Array.isArray(n)) {
                            var o = e._i(n, null);
                            a.checked ? o < 0 && (e.includeTimestamps = n.concat([null])) : o > -1 && (e.includeTimestamps = n.slice(0, o).concat(n.slice(o + 1)))
                        } else e.includeTimestamps = i
                    }, e.onIncludeTimestampsChange]
                }
            }), e._v(" "), n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    family: "chess",
                    name: "circle-clock"
                }
            })], 1) : e._e()]), e._v(" "), n("form-textarea", {
                class: e.$style.textarea,
                attrs: {
                    readonly: !0,
                    value: e.pgn
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.download
            }, [n("form-button", {
                class: e.$style.button,
                attrs: {
                    theme: "primary",
                    size: "large"
                },
                on: {
                    click: function(t) {
                        return e.download()
                    }
                }
            }, [e._v("\n      " + e._s(e.labels.download) + "\n    ")])], 1)])
        }, [], !1, function pgn_download_injectStyles(e) {
            this.$style = Ea.default.locals || Ea.default
        }, null, null).exports,
        La = {
            name: "progress-ellipsis",
            data: function data() {
                return {
                    ellipsis: "."
                }
            },
            created: function created() {
                var e = this;
                Aa = setInterval(function() {
                    "..." === e.ellipsis ? e.ellipsis = "." : e.ellipsis = "".concat(e.ellipsis, ".")
                }, 1e3)
            },
            destroyed: function destroyed() {
                clearInterval(Aa)
            }
        },
        Da = Object(Tn.a)(La, function() {
            var e = this.$createElement;
            return (this._self._c || e)("span", [this._v(this._s(this.ellipsis))])
        }, [], !1, null, null, null).exports,
        Na = {
            name: "share-board",
            components: {
                IconFont: In.a,
                ProgressEllipsis: Da
            },
            props: {
                animatedGifUrl: {
                    type: String,
                    default: null
                },
                boardOptions: {
                    type: Object,
                    required: !0
                },
                fen: {
                    type: String,
                    required: !0
                },
                generatingGifUrl: {
                    type: Boolean,
                    default: !1
                },
                showGif: {
                    type: Boolean,
                    default: !0
                }
            },
            data: function data() {
                return {
                    labels: {
                        generatingGif: o.a.trans("Generating GIF"),
                        animatedGif: o.a.trans("Animated GIF"),
                        gifReady: o.a.trans("Ready! Download GIF"),
                        image: o.a.trans("Image"),
                        current: o.a.trans("Current")
                    }
                }
            },
            computed: {
                dynBoardUrl: function dynBoardUrl() {
                    var e = "/dynboard?fen=".concat(this.fen, "&board=").concat(this.boardOptions.boardStyle, "&piece=").concat(this.boardOptions.pieceStyle, "&size=3");
                    return this.boardOptions.flipped && (e += "&flip=true"), e
                },
                animatedGifText: function animatedGifText() {
                    return null === this.animatedGifUrl || this.generatingGifUrl ? this.generatingGifUrl ? this.labels.generatingGif : this.labels.animatedGif : this.labels.gifReady
                }
            }
        },
        Ia = n(959);
    var $a = Object(Tn.a)(Na, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.text
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    theme: "primary",
                    name: "download"
                }
            }), e._v("\n\n    " + e._s(e.labels.image) + ": \n\n    "), n("a", {
                attrs: {
                    href: e.dynBoardUrl,
                    target: "_blank"
                }
            }, [e._v(e._s(e.labels.current))]), e._v(" "), e.showGif ? n("span", [e._v(" | ")]) : e._e(), e._v(" "), e.showGif ? n("a", {
                attrs: {
                    href: e.animatedGifUrl,
                    target: "_blank"
                },
                on: {
                    click: function(t) {
                        return e.$emit("getGif", t)
                    }
                }
            }, [e._v("\n      " + e._s(e.animatedGifText) + "\n      "), e.generatingGifUrl ? n("progress-ellipsis") : e._e()], 1) : e._e()], 1), e._v(" "), n("img", {
                attrs: {
                    src: e.dynBoardUrl
                }
            })])
        }, [], !1, function share_board_injectStyles(e) {
            this.$style = Ia.default.locals || Ia.default
        }, null, null).exports,
        Ba = n(430),
        Ra = {
            name: "share-menu-content",
            components: {
                FormInput: Un.a,
                HeaderControls: xa,
                PgnDownload: ja,
                ShareBoard: $a,
                SocialShare: Ba.a
            },
            props: {
                animatedGifUrl: String,
                boardOptions: Object,
                game: Object,
                generatingGifUrl: Boolean,
                pgn: String,
                pgnHeaders: Object,
                preselectTab: String,
                shareUrl: String,
                showGif: Boolean
            },
            data: function data() {
                return {
                    currentTab: this.preselectTab || "share",
                    moveList: ya.default.state
                }
            },
            computed: {
                hasTimestamps: function hasTimestamps() {
                    var e = this.game.tree.lines || this.moveList.lines;
                    return e[0].length > 0 && !!e[0][0].time
                }
            },
            methods: {
                tabClicked: function tabClicked(e) {
                    this.currentTab = e
                },
                getFen: function getFen() {
                    var e = this.game.setup.fen; - 1 !== e.indexOf("|") && (e = e.split("|")[0]);
                    var t = e.split(" "),
                        n = t[0].split("/");
                    return n.length > 8 && (n.pop(), t[0] = n.join("/"), e = t.join(" ")), e
                }
            }
        },
        Fa = n(960);
    var za = Object(Tn.a)(Ra, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("header-controls", {
                attrs: {
                    "tab-showing": e.currentTab
                },
                on: {
                    "close-modal": function(t) {
                        return e.$emit("close-modal", t)
                    },
                    tabClicked: e.tabClicked
                }
            }), e._v(" "), "download" === e.currentTab ? n("form-input", {
                class: e.$style.section,
                attrs: {
                    disabled: !0,
                    value: e.game.setup.fen
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            }) : e._e(), e._v(" "), "download" === e.currentTab ? n("pgn-download", {
                attrs: {
                    "pgn-headers": e.pgnHeaders,
                    pgn: e.pgn,
                    "has-timestamps": e.hasTimestamps
                },
                on: {
                    "change-include-pgn-timestamps": function(t) {
                        return e.$emit("change-include-pgn-timestamps", t)
                    }
                }
            }) : e._e(), e._v(" "), "share" === e.currentTab ? n("form-input", {
                class: e.$style.section,
                attrs: {
                    disabled: !0,
                    value: e.shareUrl
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            }) : e._e(), e._v(" "), "share" === e.currentTab ? n("share-board", {
                class: e.$style.section,
                attrs: {
                    "animated-gif-url": e.animatedGifUrl,
                    "board-options": e.boardOptions,
                    fen: e.getFen(),
                    "generating-gif-url": e.generatingGifUrl,
                    "show-gif": e.showGif
                },
                on: {
                    getGif: function(t) {
                        return e.$emit("getGif", t)
                    }
                }
            }) : e._e(), e._v(" "), n("div", {
                class: e.$style.social
            }, [n("social-share", {
                attrs: {
                    background: "transparent"
                }
            })], 1)], 1)
        }, [], !1, function share_menu_content_injectStyles(e) {
            this.$style = Fa.default.locals || Fa.default
        }, null, null).exports,
        Ua = n(166),
        Ga = n(424),
        Ha = {},
        Va = {
            name: "tinymce",
            props: {
                customConfig: {
                    type: Object,
                    required: !1
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                initValue: {
                    type: String,
                    default: ""
                },
                theme: {
                    type: String
                }
            },
            watch: {
                initValue: function initValue(e) {
                    Ha.setContent("<p>".concat(e, "</p>")), this.$emit("input", e)
                }
            },
            mounted: function mounted() {
                Ha = new rn.a, this.setupEditor()
            },
            beforeDestroy: function beforeDestroy() {
                Ha.destroy()
            },
            methods: {
                getCurrentValue: function getCurrentValue() {
                    return Ha.getContent()
                },
                setupEditor: function setupEditor() {
                    var e = this,
                        t = this,
                        n = "advanced" === this.theme ? Object(Ga.a)() : Object(Ga.b)(),
                        a = Object.assign({}, n, t.customConfig, {
                            target: t.$refs.editor,
                            setup: function setup(e) {
                                e.settings.readonly = t.disabled, t.disabled || (e.on("blur", function() {
                                    t.$emit("content-updated", e.getContent())
                                }), e.on("KeyUp", function() {
                                    t.$emit("input", e.getContent())
                                }), e.on("Change", function() {
                                    t.$emit("input", e.getContent())
                                }), e.shortcuts.add("ctrl+13", "submit", function() {
                                    var e = document.getElementById("message-submit");
                                    e && e.click()
                                }))
                            }
                        });
                    Ha.init(a).then(function() {
                        e.$emit("input", Ha.getContent())
                    })
                }
            }
        },
        Wa = n(961);
    var Ka = Object(Tn.a)(Va, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return t("div", {
                class: this.$style.component
            }, [t("div", {
                ref: "editor",
                domProps: {
                    innerHTML: this._s(this.initValue)
                }
            })])
        }, [], !1, function tinymce_injectStyles(e) {
            this.$style = Wa.default.locals || Wa.default
        }, null, null).exports,
        qa = {
            name: "tab-embed",
            components: {
                FormInput: Un.a,
                FormSelect: Ua.a,
                IconFont: In.a,
                TinyMce: Ka
            },
            props: {
                diagramOptions: {
                    type: Object,
                    required: !0
                }
            },
            data: function data() {
                return {
                    editorOptions: Object.freeze({
                        height: 210,
                        resize: !1,
                        toolbar: !1
                    })
                }
            },
            computed: {
                controls: function controls() {
                    var e = this;
                    return [{
                        action: function action(t) {
                            return e.$emit("update-diagram-option", {
                                key: "currentBoardStyle",
                                val: t
                            })
                        },
                        id: "board",
                        label: this.$trans("Board"),
                        options: this.diagramOptions.boardColors,
                        value: this.diagramOptions.currentBoardStyle
                    }, {
                        action: function action(t) {
                            return e.$emit("update-diagram-option", {
                                key: "currentPieceStyle",
                                val: t
                            })
                        },
                        id: "pieces",
                        label: this.$trans("Pieces"),
                        options: this.diagramOptions.pieceStyles,
                        value: this.diagramOptions.currentPieceStyle
                    }]
                },
                diagramCode: function diagramCode() {
                    return "[gid=".concat(this.diagramOptions.diagramId, "]")
                },
                diagramEmbed: function diagramEmbed() {
                    var e = window.location.host,
                        t = "//".concat(e, "/emboard?id=").concat(this.diagramOptions.diagramId);
                    return "<iframe ".concat('allowtransparency="true" border="0" frameborder="0" height="465" width="603"', ' src="').concat(t, '"></iframe>')
                },
                toggles: function toggles() {
                    var e = this;
                    return [{
                        action: function action(t) {
                            return e.$emit("update-diagram-option", {
                                key: "coordinates",
                                val: t.target.checked
                            })
                        },
                        checked: Boolean(this.diagramOptions.coordinates),
                        key: "coordinates",
                        label: this.$trans("Coordinates")
                    }, {
                        action: function action(t) {
                            return e.$emit("update-diagram-option", {
                                key: "isPuzzle",
                                val: t.target.checked
                            })
                        },
                        checked: this.diagramOptions.isPuzzle,
                        key: "puzzle",
                        label: this.$trans("Puzzle")
                    }]
                }
            }
        },
        Ya = n(962);
    var Xa = Object(Tn.a)(qa, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.diagramOptions.diagramId ? n("section", {
                class: e.$style.section
            }, [n("label", {
                class: e.$style.heading,
                attrs: {
                    for: "embed"
                }
            }, [e._v("\n      " + e._s(e.$trans("Embed")) + "\n    ")]), e._v(" "), n("form-input", {
                attrs: {
                    disabled: !0,
                    id: "embed",
                    value: e.diagramEmbed
                }
            })], 1) : e._e(), e._v(" "), n("section", {
                class: e.$style.section,
                domProps: {
                    textContent: e._s(e.$trans("To display the diagram, copy/paste the image OR code below into a post on Chess.com."))
                }
            }), e._v(" "), n("section", {
                class: [e.$style.section, e.$style.flex]
            }, [n("div", {
                class: e.$style.half
            }, [e.diagramOptions.diagramImage ? n("div", {
                class: e.$style.editor
            }, [n("tiny-mce", {
                attrs: {
                    theme: "analysis",
                    "custom-config": e.editorOptions,
                    "init-value": e.diagramOptions.diagramImage
                }
            })], 1) : e._e()]), e._v(" "), n("div", {
                class: e.$style.half
            }, [n("div", {
                class: e.$style.code
            }, [e.diagramOptions.diagramId ? n("form-input", {
                attrs: {
                    disabled: !0,
                    value: e.diagramCode
                }
            }) : e._e()], 1), e._v(" "), e._l(e.controls, function(t) {
                return n("div", {
                    key: t.label,
                    class: e.$style.controls
                }, [n("label", {
                    class: e.$style.label,
                    attrs: {
                        for: t.id
                    }
                }, [e._v("\n          " + e._s(t.label) + "\n        ")]), e._v(" "), n("form-select", {
                    class: e.$style.input,
                    attrs: {
                        "label-key": "name",
                        "value-key": "code",
                        id: t.id,
                        options: t.options,
                        value: t.value
                    },
                    on: {
                        input: t.action
                    }
                })], 1)
            }), e._v(" "), n("div", {
                class: e.$style.toggles
            }, e._l(e.toggles, function(t) {
                return n("div", {
                    key: t.key,
                    class: e.$style.toggle
                }, [n("input", {
                    attrs: {
                        type: "checkbox",
                        id: t.key
                    },
                    domProps: {
                        checked: t.checked
                    },
                    on: {
                        change: t.action
                    }
                }), e._v(" "), n("label", {
                    attrs: {
                        for: t.key
                    },
                    domProps: {
                        textContent: e._s(t.label)
                    }
                })])
            }), 0)], 2)])])
        }, [], !1, function alt_share_menu_tab_embed_injectStyles(e) {
            this.$style = Ya.default.locals || Ya.default
        }, null, null).exports,
        Qa = {
            name: "tab-event",
            components: {
                FormButton: qn.a,
                FormInput: Un.a,
                IconFont: In.a
            },
            props: {
                eventFilename: {
                    type: String
                },
                eventUrl: {
                    type: String
                }
            },
            methods: {
                downloadEvent: function downloadEvent() {
                    var e = this;
                    this.eventUrl && function getEventPgn(e) {
                        return Bt.default.get(e)
                    }(this.eventUrl).then(function(t) {
                        e.download(t.data, e.eventFilename)
                    }).catch(function(t) {
                        e.download(t, e.eventFilename)
                    })
                },
                download: function download(e, t) {
                    Object(Pa.a)(e, t)
                }
            }
        },
        Za = n(963);
    var Ja = Object(Tn.a)(Qa, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.section
            }, [n("div", {
                class: e.$style.heading,
                domProps: {
                    textContent: e._s("URL")
                }
            }), e._v(" "), n("form-input", {
                class: e.$style.input,
                attrs: {
                    readonly: !0,
                    value: e.eventUrl
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.section
            }, [n("div", {
                class: e.$style.heading,
                domProps: {
                    textContent: e._s("Download")
                }
            }), e._v(" "), n("div", {
                class: e.$style.download
            }, [n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary"
                },
                on: {
                    click: e.downloadEvent
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    family: "chess",
                    name: "download",
                    theme: "secondary"
                }
            })], 1)], 1)])])
        }, [], !1, function alt_share_menu_tab_event_injectStyles(e) {
            this.$style = Za.default.locals || Za.default
        }, null, null).exports,
        ei = n(483),
        ti = n(91),
        ni = {
            name: "tab-gif",
            components: {
                FormButton: qn.a,
                LoaderThreeBounce: ti.a
            },
            props: {
                gifUrl: {
                    type: String,
                    default: null
                },
                isLoadingGif: {
                    type: Boolean,
                    default: !1
                }
            },
            methods: {
                download: function download() {
                    Object(ei.saveAs)(this.gifUrl, "board.gif")
                }
            }
        },
        ai = n(964);
    var ii = Object(Tn.a)(ni, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.isLoadingGif ? n("div", {
                class: e.$style.square
            }, [n("loader-three-bounce", {
                attrs: {
                    "is-circle": !0,
                    size: 50
                }
            })], 1) : n("img", {
                class: e.$style.gif,
                attrs: {
                    src: e.gifUrl
                }
            }), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary",
                    disabled: e.isLoadingGif
                },
                domProps: {
                    textContent: e._s(e.$trans("Download"))
                },
                on: {
                    click: e.download
                }
            })], 1)
        }, [], !1, function alt_share_menu_tab_gif_injectStyles(e) {
            this.$style = ai.default.locals || ai.default
        }, null, null).exports,
        oi = {
            name: "tab-image",
            components: {
                FormButton: qn.a
            },
            props: {
                boardOptions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                fen: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    boardStyle: this.boardOptions.boardStyle || x.g.boardStyle,
                    flipped: this.boardOptions.flipBoard || x.g.flipped,
                    pieceStyle: this.boardOptions.pieceStyle || x.g.pieceStyle
                }
            },
            computed: {
                dynamicBoardUrl: function dynamicBoardUrl() {
                    var e = this.flipped ? "&flip=true" : "";
                    return "/dynboard?fen=".concat(this.fen, "&board=").concat(this.boardStyle, "&piece=").concat(this.pieceStyle, "&size=3").concat(e)
                }
            }
        },
        ri = n(965);
    var si = Object(Tn.a)(oi, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("img", {
                class: e.$style.image,
                attrs: {
                    src: e.dynamicBoardUrl
                }
            }), e._v(" "), n("a", {
                attrs: {
                    target: "_blank",
                    href: e.dynamicBoardUrl,
                    download: "board.jpeg"
                }
            }, [n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary"
                },
                domProps: {
                    textContent: e._s(e.$trans("Download"))
                }
            })], 1)])
        }, [], !1, function alt_share_menu_tab_image_injectStyles(e) {
            this.$style = ri.default.locals || ri.default
        }, null, null).exports,
        li = n(32),
        ci = "data-feature-share-menu-raw-pgn",
        ui = n(1117),
        di = {},
        pi = document.getElementById(ui.targets.NAV_ROOT),
        hi = function hasFeatureAccess(e, t) {
            var n = t || pi;
            return di[e] || (di[e] = Boolean(n && n.getAttribute(e))), di[e]
        },
        mi = {
            name: "tab-pgn",
            components: {
                FormButton: qn.a,
                FormInput: Un.a,
                FormTextarea: Ma.a,
                IconFont: In.a
            },
            props: {
                analyzedPgn: {
                    type: String
                },
                fen: {
                    type: String,
                    required: !0
                },
                hasTimestamps: {
                    type: Boolean
                },
                pgn: {
                    type: String,
                    required: !0
                },
                pgnHeaders: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                showAnalyzedPgn: {
                    type: Boolean
                }
            },
            data: function data() {
                return {
                    includeTimestamps: this.pgn.includes("[%clk"),
                    shareMenuRawPGN: hi(ci)
                }
            },
            computed: {
                displayedPgn: function displayedPgn() {
                    return this.analyzedPgn && this.showAnalyzedPgn ? this.analyzedPgn : this.shareMenuRawPGN ? this.pgn : this.sanitizedPgn
                },
                filename: function filename() {
                    return Object(Ca.a)(this.pgnHeaders)
                },
                sanitizedPgn: function sanitizedPgn() {
                    return Object(li.d)(this.pgn)
                }
            },
            methods: {
                download: function download() {
                    Object(Pa.a)(this.displayedPgn, this.filename)
                },
                onIncludeTimestampsChange: function onIncludeTimestampsChange() {
                    this.$emit("change-include-pgn-timestamps", {
                        includeTimestamps: this.includeTimestamps
                    })
                },
                onShowAnalyzedPgnChange: function onShowAnalyzedPgnChange(e) {
                    this.$emit("change-show-analyzed-pgn", e.target.checked)
                }
            }
        },
        fi = n(966);
    var gi = Object(Tn.a)(mi, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                class: e.$style.section
            }, [n("div", {
                class: e.$style.heading,
                domProps: {
                    textContent: e._s("FEN")
                }
            }), e._v(" "), n("form-input", {
                class: e.$style.input,
                attrs: {
                    readonly: !0,
                    value: e.fen
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.section
            }, [n("div", {
                class: e.$style.pgn
            }, [n("div", {
                class: e.$style.heading,
                domProps: {
                    textContent: e._s("PGN")
                }
            }), e._v(" "), n("div", {
                class: e.$style.toggles
            }, [e.analyzedPgn ? n("label", {
                class: e.$style.toggle,
                attrs: {
                    title: "Analyzed PGN"
                }
            }, [n("input", {
                attrs: {
                    type: "checkbox"
                },
                domProps: {
                    checked: e.showAnalyzedPgn
                },
                on: {
                    change: e.onShowAnalyzedPgnChange
                }
            }), e._v(" "), n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "comp-analysis"
                }
            })], 1) : e._e(), e._v(" "), e.hasTimestamps ? n("label", {
                class: e.$style.toggle,
                attrs: {
                    title: "PGN Timestamps"
                }
            }, [n("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: e.includeTimestamps,
                    expression: "includeTimestamps"
                }],
                attrs: {
                    type: "checkbox"
                },
                domProps: {
                    checked: Array.isArray(e.includeTimestamps) ? e._i(e.includeTimestamps, null) > -1 : e.includeTimestamps
                },
                on: {
                    change: [function(t) {
                        var n = e.includeTimestamps,
                            a = t.target,
                            i = !!a.checked;
                        if (Array.isArray(n)) {
                            var o = e._i(n, null);
                            a.checked ? o < 0 && (e.includeTimestamps = n.concat([null])) : o > -1 && (e.includeTimestamps = n.slice(0, o).concat(n.slice(o + 1)))
                        } else e.includeTimestamps = i
                    }, e.onIncludeTimestampsChange]
                }
            }), e._v(" "), n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "circle-clock"
                }
            })], 1) : e._e()])]), e._v(" "), n("form-textarea", {
                class: e.$style.textarea,
                attrs: {
                    name: "pgn",
                    readonly: !0,
                    value: e.displayedPgn
                },
                on: {
                    focus: function(e) {
                        return e.target.select()
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.download
            }, [n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary"
                },
                on: {
                    click: e.download
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    family: "chess",
                    name: "download",
                    theme: "secondary"
                }
            })], 1)], 1)])
        }, [], !1, function alt_share_menu_tab_pgn_injectStyles(e) {
            this.$style = fi.default.locals || fi.default
        }, null, null).exports,
        bi = {
            name: "board-tab-item",
            components: {
                IconFont: In.a
            },
            mixins: [zn.a],
            props: {
                icon: {
                    type: String
                },
                isActive: {
                    type: Boolean,
                    default: !1
                },
                label: {
                    type: String,
                    required: !0
                },
                theme: {
                    type: String
                }
            }
        },
        vi = n(967);
    var yi = {
            name: "tab-selector",
            components: {
                TabItem: Object(Tn.a)(bi, function() {
                    var e, t = this,
                        n = t.$createElement,
                        a = t._self._c || n;
                    return a("div", t._g({
                        class: [t.$style.component, t.$style[t.theme], (e = {}, e[t.$style.active] = t.isActive, e[t.$style.darkMode] = t.isDarkMode, e)]
                    }, t.$listeners), [t.icon ? a("icon-font", {
                        class: t.$style.icon,
                        attrs: {
                            theme: "primary",
                            "is-dark-mode": t.isDarkMode,
                            name: t.icon
                        }
                    }) : t._e(), t._v(" "), a("span", {
                        class: t.$style.label,
                        domProps: {
                            textContent: t._s(t.label)
                        }
                    })], 1)
                }, [], !1, function board_tab_item_underlined_injectStyles(e) {
                    this.$style = vi.default.locals || vi.default
                }, null, null).exports
            },
            props: {
                activeTab: {
                    type: String,
                    required: !0
                },
                tabs: {
                    type: Array,
                    required: !0
                },
                theme: {
                    type: String
                }
            },
            methods: {
                tabIsActive: function tabIsActive(e) {
                    return e === this.activeTab
                }
            }
        },
        _i = n(968);
    var wi = Object(Tn.a)(yi, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, e._l(e.tabs, function(t) {
            return n("tab-item", {
                key: t.key,
                class: e.$style.tab,
                attrs: {
                    "is-active": e.tabIsActive(t.key),
                    label: t.label,
                    theme: e.theme
                },
                on: {
                    click: function(n) {
                        return e.$emit("tab-selected", t.key)
                    }
                }
            })
        }), 1)
    }, [], !1, function alt_share_menu_tab_selector_injectStyles(e) {
        this.$style = _i.default.locals || _i.default
    }, null, null).exports;

    function alt_share_menuvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function alt_share_menuvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? alt_share_menuvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : alt_share_menuvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Oi = {
            name: "share-menu",
            components: {
                IconFont: In.a,
                ModalContainer: va.a,
                ModalContent: ba.a,
                ShareMenuContent: za,
                ShareLink: Oa,
                SocialShare: Ba.a,
                TabEmbed: Xa,
                TabEvent: Ja,
                TabGif: ii,
                TabImage: si,
                TabPgn: gi,
                TabSelector: wi
            },
            props: {
                analyzedPgn: {
                    type: String
                },
                boardOptions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                boardSettings: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                eventFilename: {
                    type: String
                },
                eventUrl: {
                    type: String
                },
                initialDiagramOptions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                includedTabs: {
                    type: Array,
                    default: function _default() {
                        return sa
                    }
                },
                excludedTabs: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                game: {
                    type: Object
                },
                isLoggedIn: {
                    type: Boolean,
                    default: !1
                },
                initialActiveTab: {
                    type: String,
                    default: ra.PGN.key
                },
                pgn: {
                    type: String
                },
                pgnHeaders: {
                    type: Object
                },
                shareUrl: {
                    type: String
                },
                tacticsId: {
                    type: Number
                }
            },
            data: function data() {
                return {
                    activeTab: this.initialActiveTab,
                    animatedGifUrl: null,
                    diagramEditor: {
                        boardColors: null,
                        coordinates: null,
                        currentBoardStyle: null,
                        currentPieceStyle: null,
                        diagramId: null,
                        diagramImage: null,
                        isPuzzle: null,
                        pieceStyles: null
                    },
                    savedEmbedProps: {
                        currentBoardStyle: "",
                        currentPieceStyle: "",
                        pgn: ""
                    },
                    isLoadingGif: !1,
                    showAnalyzedPgn: !1
                }
            },
            computed: {
                diagramOptions: function diagramOptions() {
                    return {
                        boardOptions: alt_share_menuvue_type_script_lang_js_objectSpread({}, this.boardOptions, {
                            boardStyle: this.diagramEditor.currentBoardStyle,
                            coordinates: this.diagramEditor.coordinates,
                            pieceStyle: this.diagramEditor.currentPieceStyle
                        }),
                        diagramId: this.diagramEditor.diagramId,
                        hasMoves: this.mainLine.length > 0,
                        isPuzzle: this.diagramEditor.isPuzzle,
                        nodeLimit: this.initialDiagramOptions.nodeLimit || {},
                        pgn: this.pgn
                    }
                },
                displayableTabs: function displayableTabs() {
                    var e = this;
                    return this.includedTabs.map(function(e) {
                        return ra[e.toUpperCase()]
                    }).filter(function(t) {
                        return !e.excludedTabs.includes(t.key) && t.isVisible({
                            showGif: e.showGif
                        })
                    })
                },
                generatedShareUrl: function generatedShareUrl() {
                    return this.shareUrl || Object(la.e)(this.tacticsId)
                },
                hasTimestamps: function hasTimestamps() {
                    return this.mainLine.length > 0 && Boolean(this.mainLine[0].time)
                },
                isUpdatedDiagram: function isUpdatedDiagram() {
                    var e = this;
                    return !["coordinates", "currentPieceStyle", "currentBoardStyle", "isPuzzle", "pgn"].every(function(t) {
                        return e.diagramEditor[t] === e.savedEmbedProps[t]
                    })
                },
                mainLine: function mainLine() {
                    return (this.game.tree && this.game.tree.lines ? this.game.tree : ya.default.state).lines[0] || []
                },
                needsDiagramUpdate: function needsDiagramUpdate() {
                    return this.activeTab === ra.EMBED.key && this.isUpdatedDiagram
                },
                normalizedFen: function normalizedFen() {
                    return Object(la.f)(this.game.setup.fen)
                },
                showGif: function showGif() {
                    return this.isLoggedIn && this.mainLine.length > 1 && ["chess", "chess960"].includes(this.game.variant.toLowerCase())
                }
            },
            watch: {
                boardSettings: "buildInitialDiagram",
                "diagramEditor.coordinates": "postDiagram",
                "diagramEditor.currentBoardStyle": "postDiagram",
                "diagramEditor.currentPieceStyle": "postDiagram",
                "diagramEditor.isPuzzle": "postDiagram"
            },
            created: function created() {
                this.getAnimatedGifUrl(), this.buildInitialDiagram()
            },
            methods: {
                buildInitialDiagram: function buildInitialDiagram() {
                    var e = this.boardSettings || {},
                        t = e.boardColors,
                        n = void 0 === t ? [] : t,
                        a = e.pieceStyles,
                        i = void 0 === a ? [] : a;
                    this.diagramEditor.boardColors = n, this.diagramEditor.coordinates = this.boardOptions.coordinates, this.diagramEditor.currentBoardStyle = this.boardOptions.boardStyle, this.diagramEditor.currentPieceStyle = un(this.boardOptions.pieceStyle), this.diagramEditor.isPuzzle = this.initialDiagramOptions.isPuzzle, this.diagramEditor.pieceStyles = function stripDisabledPieceStyles(e) {
                        return e.filter(function(e) {
                            return !x.l.pieces.includes(e.code)
                        })
                    }(i)
                },
                changeShowAnalyzedPgn: function changeShowAnalyzedPgn(e) {
                    this.showAnalyzedPgn = e
                },
                getAnimatedGifUrl: function getAnimatedGifUrl() {
                    var e = this;
                    if (this.showGif && !this.animatedGifUrl && this.activeTab === ra.GIF.key) {
                        this.isLoadingGif = !0;
                        var t = {
                            tcn: Se.a.getTcn(this.game),
                            flip: this.boardOptions.flipBoard,
                            isChess960: "chess960" === this.game.variant.toLowerCase(),
                            initialPosition: this.pgnHeaders.FEN || null
                        };
                        Object(la.d)(t).then(function(t) {
                            e.animatedGifUrl = t, e.isLoadingGif = !1
                        })
                    }
                },
                getTabComponent: function getTabComponent(e) {
                    return "tab-".concat(e)
                },
                postDiagram: function postDiagram() {
                    var e = this;
                    if (this.needsDiagramUpdate) {
                        var t = this.diagramOptions.pgn,
                            n = this.diagramEditor,
                            a = n.currentBoardStyle,
                            i = n.currentPieceStyle;
                        (function service_getDiagram(e) {
                            var t = e.boardOptions,
                                n = e.diagramId,
                                a = e.hasMoves,
                                i = e.isPuzzle,
                                o = e.nodeLimit,
                                r = e.pgn,
                                s = cn(hn({
                                    boardOptions: t,
                                    hasMoves: a,
                                    isPuzzle: i,
                                    nodeLimit: o,
                                    pgn: r
                                }));
                            return Bt.default.post(de.getDiagram(n), {
                                textSetup: s
                            }).then(function(e) {
                                return e.data
                            }).catch(Et)
                        })(this.diagramOptions).then(function(n) {
                            n && n > 0 && (e.diagramEditor.diagramId = n, e.diagramEditor.diagramImage = ln(n)), e.savedEmbedProps = {
                                pgn: t,
                                currentBoardStyle: a,
                                currentPieceStyle: i
                            }
                        })
                    }
                },
                hide: function hide() {
                    this.$refs.modalContainer && this.$refs.modalContainer.hide(), this.animatedGifUrl = null
                },
                selectTab: function selectTab(e) {
                    this.activeTab = e, this.postDiagram(), this.getAnimatedGifUrl()
                },
                show: function show() {
                    this.game && this.pgn && this.$refs.modalContainer.show()
                },
                updateDiagramOption: function updateDiagramOption(e) {
                    var t = e.key,
                        n = e.val;
                    this.diagramEditor[t] = n
                }
            }
        },
        ki = n(969);

    function alt_share_menu_containervue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Si = {
            name: "share-menu-dialog-container",
            components: {
                ShareMenu: Object(Tn.a)(Oi, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("modal-container", {
                        ref: "modalContainer",
                        attrs: {
                            "close-on-esc-press": ""
                        },
                        on: {
                            "modal-did-hide": function(t) {
                                return e.$emit("hide", t)
                            }
                        }
                    }, [n("div", {
                        class: e.$style.wrapper
                    }, [n("icon-font", {
                        class: e.$style.close,
                        attrs: {
                            name: "x",
                            theme: "secondary"
                        },
                        on: {
                            click: e.hide
                        }
                    }), e._v(" "), n("modal-content", {
                        ref: "modal",
                        class: e.$style.modal
                    }, [e.game ? n("div", [n("header", {
                        class: e.$style.header
                    }, [n("div", {
                        class: e.$style.share
                    }, [n("share-link", e._b({
                        class: e.$style.link,
                        attrs: {
                            "share-url": e.generatedShareUrl
                        }
                    }, "share-link", e.$attrs, !1)), e._v(" "), n("social-share", {
                        attrs: {
                            background: "transparent"
                        }
                    })], 1), e._v(" "), n("tab-selector", {
                        ref: "tab-selector",
                        attrs: {
                            "active-tab": e.activeTab,
                            tabs: e.displayableTabs
                        },
                        on: {
                            "tab-selected": e.selectTab
                        }
                    })], 1), e._v(" "), n("section", {
                        class: e.$style.content
                    }, [e._l(e.displayableTabs, function(t) {
                        return [n(e.getTabComponent(t.key), {
                            directives: [{
                                name: "show",
                                rawName: "v-show",
                                value: e.activeTab === t.key,
                                expression: "activeTab === tab.key"
                            }],
                            key: t.key,
                            tag: "component",
                            class: e.$style.tab,
                            attrs: {
                                "analyzed-pgn": e.analyzedPgn,
                                "board-options": e.boardOptions,
                                "board-settings": e.boardSettings,
                                "diagram-options": e.diagramEditor,
                                "event-filename": e.eventFilename,
                                "event-url": e.eventUrl,
                                "gif-url": e.animatedGifUrl,
                                "has-timestamps": e.hasTimestamps,
                                "is-loading-gif": e.isLoadingGif,
                                fen: e.normalizedFen,
                                pgn: e.pgn,
                                "pgn-headers": e.pgnHeaders,
                                "show-analyzed-pgn": e.showAnalyzedPgn,
                                "tactics-id": e.tacticsId
                            },
                            on: {
                                "change-include-pgn-timestamps": function(t) {
                                    return e.$emit("change-include-pgn-timestamps", t)
                                },
                                "change-show-analyzed-pgn": e.changeShowAnalyzedPgn,
                                "update-diagram-option": e.updateDiagramOption
                            }
                        })]
                    })], 2)]) : e._e()])], 1)])
                }, [], !1, function alt_share_menu_injectStyles(e) {
                    this.$style = ki.default.locals || ki.default
                }, null, null).exports
            },
            data: function data() {
                return {
                    shareUrl: null
                }
            },
            computed: function alt_share_menu_containervue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? alt_share_menu_containervue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : alt_share_menu_containervue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                loggedIn: "user/isLoggedIn"
            }), {}, Object(Sn.mapState)({
                analyzedPgn: function analyzedPgn(e) {
                    var t = e.analysis;
                    return ((void 0 === t ? {} : t).gameAnalysis || {}).annotatedPgn
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                boardSettings: function boardSettings(e) {
                    return e.board.settings
                },
                game: function game(e) {
                    return e.game
                },
                isPuzzle: function isPuzzle(e) {
                    var t = e.diagramEditor;
                    return (void 0 === t ? {} : t).isPuzzle || !1
                },
                nodeLimit: function nodeLimit(e) {
                    var t = e.diagramEditor;
                    return (void 0 === t ? {} : t).nodeLimit || {}
                }
            }), {
                initialDiagramOptions: function initialDiagramOptions() {
                    return {
                        isPuzzle: this.isPuzzle,
                        nodeLimit: this.nodeLimit
                    }
                }
            }),
            methods: {
                show: function show() {
                    this.$refs.shareMenu.show()
                },
                selectTab: function selectTab(e) {
                    this.$refs.shareMenu.activeTab = e
                }
            }
        },
        xi = Object(Tn.a)(Si, function() {
            var e = this,
                t = e.$createElement;
            return (e._self._c || t)("share-menu", {
                ref: "shareMenu",
                attrs: {
                    "analyzed-pgn": e.analyzedPgn,
                    "board-options": e.boardOptions,
                    "board-settings": e.boardSettings,
                    game: e.game,
                    "initial-diagram-option": e.initialDiagramOptions,
                    "is-logged-in": e.loggedIn,
                    "pgn-headers": e.game.pgnHeaders,
                    pgn: e.game.pgn,
                    "share-url": e.shareUrl
                },
                on: {
                    "change-include-pgn-timestamps": function(t) {
                        return e.$emit("change-include-pgn-timestamps", t)
                    }
                }
            })
        }, [], !1, null, null, null).exports,
        Pi = null,
        Ci = Object(wn.a)({
            shareMenu: {
                component: xi,
                el: "#".concat(J),
                store: Tt.default
            }
        }),
        Mi = function showShareMenu() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ra.PGN.key,
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            Pi || (Pi = Ci.createInstance("shareMenu")).$children[0].$on("change-include-pgn-timestamps", function(e) {
                var t = e.includeTimestamps;
                Tt.default.dispatch("game/getPgn", {
                    hideCommands: !t
                })
            }), Pi.$children[0].shareUrl = t.shareUrl, Pi.$children[0].selectTab(e), Pi.$children[0].show()
        };
    var Ti = new class helper_PlayComputerHelper {
        getUrl(e) {
            var t, n, a, i = [],
                o = e.moveNodes,
                r = {};
            if (o)
                for (t = "number" != typeof e.selectedMoveNode || isNaN(e.selectedMoveNode) ? o.length - 1 : e.selectedMoveNode, n = 0; n <= t; n += 1) a = o[n].promotion || o[n].additionalInfo || "", i.push(o[n].from + o[n].to + a);
            return e.additionalMove && i.push(e.additionalMove), i.length && (r.moveList = i.join(" ")), e.is960 && (r.is960 = 1), "black" === e.playerColor ? r.black = 1 : "white" === e.playerColor && (r.black = 0), e.difficulty >= 1 && e.difficulty <= 10 && (r.difficulty = e.difficulty), e.fen ? r.fen = e.fen : o && o[0] && (r.fen = o[0].beforeFen), ue.a.generate("web_play_computer", r)
        }
        openFromMoveNodes(e, t, n) {
            var a = Object.assign({}, n);
            a.moveNodes = e, a.selectedMoveNode = t, window.open(this.getUrl(a), a.target || "_blank")
        }
        openFromFen(e, t) {
            var n = Object.assign({}, t);
            n.fen = e, window.open(this.getUrl(n), n.target || "_blank")
        }
    };

    function secondary_controlsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function secondary_controlsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? secondary_controlsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : secondary_controlsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Ei = {
            name: "secondary-controls",
            components: {
                IconFont: In.a
            },
            directives: {
                tooltip: Gn.a
            },
            mixins: [Zn.a],
            computed: secondary_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameHasMoves: "analysis/gameHasMoves",
                isRetryMode: "analysis/isRetryMode",
                loggedIn: "user/isLoggedIn",
                selectedMoveNode: "game/selectedMoveNode",
                selectedRetryMove: "analysis/selectedRetryMove",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                analyzedPgn: function analyzedPgn(e) {
                    return e.analysis.gameAnalysis.annotatedPgn
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                boardSettings: function boardSettings(e) {
                    return e.board.settings
                },
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                game: function game(e) {
                    return e.game
                },
                gameNodes: function gameNodes(e) {
                    return e.analysis.cachedGame.gameNodes
                },
                isPuzzle: function isPuzzle(e) {
                    return e.diagramEditor.isPuzzle
                },
                nodeLimit: function nodeLimit(e) {
                    return e.diagramEditor.nodeLimit
                },
                shareId: function shareId(e) {
                    return e.analysis.savedSelfAnalysis.url
                }
            }), {
                canFinishVsComp: function canFinishVsComp() {
                    return !this.game.setup.gameOver && !this.engineDisabled
                },
                shareMenuOptions: function shareMenuOptions() {
                    return {
                        shareUrl: tn(this.shareId)
                    }
                }
            }),
            methods: secondary_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                getCurrentFullLine: "game/getCurrentFullLine",
                newAnalysis: "analysis/newAnalysis",
                resetRetryMoves: "analysis/resetRetryMoves",
                resetToMainLine: "game/resetToMainLine"
            }), {}, Object(Sn.mapMutations)({
                setBoardOption: "board/setOption"
            }), {
                download: function download() {
                    Mi(ra.PGN.key, this.shareMenuOptions)
                },
                flipBoard: function flipBoard() {
                    this.setBoardOption({
                        option: "flipBoard",
                        value: !this.boardOptions.flipBoard
                    })
                },
                handleReset: function handleReset() {
                    this.isRetryMode ? this.resetRetryMoves() : this.resetToMainLine()
                },
                playVsComp: function playVsComp() {
                    this.isRetryMode ? this.playVsCompRetryMode() : this.playVsCompNormal()
                },
                playVsCompNormal: function playVsCompNormal() {
                    var e = this;
                    this.selectedMoveNode ? this.getCurrentFullLine().then(function(t) {
                        Ti.openFromMoveNodes(t, e.selectedMoveNode, {
                            playerColor: e.userColor
                        })
                    }) : Ti.openFromFen(this.game.setup.fen)
                },
                playVsCompRetryMode: function playVsCompRetryMode() {
                    var e = this,
                        t = this.gameNodes.slice(0, this.selectedRetryMove.ply);
                    this.getCurrentFullLine().then(function(n) {
                        Ti.openFromMoveNodes([].concat(le()(t), le()(n)), n[0], {
                            playerColor: e.userColor
                        })
                    })
                },
                share: function share() {
                    Mi(ra.IMAGE.key, this.shareMenuOptions)
                }
            })
        },
        Ai = n(970);
    var ji = Object(Tn.a)(Ei, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Flip Board"),
                    expression: "$trans('Flip Board')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.flipBoard(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "repeat"
                }
            })], 1), e._v(" "), n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("New Analysis"),
                    expression: "$trans('New Analysis')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.newAnalysis(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "plus"
                }
            })], 1), e._v(" "), n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Reset"),
                    expression: "$trans('Reset')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.handleReset(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "redo"
                }
            })], 1), e._v(" "), n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Download"),
                    expression: "$trans('Download')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.download(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "download"
                }
            })], 1), e._v(" "), n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Share"),
                    expression: "$trans('Share')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.share(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "share"
                }
            })], 1), e._v(" "), e.canFinishVsComp ? n("a", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Finish vs Computer"),
                    expression: "$trans('Finish vs Computer')"
                }],
                on: {
                    click: function(t) {
                        return t.preventDefault(), e.playVsComp(t)
                    }
                }
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "vscomp"
                }
            })], 1) : e._e()])
        }, [], !1, function secondary_controls_injectStyles(e) {
            this.$style = Ai.default.locals || Ai.default
        }, null, null).exports,
        Li = {
            name: "controls",
            components: {
                FormInput: Un.a,
                MainControls: oa,
                SecondaryControls: ji
            },
            directives: {
                tooltip: Gn.a
            },
            mixins: [zn.a]
        },
        Di = n(971);
    var Ni = Object(Tn.a)(Li, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return t("div", {
            class: this.componentClasses()
        }, [t("main-controls"), this._v(" "), t("secondary-controls")], 1)
    }, [], !1, function controls_injectStyles(e) {
        this.$style = Di.default.locals || Di.default
    }, null, null).exports;

    function retry_controlsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function retry_controlsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? retry_controlsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : retry_controlsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Ii = {
            name: "retry-controls",
            components: {
                FormButton: qn.a,
                IconFont: In.a,
                SecondaryControls: ji
            },
            directives: {
                tooltip: Gn.a
            },
            mixins: [zn.a],
            computed: retry_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisFinished: "analysis/isAnalysisFinished",
                canDoRetries: "analysis/canDoRetries",
                loggedIn: "user/isLoggedIn",
                selectedMove: "analysis/selectedRetryMove",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                isLoading: function isLoading(e) {
                    return e.analysis.retry.isLoading
                },
                moves: function moves(e) {
                    return e.analysis.retry.moves
                },
                selectedMoveRef: function selectedMoveRef(e) {
                    return e.analysis.retry.selectedMoveRef
                }
            }), {
                atFirstMove: function atFirstMove() {
                    return this.selectedMoveRef.index <= 0
                },
                atLastMove: function atLastMove() {
                    return this.selectedMoveRef.index >= this.retryMoveCount - 1
                },
                highlightNextMove: function highlightNextMove() {
                    var e = (this.selectedMove.newMove.classificationData || {}).key,
                        t = [x.c.BEST_MOVE.key, x.c.EXCELLENT.key, x.c.GOOD.key];
                    return this.moveIsComplete && t.includes(e)
                },
                highlightRedoMove: function highlightRedoMove() {
                    return this.moveIsComplete && !this.highlightNextMove
                },
                moveIsBest: function moveIsBest() {
                    return (this.selectedMove.newMove.classificationData || {}).key === x.c.BEST_MOVE.key
                },
                moveIsComplete: function moveIsComplete() {
                    return bn(this.selectedMove)
                },
                retryMoveCount: function retryMoveCount() {
                    return this.moves[this.selectedMoveRef.color].length
                },
                showComponent: function showComponent() {
                    return this.retryMoveCount && this.isAnalysisFinished && this.canDoRetries
                }
            }),
            mounted: function mounted() {
                document.addEventListener("keydown", this.onKeydown)
            },
            destroyed: function destroyed() {
                document.removeEventListener("keydown", this.onKeydown)
            },
            methods: retry_controlsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                getCurrentFullLine: "game/getCurrentFullLine",
                giveRetryHint: "analysis/giveRetryHint",
                insertVariationFromRetry: "analysis/insertVariationFromRetry",
                makeMove: "analysis/makeMove",
                selectRetryMove: "analysis/selectRetryMove"
            }), {}, Object(Sn.mapMutations)({
                updateRetryMove: "analysis/updateRetryMove"
            }), {
                download: function download() {
                    Mi(ra.PGN.key)
                },
                goToNextMove: function goToNextMove() {
                    this.atLastMove || this.selectRetryMove({
                        index: this.selectedMoveRef.index + 1
                    })
                },
                goToPreviousMove: function goToPreviousMove() {
                    this.atFirstMove || this.selectRetryMove({
                        index: this.selectedMoveRef.index - 1
                    })
                },
                handleAction: function handleAction(e) {
                    this.canDoRetries && e()
                },
                onKeydown: function onKeydown(e) {
                    var t = {
                        37: this.moveIsComplete ? this.redoMove : this.goToPreviousMove,
                        39: this.goToNextMove
                    }[e.keyCode];
                    t && (e.preventDefault(), this.handleAction(t))
                },
                redoMove: function redoMove() {
                    return this.updateRetryMove({
                        fen: this.selectedMove.fen,
                        data: {
                            newMove: {}
                        }
                    }), this.selectRetryMove({
                        index: this.selectedMoveRef.index
                    })
                },
                viewAnswer: function viewAnswer() {
                    var e = this;
                    (function setupBoard() {
                        return new Promise(function(t) {
                            return e.moveIsComplete ? e.redoMove().then(function() {
                                return t(500)
                            }) : t(0)
                        })
                    })().then(function(t) {
                        var n = Lt(e.selectedMove.suggestedMove.moveLan),
                            a = n.from,
                            i = n.to;
                        yn(t).then(function() {
                            e.makeMove({
                                from: a,
                                isIllegal: !1,
                                to: i,
                                viewedAnswer: !0
                            })
                        })
                    })
                }
            })
        },
        $i = n(972);
    var Bi = Object(Tn.a)(Ii, function() {
            var e, t, n, a, i = this,
                o = i.$createElement,
                r = i._self._c || o;
            return i.showComponent ? r("div", {
                class: i.componentClasses()
            }, [r("div", {
                class: i.$style.top
            }, [r("form-button", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: i.$trans("Get a Hint"),
                    expression: "$trans('Get a Hint')"
                }],
                class: [i.$style.button, (e = {}, e[i.$style.disabled] = !i.canDoRetries || i.moveIsComplete, e)],
                attrs: {
                    size: "x-large",
                    theme: "basic"
                },
                on: {
                    click: function(e) {
                        return i.handleAction(i.giveRetryHint)
                    }
                }
            }, [r("icon-font", {
                class: i.$style.icon,
                attrs: {
                    name: "lightbulb"
                }
            })], 1), i._v(" "), r("form-button", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: i.$trans("View the Best Move"),
                    expression: "$trans('View the Best Move')"
                }],
                class: [i.$style.button, (t = {}, t[i.$style.disabled] = !i.canDoRetries || i.moveIsBest || i.isLoading, t)],
                attrs: {
                    size: "x-large",
                    theme: "basic"
                },
                on: {
                    click: function(e) {
                        return i.handleAction(i.viewAnswer)
                    }
                }
            }, [r("icon-font", {
                class: i.$style.icon,
                attrs: {
                    name: "perfect"
                }
            })], 1), i._v(" "), r("form-button", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: i.$trans("Retry"),
                    expression: "$trans('Retry')"
                }],
                class: [i.$style.button, (n = {}, n[i.$style.disabled] = !i.canDoRetries || !i.selectedMove.newMove.san, n[i.$style.primary] = i.highlightRedoMove, n)],
                attrs: {
                    size: "x-large",
                    theme: "basic"
                },
                on: {
                    click: function(e) {
                        return i.handleAction(i.redoMove)
                    }
                }
            }, [r("icon-font", {
                class: i.$style.icon,
                attrs: {
                    name: "undo"
                }
            })], 1), i._v(" "), r("form-button", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: i.$trans("Next Move"),
                    expression: "$trans('Next Move')"
                }],
                class: [i.$style.button, (a = {}, a[i.$style.disabled] = !i.canDoRetries || i.atLastMove, a[i.$style.primary] = i.highlightNextMove, a)],
                attrs: {
                    size: "x-large",
                    theme: "basic"
                },
                on: {
                    click: function(e) {
                        return i.handleAction(i.goToNextMove)
                    }
                }
            }, [r("icon-font", {
                class: i.$style.icon,
                attrs: {
                    name: "arrow-right"
                }
            })], 1)], 1), i._v(" "), r("secondary-controls", {
                class: i.$style.bottom
            })], 1) : i._e()
        }, [], !1, function retry_controls_injectStyles(e) {
            this.$style = $i.default.locals || $i.default
        }, null, null).exports,
        Ri = n(150),
        Fi = n(10),
        zi = {
            name: "locked-message",
            components: {
                IconFont: In.a
            },
            props: {
                asButton: {
                    type: Boolean,
                    default: !1
                },
                message: {
                    type: String,
                    default: Object(Fi.b)("Upgrade to View")
                }
            },
            data: function data() {
                return {
                    upgradeIcon: T.UPGRADE_ICON,
                    upgradeRoute: de.upgradeMembership()
                }
            }
        },
        Ui = n(973);
    var Gi = Object(Tn.a)(zi, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("a", {
            class: [t.$style.locked, (e = {}, e[t.$style.button] = t.asButton, e)],
            attrs: {
                href: t.upgradeRoute
            }
        }, [a("icon-font", {
            class: t.$style.icon,
            attrs: {
                name: t.upgradeIcon
            }
        }), t._v(" "), a("div", {
            domProps: {
                textContent: t._s(t.message)
            }
        })], 1)
    }, [], !1, function locked_message_injectStyles(e) {
        this.$style = Ui.default.locals || Ui.default
    }, null, null).exports;

    function run_full_analysis_buttonvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function run_full_analysis_buttonvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? run_full_analysis_buttonvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : run_full_analysis_buttonvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Hi = {
            name: "run-full-analysis-button",
            components: {
                FormButton: qn.a
            },
            mixins: [Zn.a],
            props: {
                buttonText: {
                    type: String,
                    default: Object(Fi.b)("Run Report")
                },
                colored: {
                    type: Boolean,
                    default: !0
                },
                depth: {
                    type: Number
                },
                disabled: {
                    type: Boolean,
                    default: !1
                },
                ignoreDarkMode: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: run_full_analysis_buttonvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                canViewAnalysis: "analysis/canViewAnalysis",
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                isFullAnalysis: "analysis/isFullAnalysis"
            }), {}, Object(Sn.mapState)({
                analyzedDepth: function analyzedDepth(e) {
                    return e.analysis.gameAnalysis.analysisDepth
                },
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                fullAnalysisDepth: function fullAnalysisDepth(e) {
                    return Number(e.analysis.settings.fullAnalysisDepth)
                }
            }), {
                helpMessage: function helpMessage() {
                    return this.$trans("Make a move in order to run a report.")
                },
                showComponent: function showComponent() {
                    var e = this.depth || this.fullAnalysisDepth;
                    return !(this.isAnalysisInProgress || this.engineDisabled || this.isFullAnalysis && e === this.analyzedDepth)
                }
            }),
            methods: run_full_analysis_buttonvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                initFullAnalysis: "analysis/initFullAnalysis"
            }), {
                handleClick: function handleClick() {
                    this.initFullAnalysis({
                        depth: this.depth,
                        shouldSave: !this.isFullAnalysis
                    }), this.$emit("analyze")
                }
            })
        },
        Vi = n(974);
    var Wi = Object(Tn.a)(Hi, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.showComponent,
                    expression: "showComponent"
                }],
                class: [t.componentClasses(), (e = {}, e[t.$style.analysis] = t.canViewAnalysis, e[t.$style.colored] = t.colored, e[t.$style.light] = t.ignoreDarkMode, e)]
            }, [t.canViewAnalysis ? t._e() : a("div", {
                class: t.$style.text,
                domProps: {
                    textContent: t._s(t.helpMessage)
                }
            }), t._v(" "), a("form-button", {
                class: t.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary",
                    disabled: !t.canViewAnalysis || t.disabled
                },
                domProps: {
                    textContent: t._s(t.buttonText)
                },
                nativeOn: {
                    click: function(e) {
                        return t.handleClick(e)
                    }
                }
            })], 1)
        }, [], !1, function run_full_analysis_button_injectStyles(e) {
            this.$style = Vi.default.locals || Vi.default
        }, null, null).exports,
        Ki = n(1),
        qi = n(398);

    function move_listvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function move_listvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? move_listvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : move_listvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Yi = {
            name: "move-list",
            components: {
                HorizontalMoveList: n(661).a
            },
            mixins: [Zn.a],
            computed: move_listvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisFinished: "analysis/isAnalysisFinished",
                isFullAnalysis: "analysis/isFullAnalysis",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                analyzedMoves: function analyzedMoves(e) {
                    return e.analysis.analyzedMoves
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                bookPly: function bookPly(e) {
                    return e.analysis.gameAnalysis.bookPly
                },
                game: function game(e) {
                    return e.game
                },
                selectedLineMove: function selectedLineMove(e) {
                    return e.game.tree.selected
                },
                settings: function settings(e) {
                    return e.analysis.settings
                },
                temporaryColoredClassification: function temporaryColoredClassification(e) {
                    return e.analysis.temporaryColoredClassification
                }
            })),
            watch: {
                isAnalysisFinished: "updateMoveListOnNextTick",
                "game.history.length": ["getPgn", "updateMoveListOnNextTick", "updateScrollPosition"],
                isFullAnalysis: "updateMoveListOnNextTick",
                settings: {
                    deep: !0,
                    handler: "updateMoveListOnNextTick"
                }
            },
            mounted: function mounted() {
                this.updateMoveListOnNextTick()
            },
            methods: move_listvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                getPgn: "game/getPgn",
                goToNode: "game/goToNode",
                moveListContextMenuAction: "game/moveListContextMenuAction"
            }), {
                onMoveListContextMenuAction: function onMoveListContextMenuAction(e) {
                    this.moveListContextMenuAction(e), this.getPgn()
                },
                updateMoveListOnNextTick: function updateMoveListOnNextTick() {
                    this.$nextTick(this.updateMoveList)
                },
                updateMoveList: function updateMoveList() {
                    var e = Object(qi.a)(this.$refs.moveList);
                    ! function updateMoveListColors(e) {
                        var t = e.analyzedMoves,
                            n = void 0 === t ? {} : t,
                            a = e.coloredClassifications,
                            i = void 0 === a ? [] : a,
                            o = e.colorsEnabled,
                            r = void 0 === o || o,
                            s = e.line,
                            l = void 0 === s ? [] : s,
                            c = e.temporaryColoredClassification,
                            u = e.userColor;
                        l.forEach(function(e, t) {
                            var a = n[Dt(e)];
                            if (a) {
                                var o = a.difference,
                                    s = a.classification,
                                    d = a.scenarios,
                                    p = kt({
                                        difference: o,
                                        classification: s,
                                        scenarios: d
                                    }),
                                    h = ae;
                                u && (h = u === a.color ? ne : te);
                                var m = c ? p.key === c : r && i[h].enabled && i[h].classifications[p.key];
                                l[t] && (l[t].classification = m ? p.key : null)
                            } else l[t].classification = null
                        })
                    }({
                        analyzedMoves: this.analyzedMoves,
                        bookPly: this.bookPly,
                        coloredClassifications: this.settings.coloredClassifications,
                        colorsEnabled: this.isFullAnalysis && this.settings.colorsEnabled,
                        line: e[0],
                        temporaryColoredClassification: this.temporaryColoredClassification,
                        userColor: this.userColor
                    }), this.$refs.moveList.fireHistoryEvent({
                        type: Ki.a.INIT,
                        payload: {}
                    })
                },
                updateScrollPosition: function updateScrollPosition() {
                    this.$refs.moveList.updateScrollPosition(this.selectedLineMove, this.$parent.$el)
                }
            })
        },
        Xi = n(975);
    var Qi = Object(Tn.a)(Yi, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return t("div", {
            class: this.componentClasses()
        }, [t("horizontal-move-list", {
            ref: "moveList",
            attrs: {
                game: this.game,
                "is-dark-mode": this.isDarkMode,
                "move-display-type": this.boardOptions.moveListDisplayType,
                "on-comment-change": this.onMoveListContextMenuAction
            },
            on: {
                "moveList-contextMenuAction": this.onMoveListContextMenuAction,
                "moveList-goToNode": this.goToNode
            }
        })], 1)
    }, [], !1, function move_list_injectStyles(e) {
        this.$style = Xi.default.locals || Xi.default
    }, null, null).exports;

    function analysis_areavue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function analysis_areavue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? analysis_areavue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_areavue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Zi = {
            name: "analysis-area",
            components: {
                FormButton: qn.a,
                MoveList: Qi,
                LockedMessage: Gi,
                RunFullAnalysisButton: Wi
            },
            data: function data() {
                return {
                    hasInitialPgnChanged: !1
                }
            },
            computed: analysis_areavue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameHasMoves: "analysis/gameHasMoves",
                isFullAnalysis: "analysis/isFullAnalysis",
                isPremium: "user/isPremium",
                userId: "user/id"
            }), {}, Object(Sn.mapState)({
                activeFens: function activeFens(e) {
                    return e.analysis.activeFens || []
                },
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                fen: function fen(e) {
                    return e.game.setup.fen
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                },
                pgn: function pgn(e) {
                    return e.game.pgn || ""
                },
                savedSelfAnalysis: function savedSelfAnalysis(e) {
                    return e.analysis.savedSelfAnalysis
                }
            }), {
                gameRowText: function gameRowText() {
                    var e = this.pgnHeaders,
                        t = e.Date,
                        n = e.Event,
                        a = e.Site,
                        i = t && "????.??.??" !== t,
                        o = n && "?" !== n,
                        r = a && "?" !== a,
                        s = "".concat(a).concat(o || i ? ":" : "", " "),
                        l = "".concat(n).concat(i ? ":" : "", " "),
                        c = "".concat(t);
                    return "".concat(r ? s : "", "\n        ").concat(o ? l : "", "\n        ").concat(i ? c : "")
                },
                isGameSaveable: function isGameSaveable() {
                    return this.gameHasMoves && (this.savedSelfAnalysis.pgn || this.hasInitialPgnChanged)
                },
                isSaveAnalysisButtonEnabled: function isSaveAnalysisButtonEnabled() {
                    return this.savedSelfAnalysis.pgn !== this.pgn
                },
                playerRowText: function playerRowText() {
                    var e = this,
                        t = [Me.e.WHITE, Me.e.BLACK].map(function(t) {
                            return function getPlayerText(e) {
                                var t = e.boldUsername,
                                    n = e.color,
                                    a = e.defaultText,
                                    i = void 0 === a ? "" : a,
                                    o = e.pgnHeaders,
                                    r = void 0 === o ? {} : o,
                                    s = n === Me.e.BLACK ? "Black" : "White",
                                    l = "?" !== r[s] && r[s],
                                    c = r["".concat(s, "Elo")],
                                    u = c ? " (".concat(c, ")") : "";
                                return l ? "".concat(t ? "<strong>".concat(l, "</strong>") : l).concat(u) : i
                            }({
                                boldUsername: !0,
                                color: t,
                                pgnHeaders: e.pgnHeaders
                            })
                        });
                    return t[0] || t[1] ? "".concat(t[0] || "?", " vs. ").concat(t[1] || "?", " ").concat(this.pgnHeaders.Result || "") : ""
                },
                showSaveAnalysisButton: function showSaveAnalysisButton() {
                    return this.isGameSaveable && At({
                        isPremium: this.isPremium
                    })
                },
                showUpgradeToSaveButton: function showUpgradeToSaveButton() {
                    return this.isGameSaveable && !At({
                        isPremium: this.isPremium
                    })
                }
            }),
            watch: {
                fen: "disableEngineIfNecessary",
                pgn: "cacheSelfAnalysis"
            },
            created: function created() {
                var e = this;
                this.userId && this.fetchActiveFens(this.userId).then(this.disableEngineIfNecessary), this.getPgn().then(function() {
                    var t = e.$watch("pgn", function watchPgn() {
                        this.hasInitialPgnChanged = !0, t()
                    })
                })
            },
            methods: analysis_areavue_type_script_lang_js_objectSpread({}, Object(Sn.mapMutations)({
                changeSetting: "analysis/changeSetting",
                setEngineDisabled: "analysis/setEngineDisabled"
            }), {}, Object(Sn.mapActions)({
                getPgn: "game/getPgn",
                fetchActiveFens: "analysis/fetchActiveFens",
                loadFromFen: "game/loadFromFen",
                moveListContextMenuAction: "game/moveListContextMenuAction",
                saveSelfAnalysis: "analysis/saveSelfAnalysis",
                cacheSelfAnalysis: "analysis/cacheSelfAnalysis"
            }), {
                disableEngineIfNecessary: function disableEngineIfNecessary() {
                    this.engineDisabled || this.activeFenMatchesGameInProgress() && this.setEngineDisabled(!0)
                },
                activeFenMatchesGameInProgress: function activeFenMatchesGameInProgress() {
                    var e = function getShortFen(e) {
                            return Ut.default.shortenFen(e, -3)
                        },
                        t = e(this.fen);
                    return !!this.activeFens.map(function(t) {
                        return e(t.fen)
                    }).includes(t)
                }
            })
        },
        Ji = n(976);
    var eo = Object(Tn.a)(Zi, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", [e.isFullAnalysis ? e._e() : n("div", {
                class: e.$style.players
            }, [n("div", {
                domProps: {
                    innerHTML: e._s(e.playerRowText)
                }
            }), e._v(" "), n("div", {
                domProps: {
                    textContent: e._s(e.gameRowText)
                }
            })]), e._v(" "), e.engineDisabled && e.activeFenMatchesGameInProgress() ? n("div", {
                class: e.$style.message
            }, [n("div", {
                domProps: {
                    textContent: e._s(e.$trans("Analysis cannot be performed on this position because it matches one of your games in progress. Return to analyze your game after it is over."))
                }
            })]) : e._e(), e._v(" "), n("move-list"), e._v(" "), n("run-full-analysis-button", {
                attrs: {
                    colored: !1
                }
            }), e._v(" "), e.showSaveAnalysisButton ? n("form-button", {
                class: [e.$style.button, e.$style.save],
                attrs: {
                    size: "large",
                    theme: "primary",
                    disabled: !e.isSaveAnalysisButtonEnabled
                },
                domProps: {
                    textContent: e._s(e.$trans("Save"))
                },
                nativeOn: {
                    click: function(t) {
                        return e.saveSelfAnalysis(t)
                    }
                }
            }) : e.showUpgradeToSaveButton ? n("locked-message", {
                class: [e.$style.button, e.$style.locked],
                attrs: {
                    "as-button": !0,
                    message: e.$trans("Upgrade to Save")
                }
            }) : e._e()], 1)
        }, [], !1, function analysis_area_injectStyles(e) {
            this.$style = Ji.default.locals || Ji.default
        }, null, null).exports,
        to = n(575),
        no = {
            name: "engine-settings-dialog",
            components: {
                FormButton: qn.a,
                FormSelect: Ua.a,
                ModalContent: ba.a,
                ModalContainer: va.a,
                ModalHeader: to.a
            },
            props: {
                engineSettings: Object
            },
            data: function data() {
                return {
                    linesOptions: [1, 2, 3],
                    timeLimitOptions: I,
                    updatedSettings: {
                        linesCount: this.engineSettings.linesCount,
                        timeLimit: this.engineSettings.timeLimit
                    }
                }
            },
            methods: {
                close: function close(e) {
                    this.$emit("close", e)
                },
                onChange: function onChange(e, t) {
                    this.updatedSettings[t] = Number(e)
                },
                save: function save(e) {
                    this.$emit("save-engine-settings", {
                        settings: this.updatedSettings
                    }), this.close(e)
                }
            }
        },
        ao = n(977);
    var io = Object(Tn.a)(no, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("modal-container", {
                attrs: {
                    "auto-show": ""
                },
                on: {
                    "modal-did-hide": e.close
                }
            }, [n("modal-content", {
                class: e.$style.content
            }, [n("modal-header", {
                attrs: {
                    icon: "x",
                    cb: e.close,
                    title: e.$trans("Engine Settings")
                }
            }), e._v(" "), n("div", {
                class: e.$style.body
            }, [n("div", {
                class: e.$style.row
            }, [e._m(0), e._v(" "), n("form-select", {
                class: e.$style.select,
                attrs: {
                    "label-key": null,
                    "value-key": null,
                    icon: "caret-down",
                    options: e.linesOptions,
                    value: e.engineSettings.linesCount
                },
                on: {
                    input: function(t) {
                        return e.onChange(t, "linesCount")
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.row
            }, [e._m(1), e._v(" "), n("form-select", {
                class: e.$style.select,
                attrs: {
                    "label-key": "label",
                    "value-key": "value",
                    icon: "caret-down",
                    options: e.timeLimitOptions,
                    value: e.engineSettings.timeLimit
                },
                on: {
                    input: function(t) {
                        return e.onChange(t, "timeLimit")
                    }
                }
            })], 1)]), e._v(" "), n("div", {
                class: e.$style.footer
            }, [n("form-button", {
                attrs: {
                    size: "large",
                    theme: "basic"
                },
                on: {
                    click: e.close
                }
            }, [e._v("\n        " + e._s(e.$trans("Cancel")) + "\n      ")]), e._v(" "), n("form-button", {
                attrs: {
                    size: "large",
                    theme: "primary"
                },
                on: {
                    click: e.save
                }
            }, [e._v("\n        " + e._s(e.$trans("Save")) + "\n      ")])], 1)], 1)], 1)
        }, [function() {
            var e = this.$createElement;
            return (this._self._c || e)("label", {
                class: this.$style.label,
                domProps: {
                    textContent: this._s(this.$trans("Lines"))
                }
            })
        }, function() {
            var e = this.$createElement;
            return (this._self._c || e)("label", {
                class: this.$style.label,
                domProps: {
                    textContent: this._s(this.$trans("Time Limit"))
                }
            })
        }], !1, function engine_settings_dialog_injectStyles(e) {
            this.$style = ao.default.locals || ao.default
        }, null, null).exports,
        oo = {
            isRunning: !1,
            isWaitingToStop: !1,
            evaluation: [],
            currentFen: null,
            gameType: null,
            isEvaluatingNewPosition: !1,
            settings: {
                timeLimit: 10,
                linesCount: 3
            },
            evaluationStartedAt: Date.now()
        },
        ro = n(99),
        so = {
            name: "icon-toggle",
            components: {
                IconFont: In.a
            },
            props: {
                enabled: {
                    type: Boolean,
                    default: !1
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                onIcon: {
                    type: String,
                    required: !0
                },
                offIcon: {
                    type: String,
                    required: !0
                }
            },
            computed: {
                displayedIcon: function displayedIcon() {
                    return this.enabled ? this.onIcon : this.offIcon
                }
            },
            methods: {
                toggleIconState: function toggleIconState() {
                    this.$emit("toggle", this.enabled)
                }
            }
        },
        lo = n(978);
    var co = Object(Tn.a)(so, function() {
            var e, t = this.$createElement;
            return (this._self._c || t)("icon-font", {
                class: [this.$style.icon, (e = {}, e[this.$style.off] = !this.enabled, e)],
                attrs: {
                    "is-dark-mode": this.isDarkMode,
                    name: this.displayedIcon
                },
                on: {
                    click: this.toggleIconState
                }
            })
        }, [], !1, function icon_toggle_injectStyles(e) {
            this.$style = lo.default.locals || lo.default
        }, null, null).exports,
        uo = n(431),
        po = n(133),
        ho = {
            name: "row",
            components: {
                IconFont: In.a,
                IconToggle: co
            },
            props: {
                data: {
                    type: Object
                },
                elementType: {
                    type: String,
                    default: "div"
                },
                icon: {
                    type: String
                },
                label: {
                    type: String
                },
                isLocked: {
                    type: Boolean,
                    default: !1
                },
                isPadded: {
                    type: Boolean,
                    default: !1
                },
                toggleCallback: {
                    type: Function
                },
                toggleState: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    offIcon: T.TOGGLE_ICON_OFF,
                    onIcon: T.TOGGLE_ICON_ON
                }
            },
            computed: {
                dataSlots: function dataSlots() {
                    return [{
                        name: "left",
                        value: (this.data || {}).WHITE
                    }, {
                        name: "right",
                        value: (this.data || {}).BLACK
                    }]
                },
                showData: function showData() {
                    return this.data || Object(Te.c)(this.$slots)
                },
                showToggle: function showToggle() {
                    return this.toggleCallback && this.data && !this.isLocked
                }
            }
        },
        mo = n(979);
    var fo = Object(Tn.a)(ho, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a(t.elementType, {
                tag: "component",
                class: [t.$style.component, (e = {}, e[t.$style.padded] = t.isPadded, e)]
            }, [a("div", {
                class: t.$style.label
            }, [t._t("label", [t.icon ? a("span", {
                class: t.$style.icon,
                domProps: {
                    innerHTML: t._s(t.icon)
                }
            }) : t._e(), t._v("\n      " + t._s(t.label) + "\n    ")])], 2), t._v(" "), t.showData ? a("div", {
                class: t.$style.data
            }, t._l(t.dataSlots, function(e) {
                return a("div", {
                    key: e.name,
                    class: t.$style.value
                }, [t._t(e.name, [t.isLocked ? a("icon-font", {
                    class: t.$style.lock,
                    attrs: {
                        name: "lock"
                    }
                }) : a("span", {
                    domProps: {
                        textContent: t._s(e.value)
                    }
                })])], 2)
            }), 0) : t._e(), t._v(" "), t.showToggle ? a("div", {
                class: [t.$style.value, t.$style.toggle]
            }, [t._t("toggle", [a("icon-toggle", {
                attrs: {
                    enabled: t.toggleState,
                    "off-icon": t.offIcon,
                    "on-icon": t.onIcon
                },
                on: {
                    toggle: t.toggleCallback
                }
            })])], 2) : t._e()])
        }, [], !1, function row_injectStyles(e) {
            this.$style = mo.default.locals || mo.default
        }, null, null).exports,
        go = {
            name: "tallies-table",
            components: {
                Row: fo
            },
            mixins: [zn.a],
            props: {
                isBordered: {
                    type: Boolean,
                    default: !0
                },
                isPadded: {
                    type: Boolean,
                    default: !0
                },
                rows: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                }
            }
        },
        bo = n(980);
    var vo = Object(Tn.a)(go, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            class: [t.componentClasses(), (e = {}, e[t.$style.bordered] = t.isBordered, e[t.$style.padded] = t.isPadded, e)]
        }, [t._t("default", t._l(t.rows, function(e, n) {
            return a("row", t._b({
                key: n,
                class: e.className
            }, "row", e, !1))
        }))], 2)
    }, [], !1, function tallies_table_injectStyles(e) {
        this.$style = bo.default.locals || bo.default
    }, null, null).exports;

    function modal_settings_oldvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function modal_settings_oldvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? modal_settings_oldvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : modal_settings_oldvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var yo = "left",
        _o = "right",
        wo = {
            name: "modal-settings",
            components: {
                FormSelect: Ua.a,
                FormSwitch: uo.a,
                IconToggle: co,
                ModalContainer: va.a,
                ModalContent: ba.a,
                Row: fo,
                SectionTitleDismissible: po.a,
                TalliesTable: vo
            },
            data: function data() {
                return {
                    linesOptions: [1, 2, 3, 4, 5],
                    timeLimitOptions: I,
                    toggleIcons: {
                        OFF: T.TOGGLE_ICON_OFF,
                        ON: T.TOGGLE_ICON_ON
                    }
                }
            },
            computed: modal_settings_oldvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isPremium: "user/isPremium",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                engineSettings: function engineSettings(e) {
                    return e.analysis.engineSettings
                },
                settings: function settings(e) {
                    return e.analysis.settings
                }
            }), {
                colorSlots: function colorSlots() {
                    return !this.userColor ? [yo] : [yo, _o]
                },
                colorToggleData: function colorToggleData() {
                    var e = this.settings.coloredClassifications;
                    return !this.userColor ? {
                        left: e[ae]
                    } : {
                        left: e[te],
                        right: e[ne]
                    }
                },
                classificationToggles: function classificationToggles() {
                    var e = this,
                        t = !this.userColor;
                    return C.map(function(n) {
                        return {
                            className: "analysis-".concat(n.key),
                            icon: n.icon ? Object(xe.a)({
                                path: n.icon,
                                size: T.CLASSIFICATION_ICON_SIZE
                            }) : null,
                            label: n.label,
                            name: n.key,
                            toggles: e.toggleSide(t, n)
                        }
                    })
                },
                fullAnalysisDepthOptions: function fullAnalysisDepthOptions() {
                    var e = this;
                    return Object.keys(r).map(function(t) {
                        var n = !e.isPremium && r[t].premiumOnly;
                        return {
                            disabled: n,
                            label: "".concat(t, " ").concat(n ? e.$trans("Premium") : ""),
                            value: t
                        }
                    })
                }
            }),
            methods: modal_settings_oldvue_type_script_lang_js_objectSpread({}, Object(Sn.mapMutations)({
                changeColorSetting: "analysis/changeColorSetting",
                changePlayerColorSetting: "analysis/changePlayerColorSetting",
                changeEngineSetting: "analysis/changeEngineSetting",
                changeSetting: "analysis/changeSetting"
            }), {
                hide: function hide() {
                    this.$refs.modalContainer.hide()
                },
                isToggleEnabled: function isToggleEnabled(e, t) {
                    return this.colorToggleData[e].enabled && t.toggles[e]
                },
                show: function show() {
                    this.$refs.modalContainer.show()
                },
                toggleSide: function toggleSide(e, t) {
                    return e ? {
                        left: this.colorToggleData.left.classifications[t.key]
                    } : {
                        left: this.colorToggleData.left.classifications[t.key],
                        right: this.colorToggleData.right.classifications[t.key]
                    }
                }
            })
        },
        Oo = n(981);
    var ko = Object(Tn.a)(wo, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-container", {
            ref: "modalContainer",
            class: e.$style.component
        }, [n("modal-content", {
            class: e.$style.modal
        }, [n("section-title-dismissible", {
            on: {
                close: e.hide
            }
        }, [e._v("\n      " + e._s(e.$trans("Analysis Settings")) + "\n    ")]), e._v(" "), n("ul", {
            class: e.$style.settings
        }, [n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Engine Time Limit"))
            }
        }), e._v(" "), n("form-select", {
            class: e.$style.select,
            attrs: {
                "label-key": "label",
                "value-key": "value",
                icon: "caret-down",
                options: e.timeLimitOptions,
                value: e.engineSettings.timeLimit
            },
            on: {
                input: function(t) {
                    return e.changeEngineSetting({
                        key: "timeLimit",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Engine Lines"))
            }
        }), e._v(" "), n("form-select", {
            class: e.$style.select,
            attrs: {
                "label-key": null,
                "value-key": null,
                icon: "caret-down",
                options: e.linesOptions,
                value: e.engineSettings.linesCount
            },
            on: {
                input: function(t) {
                    return e.changeEngineSetting({
                        key: "linesCount",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Show Move Classification On Board"))
            }
        }), e._v(" "), n("form-switch", {
            attrs: {
                name: "boardFeedbackEnabled",
                value: e.settings.boardFeedbackEnabled
            },
            on: {
                input: function(t) {
                    return e.changeSetting({
                        key: "boardFeedbackEnabled",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Show Best Move"))
            }
        }), e._v(" "), n("form-switch", {
            attrs: {
                name: "feedbackEnabled",
                value: e.settings.feedbackEnabled
            },
            on: {
                input: function(t) {
                    return e.changeSetting({
                        key: "feedbackEnabled",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Show Evaluation Bar"))
            }
        }), e._v(" "), n("form-switch", {
            attrs: {
                name: "evalBarEnabled",
                value: e.settings.evalBarEnabled
            },
            on: {
                input: function(t) {
                    return e.changeSetting({
                        key: "evalBarEnabled",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            class: e.$style.setting
        }, [n("label", {
            class: e.$style.label,
            domProps: {
                textContent: e._s(e.$trans("Move Strength Coloring"))
            }
        }), e._v(" "), n("form-switch", {
            attrs: {
                name: "colorsEnabled",
                value: e.settings.colorsEnabled
            },
            on: {
                input: function(t) {
                    return e.changeSetting({
                        key: "colorsEnabled",
                        value: t
                    })
                }
            }
        })], 1), e._v(" "), n("li", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: e.settings.colorsEnabled,
                expression: "settings.colorsEnabled"
            }],
            class: [e.$style.setting, e.$style.classifications]
        }, [n("row", {
            class: e.$style.row
        }, e._l(e.colorToggleData, function(t, a) {
            return n("span", {
                key: t.key,
                class: e.$style.player,
                attrs: {
                    slot: a
                },
                slot: a
            }, [n("span", {
                domProps: {
                    textContent: e._s(t.label)
                }
            }), e._v(" "), n("icon-toggle", {
                attrs: {
                    enabled: t.enabled,
                    "off-icon": e.toggleIcons.OFF,
                    "on-icon": e.toggleIcons.ON
                },
                on: {
                    toggle: function(n) {
                        return e.changePlayerColorSetting(t.key)
                    }
                }
            })], 1)
        }), 0), e._v(" "), e._l(e.classificationToggles, function(t) {
            return n("row", {
                key: t.name,
                class: [e.$style.row, t.className],
                attrs: {
                    icon: t.icon,
                    label: t.label
                }
            }, e._l(e.colorSlots, function(a) {
                var i;
                return n("span", {
                    key: a,
                    attrs: {
                        slot: a
                    },
                    slot: a
                }, [n("icon-toggle", {
                    class: (i = {}, i[e.$style.disabled] = !e.colorToggleData[a].enabled, i),
                    attrs: {
                        enabled: e.isToggleEnabled(a, t),
                        "off-icon": e.toggleIcons.OFF,
                        "on-icon": e.toggleIcons.ON
                    },
                    on: {
                        toggle: function(n) {
                            return e.changeColorSetting({
                                classification: t.name,
                                key: e.colorToggleData[a].key
                            })
                        }
                    }
                })], 1)
            }), 0)
        })], 2)])], 1)], 1)
    }, [], !1, function modal_settings_old_injectStyles(e) {
        this.$style = Oo.default.locals || Oo.default
    }, null, null).exports;

    function analysis_settingsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function analysis_settingsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? analysis_settingsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_settingsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var So = {
            name: "analysis-settings",
            components: {
                FormSelect: Ua.a,
                RunFullAnalysisButton: Wi
            },
            data: function data() {
                return {
                    defaultDepth: r[s.FULL],
                    linesOptions: [1, 2, 3, 4, 5],
                    timeLimitOptions: I,
                    upgradeRoute: de.upgradeMembership()
                }
            },
            computed: analysis_settingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapState)({
                engineSettings: function engineSettings(e) {
                    return e.analysis.engineSettings
                },
                optionsDisabled: function optionsDisabled(e) {
                    return !e.user.isDiamond
                },
                settings: function settings(e) {
                    return e.analysis.settings
                }
            }), {
                fullAnalysisDepthOptions: function fullAnalysisDepthOptions() {
                    var e = this;
                    return Object.keys(r).filter(function(t) {
                        return !r[t].diamondOnly || !e.optionsDisabled
                    }).map(function(e) {
                        return {
                            label: r[e].label,
                            value: e
                        }
                    })
                }
            }),
            methods: analysis_settingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapMutations)({
                changeEngineSetting: "analysis/changeEngineSetting",
                changeSetting: "analysis/changeSetting"
            }))
        },
        xo = n(982);
    var Po = Object(Tn.a)(So, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("header", [e._v("\n    " + e._s(e.$trans("Report")) + "\n  ")]), e._v(" "), e.optionsDisabled ? n("a", {
                class: e.$style.message,
                attrs: {
                    href: e.upgradeRoute
                },
                domProps: {
                    textContent: e._s(e.$trans("Upgrade to Diamond for more options"))
                }
            }) : e._e(), e._v(" "), n("ul", {
                class: e.$style.settings
            }, [e.optionsDisabled ? n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Default Depth"))
                }
            }), e._v(" "), n("span", {
                class: e.$style.inline,
                domProps: {
                    textContent: e._s(e.defaultDepth.label)
                }
            })]) : n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Full Analysis Depth"))
                }
            }), e._v(" "), n("form-select", {
                class: e.$style.select,
                attrs: {
                    options: e.fullAnalysisDepthOptions,
                    value: e.settings.fullAnalysisDepth
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: "fullAnalysisDepth",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("run-full-analysis-button", {
                attrs: {
                    "button-text": e.$trans("Run Depth 30 (3-5 min)"),
                    colored: !1,
                    depth: 30,
                    disabled: e.optionsDisabled,
                    "ignore-dark-mode": !0
                },
                on: {
                    analyze: function(t) {
                        return e.$emit("close-modal")
                    }
                }
            })], 1), e._v(" "), n("header", [e._v("\n    " + e._s(e.$trans("Move Analysis")) + "\n  ")]), e._v(" "), n("ul", {
                class: e.$style.settings
            }, [n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Engine Time Limit"))
                }
            }), e._v(" "), n("form-select", {
                class: e.$style.select,
                attrs: {
                    options: e.timeLimitOptions,
                    value: e.engineSettings.timeLimit
                },
                on: {
                    input: function(t) {
                        return e.changeEngineSetting({
                            key: "timeLimit",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Engine Lines"))
                }
            }), e._v(" "), n("form-select", {
                class: e.$style.select,
                attrs: {
                    "label-key": null,
                    "value-key": null,
                    options: e.linesOptions,
                    value: e.engineSettings.linesCount
                },
                on: {
                    input: function(t) {
                        return e.changeEngineSetting({
                            key: "linesCount",
                            value: t
                        })
                    }
                }
            })], 1)])])
        }, [], !1, function analysis_settings_injectStyles(e) {
            this.$style = xo.default.locals || xo.default
        }, null, null).exports,
        Co = n(570);

    function ui_settingsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function ui_settingsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ui_settingsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ui_settingsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Mo = "left",
        To = "right",
        Eo = {
            name: "ui-settings",
            components: {
                FormSwitch: uo.a,
                IconToggle: co,
                Row: fo,
                TalliesTable: vo
            },
            data: function data() {
                return {
                    toggleIcons: {
                        OFF: T.TOGGLE_ICON_OFF,
                        ON: T.TOGGLE_ICON_ON
                    }
                }
            },
            computed: ui_settingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                settings: function settings(e) {
                    return e.analysis.settings
                }
            }), {
                colorSlots: function colorSlots() {
                    return !this.userColor ? [Mo] : [Mo, To]
                },
                colorToggleData: function colorToggleData() {
                    var e = this.settings.coloredClassifications;
                    return !this.userColor ? {
                        left: e[ae]
                    } : {
                        left: e[te],
                        right: e[ne]
                    }
                },
                classificationToggles: function classificationToggles() {
                    var e = this,
                        t = !this.userColor;
                    return C.map(function(n) {
                        return {
                            className: "analysis-".concat(n.key),
                            icon: n.icon ? Object(xe.a)({
                                path: n.icon,
                                size: T.CLASSIFICATION_ICON_SIZE
                            }) : null,
                            label: n.label,
                            name: n.key,
                            toggles: e.toggleSide(t, n)
                        }
                    })
                }
            }),
            methods: ui_settingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapMutations)({
                changeColorSetting: "analysis/changeColorSetting",
                changePlayerColorSetting: "analysis/changePlayerColorSetting",
                changeSetting: "analysis/changeSetting"
            }), {
                isToggleEnabled: function isToggleEnabled(e, t) {
                    return this.colorToggleData[e].enabled && t.toggles[e]
                },
                toggleSide: function toggleSide(e, t) {
                    return e ? {
                        left: this.colorToggleData.left.classifications[t.key]
                    } : {
                        left: this.colorToggleData.left.classifications[t.key],
                        right: this.colorToggleData.right.classifications[t.key]
                    }
                }
            })
        },
        Ao = n(983);
    var jo, Lo = Object(Tn.a)(Eo, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("ul", {
                class: e.$style.component
            }, [n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Show Move Classification On Board"))
                }
            }), e._v(" "), n("form-switch", {
                attrs: {
                    name: "boardFeedbackEnabled",
                    value: e.settings.boardFeedbackEnabled
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: "boardFeedbackEnabled",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Show Best Move"))
                }
            }), e._v(" "), n("form-switch", {
                attrs: {
                    name: "feedbackEnabled",
                    value: e.settings.feedbackEnabled
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: "feedbackEnabled",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Show Evaluation Bar"))
                }
            }), e._v(" "), n("form-switch", {
                attrs: {
                    name: "evalBarEnabled",
                    value: e.settings.evalBarEnabled
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: "evalBarEnabled",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("li", {
                class: e.$style.setting
            }, [n("label", {
                class: e.$style.label,
                domProps: {
                    textContent: e._s(e.$trans("Move Strength Coloring"))
                }
            }), e._v(" "), n("form-switch", {
                attrs: {
                    name: "colorsEnabled",
                    value: e.settings.colorsEnabled
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: "colorsEnabled",
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("li", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.settings.colorsEnabled,
                    expression: "settings.colorsEnabled"
                }],
                class: [e.$style.setting, e.$style.classifications]
            }, [n("row", {
                class: e.$style.row
            }, e._l(e.colorToggleData, function(t, a) {
                return n("span", {
                    key: t.key,
                    class: e.$style.player,
                    attrs: {
                        slot: a
                    },
                    slot: a
                }, [n("span", {
                    domProps: {
                        textContent: e._s(t.label)
                    }
                }), e._v(" "), n("icon-toggle", {
                    attrs: {
                        enabled: t.enabled,
                        "off-icon": e.toggleIcons.OFF,
                        "on-icon": e.toggleIcons.ON
                    },
                    on: {
                        toggle: function(n) {
                            return e.changePlayerColorSetting(t.key)
                        }
                    }
                })], 1)
            }), 0), e._v(" "), e._l(e.classificationToggles, function(t) {
                return n("row", {
                    key: t.name,
                    class: [e.$style.row, t.className],
                    attrs: {
                        icon: t.icon,
                        label: t.label
                    }
                }, e._l(e.colorSlots, function(a) {
                    var i;
                    return n("span", {
                        key: a,
                        attrs: {
                            slot: a
                        },
                        slot: a
                    }, [n("icon-toggle", {
                        class: (i = {}, i[e.$style.disabled] = !e.colorToggleData[a].enabled, i),
                        attrs: {
                            enabled: e.isToggleEnabled(a, t),
                            "off-icon": e.toggleIcons.OFF,
                            "on-icon": e.toggleIcons.ON
                        },
                        on: {
                            toggle: function(n) {
                                return e.changeColorSetting({
                                    classification: t.name,
                                    key: e.colorToggleData[a].key
                                })
                            }
                        }
                    })], 1)
                }), 0)
            })], 2)])
        }, [], !1, function ui_settings_injectStyles(e) {
            this.$style = Ao.default.locals || Ao.default
        }, null, null).exports,
        Do = [{
            icon: "comp-analysis",
            label: o.a.trans("View your game report")
        }, {
            icon: "chess-board-search",
            label: o.a.trans("Explore best lines and variations")
        }, {
            icon: "undo",
            label: o.a.trans("Retry mistakes from the game")
        }],
        No = {
            ANALYSIS: "Analysis",
            BOARD: "Board",
            UI: "UI"
        },
        Io = (jo = {}, S()(jo, No.ANALYSIS, {
            icon: "chess-board-search",
            label: o.a.trans("Analysis")
        }), S()(jo, No.UI, {
            icon: "web-view",
            label: o.a.trans("Interface")
        }), S()(jo, No.BOARD, {
            icon: "chess-board-alt",
            label: o.a.trans("Board")
        }), jo),
        $o = [{
            icon: "chip",
            label: o.a.trans("2x the Depth"),
            sublabel: "<s>".concat(o.a.trans("Depth"), " 10</s> <span>").concat(o.a.trans("Depth"), " 20!</span>")
        }, {
            icon: "comp-analysis",
            label: o.a.trans("Full Report & Accuracy Score")
        }, {
            icon: "undo",
            label: o.a.trans("Retry Mistakes")
        }, {
            icon: "chess-move-alt",
            label: o.a.trans("Personalized Training")
        }],
        Bo = {
            name: "modal-settings",
            components: {
                AnalysisSettings: Po,
                BoardSettings: Co.a,
                IconFont: In.a,
                ModalContainer: va.a,
                ModalContent: ba.a,
                SectionTitleDismissible: po.a,
                TabItem: Fn,
                UiSettings: Lo
            },
            data: function data() {
                return {
                    activeTab: No.ANALYSIS,
                    tabKeys: Object.freeze(No),
                    tabs: Object.freeze(Io)
                }
            },
            methods: {
                hide: function hide() {
                    this.$refs.modalContainer.hide()
                },
                setActiveTab: function setActiveTab(e) {
                    this.activeTab = e
                },
                show: function show() {
                    this.$refs.modalContainer.show()
                },
                tabIsActive: function tabIsActive(e) {
                    return e === this.activeTab
                }
            }
        },
        Ro = n(984);
    var Fo = Object(Tn.a)(Bo, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-container", {
            ref: "modalContainer",
            class: e.$style.component,
            attrs: {
                "outside-close-icon": !0
            }
        }, [n("modal-content", {
            class: e.$style.modal
        }, [n("icon-font", {
            class: e.$style.close,
            attrs: {
                name: "x"
            },
            on: {
                click: e.hide
            }
        }), e._v(" "), n("header", {
            class: e.$style.tabs
        }, e._l(e.tabs, function(t, a) {
            return n("tab-item", {
                key: a,
                class: [e.$style.tab],
                attrs: {
                    icon: t.icon,
                    "is-active": e.tabIsActive(a),
                    label: t.label,
                    name: a
                },
                on: {
                    click: function() {
                        return e.setActiveTab(a)
                    }
                }
            })
        }), 1), e._v(" "), e.tabIsActive(e.tabKeys.ANALYSIS) ? n("analysis-settings", {
            on: {
                "close-modal": e.hide
            }
        }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.BOARD) ? n("board-settings", {
            attrs: {
                "options-only": !0
            }
        }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.UI) ? n("ui-settings") : e._e()], 1)], 1)
    }, [], !1, function modal_settings_injectStyles(e) {
        this.$style = Ro.default.locals || Ro.default
    }, null, null).exports;

    function optionsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function optionsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? optionsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : optionsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var zo = {
            name: "analysis-options",
            components: {
                EngineSettingsDialog: io,
                FormCheckbox: ro.a,
                IconFont: In.a
            },
            directives: {
                Tooltip: Gn.a
            },
            mixins: [Zn.a],
            computed: optionsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                canViewAnalysis: "analysis/canViewAnalysis",
                currentPosition: "analysis/currentPosition",
                isSelfAnalysis: "analysis/isSelfAnalysis"
            }), {}, Object(Sn.mapState)({
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                settings: function settings(e) {
                    return e.analysis.settings
                }
            }), {
                currentDepth: function currentDepth() {
                    var e = (this.currentPosition.playedMove || {}).depth,
                        t = (oo.evaluation[0] || {}).depth;
                    return e || t
                },
                depthText: function depthText() {
                    if (this.currentDepth && !this.engineDisabled) return "".concat(this.$trans("depth"), "=").concat(this.currentDepth)
                },
                linesEnabled: function linesEnabled() {
                    return !this.engineDisabled && this.settings[this.linesKey]
                },
                linesKey: function linesKey() {
                    return this.isSelfAnalysis ? "selfAnalysisLinesEnabled" : "fullAnalysisLinesEnabled"
                }
            }),
            methods: optionsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                initFullAnalysis: "analysis/initFullAnalysis",
                initSelfAnalysis: "analysis/initSelfAnalysis"
            }), {}, Object(Sn.mapMutations)({
                changeSetting: "analysis/changeSetting"
            }), {
                toggleAnalysisType: function toggleAnalysisType(e) {
                    return e ? this.initSelfAnalysis() : this.initFullAnalysis({
                        shouldSave: !0
                    })
                },
                toggleSettingsDialog: function toggleSettingsDialog() {
                    kn({
                        component: ke("analysis_settings_modal") ? Fo : ko,
                        mount: K
                    })
                }
            })
        },
        Uo = n(985);
    var Go = Object(Tn.a)(zo, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("div", {
                class: e.$style.bar
            }, [n("div", [n("form-checkbox", {
                class: e.$style.checkbox,
                attrs: {
                    name: "self-analysis",
                    disabled: !e.canViewAnalysis,
                    label: e.$trans("Self Analysis"),
                    value: e.isSelfAnalysis
                },
                on: {
                    input: e.toggleAnalysisType
                }
            }), e._v(" "), n("form-checkbox", {
                class: e.$style.checkbox,
                attrs: {
                    name: "lines",
                    disabled: e.engineDisabled,
                    label: e.$trans("Show Lines"),
                    value: e.linesEnabled
                },
                on: {
                    input: function(t) {
                        return e.changeSetting({
                            key: e.linesKey,
                            value: t
                        })
                    }
                }
            })], 1), e._v(" "), n("div", {
                class: e.$style.right
            }, [e.depthText ? n("div", {
                class: e.$style.depth,
                domProps: {
                    textContent: e._s(e.depthText)
                }
            }) : e._e(), e._v(" "), n("icon-font", {
                directives: [{
                    name: "tooltip",
                    rawName: "v-tooltip",
                    value: e.$trans("Settings"),
                    expression: "$trans('Settings')"
                }],
                class: e.$style.icon,
                attrs: {
                    name: "circle-gearwheel"
                },
                on: {
                    click: e.toggleSettingsDialog
                }
            })], 1)])])
        }, [], !1, function options_injectStyles(e) {
            this.$style = Uo.default.locals || Uo.default
        }, null, null).exports,
        Ho = {
            name: "accordion",
            components: {
                IconFont: In.a
            },
            mixins: [zn.a],
            props: {
                actionIcon: {
                    type: String
                },
                contentClass: {
                    type: [String, Array],
                    default: ""
                },
                headerIcon: {
                    type: String
                },
                headerText: {
                    type: String
                },
                isOpen: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: {
                iconRight: function iconRight() {
                    return this.actionIcon || this.caretIcon
                },
                caretIcon: function caretIcon() {
                    return "caret-".concat(this.isOpen ? "down" : "right")
                }
            },
            methods: {
                handleActionIconClick: function handleActionIconClick() {
                    this.actionIcon ? this.$emit("action-click") : this.$emit("header-click")
                }
            }
        },
        Vo = n(986);
    var Wo = Object(Tn.a)(Ho, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("div", {
                class: t.componentClasses()
            }, [a("div", {
                class: t.$style.heading
            }, [a("a", {
                class: t.$style.trigger,
                on: {
                    click: function(e) {
                        return t.$emit("header-click")
                    }
                }
            }, [t.headerIcon ? a("icon-font", {
                class: [t.$style.icon, t.$style.big],
                attrs: {
                    "is-dark-mode": t.isDarkMode,
                    name: t.headerIcon
                }
            }) : t._e(), t._v(" "), a("span", {
                domProps: {
                    textContent: t._s(t.headerText)
                }
            }), t._v(" "), a("icon-font", {
                class: [t.$style.icon, t.$style.right],
                attrs: {
                    "is-dark-mode": t.isDarkMode,
                    name: t.iconRight
                },
                on: {
                    click: function(e) {
                        return e.stopPropagation(), t.handleActionIconClick(e)
                    }
                }
            })], 1)]), t._v(" "), a("section", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.isOpen,
                    expression: "isOpen"
                }],
                class: [t.contentClass, t.$style.content, (e = {}, e[t.$style.open] = t.isOpen, e)]
            }, [t._t("default")], 2)])
        }, [], !1, function accordion_injectStyles(e) {
            this.$style = Vo.default.locals || Vo.default
        }, null, null).exports,
        Ko = n(109),
        qo = {
            name: "initial-view",
            props: {
                contentClass: {
                    type: String,
                    default: ""
                },
                prompt: {
                    type: String,
                    default: o.a.trans("Make moves or...")
                }
            }
        },
        Yo = n(987);
    var Xo = Object(Tn.a)(qo, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [e.prompt ? n("div", {
                class: [e.$style.text, e.contentClass],
                domProps: {
                    textContent: e._s(e.prompt)
                }
            }) : e._e(), e._v(" "), e._t("default")], 2)
        }, [], !1, function initial_view_injectStyles(e) {
            this.$style = Yo.default.locals || Yo.default
        }, null, null).exports,
        Qo = {
            name: "load-fen",
            components: {
                FormInput: Un.a,
                FormButton: qn.a
            },
            mixins: [zn.a],
            data: function data() {
                return {
                    fen: ""
                }
            }
        },
        Zo = n(988);
    var Jo = Object(Tn.a)(Qo, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("form-input", {
                attrs: {
                    "aria-label": e.$trans("Paste FEN"),
                    "is-dark-mode": e.isDarkMode,
                    placeholder: e.$trans("Paste FEN")
                },
                model: {
                    value: e.fen,
                    callback: function(t) {
                        e.fen = t
                    },
                    expression: "fen"
                }
            }), e._v(" "), n("form-button", {
                class: e.$style.button,
                attrs: {
                    size: "large",
                    theme: "primary"
                },
                domProps: {
                    textContent: e._s(e.$trans("Load"))
                },
                nativeOn: {
                    click: function(t) {
                        return e.$emit("load", e.fen)
                    }
                }
            })], 1)
        }, [], !1, function load_fen_injectStyles(e) {
            this.$style = Zo.default.locals || Zo.default
        }, null, null).exports,
        er = {
            name: "load-pgn",
            components: {
                FormTextarea: Ma.a,
                FormButton: qn.a
            },
            mixins: [zn.a],
            props: {
                multiPgn: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    pgn: ""
                }
            },
            computed: {
                buttonText: function buttonText() {
                    return this.multiPgn ? this.$trans("Insert") : this.$trans("Load")
                },
                placeholder: function placeholder() {
                    return this.multiPgn ? this.$trans("Paste PGNs") : this.$trans("Paste PGN")
                }
            }
        },
        tr = n(989);
    var nr = Object(Tn.a)(er, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("form-textarea", {
            class: [e.$style.textarea, [e.multiPgn ? [e.$style.multi] : [e.$style.pgn]]],
            attrs: {
                "aria-label": e.placeholder,
                "is-dark-mode": e.isDarkMode,
                placeholder: e.placeholder
            },
            model: {
                value: e.pgn,
                callback: function(t) {
                    e.pgn = t
                },
                expression: "pgn"
            }
        }), e._v(" "), n("form-button", {
            class: e.$style.button,
            attrs: {
                size: "large",
                theme: "primary"
            },
            domProps: {
                textContent: e._s(e.buttonText)
            },
            nativeOn: {
                click: function(t) {
                    return e.$emit("load", e.pgn)
                }
            }
        })], 1)
    }, [], !1, function load_pgn_injectStyles(e) {
        this.$style = tr.default.locals || tr.default
    }, null, null).exports;

    function board_section_mixin_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function board_section_mixin_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? board_section_mixin_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : board_section_mixin_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var ar = {
            components: {
                Accordion: Wo
            },
            mixins: [Zn.a],
            props: {
                component: {
                    type: String
                },
                headerIcon: {
                    type: String
                },
                headerText: {
                    type: String
                },
                tabKey: {
                    type: String
                }
            },
            computed: board_section_mixin_objectSpread({}, Object(Sn.mapGetters)({
                isSetupBoardSection: "analysis/isSetupBoardSection"
            }), {}, Object(Sn.mapState)({
                active: function active(e) {
                    return e.analysis.activeBoardSection
                }
            }), {
                isOpen: function isOpen() {
                    return this.active === this.tabKey
                }
            }),
            methods: board_section_mixin_objectSpread({}, Object(Sn.mapActions)({
                changeSettings: "game/changeSettings",
                updateOpenBoardTabSection: "analysis/updateOpenBoardTabSection"
            }), {}, Object(Sn.mapMutations)({
                setSelfAnalysisLoaded: "analysis/setSelfAnalysisLoaded"
            }))
        },
        ir = {
            name: "basic-board-tab-section",
            components: {
                LoadFen: Jo,
                LoadPgn: nr
            },
            mixins: [ar]
        },
        or = n(990);
    var rr = Object(Tn.a)(ir, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("accordion", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.isSetupBoardSection,
                expression: "!isSetupBoardSection"
            }],
            class: [t.$style.accordion, (e = {}, e[t.$style.expand] = t.isOpen && "PGN" === t.tabKey, e)],
            attrs: {
                "header-icon": t.headerIcon,
                "header-text": t.headerText,
                "is-dark-mode": t.isDarkMode,
                "is-open": t.isOpen
            },
            on: {
                "header-click": function(e) {
                    return t.updateOpenBoardTabSection(t.tabKey)
                }
            }
        }, [a(t.component, t._g({
            tag: "component",
            attrs: {
                "is-dark-mode": t.isDarkMode
            }
        }, t.$listeners))], 1)
    }, [], !1, function basic_section_injectStyles(e) {
        this.$style = or.default.locals || or.default
    }, null, null).exports;

    function setup_contentvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function setup_contentvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? setup_contentvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : setup_contentvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var sr = {
            name: "setup-content",
            components: {
                DroppablePieces: n(671).a,
                FormCheckbox: ro.a,
                FormInput: Un.a,
                FormSelect: Ua.a,
                FormTextarea: Ma.a
            },
            directives: {
                tooltip: Gn.a
            },
            mixins: [zn.a],
            props: {
                droppablePieceSize: {
                    type: Number,
                    default: 43
                },
                pgnReadOnly: {
                    type: Boolean,
                    default: !0
                },
                useBoardModule: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    castlingRules: nn.c,
                    enPassantBlackOptions: Object.freeze(nn.h),
                    enPassantWhiteOptions: Object.freeze(nn.i),
                    localPgn: "",
                    showAdvancedOptions: !1,
                    toMoveOptions: nn.q
                }
            },
            computed: setup_contentvue_type_script_lang_js_objectSpread({}, Object(Sn.mapState)({
                game: function game(e) {
                    return e.game
                },
                boardID: function boardID(e) {
                    return e.board.boardId
                },
                boardOptions: function boardOptions(e) {
                    return e[this.useBoardModule ? "board" : "diagramEditor"].boardOptions
                },
                castling: function castling(e) {
                    return e.game.setup.castling
                },
                fen: function fen(e) {
                    return e.game.setup.fen
                },
                localFen: function localFen(e) {
                    return e.diagramEditor.localFen
                },
                pgn: function pgn(e) {
                    return e.game.pgn
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders
                },
                selectedSetupTab: function selectedSetupTab(e) {
                    return e.diagramEditor.selectedSetupTab
                },
                sideToMove: function sideToMove(e) {
                    return e.game.setup.sideToMove
                }
            }), {
                enPassantVariations: function enPassantVariations() {
                    return this.splittedFen[1] === nn.e.WHITE ? this.enPassantWhiteOptions : this.enPassantBlackOptions
                },
                fullMoveCount: function fullMoveCount() {
                    return this.splittedFen[5] || nn.f.FULLMOVE_DEFAULT
                },
                halfMoveClock: function halfMoveClock() {
                    return this.splittedFen[4] || nn.f.HALFMOVE_DEFAULT
                },
                selectChevron: function selectChevron() {
                    return this.showAdvancedOptions ? nn.m.CHEVRON_UP : nn.m.CHEVRON_BOTTOM
                },
                splittedFen: function splittedFen() {
                    return this.fen.split(" ")
                }
            }),
            watch: {
                castlingRules: {
                    handler: function handler() {
                        var e = this,
                            t = "";
                        Object.keys(this.castlingRules).forEach(function(n) {
                            e.castlingRules[n] && (t += n)
                        }), this.splittedFen[2] = t.length > 0 ? t : nn.f.DEFAULT, this.updatedFen(this.splittedFen)
                    },
                    deep: !0
                },
                pgn: {
                    handler: function handler() {
                        this.localPgn = this.pgn
                    },
                    immediate: !0
                }
            },
            mounted: function mounted() {
                this.setupBoard(), this.setupCastlingRules()
            },
            methods: setup_contentvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                changeSettings: "game/changeSettings",
                clearBoard: "game/clearBoard",
                getPgn: "game/getPgn",
                getPgnHeaders: "game/getPgnHeaders",
                loadFromFen: "game/loadFromFen",
                makeMove: "diagramEditor/makeMove",
                resetGame: "game/resetGame"
            }), {}, Object(Sn.mapMutations)("diagramEditor", ["setBoardOption", "setLocalFen", "setPgn", "setPgnHeader", "setPgnHeaders"]), {
                changeCastlingRule: function changeCastlingRule(e, t) {
                    this.castlingRules[e] = t
                },
                changeColorToPlay: function changeColorToPlay(e) {
                    this.splittedFen[1] = e === nn.d.WHITE ? nn.e.WHITE : nn.e.BLACK, this.updatedFen(this.splittedFen)
                },
                eraseBoard: function eraseBoard() {
                    this.changeSettings({
                        rules: !1
                    }), this.clearBoard(), this.changeCastlingRule(nn.b.K, !1), this.changeCastlingRule(nn.b.Q, !1), this.changeCastlingRule(nn.b.k, !1), this.changeCastlingRule(nn.b.q, !1)
                },
                flipBoard: function flipBoard() {
                    var e = {
                        option: "flipBoard",
                        value: !this.boardOptions.flipBoard
                    };
                    return this.useBoardModule ? this.$store.commit("board/setOption", e) : this.setBoardOption(e)
                },
                handleEnPassantSquare: function handleEnPassantSquare(e) {
                    this.splittedFen[3] = e, this.updatedFen(this.splittedFen)
                },
                handleFullMoveCount: function handleFullMoveCount(e) {
                    this.splittedFen[5] = e, this.updatedFen(this.splittedFen)
                },
                handleHalfMoveClock: function handleHalfMoveClock(e) {
                    this.splittedFen[4] = e, this.updatedFen(this.splittedFen)
                },
                handlePgnBlur: function handlePgnBlur() {
                    this.localPgn !== this.pgn && (! function isPgnValid(e) {
                        return !1 !== Ut.default.pgnToJson(e, 0)
                    }(this.localPgn) ? this.localPgn = this.pgn : this.$emit("load-pgn", this.localPgn))
                },
                handlePgnChange: function handlePgnChange(e) {
                    this.localPgn = e
                },
                handleFenChange: function handleFenChange(e) {
                    var t = this;
                    this.setLocalFen(e), this.$nextTick(function() {
                        t.loadFromFen(e), t.updateGameDetails()
                    })
                },
                onDropPiece: function onDropPiece(e) {
                    this.makeMove({
                        from: null,
                        to: e.fileRank,
                        put: e.pieceType
                    })
                },
                resetBoard: function resetBoard() {
                    this.resetGame(), this.changeSettings({
                        rules: !1
                    })
                },
                setupBoard: function setupBoard() {
                    this.setLocalFen(this.fen), this.getPgnHeaders(), this.setPgnHeaders(this.pgnHeaders), this.setPgn(this.pgn)
                },
                setupCastlingRules: function setupCastlingRules() {
                    this.castlingRules = {
                        K: this.castling.includes(nn.b.K),
                        Q: this.castling.includes(nn.b.Q),
                        k: this.castling.includes(nn.b.k),
                        q: this.castling.includes(nn.b.q)
                    }
                },
                toggleAdvancedOptions: function toggleAdvancedOptions() {
                    this.showAdvancedOptions = !this.showAdvancedOptions
                },
                updatedFen: function updatedFen(e) {
                    var t = e.join(" ");
                    this.loadFromFen(t), this.updateGameDetails()
                },
                updateGameDetails: function updateGameDetails() {
                    this.getPgn(), this.setLocalFen(this.fen)
                }
            })
        },
        lr = n(991);
    var cr = Object(Tn.a)(sr, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("div", {
            class: e.$style.top
        }, [n("droppable-pieces", {
            attrs: {
                "board-id": e.boardID,
                flipped: e.boardOptions.flipBoard,
                game: e.game,
                "piece-style": e.boardOptions.pieceStyle,
                size: e.droppablePieceSize
            },
            on: {
                "droppablePieces-dropPiece": e.onDropPiece
            }
        })], 1), e._v(" "), n("div", {
            class: e.$style.bottom
        }, [n("div", {
            class: [e.$style.flex, e.$style.stretch, e.$style.options]
        }, [n("form-select", {
            class: e.$style.select,
            attrs: {
                "aria-label": e.$trans("Color to play"),
                options: e.toMoveOptions
            },
            on: {
                input: e.changeColorToPlay
            }
        }), e._v(" "), n("div", {
            class: e.$style.controls
        }, [n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.$trans("Flip Board"),
                expression: "$trans('Flip Board')"
            }],
            class: e.$style.iconized,
            on: {
                click: function(t) {
                    return e.flipBoard()
                }
            }
        }, [n("div", {
            staticClass: "icon-font-chess repeat"
        })]), e._v(" "), n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.$trans("Reset Board"),
                expression: "$trans('Reset Board')"
            }],
            class: e.$style.iconized,
            on: {
                click: function(t) {
                    return e.resetBoard()
                }
            }
        }, [n("div", {
            staticClass: "icon-font-chess undo"
        })]), e._v(" "), n("a", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: e.$trans("Clear Board"),
                expression: "$trans('Clear Board')"
            }],
            class: e.$style.iconized,
            on: {
                click: function(t) {
                    return e.eraseBoard()
                }
            }
        }, [n("div", {
            staticClass: "icon-font-chess trash"
        })])])], 1), e._v(" "), n("div", {
            class: [e.$style.stretch, e.$style.labels]
        }, [n("label", {
            class: e.$style.colortitle
        }, [n("span", {
            domProps: {
                textContent: e._s(e.$trans("White"))
            }
        })]), e._v(" "), n("label", {
            class: e.$style.colortitle
        }, [n("span", {
            domProps: {
                textContent: e._s(e.$trans("Black"))
            }
        })]), e._v(" "), n("label", [n("form-checkbox", {
            attrs: {
                label: "(O-O)",
                name: "castling-rule-K",
                value: e.castlingRules.K
            },
            on: {
                input: function(t) {
                    for (var n = arguments.length, a = Array(n); n--;) a[n] = arguments[n];
                    return e.changeCastlingRule.apply(void 0, ["K"].concat(a))
                }
            }
        })], 1), e._v(" "), n("label", [n("form-checkbox", {
            attrs: {
                label: "(O-O)",
                name: "castling-rule-k",
                value: e.castlingRules.k
            },
            on: {
                input: function(t) {
                    for (var n = arguments.length, a = Array(n); n--;) a[n] = arguments[n];
                    return e.changeCastlingRule.apply(void 0, ["k"].concat(a))
                }
            }
        })], 1), e._v(" "), n("label", [n("form-checkbox", {
            attrs: {
                label: "(O-O-O)",
                name: "castling-rule-Q",
                value: e.castlingRules.Q
            },
            on: {
                input: function(t) {
                    for (var n = arguments.length, a = Array(n); n--;) a[n] = arguments[n];
                    return e.changeCastlingRule.apply(void 0, ["Q"].concat(a))
                }
            }
        })], 1), e._v(" "), n("label", [n("form-checkbox", {
            attrs: {
                label: "(O-O-O)",
                name: "castling-rule-q",
                value: e.castlingRules.q
            },
            on: {
                input: function(t) {
                    for (var n = arguments.length, a = Array(n); n--;) a[n] = arguments[n];
                    return e.changeCastlingRule.apply(void 0, ["q"].concat(a))
                }
            }
        })], 1)]), e._v(" "), n("div", {
            class: e.$style.advanced
        }, [n("button", {
            class: e.$style["toggle-button"],
            attrs: {
                type: "button"
            },
            on: {
                click: e.toggleAdvancedOptions
            }
        }, [e._v("\n        " + e._s(e.$trans("Advanced")) + "\n\n        "), n("div", {
            staticClass: "icon-font-chess",
            class: [e.$style["toggle-icon"], e.selectChevron]
        })]), e._v(" "), e.showAdvancedOptions ? n("div", {
            class: e.$style["advanced-container"]
        }, [n("div", {
            class: e.$style["advanced-item"]
        }, [n("span", {
            domProps: {
                textContent: e._s(e.$trans("En passant square"))
            }
        }), e._v(" "), n("form-select", {
            class: [e.$style.select, e.$style["advanced-input"]],
            attrs: {
                "aria-label": e.$trans("En passant square"),
                options: e.enPassantVariations
            },
            on: {
                input: e.handleEnPassantSquare
            }
        })], 1), e._v(" "), n("div", {
            class: e.$style["advanced-item"]
        }, [n("span", {
            domProps: {
                textContent: e._s(e.$trans("Halfmove clock"))
            }
        }), e._v(" "), n("form-input", {
            class: e.$style["advanced-input"],
            attrs: {
                id: "halfMove",
                placeholder: e.$trans("Halfmove clock"),
                value: e.halfMoveClock
            },
            on: {
                input: e.handleHalfMoveClock
            }
        })], 1), e._v(" "), n("div", {
            class: e.$style["advanced-item"]
        }, [n("span", {
            domProps: {
                textContent: e._s(e.$trans("Fullmove count"))
            }
        }), e._v(" "), n("form-input", {
            class: e.$style["advanced-input"],
            attrs: {
                id: "fullMove",
                placeholder: e.$trans("Fullmove count"),
                value: e.fullMoveCount
            },
            on: {
                input: e.handleFullMoveCount
            }
        })], 1)]) : e._e()]), e._v(" "), n("div", {
            class: e.$style.stretch
        }, [n("form-input", {
            attrs: {
                id: "fen",
                placeholder: e.$trans("Enter FEN"),
                value: e.localFen
            },
            on: {
                input: e.handleFenChange
            }
        })], 1), e._v(" "), n("div", {
            class: [e.$style.stretch, e.$style.textwrap]
        }, [n("form-textarea", {
            class: e.$style.textarea,
            attrs: {
                placeholder: e.$trans("Enter PGN"),
                readonly: e.pgnReadOnly,
                value: e.localPgn
            },
            on: {
                blur: e.handlePgnBlur,
                input: e.handlePgnChange
            }
        })], 1)])])
    }, [], !1, function setup_content_injectStyles(e) {
        this.$style = lr.default.locals || lr.default
    }, null, null).exports;

    function setup_sectionvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function setup_sectionvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? setup_sectionvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : setup_sectionvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var ur = {
            name: "setup",
            components: {
                FormButton: qn.a,
                SetupContent: cr
            },
            mixins: [ar, Zn.a, function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100;
                return {
                    data: function data() {
                        return {
                            throttledResizeHandler: null
                        }
                    },
                    mounted: function mounted() {
                        this.throttledResizeHandler = Object(Pn.a)(this.handleResizeEvent, e), window.addEventListener("resize", this.throttledResizeHandler)
                    },
                    destroyed: function destroyed() {
                        window.removeEventListener("resize", this.throttledResizeHandler)
                    }
                }
            }()],
            data: function data() {
                return {
                    droppablePieceSize: 43
                }
            },
            computed: setup_sectionvue_type_script_lang_js_objectSpread({}, Object(Sn.mapState)({
                pgn: function pgn(e) {
                    return e.game.pgn
                }
            }), {
                actionIcon: function actionIcon() {
                    return this.isOpen ? "x" : null
                }
            }),
            mounted: function mounted() {
                this.handleResizeEvent()
            },
            methods: setup_sectionvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                getPgn: "game/getPgn",
                resetGame: "game/resetGame",
                updateOpenBoardTabSection: "analysis/updateOpenBoardTabSection"
            }), {
                closeSetup: function closeSetup() {
                    this.resetGame(), this.updateOpenBoardTabSection(), this.getPgn()
                },
                handleHeaderClick: function handleHeaderClick() {
                    this.isOpen || this.updateOpenBoardTabSection(this.tabKey)
                },
                handleResizeEvent: function handleResizeEvent() {
                    var e = function findParentWithSize(e) {
                            return e && e.parentElement ? e.parentElement.clientWidth > 0 ? e.parentElement : findParentWithSize(e.parentElement) : null
                        }(this.$el),
                        t = Object(xn.g)(e).width;
                    this.droppablePieceSize = (t - 40) / 6
                }
            })
        },
        dr = n(992);

    function board_setupvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function board_setupvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? board_setupvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : board_setupvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var pr = {
            name: "board-setup",
            components: {
                Accordion: Wo,
                BasicSection: rr,
                InitialView: Xo,
                SetupSection: Object(Tn.a)(ur, function() {
                    var e, t = this,
                        n = t.$createElement,
                        a = t._self._c || n;
                    return a("accordion", {
                        class: [t.$style.accordion, t.componentClasses(), (e = {}, e[t.$style.open] = t.isOpen, e)],
                        attrs: {
                            "action-icon": t.actionIcon,
                            "content-class": t.$style.wrapper,
                            "header-icon": t.headerIcon,
                            "header-text": t.headerText,
                            "is-dark-mode": t.isDarkMode,
                            "is-open": t.isOpen
                        },
                        on: {
                            "action-click": t.closeSetup,
                            "header-click": t.handleHeaderClick
                        }
                    }, [a("setup-content", {
                        class: t.$style.content,
                        attrs: {
                            "droppable-piece-size": t.droppablePieceSize,
                            "is-dark-mode": t.isDarkMode,
                            "pgn-read-only": !1,
                            "use-board-module": !0
                        },
                        on: {
                            "load-pgn": function(e) {
                                return t.$emit("load", e)
                            }
                        }
                    }), t._v(" "), a("section", {
                        class: t.$style.section
                    }, [a("form-button", {
                        class: t.$style.button,
                        attrs: {
                            size: "large",
                            theme: "primary"
                        },
                        nativeOn: {
                            click: function(e) {
                                return t.$emit("load", t.pgn)
                            }
                        }
                    }, [t._v("\n      " + t._s(t.$trans("Load")) + "\n    ")])], 1)], 1)
                }, [], !1, function setup_section_injectStyles(e) {
                    this.$style = dr.default.locals || dr.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            computed: board_setupvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isSetupBoardSection: "analysis/isSetupBoardSection"
            }), {}, Object(Sn.mapState)({
                gameId: function gameId(e) {
                    return e.analysis.gameId
                }
            }), {
                initialViewPrompt: function initialViewPrompt() {
                    if (this.isSetupBoardSection) return ""
                },
                showLoadPrevious: function showLoadPrevious() {
                    return !this.isSetupBoardSection && !this.gameId && Ko.default.get(ye, null)
                }
            }),
            methods: board_setupvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                updateOpenBoardTabSection: "analysis/updateOpenBoardTabSection",
                loadFromCache: "analysis/loadFromCache",
                loadFromFen: "analysis/loadFromFen",
                loadFromPgn: "analysis/loadFromPgn"
            }), {}, Object(Sn.mapMutations)({
                setSelfAnalysisLoaded: "analysis/setSelfAnalysisLoaded"
            }), {
                handleLoadClick: function handleLoadClick(e, t) {
                    t(e), this.setSelfAnalysisLoaded(!0), this.updateOpenBoardTabSection()
                }
            })
        },
        hr = n(993);
    var mr = Object(Tn.a)(pr, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("initial-view", {
                class: e.componentClasses(),
                attrs: {
                    "content-class": e.$style.prompt,
                    prompt: e.initialViewPrompt
                }
            }, [n("setup-section", {
                class: e.$style.section,
                attrs: {
                    "header-icon": "plus",
                    "tab-key": "SETUP",
                    "header-text": e.$trans("Setup")
                },
                on: {
                    load: function(t) {
                        return e.handleLoadClick(t, e.loadFromPgn)
                    }
                }
            }), e._v(" "), n("basic-section", {
                class: e.$style.section,
                attrs: {
                    "header-icon": "chess-pawn-rook",
                    component: "load-fen",
                    "tab-key": "FEN",
                    "header-text": e.$trans("Load FEN")
                },
                on: {
                    load: function(t) {
                        return e.handleLoadClick(t, e.loadFromFen)
                    }
                }
            }), e._v(" "), n("basic-section", {
                class: e.$style.section,
                attrs: {
                    "header-icon": "chess-board",
                    component: "load-pgn",
                    "tab-key": "PGN",
                    "header-text": e.$trans("Load PGN")
                },
                on: {
                    load: function(t) {
                        return e.handleLoadClick(t, e.loadFromPgn)
                    }
                }
            }), e._v(" "), n("accordion", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.showLoadPrevious,
                    expression: "showLoadPrevious"
                }],
                class: e.$style.accordion,
                attrs: {
                    "header-icon": "circle-clock-alt",
                    "header-text": e.$trans("Load Previous Analysis"),
                    "is-dark-mode": e.isDarkMode
                },
                on: {
                    "header-click": e.loadFromCache
                }
            })], 1)
        }, [], !1, function board_setup_injectStyles(e) {
            this.$style = hr.default.locals || hr.default
        }, null, null).exports,
        fr = n(2),
        gr = 10,
        br = 40,
        vr = 50,
        yr = "#769656",
        _r = 45,
        wr = 5,
        Or = function getFormattedMoveScore() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            return "".concat(e > 0 ? "+" : "").concat(e.toFixed(function getDecimals() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return 3 - String(Math.floor(Math.abs(e))).length
            }(e)))
        },
        kr = function moveIsMateIn() {
            return "number" == typeof(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).mateIn
        },
        Sr = function scoreIsPositive() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0) > 0
        },
        xr = function getWhiteBarPercentage() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = function getCappedScore() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    return e > wr ? wr : e < -wr ? -wr : e
                }(e.score);
            return kr(e) ? function getMateInWhiteBarPercentage(e) {
                return e > 0 ? 100 : 0
            }(t) : Sr(t) ? function getPositiveScoreWhiteBarPercentage(e) {
                return e * _r / wr + vr
            }(t) : function scoreIsNegative() {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0) < 0
            }(t) ? function getNegativeScoreWhiteBarPercentage(e) {
                return vr - Math.abs(e) * _r / wr
            }(t) : vr
        },
        Pr = function getFormattedScore() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function moveIsCheckmate() {
                return 0 === (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).mateIn
            }(e) ? Sr(e.score) ? "1-0" : "0-1" : function moveIsStalemate() {
                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).stalemate
            }(e) ? "½-½" : kr(e) ? "".concat(Sr(e.score) ? "+" : "-", "M").concat(Math.abs(e.mateIn)) : Or(e.score)
        },
        Cr = n(395),
        Mr = {
            name: "score-text",
            props: {
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                value: {
                    type: String,
                    required: !0
                }
            },
            data: function data() {
                return {
                    helpUrl: "//support.chess.com/article/656-what-do-the-computer-evaluation-numbers-mean-like-225"
                }
            },
            computed: {
                isNegative: function isNegative() {
                    return "-" === this.value.charAt(0) || "0-1" === this.value
                }
            }
        },
        Tr = n(994);
    var Er = Object(Tn.a)(Mr, function() {
            var e, t, n = this,
                a = n.$createElement;
            return (n._self._c || a)("a", {
                class: [n.$style.score, (e = {}, e[n.$style.darkMode] = n.isDarkMode, e), (t = {}, t[n.$style.negative] = n.isNegative, t)],
                attrs: {
                    target: "_blank",
                    href: n.helpUrl
                },
                domProps: {
                    textContent: n._s(n.value)
                }
            })
        }, [], !1, function score_text_injectStyles(e) {
            this.$style = Tr.default.locals || Tr.default
        }, null, null).exports,
        Ar = {
            fen: null,
            highlightSquares: null,
            position: null
        },
        jr = {
            name: "engine-line",
            components: {
                IconFont: In.a,
                GamePreview: Cr.a,
                ScoreText: Er
            },
            mixins: [zn.a],
            props: {
                boardOptions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                fen: {
                    type: String
                },
                isEngineEvaluatingNewPosition: {
                    type: Boolean,
                    default: !1
                },
                isEngineRunning: {
                    type: Boolean,
                    default: !1
                },
                line: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                nodeLimit: {
                    type: Number
                },
                nodesClickable: {
                    type: Boolean,
                    default: !0
                },
                selectedPly: {
                    type: Number,
                    required: !0
                },
                showBoardPreview: {
                    type: Boolean,
                    default: !1
                },
                showScore: {
                    type: Boolean,
                    default: !0
                }
            },
            data: function data() {
                return {
                    isOpen: !1,
                    preview: Ar,
                    previewSize: 20,
                    showEngineLine: !0
                }
            },
            computed: {
                lineExists: function lineExists() {
                    var e = this.line.pvSan || [];
                    return Boolean(e.length)
                },
                previewStyles: function previewStyles() {
                    var e = this.preview.position || {},
                        t = 8 * this.previewSize / 2,
                        n = e.left - (t - e.width / 2);
                    return {
                        left: "".concat(n || 0, "px"),
                        top: "".concat(e.top || 0, "px")
                    }
                },
                pvSanNodes: function pvSanNodes() {
                    return Number.isInteger(this.nodeLimit) ? this.line.pvSan.slice(0, this.nodeLimit) : this.line.pvSan
                },
                scoreText: function scoreText() {
                    return Pr(this.line)
                },
                showGamePreview: function showGamePreview() {
                    return this.preview.fen && this.line.pv.includes(this.preview.highlightSquares)
                },
                showThinking: function showThinking() {
                    return this.isEngineRunning && (!this.lineExists || this.isEngineEvaluatingNewPosition)
                }
            },
            watch: {
                lineExists: "determineShowEngineLine",
                isEngineRunning: "determineShowEngineLine",
                isEngineEvaluatingNewPosition: "determineShowEngineLine"
            },
            methods: {
                determineShowEngineLine: function determineShowEngineLine() {
                    var e = this;
                    return setTimeout(function() {
                        e.showEngineLine = e.lineExists || e.isEngineRunning && e.isEngineEvaluatingNewPosition
                    }, 500)
                },
                getMoveText: function getMoveText(e, t) {
                    return "".concat(this.getPreMoveText(t)).concat(Object(Nt.d)(e), " ")
                },
                getPreMoveText: function getPreMoveText(e) {
                    var t = (this.selectedPly + e) % 2 == 0;
                    if (e > 0 && !t) return "";
                    var n = Math.ceil((this.selectedPly + e + 1) / 2),
                        a = "".concat(n, ".");
                    return 0 !== e || t || (a += ".."), a
                },
                handleNodeClick: function handleNodeClick(e) {
                    if (this.nodesClickable) {
                        var t = this.line.pvSan.slice(0, e + 1);
                        this.hidePreview(), this.$emit("node-click", t)
                    }
                },
                handleNodeMouseover: function handleNodeMouseover(e, t) {
                    this.showBoardPreview && this.getPreview(e, t)
                },
                getPreview: function getPreview(e, t) {
                    var n = this.line.pv,
                        a = n[t],
                        i = Ut.default.getFenFromMoves(this.fen, n.slice(0, t + 1));
                    if (i) {
                        var o = e.target.getBoundingClientRect(),
                            r = {
                                left: o.left,
                                height: o.height,
                                top: o.top,
                                width: o.width,
                                clientWidth: e.target.clientWidth
                            };
                        this.preview = {
                            fen: i,
                            highlightSquares: a,
                            position: r
                        }
                    }
                },
                hidePreview: function hidePreview() {
                    this.preview = Ar
                },
                toggleOpenLine: function toggleOpenLine() {
                    this.isOpen = !this.isOpen
                }
            }
        },
        Lr = n(995);
    var Dr = Object(Tn.a)(jr, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: n.showEngineLine,
                    expression: "showEngineLine"
                }],
                class: [n.componentClasses(), (e = {}, e[n.$style.open] = n.isOpen, e)]
            }, [i("span", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: n.showThinking,
                    expression: "showThinking"
                }],
                class: n.$style.thinking
            }), n._v(" "), n.lineExists && !n.showThinking ? [i("score-text", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: n.showScore,
                    expression: "showScore"
                }],
                attrs: {
                    "is-dark-mode": n.isDarkMode,
                    value: n.scoreText
                }
            }), n._v(" "), n._l(n.pvSanNodes, function(e, t) {
                var a;
                return i("span", {
                    key: t,
                    class: [n.$style.node, (a = {}, a[n.$style.clickable] = n.nodesClickable, a)],
                    domProps: {
                        textContent: n._s(n.getMoveText(e, t))
                    },
                    on: {
                        click: function(e) {
                            return n.handleNodeClick(t)
                        },
                        mouseover: function(e) {
                            return n.handleNodeMouseover(e, t)
                        },
                        mouseout: n.hidePreview
                    }
                })
            }), n._v(" "), n._t("line-end-icon", [i("icon-font", {
                class: [n.$style.icon, (t = {}, t[n.$style.inverted] = n.isOpen, t)],
                attrs: {
                    family: "chess",
                    name: "caret-down",
                    theme: "primary",
                    "is-dark-mode": n.isDarkMode
                },
                on: {
                    click: n.toggleOpenLine
                }
            })])] : n._e(), n._v(" "), i("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: n.showGamePreview,
                    expression: "showGamePreview"
                }],
                class: n.$style.preview,
                style: n.previewStyles
            }, [i("game-preview", {
                attrs: {
                    "color-scheme": n.boardOptions.boardStyle,
                    fen: n.preview.fen,
                    "flip-board": n.boardOptions.flipBoard,
                    "is-board-popover": !0,
                    "highlight-squares": n.preview.highlightSquares,
                    "piece-style": n.boardOptions.pieceStyle,
                    size: n.previewSize
                }
            })], 1)], 2)
        }, [], !1, function engine_line_injectStyles(e) {
            this.$style = Lr.default.locals || Lr.default
        }, null, null).exports,
        Nr = {
            name: "move-feedback-row",
            components: {
                EngineLine: Dr,
                IconFont: In.a,
                ScoreText: Er
            },
            mixins: [zn.a],
            props: {
                classification: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                color: {
                    type: [String, Number]
                },
                description: {
                    type: String,
                    default: o.a.trans("was played")
                },
                isDarkMode: {
                    type: Boolean,
                    default: !1
                },
                line: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                san: {
                    type: String,
                    validator: function validator(e) {
                        return e || this.$slots.default
                    }
                }
            },
            computed: {
                colorAsString: function colorAsString() {
                    return Me.d.BLACK === this.color ? Me.e.BLACK : Me.d.WHITE === this.color ? Me.e.WHITE : this.color
                },
                colorClass: function colorClass() {
                    return this.classification.key ? "analysis-".concat(this.classification.key) : ""
                },
                classificationIcon: function classificationIcon() {
                    return Object(xe.a)({
                        path: this.classification.icon,
                        size: 26
                    })
                },
                scoreText: function scoreText() {
                    return Pr(this.line)
                },
                showScore: function showScore() {
                    return !isNaN(this.line.score)
                },
                translatedSan: function translatedSan() {
                    return this.san ? Object(Nt.d)(this.san) : this.san
                }
            }
        },
        Ir = n(996);
    var $r = Object(Tn.a)(Nr, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [e._t("default", [e.classification.key && e.classificationIcon ? n("div", {
            class: e.$style.icon,
            domProps: {
                innerHTML: e._s(e.classificationIcon)
            }
        }) : n("div", {
            class: [e.$style.indicator, e.$style[e.colorAsString]]
        }), e._v(" "), n("div", {
            class: e.$style.line
        }, [n("div", {
            class: e.$style.topline
        }, [n("div", {
            class: [e.$style.san, e.$style.colored, e.colorClass],
            domProps: {
                textContent: e._s(e.translatedSan)
            },
            on: {
                click: function(t) {
                    return e.$emit("san-click")
                }
            }
        }), e._v(" "), n("div", {
            class: [e.$style.description, e.$style.colored, e.colorClass],
            domProps: {
                textContent: e._s(e.description)
            }
        })]), e._v(" "), n("div", {
            class: e.$style.moves
        }, [n("engine-line", e._g(e._b({
            class: e.$style.engine,
            attrs: {
                "is-dark-mode": e.isDarkMode,
                "is-expandable": !1,
                line: e.line,
                "show-score": !1
            }
        }, "engine-line", e.$attrs, !1), e.$listeners), [n("icon-font", {
            class: e.$style["line-end-icon"],
            attrs: {
                slot: "line-end-icon",
                name: "magnifying-glass"
            },
            on: {
                click: function(t) {
                    return e.$emit("mag-click")
                }
            },
            slot: "line-end-icon"
        })], 1)], 1)]), e._v(" "), n("div", [e.showScore ? n("score-text", {
            class: e.$style.score,
            attrs: {
                "is-dark-mode": e.isDarkMode,
                value: e.scoreText
            }
        }) : e._e()], 1)])], 2)
    }, [], !1, function move_feedback_row_injectStyles(e) {
        this.$style = Ir.default.locals || Ir.default
    }, null, null).exports;

    function move_feedbackvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function move_feedbackvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? move_feedbackvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : move_feedbackvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Br = {
            name: "move-feedback",
            components: {
                LoaderThreeBounce: ti.a,
                MoveFeedbackRow: $r
            },
            mixins: [zn.a],
            props: {
                feedbackEnabled: {
                    type: Boolean,
                    default: !0
                },
                isThinking: {
                    type: Boolean,
                    default: !1
                },
                moveData: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                nextMove: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                nodeLimit: {
                    type: Number
                }
            },
            data: function data() {
                return {
                    classifications: Object.freeze(x.c)
                }
            },
            computed: {
                bestMoveFen: function bestMoveFen() {
                    return Ut.default.getFenFromMoves(this.moveData.beforeFen, [{
                        san: this.sanBestMove
                    }])
                },
                bestMoveHasAlternative: function bestMoveHasAlternative() {
                    return this.playedMoveIsBestMove && this.sanPlayedMove !== this.sanBestMove
                },
                bestMovePhrase: function bestMovePhrase() {
                    return this.bestMoveHasAlternative ? this.$trans("is an alternative") : x.c.BEST_MOVE.phrase
                },
                lineBestMove: function lineBestMove() {
                    var e = this.moveData.suggestedMove || {},
                        t = e.mateIn,
                        n = e.eval,
                        a = (void 0 === n ? {} : n).pv,
                        i = void 0 === a ? [] : a,
                        o = Wt({
                            fen: this.moveData.beforeFen,
                            pv: this.nodeLimit && !t ? i.slice(0, this.nodeLimit) : i
                        }) || {
                            pvSan: []
                        };
                    return move_feedbackvue_type_script_lang_js_objectSpread({}, this.moveData.suggestedMove, {}, o, {
                        pv: (o.pv || []).slice(1),
                        pvSan: (o.pvSan || []).slice(1),
                        pvSanUncut: o.pvSan
                    })
                },
                linePlayedMove: function linePlayedMove() {
                    var e = this.nextMove || {},
                        t = e.mateIn,
                        n = e.eval,
                        a = (void 0 === n ? {} : n).pv,
                        i = void 0 === a ? [] : a;
                    return this.playedMoveIsBestMove && !this.bestMoveHasAlternative ? this.lineBestMove : move_feedbackvue_type_script_lang_js_objectSpread({}, Wt({
                        fen: this.moveData.fen,
                        pv: this.nodeLimit && !t ? i.slice(0, this.nodeLimit) : i
                    }), {}, this.moveData.playedMove)
                },
                moveClassification: function moveClassification() {
                    return this.moveData.classificationData || {}
                },
                playedMoveIsBestMove: function playedMoveIsBestMove() {
                    return this.moveClassification.key === x.c.BEST_MOVE.key || this.sanBestMove === this.sanPlayedMove
                },
                playedMoveClassification: function playedMoveClassification() {
                    return this.playedMoveIsBestMove && !this.overrideBestMove ? this.classifications.BEST_MOVE : this.moveClassification
                },
                playedMovePhrase: function playedMovePhrase() {
                    return this.playedMoveIsBestMove && !this.overrideBestMove ? this.classifications.BEST_MOVE.phrase : this.moveClassification.phrase
                },
                overrideBestMove: function overrideBestMove() {
                    return [x.c.BOOK.key, x.c.BRILLIANT.key, x.c.FORCED.key].includes(this.moveClassification.key)
                },
                sanBestMove: function sanBestMove() {
                    return ((this.lineBestMove || {}).pvSanUncut || [])[0]
                },
                sanPlayedMove: function sanPlayedMove() {
                    return this.moveData ? this.moveData.san : null
                },
                showBestMove: function showBestMove() {
                    return this.feedbackEnabled && this.sanBestMove && (!this.playedMoveIsBestMove || this.bestMoveHasAlternative) && !this.isThinking
                },
                showPlayedMove: function showPlayedMove() {
                    return this.sanPlayedMove
                }
            },
            methods: {
                getFormattedLine: function getFormattedLine(e) {
                    var t = e.evaluation,
                        n = void 0 === t ? {} : t,
                        a = e.fen;
                    return Wt({
                        fen: a,
                        pv: n.pv,
                        pvSan: n.pvSan
                    })
                },
                handleNodeClick: function handleNodeClick(e) {
                    var t = e.isBest,
                        n = void 0 !== t && t,
                        a = e.lineSlice,
                        i = e.nodeIndex || a && a.length,
                        o = n ? this.lineBestMove.pvSanUncut : this.linePlayedMove.pvSan;
                    this.$emit("node-click", {
                        clickedNodeIndex: i,
                        isBest: n,
                        fullLine: o
                    })
                }
            }
        },
        Rr = n(997);
    var Fr = Object(Tn.a)(Br, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("div", {
            class: e.$style.row
        }, [e.$slots.top ? n("move-feedback-row", {
            attrs: {
                "is-dark-mode": e.isDarkMode
            }
        }, [e._t("top")], 2) : e.showPlayedMove ? n("move-feedback-row", e._b({
            attrs: {
                classification: e.playedMoveClassification,
                color: e.moveData.color,
                description: e.playedMovePhrase,
                "is-dark-mode": e.isDarkMode,
                line: e.linePlayedMove,
                "node-limit": e.nodeLimit,
                san: e.sanPlayedMove
            },
            on: {
                "mag-click": function(t) {
                    return e.handleNodeClick({
                        isBest: !1,
                        nodeIndex: 1
                    })
                },
                "node-click": function(t) {
                    return e.handleNodeClick({
                        isBest: !1,
                        lineSlice: t
                    })
                }
            }
        }, "move-feedback-row", e.$attrs, !1)) : e._e()], 1), e._v(" "), n("div", {
            class: e.$style.row
        }, [e.$slots.bottom ? n("move-feedback-row", {
            attrs: {
                "is-dark-mode": e.isDarkMode
            }
        }, [e._t("bottom")], 2) : e.isThinking ? n("div", {
            class: e.$style.thinking
        }, [n("loader-three-bounce", {
            attrs: {
                "is-circle": !0,
                size: 40
            }
        })], 1) : e.showBestMove ? n("move-feedback-row", e._b({
            attrs: {
                classification: e.classifications.BEST_MOVE,
                color: e.moveData.color,
                description: e.bestMovePhrase,
                fen: e.bestMoveFen,
                "is-dark-mode": e.isDarkMode,
                line: e.lineBestMove,
                "node-limit": e.nodeLimit,
                san: e.sanBestMove
            },
            on: {
                "mag-click": function(t) {
                    return e.handleNodeClick({
                        isBest: !0,
                        nodeIndex: 0
                    })
                },
                "node-click": function(t) {
                    return e.handleNodeClick({
                        isBest: !0,
                        lineSlice: t
                    })
                },
                "san-click": function(t) {
                    return e.handleNodeClick({
                        isBest: !0,
                        nodeIndex: 0
                    })
                }
            }
        }, "move-feedback-row", e.$attrs, !1)) : e._e()], 1)])
    }, [], !1, function move_feedback_injectStyles(e) {
        this.$style = Rr.default.locals || Rr.default
    }, null, null).exports;

    function eco_classifiervue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var zr = {
            name: "eco-classifier",
            components: {
                IconFont: In.a
            },
            directives: {
                tooltip: Gn.a
            },
            props: {
                isDarkMode: Boolean,
                hideEcoCode: {
                    type: Boolean,
                    default: !1
                },
                unclickable: {
                    type: Boolean,
                    default: !1
                },
                variant: {
                    type: String,
                    default: "chess"
                },
                explorerEcoLink: {
                    type: Object,
                    default: null
                },
                linkToExplorer: {
                    type: Boolean,
                    default: !0
                },
                isStatic: {
                    type: Boolean,
                    default: !1
                },
                staticOpening: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                }
            },
            data: function data() {
                return {
                    defaultStartingFen: "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",
                    labels: {
                        compassTip: o.a.trans("Explore"),
                        loadingOpening: o.a.trans("Loading opening...")
                    },
                    opening: {
                        name: null,
                        url: null,
                        code: null
                    }
                }
            },
            computed: function eco_classifiervue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? eco_classifiervue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : eco_classifiervue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapState)(["game"]), {
                activeOpening: function activeOpening() {
                    return this.isStatic ? this.staticOpening : this.opening
                },
                isClickable: function isClickable() {
                    return !this.unclickable && this.activeOpening.url
                },
                showEcoCode: function showEcoCode() {
                    return this.activeOpening.name && !this.hideEcoCode && null !== this.activeOpening.code
                }
            }),
            created: function created() {
                var e = this;
                this.isStatic || (this.lookUpOpening(), this.$watch(function() {
                    return e.game.tree.selected
                }, this.lookUpOpening))
            },
            methods: {
                lookUpOpening: function lookUpOpening() {
                    var e = this;
                    setTimeout(function() {
                        zt.lookUpOpening({
                            explorerEcoLink: e.explorerEcoLink,
                            linkToExplorer: e.linkToExplorer,
                            variant: e.variant
                        }).then(function(t) {
                            e.opening = t
                        })
                    })
                },
                loadOpeningHref: function loadOpeningHref() {
                    this.isClickable && window.open(this.activeOpening.url, "_blank")
                },
                moveListToPrepend: function moveListToPrepend(e) {
                    return e === this.defaultStartingFen ? "" : zt.findByFen(e, function(e) {
                        return e.m || ""
                    })
                }
            }
        },
        Ur = n(998);

    function openingvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Gr = {
            name: "analysis-opening",
            components: {
                EcoClassifier: Object(Tn.a)(zr, function() {
                    var e, t = this,
                        n = t.$createElement,
                        a = t._self._c || n;
                    return a("div", {
                        class: [t.$style.component, (e = {}, e[t.$style.clickable] = t.isClickable, e[t.$style.darkMode] = t.isDarkMode, e)],
                        on: {
                            click: t.loadOpeningHref
                        }
                    }, [t.activeOpening.name ? a("icon-font", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                position: "bottom",
                                content: t.labels.compassTip
                            },
                            expression: "{ position: 'bottom', content: labels.compassTip }"
                        }],
                        class: t.$style.icon,
                        attrs: {
                            "is-dark-mode": t.isDarkMode,
                            theme: "primary",
                            name: "circle-compass"
                        }
                    }) : t._e(), t._v(" "), a("span", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                position: "bottom",
                                content: t.activeOpening.name,
                                delay: 50
                            },
                            expression: "{ position: 'bottom', content: activeOpening.name, delay: 50 }"
                        }],
                        class: t.$style.label
                    }, [t.showEcoCode ? a("span", {
                        domProps: {
                            textContent: t._s(t.activeOpening.code + ":")
                        }
                    }) : t._e(), t._v(" "), a("span", {
                        domProps: {
                            textContent: t._s(t.activeOpening.name)
                        }
                    })]), t._v(" "), t.activeOpening.name ? t._e() : a("span", {
                        class: t.$style.label,
                        domProps: {
                            textContent: t._s(t.labels.loadingOpening)
                        }
                    })], 1)
                }, [], !1, function eco_classifier_injectStyles(e) {
                    this.$style = Ur.default.locals || Ur.default
                }, null, null).exports,
                IconFont: In.a
            },
            mixins: [Zn.a],
            props: {
                includeArrow: {
                    type: Boolean,
                    default: !1
                }
            },
            computed: function openingvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? openingvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : openingvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                ecoOpening: "analysis/openingWithFormattedUrl",
                gameHasMoves: "analysis/gameHasMoves",
                isFullAnalysis: "analysis/isFullAnalysis",
                variant: "game/variant"
            }), {}, Object(Sn.mapState)({
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                }
            }), {
                explorerEcoLink: function explorerEcoLink() {
                    return {
                        noEngine: !1,
                        boardFlipped: this.boardOptions.flipBoard
                    }
                },
                isStaticOpening: function isStaticOpening() {
                    return Boolean(this.ecoOpening) && this.isFullAnalysis
                }
            })
        },
        Hr = n(999);
    var Vr = Object(Tn.a)(Gr, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [e.gameHasMoves ? n("eco-classifier", {
            class: e.$style.component,
            attrs: {
                "explorer-eco-link": e.explorerEcoLink,
                "hide-eco-code": !0,
                "is-dark-mode": e.isDarkMode,
                "is-static": e.isStaticOpening,
                "link-to-explorer": !0,
                "static-opening": e.ecoOpening,
                variant: e.variant
            }
        }) : e._e(), e._v(" "), e.includeArrow ? n("icon-font", {
            class: e.$style.icon,
            attrs: {
                name: "chevron-right"
            }
        }) : e._e()], 1)
    }, [], !1, function opening_injectStyles(e) {
        this.$style = Hr.default.locals || Hr.default
    }, null, null).exports;

    function feedbackvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function feedbackvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? feedbackvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : feedbackvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Wr = {
            classificationData: x.c.BEST_MOVE,
            classification: 0,
            difference: 0
        },
        Kr = {
            name: "analysis-feedback",
            components: {
                MoveFeedback: Fr,
                Opening: Vr
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    clientFallback: {},
                    isThinking: !1
                }
            },
            computed: feedbackvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisFinished: "analysis/isAnalysisFinished",
                currentPosition: "analysis/currentPosition",
                currentMoveNumber: "analysis/currentMoveNumber",
                fen: "game/getCurrentFen",
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                moveClassification: "analysis/moveClassification",
                selectedNode: "game/selectedNode",
                selectedPly: "game/selectedPly"
            }), {}, Object(Sn.mapState)({
                analyzedMoves: function analyzedMoves(e) {
                    return e.analysis.analyzedMoves
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                bookPly: function bookPly(e) {
                    return e.analysis.gameAnalysis.bookPly
                },
                feedbackEnabled: function feedbackEnabled(e) {
                    return e.analysis.settings.feedbackEnabled
                },
                fullAnalysisDepth: function fullAnalysisDepth(e) {
                    return e.analysis.settings.fullAnalysisDepth
                },
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions
                }
            }), {
                isBook: function isBook() {
                    return (this.moveData.classificationData || {}).key === x.c.BOOK.key
                },
                moveData: function moveData() {
                    return feedbackvue_type_script_lang_js_objectSpread({
                        classificationData: this.moveClassification
                    }, this.selectedNode, {}, this.currentPosition, {}, this.clientFallback)
                },
                nextMove: function nextMove() {
                    var e = this.selectedNode.ids,
                        t = e.line,
                        n = e.move,
                        nextMove = this.positions && this.positions[n + 1],
                        a = oo.evaluation[0];
                    return nextMove && 0 === t ? feedbackvue_type_script_lang_js_objectSpread({}, nextMove.playedMove, {}, nextMove.suggestedMove) : feedbackvue_type_script_lang_js_objectSpread({}, this.clientFallback, {
                        eval: a
                    })
                }
            }),
            watch: {
                isAnalysisFinished: "analyzePosition",
                "selectedNode.ids": "analyzePosition"
            },
            mounted: function mounted() {
                this.analyzePosition()
            },
            methods: feedbackvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                goToNode: "game/goToNode",
                loadFromSanMoves: "game/loadFromSanMoves"
            }), {}, Object(Sn.mapMutations)({
                addAnalyzedMove: "analysis/addAnalyzedMove"
            }), {
                analyzePosition: function analyzePosition() {
                    var e = this;
                    if (this.resetPosition(), Object(Te.c)(this.selectedNode) && !Object(Te.c)(this.currentPosition) && this.isAnalysisFinished) {
                        this.isThinking = !0;
                        var t = Ut.default.createGame({
                                fen: this.selectedNode.beforeFen,
                                moves: [{
                                    san: this.selectedNode.san
                                }]
                            }).pgn(),
                            n = this.assignSuggestedMove() || {};
                        n.isBest ? this.finishAnalyzingPosition(n) : analyzeGameQuick({
                            depth: this.isClientSideAnalysis ? s.BASIC : this.fullAnalysisDepth,
                            options: {
                                pgn: t
                            },
                            onStream: function onStream(t) {
                                return e.handleQuickAnalysisStream({
                                    data: t,
                                    suggestedMoveData: n
                                })
                            },
                            onDone: function onDone(t, a) {
                                return e.handleQuickAnalysisStream({
                                    data: a,
                                    suggestedMoveData: n
                                })
                            }
                        })
                    }
                },
                assignSuggestedMove: function assignSuggestedMove() {
                    var e = this.selectedNode.previous || {},
                        t = e.line,
                        n = e.move;
                    if (!isNaN(t) && !isNaN(n)) {
                        var a = fr.a.getNode(ya.default.state.lines, {
                                line: t,
                                move: n + 1
                            }),
                            i = (this.analyzedMoves[Dt(a)] || {}).suggestedMove || {},
                            o = "".concat(this.selectedNode.from).concat(this.selectedNode.to),
                            r = {};
                        return i.moveLan === o && (r = feedbackvue_type_script_lang_js_objectSpread({}, Wr, {
                            playedMove: i,
                            isBest: !0
                        })), Object(Te.c)(i) ? (this.clientFallback = feedbackvue_type_script_lang_js_objectSpread({
                            suggestedMove: i
                        }, r), this.clientFallback) : void 0
                    }
                },
                finishAnalyzingPosition: function finishAnalyzingPosition(e) {
                    this.isThinking = !1, this.clientFallback = feedbackvue_type_script_lang_js_objectSpread({}, e, {
                        classificationData: kt(e)
                    }), this.addAnalyzedMove(feedbackvue_type_script_lang_js_objectSpread({}, this.selectedNode, {}, e))
                },
                resetPosition: function resetPosition() {
                    this.isAnalysisInProgress || ga(), this.isThinking = !1, this.clientFallback = {}
                },
                handleNodeClick: function handleNodeClick(e) {
                    var t, n = this,
                        a = e.clickedNodeIndex,
                        i = void 0 === a ? 0 : a,
                        o = e.isBest,
                        r = e.fullLine,
                        s = void 0 === r ? [] : r,
                        l = this.selectedNode.ids,
                        c = l.line,
                        u = l.move;
                    (o ? function() {
                        return n.goToNode({
                            line: c,
                            move: u - 1
                        })
                    } : function() {
                        return Promise.resolve()
                    })().then(function() {
                        return t = n.fen, n.loadFromSanMoves(s)
                    }).then(function() {
                        var e, a = s.slice(0, i + (o ? 1 : 0)).map(function(e) {
                                return {
                                    san: e
                                }
                            }),
                            r = Ut.default.getFenFromMoves(t, a),
                            l = (e = []).concat.apply(e, le()(ya.default.state.lines)).find(function(e) {
                                return e.fen === r
                            });
                        l && n.goToNode(l.ids)
                    })
                },
                handleQuickAnalysisStream: function handleQuickAnalysisStream(e) {
                    var t = e.data,
                        n = void 0 === t ? {} : t,
                        a = e.suggestedMoveData,
                        i = (n.positions || [])[0];
                    i && this.finishAnalyzingPosition(feedbackvue_type_script_lang_js_objectSpread({}, i, {}, a, {
                        isQuickAnalysis: !0
                    }))
                }
            })
        },
        qr = n(1e3);
    var Yr = Object(Tn.a)(Kr, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return e.selectedNode ? n("move-feedback", {
                class: e.componentClasses(),
                attrs: {
                    "board-options": e.boardOptions,
                    "feedback-enabled": e.feedbackEnabled,
                    fen: e.fen,
                    "is-dark-mode": e.isDarkMode,
                    "is-thinking": e.isThinking,
                    "next-move": e.nextMove,
                    "node-limit": 10,
                    "move-data": e.moveData,
                    "selected-ply": e.selectedPly,
                    "show-board-preview": !0
                },
                on: {
                    "node-click": e.handleNodeClick
                }
            }, [e.isBook ? n("opening", {
                class: e.$style.full,
                attrs: {
                    slot: "bottom",
                    "include-arrow": !0
                },
                slot: "bottom"
            }) : e._e()], 1) : e._e()
        }, [], !1, function feedback_injectStyles(e) {
            this.$style = qr.default.locals || qr.default
        }, null, null).exports,
        Xr = {
            name: "engine-lines",
            components: {
                EngineLine: Dr
            },
            mixins: [zn.a],
            props: {
                evaluatedLines: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                linesCount: {
                    type: Number,
                    default: 0
                }
            }
        },
        Qr = Object(Tn.a)(Xr, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", e._l(e.linesCount, function(t, a) {
                return n("engine-line", e._g(e._b({
                    key: a,
                    attrs: {
                        "is-dark-mode": e.isDarkMode,
                        line: e.evaluatedLines[a],
                        "line-index": a
                    }
                }, "engine-line", e.$attrs, !1), e.$listeners))
            }), 1)
        }, [], !1, null, null, null).exports;

    function linesvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function linesvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? linesvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : linesvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Zr = {
            name: "analysis-lines",
            components: {
                EngineLines: Qr
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    engineState: oo
                }
            },
            computed: linesvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                currentMoveNumber: "analysis/currentMoveNumber",
                fen: "game/getCurrentFen",
                selectedPly: "game/selectedPly"
            }), {}, Object(Sn.mapState)({
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                }
            })),
            methods: linesvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                loadFromSanMoves: "game/loadFromSanMoves"
            }))
        },
        Jr = n(1001);

    function tab_analysisvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var es = {
            name: "tab-analysis",
            components: {
                AnalysisArea: eo,
                AnalysisOptions: Go,
                BoardSetup: mr,
                Feedback: Yr,
                Lines: Object(Tn.a)(Zr, function() {
                    var e = this,
                        t = e.$createElement;
                    return (e._self._c || t)("engine-lines", {
                        class: e.componentClasses(),
                        attrs: {
                            "board-options": e.boardOptions,
                            "evaluated-lines": e.engineState.evaluation,
                            fen: e.fen,
                            "is-dark-mode": e.isDarkMode,
                            "is-engine-running": e.engineState.isRunning,
                            "is-engine-evaluating-new-position": e.engineState.isEvaluatingNewPosition,
                            "lines-count": e.engineState.settings.linesCount,
                            "selected-ply": e.selectedPly,
                            "show-board-preview": !0
                        },
                        on: {
                            "node-click": e.loadFromSanMoves
                        }
                    })
                }, [], !1, function lines_injectStyles(e) {
                    this.$style = Jr.default.locals || Jr.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            computed: function tab_analysisvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? tab_analysisvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tab_analysisvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                gameHasAnalyzedPositions: "analysis/gameHasAnalyzedPositions",
                gameIsBeingSetup: "analysis/gameIsBeingSetup",
                isFullAnalysis: "analysis/isFullAnalysis",
                isSetupBoardSection: "analysis/isSetupBoardSection"
            }), {}, Object(Sn.mapState)({
                activeBoardSection: function activeBoardSection(e) {
                    return e.analysis.activeBoardSection
                },
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                settings: function settings(e) {
                    return e.analysis.settings
                }
            }), {
                showFeedback: function showFeedback() {
                    return this.isFullAnalysis && !this.engineDisabled
                },
                showLines: function showLines() {
                    return !this.engineDisabled && (this.isFullAnalysis && this.settings.fullAnalysisLinesEnabled || !this.isFullAnalysis && this.settings.selfAnalysisLinesEnabled)
                }
            }),
            created: function created() {
                Ri.a.logEvent(l, {
                    type: this.isFullAnalysis ? "full" : "self"
                })
            }
        },
        ts = n(1002);
    var ns = Object(Tn.a)(es, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [e.gameIsBeingSetup ? n("board-setup", {
                class: e.$style.scrollable
            }) : [n("analysis-options"), e._v(" "), e.showFeedback ? n("feedback") : e._e(), e._v(" "), e.showLines ? n("lines") : e._e(), e._v(" "), n("analysis-area", {
                class: e.$style.scrollable
            })]], 2)
        }, [], !1, function tab_analysis_injectStyles(e) {
            this.$style = ts.default.locals || ts.default
        }, null, null).exports,
        as = {
            name: "details-section",
            mixins: [zn.a],
            props: {
                isBold: {
                    type: Boolean,
                    default: !1
                },
                isBordered: {
                    type: Boolean,
                    default: !0
                },
                isPadded: {
                    type: Boolean,
                    default: !0
                }
            }
        },
        is = n(1003);
    var os = Object(Tn.a)(as, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("section", {
                class: [t.componentClasses(), (e = {}, e[t.$style.bold] = t.isBold, e[t.$style.bordered] = t.isBordered, e[t.$style.padded] = t.isPadded, e)]
            }, [t._t("default", [a("header", {
                class: t.$style.header
            }, [t._t("header")], 2), t._v(" "), a("article", [t._t("content")], 2)])], 2)
        }, [], !1, function details_section_injectStyles(e) {
            this.$style = is.default.locals || is.default
        }, null, null).exports,
        rs = {
            name: "form-dropdown",
            components: {
                IconFont: In.a
            },
            mixins: [zn.a],
            props: {
                labelKey: {
                    type: String,
                    default: "label"
                },
                options: {
                    type: Array,
                    required: !0
                },
                value: {
                    type: [String, Number],
                    required: !1
                },
                valueKey: {
                    type: String,
                    default: "value"
                }
            },
            data: function data() {
                return {
                    showOptions: !1
                }
            },
            computed: {
                icon: function icon() {
                    return this.showOptions ? "caret-up" : "caret-down"
                },
                selectedOption: function selectedOption() {
                    var e = this;
                    return this.options.find(function(t) {
                        return e.getValue(t) === e.value
                    })
                }
            },
            methods: {
                setSelectedOption: function setSelectedOption(e) {
                    this.toggleOptions();
                    var t = this.getValue(e);
                    this.value !== t && this.$emit("input", t)
                },
                toggleOptions: function toggleOptions() {
                    this.showOptions = !this.showOptions
                },
                getLabel: function getLabel(e) {
                    return this.labelKey ? e[this.labelKey] : e
                },
                getValue: function getValue(e) {
                    return this.valueKey ? e[this.valueKey] : e
                }
            }
        },
        ss = n(1004);
    var ls = Object(Tn.a)(rs, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("div", {
                class: e.$style.select,
                on: {
                    click: function(t) {
                        return e.toggleOptions()
                    }
                }
            }, [n("span", {
                class: e.$style.value,
                domProps: {
                    textContent: e._s(e.getLabel(e.selectedOption))
                }
            }), e._v(" "), n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: e.icon
                }
            })], 1), e._v(" "), e.showOptions ? n("div", {
                class: e.$style.overlay,
                on: {
                    click: function(t) {
                        return e.toggleOptions()
                    }
                }
            }) : e._e(), e._v(" "), e.showOptions ? n("div", {
                class: e.$style.options
            }, e._l(e.options, function(t) {
                var a;
                return n("span", {
                    key: e.getValue(t),
                    class: [e.$style.option, (a = {}, a[e.$style.selected] = e.getValue(t) === e.value, a)],
                    domProps: {
                        textContent: e._s(e.getLabel(t))
                    },
                    on: {
                        click: function(n) {
                            return e.setSelectedOption(t)
                        }
                    }
                })
            }), 0) : e._e()])
        }, [], !1, function form_select_alt_injectStyles(e) {
            this.$style = ss.default.locals || ss.default
        }, null, null).exports,
        cs = n(480),
        us = n(19),
        ds = {
            name: "game-details-form",
            components: {
                FormInput: Un.a,
                FormSelect: ls,
                IconFont: In.a
            },
            directives: {
                datepicker: cs.a
            },
            mixins: [zn.a],
            props: {
                pgnHeaders: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                readOnly: {
                    type: Boolean,
                    default: !1
                }
            },
            data: function data() {
                return {
                    results: [{
                        label: this.$trans("No Result (*)"),
                        value: "*"
                    }, {
                        label: this.$trans("White Won (1-0)"),
                        value: "1-0"
                    }, {
                        label: this.$trans("Black Won (0-1)"),
                        value: "0-1"
                    }, {
                        label: this.$trans("Draw (1/2-1/2)"),
                        value: "1/2-1/2"
                    }]
                }
            },
            computed: {
                gameResult: function gameResult() {
                    return this.pgnHeaders.Result || ""
                },
                datepickerOptions: function datepickerOptions() {
                    return {
                        onDateSelect: this.onDateSelect,
                        format: "YYYY.MM.DD",
                        placement: "left",
                        replaceWith: "?"
                    }
                }
            },
            methods: {
                getPgnHeaderValue: function getPgnHeaderValue(e) {
                    return "?" === e ? "" : e
                },
                setPgnHeader: function setPgnHeader(e) {
                    var t = e.key,
                        n = e.value;
                    this.$emit("set-pgn-header", {
                        key: t,
                        value: n
                    })
                },
                setPgnHeaders: function setPgnHeaders(e, t) {
                    var n = e;
                    "object" === Vt()(n) && (n = n.target.value), this.setPgnHeader({
                        key: t,
                        value: n
                    })
                },
                onDateSelect: function onDateSelect(e) {
                    this.setPgnHeaders(e, "Date")
                },
                gameInfoTimeTranslation: function gameInfoTimeTranslation() {
                    var e = this.getPgnHeaderValue(this.pgnHeaders.TimeControl);
                    if (!this.readOnly) return e;
                    if (!e) return "";
                    if (!e.includes("/")) return function getTimeWithIncrement(e) {
                        var t = e.split("+").map(function(e) {
                            return parseInt(e, 10)
                        });
                        if (1 === t.length) return us.a.hoursMinute(e);
                        var n = t.pop(),
                            a = t.pop();
                        return a % 60 != 0 ? a = (a / 100).toFixed(2) : a /= 60, "".concat(a, "|").concat(n)
                    }(e);
                    var t = parseInt(e.split("/")[1], 10) / T.SECONDS_IN_DAY;
                    return this.$transChoice("{1} 1 move per 1 day|]1,Inf] 1 move per %1$s% days", t, {
                        "%1$s%": t
                    })
                }
            }
        },
        ps = n(1005);

    function game_detailsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function game_detailsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? game_detailsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : game_detailsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var hs = {
            name: "game-details",
            components: {
                DetailsSection: os,
                GameDetailsForm: Object(Tn.a)(ds, function() {
                    var e, t, n, a = this,
                        i = a.$createElement,
                        o = a._self._c || i;
                    return o("div", {
                        class: a.componentClasses()
                    }, [o("div", {
                        class: a.$style.controls
                    }, [o("form-input", {
                        class: a.$style.normal,
                        attrs: {
                            "aria-label": a.$trans("White Player"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("White Player"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.White),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["White"]))
                            }
                        }
                    }), a._v(" "), o("form-input", {
                        class: a.$style.short,
                        attrs: {
                            "aria-label": a.$trans("Rating"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Rating"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.WhiteElo),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["WhiteElo"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: a.$style.controls
                    }, [o("form-input", {
                        class: a.$style.normal,
                        attrs: {
                            "aria-label": a.$trans("Black Player"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Black Player"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.Black),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Black"]))
                            }
                        }
                    }), a._v(" "), o("form-input", {
                        class: a.$style.short,
                        attrs: {
                            "aria-label": a.$trans("Rating"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Rating"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.BlackElo),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["BlackElo"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: a.$style.controls
                    }, [o("form-select", {
                        class: [a.$style.wide, a.$style.select, (e = {}, e[a.$style.disabled] = a.readOnly, e)],
                        attrs: {
                            "value-key": "value",
                            "aria-label": a.$trans("Results"),
                            "is-dark-mode": a.isDarkMode,
                            options: a.results,
                            value: a.gameResult,
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Result"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: [a.$style.controls, a.$style.spaced]
                    }, [o("form-input", {
                        class: a.$style.wide,
                        attrs: {
                            "aria-label": a.$trans("Event"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Event"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.Event),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Event"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: [a.$style.controls, a.$style.spaced]
                    }, [o("form-input", {
                        class: a.$style.wide,
                        attrs: {
                            "aria-label": a.$trans("Time"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Time Control"),
                            value: a.gameInfoTimeTranslation(),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["TimeControl"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: [a.$style.controls, a.$style.spaced]
                    }, [o("form-input", {
                        class: a.$style.wide,
                        attrs: {
                            "aria-label": a.$trans("Termination"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Termination"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.Termination),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Termination"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: a.$style.controls
                    }, [o("form-input", {
                        class: a.$style.wide,
                        attrs: {
                            "aria-label": a.$trans("Location"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Location"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.Site),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Site"]))
                            }
                        }
                    })], 1), a._v(" "), o("div", {
                        class: a.$style.controls
                    }, [o("form-input", {
                        class: a.$style.short,
                        attrs: {
                            "aria-label": a.$trans("Round"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Round"),
                            value: a.getPgnHeaderValue(a.pgnHeaders.Round),
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["Round"]))
                            }
                        }
                    }), a._v(" "), o("form-input", {
                        class: a.$style.eco,
                        attrs: {
                            "aria-label": "ECO",
                            placeholder: "ECO",
                            "is-dark-mode": a.isDarkMode,
                            value: a.pgnHeaders.ECO,
                            disabled: a.readOnly
                        },
                        on: {
                            input: function(e) {
                                for (var t = arguments.length, n = Array(t); t--;) n[t] = arguments[t];
                                return a.setPgnHeaders.apply(void 0, n.concat(["ECO"]))
                            }
                        }
                    }), a._v(" "), o("div", {
                        class: a.$style.date
                    }, [o("form-input", {
                        directives: [{
                            name: "datepicker",
                            rawName: "v-datepicker:click",
                            value: a.datepickerOptions,
                            expression: "datepickerOptions",
                            arg: "click"
                        }],
                        class: [a.$style.date, (t = {}, t[a.$style.disabled] = a.readOnly, t)],
                        attrs: {
                            "aria-label": a.$trans("DateS"),
                            "is-dark-mode": a.isDarkMode,
                            placeholder: a.$trans("Date"),
                            disabled: a.readOnly,
                            value: a.pgnHeaders.Date
                        }
                    }), a._v(" "), o("button", {
                        directives: [{
                            name: "datepicker",
                            rawName: "v-datepicker:click",
                            value: a.datepickerOptions,
                            expression: "datepickerOptions",
                            arg: "click"
                        }],
                        class: (n = {}, n[a.$style.disabled] = a.readOnly, n)
                    }, [o("icon-font", {
                        class: a.$style.icon,
                        attrs: {
                            name: "calendar"
                        }
                    })], 1)], 1)], 1)])
                }, [], !1, function game_details_form_injectStyles(e) {
                    this.$style = ps.default.locals || ps.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            computed: game_detailsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapState)({
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                }
            })),
            methods: game_detailsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                updatePgnHeaders: "game/updatePgnHeaders"
            }), {
                setPgnHeader: function setPgnHeader(e) {
                    var t = e.key,
                        n = e.value;
                    this.updatePgnHeaders(game_detailsvue_type_script_lang_js_objectSpread({}, this.pgnHeaders, S()({}, t, n)))
                }
            })
        },
        ms = n(1006);
    var fs = Object(Tn.a)(hs, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return t("div", {
            class: this.componentClasses()
        }, [t("game-details-form", this._b({
            attrs: {
                "is-dark-mode": this.isDarkMode,
                "pgn-headers": this.pgnHeaders
            },
            on: {
                "set-pgn-header": this.setPgnHeader
            }
        }, "game-details-form", this.$attrs, !1))], 1)
    }, [], !1, function game_details_injectStyles(e) {
        this.$style = ms.default.locals || ms.default
    }, null, null).exports;

    function tables_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function tables_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? tables_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tables_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var gs = function classifications(e) {
            var t = e.classificationsToInclude,
                n = void 0 === t ? [] : t,
                a = function getClassificationTallies() {
                    return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).reduce(function(e, t) {
                        var n = kt(t).key;
                        return get_classification_tallies_objectSpread({}, e, S()({}, t.color, get_classification_tallies_objectSpread({}, e[t.color], S()({}, n, (e[t.color][n] || 0) + 1))))
                    }, {
                        black: {},
                        white: {}
                    })
                }(e.positions);
            return n.map(function(e) {
                var t = e.icon,
                    n = e.key,
                    i = e.label;
                return {
                    className: "analysis-".concat(n),
                    data: {
                        BLACK: a.black[n] || 0,
                        WHITE: a.white[n] || 0
                    },
                    icon: t ? Object(xe.a)({
                        path: t,
                        size: T.CLASSIFICATION_ICON_SIZE
                    }) : null,
                    label: i,
                    name: n
                }
            })
        },
        bs = function gamePhase(e) {
            var t = e.classificationsToInclude,
                n = void 0 === t ? [] : t,
                a = e.gamePhases,
                i = void 0 === a ? [] : a,
                o = e.isLocked,
                r = e.phase,
                s = void 0 === r ? 1 : r,
                l = e.tallies,
                c = void 0 === l ? {} : l,
                u = e.title,
                d = e.totalPositions;
            return [mn(u), {
                label: Xt({
                    gamePhases: i,
                    phase: s,
                    totalPositions: d
                })
            }].concat(le()(n.map(function(e) {
                var t = e.key,
                    n = e.label;
                return {
                    className: "analysis-".concat(t),
                    data: {
                        BLACK: Yt({
                            classification: t,
                            phase: s,
                            tally: c.black
                        }),
                        WHITE: Yt({
                            classification: t,
                            phase: s,
                            tally: c.white
                        })
                    },
                    isLocked: o,
                    label: n
                }
            })))
        };

    function game_phasesvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var vs = {
            name: "game-phases",
            components: {
                DetailsSection: os,
                TalliesTable: vo
            },
            mixins: [Zn.a],
            computed: function game_phasesvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? game_phasesvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : game_phasesvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isLocked: "analysis/isClientSideAnalysis"
            }), {}, Object(Sn.mapState)({
                gamePhases: function gamePhases(e) {
                    return e.analysis.gameAnalysis.gamePhases || []
                },
                tallies: function tallies(e) {
                    return e.analysis.gameAnalysis.tallies || {}
                },
                totalPositions: function totalPositions(e) {
                    return e.analysis.gameAnalysis.totalPositions
                }
            }), {
                tableDataEndGame: function tableDataEndGame() {
                    return bs({
                        classificationsToInclude: [x.c.INACCURACY, x.c.MISTAKE, x.c.BLUNDER, x.c.MISSED_WIN],
                        gamePhases: this.gamePhases,
                        isLocked: this.isLocked,
                        phase: 2,
                        tallies: this.tallies,
                        title: Hn.ENDGAME,
                        totalPositions: this.totalPositions
                    })
                },
                tableDataMiddleGame: function tableDataMiddleGame() {
                    return bs({
                        classificationsToInclude: [x.c.INACCURACY, x.c.MISTAKE, x.c.BLUNDER, x.c.MISSED_WIN],
                        gamePhases: this.gamePhases,
                        isLocked: this.isLocked,
                        phase: 1,
                        tallies: this.tallies,
                        title: Hn.MIDDLEGAME,
                        totalPositions: this.totalPositions
                    })
                }
            })
        },
        ys = n(1007);
    var _s = Object(Tn.a)(vs, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("details-section", {
                attrs: {
                    "is-bold": !0,
                    "is-dark-mode": e.isDarkMode,
                    "is-padded": !1
                }
            }, [e.gamePhases[0] ? n("tallies-table", {
                attrs: {
                    "is-dark-mode": e.isDarkMode,
                    rows: e.tableDataMiddleGame
                }
            }) : e._e(), e._v(" "), e.gamePhases[1] ? n("tallies-table", {
                attrs: {
                    "is-dark-mode": e.isDarkMode,
                    rows: e.tableDataEndGame
                }
            }) : e._e()], 1)
        }, [], !1, function game_phases_injectStyles(e) {
            this.$style = ys.default.locals || ys.default
        }, null, null).exports,
        ws = {
            name: "arbitrary-move-list",
            components: {
                MoveNode: n(571).a
            },
            mixins: [zn.a],
            props: {
                enabled: {
                    type: Boolean,
                    default: !1
                },
                nodes: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                separator: {
                    type: String
                }
            },
            methods: {
                goToNode: function goToNode() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        line: 0,
                        move: 0
                    };
                    this.enabled && this.$emit("moveList-goToNode", e)
                },
                isLastNode: function isLastNode(e) {
                    return e === this.nodes.length - 1
                },
                moveNodeKey: function moveNodeKey(e) {
                    return "move-".concat(e.ids.line, "-").concat(e.ids.move)
                },
                showSeparator: function showSeparator(e, t) {
                    return this.separator && e.isFirstNodeOnLine && 0 !== t
                }
            }
        },
        Os = n(1008);

    function sections_openingvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function sections_openingvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? sections_openingvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : sections_openingvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var ks = {
            name: "opening-section",
            components: {
                DetailsSection: os,
                Opening: Vr,
                MoveList: Object(Tn.a)(ws, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        class: e.componentClasses()
                    }, e._l(e.nodes, function(t, a) {
                        var i;
                        return n("span", {
                            key: e.moveNodeKey(t)
                        }, [n("span", {
                            directives: [{
                                name: "show",
                                rawName: "v-show",
                                value: e.showSeparator(t, a),
                                expression: "showSeparator(node, index)"
                            }],
                            class: e.$style.separator,
                            domProps: {
                                textContent: e._s(e.separator)
                            }
                        }), e._v(" "), n("move-node", {
                            ref: e.moveNodeKey(t),
                            refInFor: !0,
                            class: [e.$style.node, (i = {}, i[e.$style.enabled] = e.enabled, i)],
                            attrs: {
                                editable: !1,
                                index: a,
                                "is-dark-mode": e.isDarkMode,
                                "is-last": e.isLastNode(a),
                                "move-list-node-limits": {},
                                node: t,
                                "on-click": e.goToNode,
                                "on-comment-change": function() {},
                                "on-context-menu": function() {}
                            }
                        })], 1)
                    }), 0)
                }, [], !1, function arbitrary_move_list_injectStyles(e) {
                    this.$style = Os.default.locals || Os.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            computed: sections_openingvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameNodes: "game/gameNodes"
            }), {}, Object(Sn.mapState)({
                bookPly: function bookPly(e) {
                    return e.analysis.gameAnalysis.bookPly
                },
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions || []
                }
            }), {
                moveLeavingBookGameNode: function moveLeavingBookGameNode() {
                    return this.gameNodes[this.bookPly]
                },
                moveLeavingBookPosition: function moveLeavingBookPosition() {
                    return this.positions[this.bookPly]
                },
                moveLeavingBookNode: function moveLeavingBookNode() {
                    if (!this.moveLeavingBookGameNode) return null;
                    var e = this.moveLeavingBookGameNode,
                        t = e.difference,
                        n = e.classification,
                        a = e.scenarios,
                        i = kt({
                            difference: t,
                            classification: n,
                            scenarios: a
                        });
                    return It({
                        classification: i,
                        nodeData: this.moveLeavingBookGameNode
                    })
                },
                scoreLeavingBook: function scoreLeavingBook() {
                    if (this.moveLeavingBookPosition) return Pr(this.moveLeavingBookPosition.playedMove)
                }
            }),
            methods: sections_openingvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                goToNode: "game/goToNode"
            }))
        },
        Ss = n(1009);
    var xs = Object(Tn.a)(ks, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("details-section", {
            attrs: {
                "is-bold": !0,
                "is-dark-mode": e.isDarkMode
            }
        }, [n("template", {
            slot: "header"
        }, [e._v(e._s(e.$trans("Opening")))]), e._v(" "), n("template", {
            slot: "content"
        }, [n("div", {
            class: e.$style.row
        }, [n("div", {
            domProps: {
                textContent: e._s(e.$trans("ECO Classification"))
            }
        }), e._v(" "), n("opening", {
            class: e.$style.eco
        })], 1), e._v(" "), n("div", {
            class: e.$style.row
        }, [n("div", {
            domProps: {
                textContent: e._s(e.$trans("Book Moves"))
            }
        }), e._v(" "), n("div", {
            domProps: {
                textContent: e._s(e.bookPly)
            }
        })]), e._v(" "), n("div", {
            class: e.$style.row
        }, [n("div", {
            domProps: {
                textContent: e._s(e.$trans("Score Leaving Book"))
            }
        }), e._v(" "), n("div", {
            domProps: {
                textContent: e._s(e.scoreLeavingBook)
            }
        })]), e._v(" "), e.moveLeavingBookNode ? n("div", {
            class: e.$style.row
        }, [n("div", {
            domProps: {
                textContent: e._s(e.$trans("Move Leaving Book"))
            }
        }), e._v(" "), n("move-list", {
            attrs: {
                enabled: !0,
                "is-dark-mode": e.isDarkMode,
                nodes: [e.moveLeavingBookNode]
            },
            on: {
                "moveList-goToNode": e.goToNode
            }
        })], 1) : e._e()])], 2)
    }, [], !1, function sections_opening_injectStyles(e) {
        this.$style = Ss.default.locals || Ss.default
    }, null, null).exports;

    function performancevue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ps = {
            name: "performance",
            components: {
                DetailsSection: os,
                TalliesTable: vo
            },
            mixins: [Zn.a],
            computed: function performancevue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? performancevue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : performancevue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isFullAnalysis: "analysis/isFullAnalysis",
                isLocked: "analysis/isClientSideAnalysis",
                moveCounts: "analysis/moveCounts"
            }), {}, Object(Sn.mapState)({
                accuracy: function accuracy(e) {
                    return e.analysis.gameAnalysis.CAPS || {}
                },
                bestMoveCounts: function bestMoveCounts(e) {
                    return e.analysis.gameAnalysis.E1 || {}
                },
                diff: function diff(e) {
                    return e.analysis.gameAnalysis.avgDifference || {}
                },
                prediction: function prediction(e) {
                    return e.analysis.gameAnalysis.prediction || {}
                }
            }), {
                performanceTableData: function performanceTableData() {
                    return function performance(e) {
                        var t = e.accuracy,
                            n = void 0 === t ? {} : t,
                            a = e.averageDifference,
                            i = void 0 === a ? {} : a,
                            o = e.bestMoveCounts,
                            r = void 0 === o ? {} : o,
                            s = e.isLocked,
                            l = e.moveCounts,
                            c = void 0 === l ? {} : l,
                            u = e.prediction,
                            d = void 0 === u ? {} : u;
                        return [mn(Hn.PERFORMANCE), Number.isInteger(d.b) && Number.isInteger(d.w) ? {
                            label: Hn.PREDICTION,
                            isLocked: s,
                            data: {
                                BLACK: Gt(d.b),
                                WHITE: Gt(d.w)
                            }
                        } : {}, {
                            label: Hn.ACCURACY,
                            isLocked: s,
                            data: {
                                BLACK: _n({
                                    object: n.black,
                                    key: "all",
                                    defaultVal: "-",
                                    method: Math.floor
                                }),
                                WHITE: _n({
                                    object: n.white,
                                    key: "all",
                                    defaultVal: "-",
                                    method: Math.floor
                                })
                            }
                        }, {
                            label: Hn.BEST_MOVE,
                            isLocked: s,
                            data: {
                                BLACK: qt({
                                    colorBestMoves: r.black,
                                    colorTotalMoves: c.black
                                }),
                                WHITE: qt({
                                    colorBestMoves: r.white,
                                    colorTotalMoves: c.white
                                })
                            }
                        }, {
                            label: Hn.DIFF,
                            isLocked: s,
                            data: {
                                BLACK: _n({
                                    object: i,
                                    key: "black",
                                    defaultVal: "-"
                                }),
                                WHITE: _n({
                                    object: i,
                                    key: "white",
                                    defaultVal: "-"
                                })
                            }
                        }, {
                            label: Hn.TOTAL,
                            isLocked: !1,
                            data: {
                                BLACK: c.black || "-",
                                WHITE: c.white || "-"
                            }
                        }]
                    }({
                        accuracy: this.accuracy,
                        averageDifference: this.diff,
                        bestMoveCounts: this.bestMoveCounts,
                        isLocked: this.isLocked,
                        moveCounts: this.moveCounts,
                        prediction: this.prediction
                    })
                }
            })
        },
        Cs = n(1010);
    var Ms = Object(Tn.a)(Ps, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return t("details-section", {
            attrs: {
                "is-bold": !0,
                "is-padded": !this.isFullAnalysis,
                "is-dark-mode": this.isDarkMode
            }
        }, [t("tallies-table", {
            class: this.$style.table,
            attrs: {
                "is-bordered": !1,
                "is-dark-mode": this.isDarkMode,
                rows: this.performanceTableData
            }
        })], 1)
    }, [], !1, function performance_injectStyles(e) {
        this.$style = Cs.default.locals || Cs.default
    }, null, null).exports;

    function performance_by_piecevue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ts = {
            name: "performance-by-piece",
            components: {
                DetailsSection: os,
                IconFont: In.a,
                Row: fo,
                TalliesTable: vo
            },
            mixins: [Zn.a],
            computed: function performance_by_piecevue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? performance_by_piecevue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : performance_by_piecevue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isLocked: "analysis/isClientSideAnalysis",
                moveCounts: "analysis/moveCounts"
            }), {}, Object(Sn.mapState)({
                accuracy: function accuracy(e) {
                    return e.analysis.gameAnalysis.CAPS || {}
                },
                pieceMoves: function pieceMoves(e) {
                    return e.analysis.gameAnalysis.pieceMoves || {}
                }
            }), {
                tableData: function tableData() {
                    return function performanceByPiece(e) {
                        var t = e.accuracy,
                            n = void 0 === t ? {} : t,
                            a = e.isLocked,
                            i = e.moveCounts,
                            o = void 0 === i ? {} : i,
                            r = e.piecesToInclude,
                            s = void 0 === r ? [] : r,
                            l = e.pieceMoves,
                            c = void 0 === l ? {} : l;
                        return {
                            header: tables_objectSpread({
                                className: "wide-values"
                            }, mn(Hn.PERFORMANCE_BY_PIECE)),
                            sections: s.map(function(e) {
                                return {
                                    icon: e.icon,
                                    rows: [{
                                        className: "wide-values",
                                        data: {
                                            BLACK: _n({
                                                object: n.black,
                                                key: e.key,
                                                defaultVal: "-"
                                            }),
                                            WHITE: _n({
                                                object: n.white,
                                                key: e.key,
                                                defaultVal: "-"
                                            })
                                        },
                                        isLocked: a,
                                        label: Hn.ACCURACY
                                    }, {
                                        className: "wide-values",
                                        data: {
                                            BLACK: en({
                                                colorPieceMoves: c.black,
                                                colorTotalMoves: o.black,
                                                key: e.key
                                            }),
                                            WHITE: en({
                                                colorPieceMoves: c.white,
                                                colorTotalMoves: o.white,
                                                key: e.key
                                            })
                                        },
                                        isLocked: a,
                                        label: Hn.MOVES
                                    }]
                                }
                            })
                        }
                    }({
                        accuracy: this.accuracy,
                        isLocked: this.isLocked,
                        moveCounts: this.moveCounts,
                        piecesToInclude: [Vn.PAWN, Vn.KNIGHT, Vn.BISHOP, Vn.ROOK, Vn.QUEEN, Vn.KING],
                        pieceMoves: this.pieceMoves
                    })
                }
            })
        },
        Es = n(1011);
    var As = Object(Tn.a)(Ts, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("details-section", {
            class: e.$style.component,
            attrs: {
                "is-bold": !0,
                "is-dark-mode": e.isDarkMode
            }
        }, [n("row", {
            class: e.tableData.header.className,
            attrs: {
                data: e.tableData.header.data,
                "element-type": e.tableData.header.elementType,
                label: e.tableData.header.label
            }
        }), e._v(" "), n("article", e._l(e.tableData.sections, function(t) {
            return n("div", {
                key: t.label,
                class: e.$style.section
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    theme: "primary",
                    "is-dark-mode": e.isDarkMode,
                    name: t.icon
                }
            }), e._v(" "), n("tallies-table", {
                attrs: {
                    bordered: !1,
                    rows: t.rows
                }
            })], 1)
        }), 0)], 1)
    }, [], !1, function performance_by_piece_injectStyles(e) {
        this.$style = Es.default.locals || Es.default
    }, null, null).exports;

    function timevue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var js = {
            name: "time-tables",
            components: {
                DetailsSection: os,
                TalliesTable: vo
            },
            mixins: [Zn.a],
            computed: function timevue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? timevue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : timevue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isLocked: "analysis/isClientSideAnalysis"
            }), {}, Object(Sn.mapState)({
                gameType: function gameType(e) {
                    return e.analysis.gameType
                },
                time: function time(e) {
                    return e.analysis.gameAnalysis.time || {}
                },
                timeControl: function timeControl(e) {
                    return e.analysis.timeControl
                },
                totalPositions: function totalPositions(e) {
                    return (e.analysis.gameAnalysis.positions || []).length
                }
            }), {
                formattedTimeControl: function formattedTimeControl() {
                    if (this.timeControl) return isNaN(this.timeControl) && this.timeControl.includes("|") ? this.timeControl : "".concat(this.timeControl, " ").concat(1 === this.timeControl ? this.$trans("minute") : this.$trans("minutes"))
                },
                tableData: function tableData() {
                    if (this.gameType === B) return function time(e) {
                        var t = e.classificationsToInclude,
                            n = void 0 === t ? [] : t,
                            a = e.isLocked,
                            i = e.timeControl,
                            r = e.timeData,
                            s = void 0 === r ? {} : r,
                            l = e.title,
                            c = {
                                divisor: 10,
                                defaultVal: "-"
                            };
                        return [mn(l), i ? {
                            label: "".concat(o.a.trans("Time Control:"), " ").concat(i)
                        } : {}, {
                            data: {
                                BLACK: _n(tables_objectSpread({
                                    object: s.black,
                                    key: "total",
                                    digits: 0
                                }, c)),
                                WHITE: _n(tables_objectSpread({
                                    object: s.white,
                                    key: "total",
                                    digits: 0
                                }, c))
                            },
                            isLocked: a,
                            label: o.a.trans("Total Time")
                        }, {
                            data: {
                                BLACK: _n(tables_objectSpread({
                                    object: s.black,
                                    key: "longest",
                                    digits: 0
                                }, c)),
                                WHITE: _n(tables_objectSpread({
                                    object: s.white,
                                    key: "longest",
                                    digits: 0
                                }, c))
                            },
                            isLocked: a,
                            label: o.a.trans("Longest Move Time")
                        }, {
                            data: {
                                BLACK: _n(tables_objectSpread({
                                    object: s.black,
                                    key: "totalAve",
                                    digits: 1
                                }, c)),
                                WHITE: _n(tables_objectSpread({
                                    object: s.white,
                                    key: "totalAve",
                                    digits: 1
                                }, c))
                            },
                            isLocked: a,
                            label: o.a.trans("Avg Time/Move")
                        }].concat(le()(n.map(function(e) {
                            var t = e.key,
                                n = e.label;
                            return {
                                className: "analysis-".concat(t),
                                data: {
                                    BLACK: _n(tables_objectSpread({
                                        object: s.black,
                                        key: t,
                                        digits: 1
                                    }, c)),
                                    WHITE: _n(tables_objectSpread({
                                        object: s.white,
                                        key: t,
                                        digits: 1
                                    }, c))
                                },
                                isLocked: a,
                                label: "".concat(o.a.trans("Time/Move"), " ").concat(n)
                            }
                        })))
                    }({
                        classificationsToInclude: [x.c.EXCELLENT, x.c.INACCURACY, x.c.MISTAKE, x.c.BLUNDER],
                        isLocked: this.isLocked,
                        timeControl: this.formattedTimeControl,
                        timeData: this.time,
                        title: Hn.TIME,
                        totalPositions: this.totalPositions
                    })
                }
            })
        },
        Ls = n(1012);

    function tab_detailsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ds = {
            name: "tab-details",
            components: {
                GameDetails: fs,
                GamePhases: _s,
                Opening: xs,
                Performance: Ms,
                PerformanceByPiece: As,
                TimeTable: Object(Tn.a)(js, function() {
                    var e = this.$createElement,
                        t = this._self._c || e;
                    return t("details-section", {
                        attrs: {
                            "is-bold": !0,
                            "is-padded": !1,
                            "is-dark-mode": this.isDarkMode
                        }
                    }, [this.tableData ? t("tallies-table", {
                        attrs: {
                            "is-dark-mode": this.isDarkMode,
                            rows: this.tableData
                        }
                    }) : this._e()], 1)
                }, [], !1, function time_injectStyles(e) {
                    this.$style = Ls.default.locals || Ls.default
                }, null, null).exports,
                RunFullAnalysisButton: Wi
            },
            mixins: [Zn.a],
            computed: function tab_detailsvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? tab_detailsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tab_detailsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isFullAnalysis: "analysis/isFullAnalysis",
                isAnalysisTiedToGame: "analysis/isAnalysisTiedToGame"
            })),
            created: function created() {
                Ri.a.logEvent(c)
            }
        },
        Ns = n(1013);
    var Is = Object(Tn.a)(Ds, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: [e.componentClasses(), e.$style.scrollable]
            }, [n("game-details", {
                attrs: {
                    "read-only": e.isAnalysisTiedToGame
                }
            }), e._v(" "), n("div", {
                class: e.$style.content
            }, [n("performance"), e._v(" "), n("performance-by-piece"), e._v(" "), n("opening"), e._v(" "), n("game-phases"), e._v(" "), n("time-table")], 1)], 1)
        }, [], !1, function tab_details_injectStyles(e) {
            this.$style = Ns.default.locals || Ns.default
        }, null, null).exports,
        $s = (n(232), n(97), function formatNum(e) {
            var t = e.toFixed(1);
            return t.endsWith(".0") && (t = Math.round(t)), Number(t)
        }),
        Bs = 20,
        Rs = {
            name: "openings-stat",
            mixins: [zn.a],
            props: {
                label: {
                    type: String,
                    required: !0
                },
                percent: {
                    type: Number,
                    required: !0
                },
                type: {
                    type: String
                }
            },
            computed: {
                percentStyle: function percentStyle() {
                    return {
                        width: "".concat(this.percent, "%")
                    }
                },
                percentText: function percentText() {
                    return "".concat($s(this.percent), "%")
                },
                showBar: function showBar() {
                    return this.percent > 0
                },
                showPercentage: function showPercentage() {
                    return this.percent > Bs
                }
            }
        },
        Fs = n(1014);

    function statsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var zs = {
            name: "stats",
            components: {
                Stat: Object(Tn.a)(Rs, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return e.showBar ? n("li", {
                        class: [e.componentClasses(), e.$style[e.type]]
                    }, [n("span", {
                        class: e.$style.fill,
                        style: e.percentStyle
                    }, [e.showPercentage ? n("span", {
                        class: e.$style.text,
                        domProps: {
                            textContent: e._s(e.percentText)
                        }
                    }) : e._e()]), e._v(" "), n("div", {
                        class: e.$style.label,
                        domProps: {
                            textContent: e._s(e.label)
                        }
                    })]) : e._e()
                }, [], !1, function stat_injectStyles(e) {
                    this.$style = Fs.default.locals || Fs.default
                }, null, null).exports
            },
            props: {
                viewVariables: Object
            },
            computed: {
                stats: function stats() {
                    return [{
                        label: this.$trans("White Wins"),
                        percent: this.viewVariables.whiteWonPercent,
                        type: "white"
                    }, {
                        label: this.$trans("Draw"),
                        percent: this.viewVariables.drawsPercent,
                        type: "draw"
                    }, {
                        label: this.$trans("Black Wins"),
                        percent: this.viewVariables.blackWonPercent,
                        type: "black"
                    }]
                }
            },
            methods: {
                statWithAttrs: function statWithAttrs(e) {
                    return function statsvue_type_script_lang_js_objectSpread(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {};
                            t % 2 ? statsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                                S()(e, t, n[t])
                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : statsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                            })
                        }
                        return e
                    }({}, e, {}, this.$attrs)
                }
            }
        },
        Us = n(1015);
    var Gs = Object(Tn.a)(zs, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("ul", {
                class: e.$style.component
            }, e._l(e.stats, function(t) {
                return n("stat", e._b({
                    key: t.type
                }, "stat", e.statWithAttrs(t), !1))
            }), 1)
        }, [], !1, function stats_injectStyles(e) {
            this.$style = Us.default.locals || Us.default
        }, null, null).exports,
        Hs = n(460),
        Vs = {
            color: {
                BLACK: "black",
                WHITE: "white",
                label: {
                    BLACK: o.a.trans("Black"),
                    WHITE: o.a.trans("White")
                }
            },
            alert: {
                ERROR: "error",
                MESSAGE: o.a.trans("Invalid Username")
            },
            gameSource: {
                MASTER: "master",
                OTHER: "other",
                OWN: "own",
                label: {
                    MASTER: o.a.trans("Master Games"),
                    OTHER: o.a.trans("Other Players"),
                    OWN: o.a.trans("My Games")
                }
            },
            gameType: {
                ALL: "all",
                BLITZ: "blitz",
                DAILY: "daily",
                LIGHTNING: "lightning",
                LIVE: "live",
                STANDARD: "standard",
                label: {
                    ALL: o.a.trans("All Games"),
                    BLITZ: o.a.trans("- Blitz"),
                    DAILY: o.a.trans("Daily Chess"),
                    LIGHTNING: o.a.trans("- Bullet"),
                    LIVE: o.a.trans("Live Chess"),
                    STANDARD: o.a.trans("- Rapid")
                }
            },
            label: {
                FIND: o.a.trans("Find"),
                HELP_MESSAGE: o.a.trans("\n    Only the following games are imported: Standard rules (no variants) that are at least 15 ply (or 29 ply if timeout)\n    and played against a human (no computers).\n    "),
                LIMIT_REACHED: '\n      <a href="'.concat(ue.a.generate("web_membership", {
                    c: "explorer"
                }), '">\n        ').concat(o.a.trans("Please upgrade to get full access to Explorer."), "\n      </a>"),
                LOADING: o.a.trans("Loading..."),
                NO_GAMES: o.a.trans("There are no games with this position found in the database."),
                SEARCH: o.a.trans("View all games from current position"),
                UPGRADE_TO_EXPLORE_OWN: '\n      <a href="'.concat(ue.a.generate("web_membership", {
                    c: "explorer"
                }), '">\n        ').concat(o.a.trans("Upgrade to premium to explore your own games."), "\n      </a>"),
                USERNAME: o.a.trans("Username")
            },
            mainControls: {
                ANALYSIS: o.a.trans("Analysis"),
                MOVE_BACK: o.a.trans("Move Back"),
                MOVE_FORWARD: o.a.trans("Move Forward"),
                RESET: o.a.trans("Reset")
            },
            GAME_SEARCH_COUNT_THRESHOLD: 1e4,
            upgrade: {
                BODY: o.a.trans("Continue to explore this or any other line with unlimited Explorer and review and play the same lines as grandmasters!"),
                FREE_TRIAL: o.a.trans("Start Free Trial"),
                TITLE: o.a.trans("Go Premium for Unlimited Explorer"),
                REFERRAL: "explorer",
                SUBTITLE: o.a.trans("Explorer Move Limit Reached"),
                UNLOCK: o.a.trans("Unlock Explorer")
            },
            LABEL_MINIMUM_PERCENT: 20
        },
        Ws = {
            name: "suggested-moves",
            directives: {
                Tooltip: Gn.a
            },
            mixins: [zn.a],
            props: {
                calculatePercentages: {
                    type: Boolean,
                    default: !0
                },
                isPremium: {
                    type: Boolean,
                    default: !1
                },
                suggestedMoves: {
                    type: Array
                },
                selectedMoveNodeIndex: {
                    type: Number
                }
            },
            data: function data() {
                return {
                    formatNumber: us.b,
                    constants: Object.freeze(Vs),
                    gameResultTextOptions: Object.freeze(Hs.a),
                    openingInfo: []
                }
            },
            computed: {
                hasSuggestedMoves: function hasSuggestedMoves() {
                    return this.suggestedMoves.length > 0
                }
            },
            watch: {
                suggestedMoves: {
                    handler: function handler() {
                        var e = this;
                        this.openingInfo = [], this.suggestedMoves.forEach(function(t, n) {
                            e.calculatePercentages && (t.percentWhiteWon = e.calcWinPercent(t.whiteWon, t.totalGames), t.percentDrawn = e.calcWinPercent(t.draw, t.totalGames), t.percentBlackWon = e.calcWinPercent(t.blackWon, t.totalGames));
                            var a = zt.matchByFen(t.nextFen);
                            e.openingInfo[n] = a ? a.n : null
                        })
                    },
                    immediate: !0
                }
            },
            methods: {
                calcWinPercent: function calcWinPercent(e, t) {
                    return Math.round(e / t * 100)
                },
                clickMove: function clickMove(e, t) {
                    this.$emit("click-move", t, e)
                },
                getSuggestedMoveNumber: function getSuggestedMoveNumber() {
                    return -1 === this.selectedMoveNodeIndex ? "1." : (this.selectedMoveNodeIndex + 1) % 2 == 0 ? "".concat((this.selectedMoveNodeIndex + 3) / 2, ".") : "".concat((this.selectedMoveNodeIndex + 2) / 2, "...")
                },
                getTotalGamesComponent: function getTotalGamesComponent(e) {
                    return this.getTotalGamesLink(e) ? "a" : "span"
                },
                getTotalGamesLink: function getTotalGamesLink(e) {
                    return e.totalGamesLink ? e.totalGamesLink : e.nextFen && this.isPremium && e.totalGames <= Vs.GAME_SEARCH_COUNT_THRESHOLD ? ue.a.generate("web_master_games_search", {
                        fen: e.nextFen
                    }) : void 0
                }
            }
        },
        Ks = n(1016);

    function tab_openingsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function tab_openingsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? tab_openingsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tab_openingsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var qs = {
            name: "tab-openings",
            components: {
                LockedMessage: Gi,
                Stats: Gs,
                SuggestedMoves: Object(Tn.a)(Ws, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        class: e.componentClasses()
                    }, [e.hasSuggestedMoves ? n("ul", {
                        class: e.$style.unstyled
                    }, e._l(e.suggestedMoves, function(t, a) {
                        return n("li", {
                            key: a,
                            class: e.$style["suggested-moves-items"]
                        }, [n("p", {
                            class: e.$style["move-type"],
                            on: {
                                click: function(n) {
                                    return e.clickMove(n, t)
                                }
                            }
                        }, [n("a", {
                            directives: [{
                                name: "tooltip",
                                rawName: "v-tooltip",
                                value: {
                                    content: e.$trans(e.openingInfo[a]),
                                    delay: 0
                                },
                                expression: "{\n            content: $trans(openingInfo[index]),\n            delay: 0\n        }"
                            }],
                            domProps: {
                                textContent: e._s("" + e.getSuggestedMoveNumber() + t.sanMove)
                            }
                        })]), e._v(" "), n("p", {
                            class: e.$style["total-games"]
                        }, [t.totalGames > 1 || !t.gameInfo ? n(e.getTotalGamesComponent(t), {
                            tag: "component",
                            attrs: {
                                href: e.getTotalGamesLink(t)
                            },
                            domProps: {
                                textContent: e._s(e.formatNumber(t.totalGames))
                            }
                        }) : e._e()], 1), e._v(" "), t.gameInfo ? n("div", {
                            class: e.$style["suggested-moves-list"]
                        }, [n("div", {
                            class: e.$style["game-info"]
                        }, [t.gameInfo.gameResultText === e.gameResultTextOptions.ONE_ZERO ? n("div", {
                            class: [e.$style.result, e.$style["suggested-white"]],
                            domProps: {
                                textContent: e._s(e.gameResultTextOptions.ONE_ZERO)
                            }
                        }) : e._e(), e._v(" "), t.gameInfo.gameResultText === e.gameResultTextOptions.HALF_HALF ? n("div", {
                            class: [e.$style.result, e.$style["suggested-draw"]],
                            domProps: {
                                innerHTML: e._s(e.gameResultTextOptions.HALF_HALF_ENTITY)
                            }
                        }) : e._e(), e._v(" "), t.gameInfo.gameResultText === e.gameResultTextOptions.ZERO_ONE ? n("div", {
                            class: [e.$style.result, e.$style["suggested-black"]],
                            domProps: {
                                textContent: e._s(e.gameResultTextOptions.ZERO_ONE)
                            }
                        }) : e._e(), e._v(" "), n("div", {
                            class: e.$style.player
                        }, [t.gameInfo.link ? n("a", {
                            attrs: {
                                href: t.gameInfo.link
                            },
                            domProps: {
                                textContent: e._s(t.gameInfo.title)
                            }
                        }) : n("span", {
                            domProps: {
                                textContent: e._s(t.gameInfo.title)
                            }
                        })])])]) : n("div", {
                            class: e.$style["suggested-moves-list"]
                        }, [n("div", {
                            class: [e.$style["suggested-moves-percentages"], e.$style["suggested-white"]],
                            style: {
                                width: t.percentWhiteWon + "%"
                            }
                        }, [t.percentWhiteWon > e.constants.LABEL_MINIMUM_PERCENT ? n("span", {
                            class: e.$style["percent-label"],
                            domProps: {
                                textContent: e._s(t.percentWhiteWon + "%")
                            }
                        }) : n("span", {
                            class: e.$style["percent-label"]
                        })]), e._v(" "), n("div", {
                            class: [e.$style["suggested-moves-percentages"], e.$style["suggested-draw"]],
                            style: {
                                width: t.percentDrawn + "%"
                            }
                        }, [t.percentDrawn > e.constants.LABEL_MINIMUM_PERCENT ? n("span", {
                            class: e.$style["percent-label"],
                            domProps: {
                                textContent: e._s(t.percentDrawn + "%")
                            }
                        }) : n("span", {
                            class: e.$style["percent-label"]
                        })]), e._v(" "), n("div", {
                            class: [e.$style["suggested-moves-percentages"], e.$style["suggested-black"]],
                            style: {
                                width: t.percentBlackWon + "%"
                            }
                        }, [t.percentBlackWon > e.constants.LABEL_MINIMUM_PERCENT ? n("span", {
                            class: e.$style["percent-label"],
                            domProps: {
                                textContent: e._s(t.percentBlackWon + "%")
                            }
                        }) : n("span", {
                            class: e.$style["percent-label"]
                        })])])])
                    }), 0) : e._e()])
                }, [], !1, function suggested_moves_injectStyles(e) {
                    this.$style = Ks.default.locals || Ks.default
                }, null, null).exports
            },
            directives: {
                Tooltip: Gn.a
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    currentLineEcos: [],
                    isFetchingOpeningInfo: !1,
                    opening: null
                }
            },
            computed: tab_openingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                currentMoveNumber: "analysis/currentMoveNumber",
                game: "game/game",
                getCurrentFen: "game/getCurrentFen",
                isPremium: "user/isPremium",
                openingStats: "analysis/openingStats",
                suggestedMoves: "analysis/suggestedMoves",
                variant: "game/variant"
            }), {}, Object(Sn.mapState)({
                currentFullLine: function currentFullLine(e) {
                    return e.analysis.currentFullLine
                },
                isLocked: function isLocked(e) {
                    return e.analysis.isLocked
                }
            }), {
                canViewStats: function canViewStats() {
                    return !this.isLocked || this.isLocked && this.currentMoveNumber <= 5
                },
                showLoadingState: function showLoadingState() {
                    return this.canViewStats && this.isFetchingOpeningInfo
                },
                showNoSuggestedMovesMessage: function showNoSuggestedMovesMessage() {
                    return this.canViewStats && 0 === this.suggestedMoves.length && !this.isFetchingOpeningInfo
                },
                showStats: function showStats() {
                    return this.canViewStats && this.openingStats && !this.isFetchingOpeningInfo
                },
                showSuggestedMoves: function showSuggestedMoves() {
                    return this.canViewStats && !this.isFetchingOpeningInfo
                },
                selectedMoveIndex: function selectedMoveIndex() {
                    var e = this.getCurrentFen.split(" "),
                        t = parseInt(e[5], 10);
                    return (t = "w" === e[1] ? 2 * (t - 1) : 2 * (t - 1) + 1) - 1
                },
                totalGamesUrl: function totalGamesUrl() {
                    return ue.a.generate("web_master_games_search", {
                        fen: this.getCurrentFen
                    })
                }
            }),
            watch: {
                getCurrentFen: function getCurrentFen(e, t) {
                    e !== t && this.fetchInfo()
                },
                currentFullLine: function currentFullLine() {
                    this.lookUpOpening()
                }
            },
            created: function created() {
                Ri.a.logEvent(u)
            },
            mounted: function mounted() {
                this.fetchInfo()
            },
            methods: tab_openingsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                makeMove: "game/makeMove",
                goToNode: "game/goToNode",
                fetchOpeningInfo: "analysis/fetchOpeningInfo"
            }), {
                getMoveNodeTooltip: function getMoveNodeTooltip(e) {
                    return this.currentLineEcos[e] || ""
                },
                getMoveText: function getMoveText(e, t) {
                    var n = "";
                    return t % 2 == 0 && (n = "".concat(t / 2 + 1, ".")), n + e.san
                },
                fetchInfo: function fetchInfo() {
                    var e = this;
                    this.isFetchingOpeningInfo = !0, this.fetchOpeningInfo().finally(function() {
                        e.isFetchingOpeningInfo = !1
                    })
                },
                lookUpOpening: function lookUpOpening() {
                    var e = this;
                    if (this.opening = null, this.currentLineEcos = [], this.currentFullLine) {
                        var t = [];
                        this.currentFullLine && this.currentFullLine.length > 0 ? (t.push(this.currentFullLine[0].beforeFen), t.push.apply(t, le()(this.currentFullLine.map(function(e) {
                            return e.fen
                        })))) : t.push(this.game.setup.fen), this.currentLineEcos = function findEcosByFens(e) {
                            var t = [];
                            return e.find(function(e, n) {
                                var a = zt.matchByFen(e);
                                return !a || !a.c || (t[n] = a.n, !1)
                            }), t
                        }(t.slice(1)), zt.lookUpOpening({
                            fens: t,
                            variant: this.variant
                        }).then(function(t) {
                            e.opening = t
                        })
                    }
                }
            })
        },
        Ys = n(1017);
    var Xs = Object(Tn.a)(qs, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: [e.componentClasses(), e.$style.scrollable]
            }, [n("div", {
                class: e.$style.section
            }, [e.opening ? n("h3", [n("a", {
                attrs: {
                    target: "_blank",
                    href: e.opening.url
                },
                domProps: {
                    textContent: e._s(e.opening.name)
                }
            })]) : e._e(), e._v(" "), n("div", {
                class: e.$style["opening-moves"]
            }, [n("h4", e._l(e.currentFullLine, function(t, a) {
                return n("a", {
                    directives: [{
                        name: "tooltip",
                        rawName: "v-tooltip",
                        value: e.getMoveNodeTooltip(a),
                        expression: "getMoveNodeTooltip(index)"
                    }],
                    key: a,
                    class: e.$style["opening-move-list"],
                    domProps: {
                        textContent: e._s(e.getMoveText(t, a))
                    },
                    on: {
                        click: function(n) {
                            return e.goToNode(t.ids)
                        }
                    }
                })
            }), 0)]), e._v(" "), e.showStats ? n("stats", {
                attrs: {
                    "is-dark-mode": e.isDarkMode,
                    "view-variables": e.openingStats
                }
            }) : e._e()], 1), e._v(" "), e.showStats ? n("h3", {
                class: e.$style["total-games"]
            }, [n("a", {
                attrs: {
                    target: "_blank",
                    href: e.totalGamesUrl
                },
                domProps: {
                    textContent: e._s(e.$trans("%1s% Games", {
                        "%1s%": e.openingStats.totalGames
                    }))
                }
            })]) : e._e(), e._v(" "), n("div", {
                class: e.$style.section
            }, [n("span", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.showLoadingState,
                    expression: "showLoadingState"
                }],
                domProps: {
                    textContent: e._s(e.$trans("Loading..."))
                }
            }), e._v(" "), n("suggested-moves", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.showSuggestedMoves,
                    expression: "showSuggestedMoves"
                }],
                attrs: {
                    "calculate-percentages": !1,
                    "is-premium": e.isPremium,
                    "is-dark-mode": e.isDarkMode,
                    "selected-move-node-index": e.selectedMoveIndex,
                    "suggested-moves": e.suggestedMoves
                },
                on: {
                    "click-move": function(t) {
                        return e.makeMove({
                            san: t.sanMove
                        })
                    }
                }
            }), e._v(" "), n("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: !e.canViewStats,
                    expression: "!canViewStats"
                }],
                class: e.$style.locked
            }, [n("span", {
                domProps: {
                    textContent: e._s(e.$trans("Please upgrade to explore games at this depth and beyond."))
                }
            }), e._v(" "), n("locked-message", {
                class: e.$style["upgrade-button"],
                attrs: {
                    "as-button": !0,
                    message: e.$trans("Unlock Explorer")
                }
            })], 1), e._v(" "), n("span", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: e.showNoSuggestedMovesMessage,
                    expression: "showNoSuggestedMovesMessage"
                }],
                domProps: {
                    textContent: e._s(e.$trans("There are no games with this position found in the database."))
                }
            })], 1)])
        }, [], !1, function tab_openings_injectStyles(e) {
            this.$style = Ys.default.locals || Ys.default
        }, null, null).exports,
        Qs = {
            name: "upgrade",
            components: {
                LockedMessage: Gi
            },
            mixins: [Zn.a],
            props: {
                bullets: {
                    type: Array,
                    default: function _default() {
                        return []
                    }
                },
                lockedMessage: {
                    type: String
                },
                lockedMessageOnTop: {
                    type: Boolean,
                    default: !1
                },
                title: {
                    type: String
                },
                titleClass: {
                    type: String
                }
            }
        },
        Zs = n(1018);
    var Js = Object(Tn.a)(Qs, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("div", {
                class: n.componentClasses()
            }, [n._t("header"), n._v(" "), n.title ? i("div", {
                class: [n.$style.title, (e = {}, e[n.titleClass] = n.titleClass, e)],
                domProps: {
                    textContent: n._s(n.title)
                }
            }) : n._e(), n._v(" "), i("ul", {
                class: n.$style.bullets
            }, n._l(n.bullets, function(e, t) {
                return i("li", {
                    key: t,
                    domProps: {
                        textContent: n._s(e)
                    }
                })
            }), 0), n._v(" "), n.lockedMessage ? i("locked-message", {
                class: [n.$style.button, (t = {}, t[n.$style.top] = n.lockedMessageOnTop, t)],
                attrs: {
                    message: n.lockedMessage
                }
            }) : n._e()], 2)
        }, [], !1, function upgrade_injectStyles(e) {
            this.$style = Zs.default.locals || Zs.default
        }, null, null).exports,
        el = n(67),
        tl = {
            name: "highcharts-chart",
            props: {
                autoUpdate: {
                    type: Boolean,
                    default: !0
                },
                constructorType: {
                    type: String,
                    default: "chart",
                    validator: function validator(e) {
                        return ["chart", "mapChart", "stockChart"].includes(e)
                    }
                },
                options: {
                    type: Object,
                    required: !0
                },
                loading: {
                    type: Boolean,
                    default: !1
                },
                onLoad: {
                    type: Function
                },
                updateArgs: {
                    type: Array,
                    default: function _default() {
                        return [!0, !0, {
                            duration: 1e3
                        }]
                    }
                },
                updateCallback: {
                    type: Function
                }
            },
            computed: {
                hasOptionsAndAcceptableConstructor: function hasOptionsAndAcceptableConstructor() {
                    return this.options && Qe.a[this.constructorType]
                }
            },
            watch: {
                loading: function loading(e) {
                    e ? this.chart.showLoading() : this.chart.hideLoading()
                },
                options: {
                    handler: function handler() {
                        this.autoUpdate && this.update()
                    },
                    deep: !0
                }
            },
            mounted: function mounted() {
                this.hasOptionsAndAcceptableConstructor && this.createChart()
            },
            beforeDestroy: function beforeDestroy() {
                return this.chart && this.chart.destroy()
            },
            methods: {
                createChart: function createChart() {
                    this.chart = Qe.a[this.constructorType](this.$refs.chart, this.options, this.onLoad), this.loading && this.chart.showLoading()
                },
                update: function update() {
                    var e;
                    (e = this.chart).update.apply(e, [this.options].concat(le()(this.updateArgs))), this.updateCallback && this.updateCallback(this.chart)
                }
            }
        };

    function smart_updating_chartvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function smart_updating_chartvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? smart_updating_chartvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : smart_updating_chartvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var nl = {
            name: "smart-updating-chart",
            components: {
                Chart: Object(Tn.a)(tl, function() {
                    var e = this.$createElement;
                    return (this._self._c || e)("div", {
                        ref: "chart"
                    })
                }, [], !1, null, null, null).exports
            },
            mixins: [zn.a],
            props: {
                onLoad: {
                    type: Function,
                    default: function _default() {
                        return {}
                    }
                },
                options: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                optionsBuilder: {
                    type: Function,
                    required: !0
                },
                onUpdateMoveNumber: {
                    type: Function,
                    default: function _default() {
                        return {}
                    }
                },
                updateMoveNumberOptions: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                }
            },
            data: function data() {
                return {
                    cachedOptions: null
                }
            },
            computed: smart_updating_chartvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisFinished: "analysis/isAnalysisFinished",
                currentMainLineMoveNumber: "analysis/currentMainLineMoveNumber"
            })),
            watch: {
                options: {
                    deep: !0,
                    handler: "updateActiveChart",
                    immediate: !0
                },
                currentMainLineMoveNumber: "onUpdateMoveNumberOnNextTick"
            },
            mounted: function mounted() {
                this.$nextTick(this.updateActiveChart)
            },
            methods: {
                getChartOptions: function getChartOptions() {
                    return smart_updating_chartvue_type_script_lang_js_objectSpread({}, this.options, {
                        currentMoveNumber: this.currentMainLineMoveNumber
                    })
                },
                handleLoad: function handleLoad() {
                    var e = this;
                    this.onLoad && this.$nextTick(this.onLoad), setTimeout(function() {
                        e.onUpdateMoveNumberOnNextTick(e.currentMainLineMoveNumber)
                    })
                },
                onUpdateMoveNumberOnNextTick: function onUpdateMoveNumberOnNextTick(e) {
                    var t = this;
                    this.$refs.chartWrapper && this.$nextTick(function() {
                        return t.onUpdateMoveNumber(smart_updating_chartvue_type_script_lang_js_objectSpread({
                            chart: t.$refs.chartWrapper.chart,
                            currentMoveNumber: e,
                            TEP: t.options.TEP
                        }, t.updateMoveNumberOptions))
                    })
                },
                updateActiveChart: function updateActiveChart() {
                    var e = this;
                    this.cachedOptions = this.getChartOptions(), this.$nextTick(function() {
                        e.$refs.chartWrapper && e.$refs.chartWrapper.update()
                    })
                }
            }
        },
        al = n(1019);
    var il = Object(Tn.a)(nl, function() {
        var e = this.$createElement;
        return (this._self._c || e)("chart", this._b({
            ref: "chartWrapper",
            class: this.componentClasses(),
            attrs: {
                "auto-update": !1,
                "on-load": this.handleLoad,
                options: this.optionsBuilder(this.cachedOptions)
            }
        }, "chart", this.$attrs, !1))
    }, [], !1, function smart_updating_chart_injectStyles(e) {
        this.$style = al.default.locals || al.default
    }, null, null).exports;

    function game_arc_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var ol = function getShiftedClass(e, t) {
            return e === t ? "" : e < t ? "shift-up" : "shift-down"
        },
        rl = function getPositionData(e) {
            var t = e.position,
                n = t.classification,
                a = t.difference,
                i = t.playedMove,
                o = t.scenarios,
                r = kt({
                    classification: n,
                    difference: a,
                    scenarios: o
                }) || {},
                s = Ot(i.score, wr);
            return {
                className: "analysis-".concat(r.key, "-bg ").concat(ol(s, i.score)),
                y: s
            }
        },
        sl = function(e) {
            var t = e.goToNode,
                n = e.positions,
                a = void 0 === n ? [] : n;
            return function game_arc_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? game_arc_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : game_arc_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Be({
                propsToExclude: ["chart", "plotOptions", "xAxis"]
            }), {
                chart: {
                    backgroundColor: "transparent",
                    className: "highcharts-game-arc",
                    height: 100,
                    margin: [0, 0, 0, 0],
                    spacing: [0, 0, 0, 0],
                    type: "areaspline"
                },
                plotOptions: {
                    series: {
                        className: "arc-color",
                        marker: {
                            enabled: !0,
                            radius: 5,
                            states: {
                                hover: {
                                    radiusPlus: 0
                                }
                            }
                        },
                        negativeColor: !0,
                        point: {
                            events: {
                                click: function click() {
                                    t({
                                        line: 0,
                                        move: this.index
                                    })
                                }
                            }
                        },
                        trackByArea: !0
                    }
                },
                series: je({
                    dataAggregator: rl,
                    positions: a
                }),
                tooltip: {
                    enabled: !0,
                    formatter: function formatter() {
                        var e = (a[this.x - 1] || {}).playedMove;
                        return "<strong>".concat(Pr(e), "</strong>")
                    }
                },
                xAxis: {
                    labels: {
                        enabled: !1
                    }
                },
                yAxis: {
                    labels: {
                        enabled: !1
                    },
                    max: wr,
                    min: -wr,
                    title: ""
                }
            })
        };

    function game_arcvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function game_arcvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? game_arcvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : game_arcvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var ll = {
            name: "game-arc",
            components: {
                IconFont: In.a,
                LoaderThreeBounce: ti.a,
                SmartUpdatingChart: il
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    gameArcChartOptions: sl
                }
            },
            computed: game_arcvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                gameHasAnalyzedPositions: "analysis/gameHasAnalyzedPositions",
                gameNodes: "game/gameNodes",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                arc: function arc(e) {
                    return e.analysis.gameAnalysis.arc
                },
                arcPlayerScenarios: function arcPlayerScenarios(e) {
                    return e.analysis.gameAnalysis.arcPlayerScenarios
                },
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions || []
                }
            }), {
                arcIcon: function arcIcon() {
                    return "arc-".concat(this.arc.toLowerCase())
                },
                arcPhrase: function arcPhrase() {
                    return this.arc && this.arcPlayerScenarios ? function getGameArcPhrase(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            n = arguments.length > 2 ? arguments[2] : void 0,
                            a = $[e] || {};
                        return a.scenarios[t[n]] || a.desc
                    }(this.arc, this.arcPlayerScenarios, this.userColor) : null
                },
                chartExampleImage: function chartExampleImage() {
                    return Object(el.a)("bundles/web/images/game-arc-example_".concat(this.isDarkMode ? "dark" : "light", ".png"))
                },
                chartOptions: function chartOptions() {
                    return {
                        currentMoveNumber: -1,
                        goToNode: this.goToNode,
                        positions: this.positions
                    }
                },
                chartWidth: function chartWidth() {
                    return this.positions.length / this.gameNodes.length * 100
                },
                chartStyles: function chartStyles() {
                    return {
                        width: "".concat(this.chartWidth, "%")
                    }
                },
                showArcChart: function showArcChart() {
                    return this.isAnalysisInProgress || this.gameHasAnalyzedPositions
                },
                showArcDescription: function showArcDescription() {
                    return Boolean(this.arc)
                }
            }),
            watch: {
                chartWidth: function chartWidth() {
                    var e = ((this.$refs.smartChart || {}).$refs || {}).chartWrapper;
                    this.$nextTick(function() {
                        e && e.chart && e.chart.reflow()
                    })
                }
            },
            methods: game_arcvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                goToNode: "game/goToNode"
            }), {
                updateMoveNumber: Re
            })
        },
        cl = n(1020);
    var ul = Object(Tn.a)(ll, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [e.showArcDescription ? n("div", {
            class: e.$style.wrapper
        }, [n("div", {
            class: e.$style.arc
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                name: e.arcIcon
            }
        }), e._v(" "), n("span", {
            class: e.$style.title,
            domProps: {
                textContent: e._s(e.$trans(e.arc))
            }
        }), e._v(" "), e.arcPhrase ? n("span", {
            class: e.$style.separator,
            domProps: {
                textContent: e._s("—")
            }
        }) : e._e(), e._v(" "), n("span", {
            class: e.$style.phrase,
            domProps: {
                textContent: e._s(e.arcPhrase)
            }
        })], 1)]) : e._e(), e._v(" "), n("div", {
            class: e.$style.chart
        }, [e.showArcChart ? n("div", {
            style: e.chartStyles
        }, [n("smart-updating-chart", {
            ref: "smartChart",
            attrs: {
                loading: e.isAnalysisInProgress,
                options: e.chartOptions,
                "options-builder": e.gameArcChartOptions,
                "on-update-move-number": e.updateMoveNumber,
                "update-move-number-options": {
                    seriesSliceIndex: 0
                }
            }
        })], 1) : n("img", {
            class: e.$style.example,
            attrs: {
                src: e.chartExampleImage
            }
        })])])
    }, [], !1, function game_arc_injectStyles(e) {
        this.$style = cl.default.locals || cl.default
    }, null, null).exports;

    function game_summaryvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function game_summaryvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? game_summaryvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : game_summaryvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var dl = {
            name: "game-summary",
            directives: {
                tooltip: Gn.a
            },
            mixins: [Zn.a],
            computed: game_summaryvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameHasAnalyzedPositions: "analysis/gameHasAnalyzedPositions",
                isFullAnalysis: "analysis/isFullAnalysis"
            }), {}, Object(Sn.mapState)({
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions || []
                }
            }), {
                classificationsTableData: function classificationsTableData() {
                    return gs({
                        classificationsToInclude: [x.c.BRILLIANT, x.c.BEST_MOVE, x.c.EXCELLENT, x.c.GOOD, x.c.BOOK, x.c.INACCURACY, x.c.MISTAKE, x.c.BLUNDER, x.c.MISSED_WIN],
                        positions: this.positions
                    })
                }
            }),
            methods: game_summaryvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                activateClassification: "analysis/activateClassification"
            }), {
                getTooltip: function getTooltip(e) {
                    return M[e]
                },
                handleRowClick: function handleRowClick(e) {
                    this.isFullAnalysis && this.activateClassification(e)
                },
                formatValue: function formatValue(e) {
                    return Number.isInteger(e) && this.gameHasAnalyzedPositions ? e : "-"
                }
            })
        },
        pl = n(1021);
    var hl = Object(Tn.a)(dl, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, e._l(e.classificationsTableData, function(t) {
                var a;
                return n("div", {
                    key: t.name,
                    class: [e.$style.row, t.className, (a = {}, a[e.$style.hoverable] = e.isFullAnalysis, a)],
                    on: {
                        click: function(n) {
                            return e.handleRowClick(t.name)
                        }
                    }
                }, [n("div", {
                    class: e.$style.value,
                    domProps: {
                        textContent: e._s(e.formatValue(t.data.WHITE))
                    }
                }), e._v(" "), n("div", {
                    directives: [{
                        name: "tooltip",
                        rawName: "v-tooltip",
                        value: e.getTooltip(t.name),
                        expression: "getTooltip(row.name)"
                    }],
                    class: e.$style.label
                }, [n("span", {
                    class: e.$style.icon,
                    domProps: {
                        innerHTML: e._s(t.icon)
                    }
                }), e._v(" "), n("span", {
                    domProps: {
                        textContent: e._s(t.label)
                    }
                })]), e._v(" "), n("div", {
                    class: e.$style.value,
                    domProps: {
                        textContent: e._s(e.formatValue(t.data.BLACK))
                    }
                })])
            }), 0)
        }, [], !1, function game_summary_injectStyles(e) {
            this.$style = pl.default.locals || pl.default
        }, null, null).exports,
        ml = n(289);

    function player_accuracyvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var fl = {
            name: "player-accuracy",
            components: {
                IconFont: In.a,
                LoaderThreeBounce: ti.a
            },
            directives: {
                tooltip: Gn.a
            },
            mixins: [Zn.a],
            props: {
                color: {
                    type: String,
                    required: !0
                }
            },
            computed: function player_accuracyvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? player_accuracyvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : player_accuracyvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                pgnHeaders: "analysis/pgnHeaders"
            }), {}, Object(Sn.mapState)({
                accuracies: function accuracies(e) {
                    return e.analysis.gameAnalysis.CAPS || {}
                },
                progress: function progress(e) {
                    return e.analysis.analysisProgress
                },
                playerDetails: function playerDetails(e) {
                    return e.analysis.playerDetails || {}
                }
            }), {
                accuracyTooltip: function accuracyTooltip() {
                    return {
                        content: this.isClientSideAnalysis ? this.$trans("Player Accuracy is calculated during Full Analysis only. Upgrade today for Unlimited Analysis.") : this.$trans("Game accuracy is a score measuring the accuracy of your moves on a scale of 0 - 100 when compared to the top chess computer moves"),
                        delay: 50,
                        position: "bottom"
                    }
                },
                avatarSrcset: function avatarSrcset() {
                    return this.avatar.isFallback ? this.avatar.url : Object(ml.b)(this.avatar.url)
                },
                avatar: function avatar() {
                    return this.player.avatarUrl ? {
                        isFallback: !1,
                        url: this.player.avatarUrl
                    } : {
                        isFallback: !0,
                        url: Object(el.a)("bundles/web/images/".concat(this.color, "_400.png"))
                    }
                },
                colorAccuracy: function colorAccuracy() {
                    return this.isClientSideAnalysis ? "?" : this.accuracies[this.color] ? _n({
                        object: this.accuracies[this.color],
                        key: "all",
                        digits: 1,
                        defaultVal: "0.0",
                        method: Math.floor
                    }) : "—"
                },
                colorIsLoser: function colorIsLoser() {
                    return this.winningColor && this.winningColor !== this.color
                },
                colorIsWinner: function colorIsWinner() {
                    return this.winningColor === this.color
                },
                player: function player() {
                    return this.playerDetails[this.color] || {}
                },
                winningColor: function winningColor() {
                    var e = this.pgnHeaders.Result;
                    return "1-0" === e ? Me.e.WHITE : "0-1" === e ? Me.e.BLACK : void 0
                }
            })
        },
        gl = n(1022);
    var bl = Object(Tn.a)(fl, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            directives: [{
                name: "tooltip",
                rawName: "v-tooltip",
                value: t.accuracyTooltip,
                expression: "accuracyTooltip"
            }],
            class: [t.componentClasses(), t.$style[t.color], (e = {}, e[t.$style.loser] = t.colorIsLoser, e[t.$style.winner] = t.colorIsWinner, e)]
        }, [a("div", {
            class: t.$style.text
        }, [t.isAnalysisInProgress ? a("loader-three-bounce", {
            class: t.$style.loader,
            attrs: {
                "is-circle": !0,
                size: 40
            }
        }) : t.colorAccuracy ? a("div", {
            class: t.$style.value,
            domProps: {
                textContent: t._s(t.colorAccuracy)
            }
        }) : t._e(), t._v(" "), a("div", {
            class: t.$style.label,
            domProps: {
                textContent: t._s(t.$trans("Accuracy"))
            }
        })], 1), t._v(" "), t.player.userId ? a("img", {
            class: t.$style.avatar,
            attrs: {
                src: t.avatar.url,
                srcset: t.avatarSrcset
            }
        }) : t._e()])
    }, [], !1, function player_accuracy_injectStyles(e) {
        this.$style = gl.default.locals || gl.default
    }, null, null).exports;

    function top_themesvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var vl = {
            name: "top-themes",
            components: {
                DetailsSection: os
            },
            mixins: [Zn.a],
            computed: function top_themesvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? top_themesvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : top_themesvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                TEP: function TEP(e) {
                    return e.analysis.gameAnalysis.TEP || {}
                }
            }), {
                topThemes: function topThemes() {
                    return function getTopThemeLinks() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            t = [];
                        return e.some(function(e) {
                            var n = gn()[e.origName] || {},
                                a = n.lesson,
                                i = n.puzzles;
                            return (a || i) && t.push(e), t.length >= 5
                        }), t
                    }(Zt(this.TEP.weights, this.userColor))
                }
            }),
            methods: {
                themeLink: function themeLink(e) {
                    return {
                        lesson: (gn()[e] || {}).lesson,
                        puzzles: (gn()[e] || {}).puzzles
                    }
                }
            }
        },
        yl = n(1023);
    var _l = Object(Tn.a)(vl, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return e.topThemes.length ? n("details-section", {
            class: e.componentClasses(),
            attrs: {
                "is-bordered": !1,
                "is-dark-mode": e.isDarkMode
            }
        }, [n("template", {
            slot: "header"
        }, [e._v(e._s(e.$trans("Personalized Training")))]), e._v(" "), n("template", {
            slot: "content"
        }, e._l(e.topThemes, function(t) {
            return n("div", {
                key: t.name,
                class: e.$style.row
            }, [n("div", {
                class: e.$style.theme,
                domProps: {
                    textContent: e._s(t.name)
                }
            }), e._v(" "), n("div", [e.themeLink(t.origName).puzzles ? n("a", {
                attrs: {
                    href: e.themeLink(t.origName).puzzles,
                    target: "_blank"
                },
                domProps: {
                    textContent: e._s(e.$trans("Puzzles"))
                }
            }) : e._e(), e._v(" "), e.themeLink(t.origName).lesson && e.themeLink(t.origName).puzzles ? n("span", {
                class: e.$style.divider,
                domProps: {
                    textContent: e._s("|")
                }
            }) : e._e(), e._v(" "), e.themeLink(t.origName).lesson ? n("a", {
                attrs: {
                    href: e.themeLink(t.origName).lesson,
                    target: "_blank"
                },
                domProps: {
                    textContent: e._s(e.$trans("Lesson"))
                }
            }) : e._e()])])
        }), 0)], 2) : e._e()
    }, [], !1, function top_themes_injectStyles(e) {
        this.$style = yl.default.locals || yl.default
    }, null, null).exports;

    function tab_reportvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var wl = {
            ACCURACY: Object(Fi.b)("View your overall accuracy score"),
            FEEDBACK: Object(Fi.b)("Receive move by move feedback"),
            DEPTH: Object(Fi.b)("Get deeper analysis insights"),
            TRAINING: Object(Fi.b)("Get training recommendations")
        },
        Ol = {
            name: "tab-report",
            components: {
                GameArc: ul,
                GameSummary: hl,
                PlayerAccuracy: bl,
                TopThemes: _l,
                Upgrade: Js,
                RunFullAnalysisButton: Wi
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    upgradeState: {
                        bullets: [wl.ACCURACY, wl.DEPTH, wl.TRAINING],
                        message: this.$trans("Upgrade for Full Report")
                    }
                }
            },
            computed: function tab_reportvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? tab_reportvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tab_reportvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                pgnHeaders: "analysis/pgnHeaders"
            }), {}, Object(Sn.mapState)({
                accuracy: function accuracy(e) {
                    return e.analysis.gameAnalysis.CAPS || {}
                },
                arc: function arc(e) {
                    return e.analysis.gameAnalysis.arc
                },
                isLocked: function isLocked(e) {
                    return e.analysis.isLocked
                },
                playerDetails: function playerDetails(e) {
                    return e.analysis.playerDetails || {}
                }
            }), {
                gameResult: function gameResult() {
                    var e = this.pgnHeaders.Result;
                    return e && "*" !== e ? e : "-"
                },
                reportExists: function reportExists() {
                    return Boolean(this.arc)
                }
            }),
            created: function created() {
                Ri.a.logEvent(d)
            }
        },
        kl = n(1024);
    var Sl = Object(Tn.a)(Ol, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: [e.componentClasses(), e.$style.scrollable]
            }, [n("section", {
                class: [e.$style.section, e.$style.players]
            }, [n("player-accuracy", {
                attrs: {
                    color: "white"
                }
            }), e._v(" "), n("span", {
                class: e.$style.score,
                domProps: {
                    textContent: e._s(e.gameResult)
                }
            }), e._v(" "), n("player-accuracy", {
                attrs: {
                    color: "black"
                }
            })], 1), e._v(" "), n("section", {
                class: e.$style.section
            }, [n("game-summary")], 1), e._v(" "), n("section", {
                class: e.$style.section
            }, [n("game-arc")], 1), e._v(" "), e.reportExists && !e.isClientSideAnalysis ? n("section", {
                class: e.$style.section
            }, [n("top-themes")], 1) : e._e(), e._v(" "), e.isClientSideAnalysis ? n("section", {
                class: e.$style.section
            }, [n("upgrade", {
                attrs: {
                    bullets: e.upgradeState.bullets,
                    "locked-message": e.upgradeState.message,
                    "locked-message-on-top": !0
                }
            })], 1) : e._e(), e._v(" "), e.reportExists ? e._e() : n("section", {
                class: e.$style.section
            }, [n("run-full-analysis-button", {
                attrs: {
                    "button-text": e.$trans("Run Report"),
                    colored: !1
                }
            })], 1)])
        }, [], !1, function tab_report_injectStyles(e) {
            this.$style = kl.default.locals || kl.default
        }, null, null).exports,
        xl = {
            name: "dropdown-menu",
            directives: {
                clickOutside: n(322).a
            },
            mixins: [zn.a],
            props: {
                alignRight: {
                    type: Boolean,
                    default: !0
                },
                options: {
                    type: Array,
                    required: !0
                },
                selectedOption: {
                    type: String,
                    required: !0
                },
                prefixLabel: String
            },
            data: function data() {
                return {
                    isOpen: !1
                }
            },
            computed: {
                labelText: function labelText() {
                    return this.prefixLabel ? "".concat(this.prefixLabel, " ").concat(this.currentOption.label) : this.currentOption.label
                },
                currentOption: function currentOption() {
                    var e = this;
                    return this.options.find(function(t) {
                        return t.type === e.selectedOption
                    })
                }
            },
            methods: {
                onClickSetOption: function onClickSetOption(e) {
                    this.isOpen = !1, this.$emit("menu-change", {
                        option: e
                    })
                },
                onClickToggle: function onClickToggle() {
                    this.isOpen = !this.isOpen
                },
                onClickOutside: function onClickOutside() {
                    this.isOpen = !1
                }
            }
        },
        Pl = n(1025);
    var Cl = Object(Tn.a)(xl, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("div", {
                class: [t.componentClasses(), (e = {}, e[t.$style.right] = t.alignRight, e)]
            }, [a("div", {
                class: t.$style.toggle,
                domProps: {
                    textContent: t._s(t.labelText)
                },
                on: {
                    click: t.onClickToggle
                }
            }), t._v(" "), t.isOpen ? a("ul", {
                directives: [{
                    name: "click-outside",
                    rawName: "v-click-outside",
                    value: t.onClickOutside,
                    expression: "onClickOutside"
                }],
                class: t.$style.dropdown
            }, t._l(t.options, function(e) {
                return a("li", {
                    key: e.type,
                    on: {
                        click: function(n) {
                            return t.onClickSetOption(e.type)
                        }
                    }
                }, [e.icon ? a("span", {
                    class: [t.$style.icon, "icon-font-chess", e.icon, "colored-icon"]
                }) : t._e(), t._v("\n\n      " + t._s(e.label) + "\n    ")])
            }), 0) : t._e()])
        }, [], !1, function dropdown_menu_injectStyles(e) {
            this.$style = Pl.default.locals || Pl.default
        }, null, null).exports,
        Ml = {
            name: "no-mistakes",
            mixins: [zn.a],
            props: {
                colorIsUser: {
                    type: Boolean,
                    default: !1
                },
                selectedColor: {
                    type: String
                }
            },
            data: function data() {
                return {
                    icon: Object(xe.a)({
                        path: x.c.BEST_MOVE.icon,
                        size: "100%"
                    })
                }
            },
            computed: {
                message: function message() {
                    return this.colorIsUser ? this.$trans("You Had No Mistakes") : this.selectedColor ? this.selectedColor === Me.e.BLACK ? this.$trans("Black Had No Mistakes") : this.$trans("White Had No Mistakes") : this.$trans("No Mistakes")
                }
            }
        },
        Tl = n(1026);
    var El = Object(Tn.a)(Ml, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("div", {
                class: e.$style.icon,
                domProps: {
                    innerHTML: e._s(e.icon)
                }
            }), e._v(" "), n("div", {
                domProps: {
                    textContent: e._s(e.message)
                }
            }), e._v(" "), e.colorIsUser ? n("div", {
                domProps: {
                    textContent: e._s(e.$trans("Great Job!"))
                }
            }) : e._e()])
        }, [], !1, function no_mistakes_injectStyles(e) {
            this.$style = Tl.default.locals || Tl.default
        }, null, null).exports,
        Al = {
            name: "promo-header",
            components: {
                IconFont: In.a
            },
            data: function data() {
                return {
                    upgradeIcons: {
                        best: Object(xe.a)({
                            path: x.c.BEST_MOVE.icon,
                            size: 60
                        }),
                        mistake: Object(xe.a)({
                            path: x.c.MISTAKE.icon,
                            size: 60
                        })
                    }
                }
            }
        },
        jl = n(1027);
    var Ll = Object(Tn.a)(Al, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.$style.component
            }, [n("div", {
                domProps: {
                    innerHTML: e._s(e.upgradeIcons.mistake)
                }
            }), e._v(" "), n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: "arrow-right"
                }
            }), e._v(" "), n("div", {
                domProps: {
                    innerHTML: e._s(e.upgradeIcons.best)
                }
            })], 1)
        }, [], !1, function promo_header_injectStyles(e) {
            this.$style = jl.default.locals || jl.default
        }, null, null).exports,
        Dl = {
            name: "retry-upgrade",
            components: {
                PromoHeader: Ll,
                Upgrade: Js
            },
            data: function data() {
                return {
                    upgradeBullets: [this.$trans("Retry your mistakes and blunders"), this.$trans("Get a second chance to try Missed Wins"), this.$trans("Find the best moves for the whole game")]
                }
            }
        },
        Nl = n(1028);
    var Il = Object(Tn.a)(Dl, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return t("upgrade", {
                class: this.$style.component,
                attrs: {
                    bullets: this.upgradeBullets,
                    "locked-message": this.$trans("Upgrade to Retry Mistakes"),
                    title: this.$trans("Learn From Your Mistakes"),
                    "title-class": this.$style.title
                }
            }, [t("promo-header", {
                attrs: {
                    slot: "header"
                },
                slot: "header"
            })], 1)
        }, [], !1, function retry_upgrade_injectStyles(e) {
            this.$style = Nl.default.locals || Nl.default
        }, null, null).exports,
        $l = n(423),
        Bl = {
            CORRECT: "correct-2-15",
            COUNTDOWN: "countdown-2-15",
            INCORRECT: "incorrect-2-15",
            OVER_BAD: "result-bad-2-15",
            OVER_GOOD: "result-good-2-15",
            OVER_OK: "result-ok-2-15",
            TIME_WARNING: "tenseconds",
            OPPONENT_CORRECT: "opponent-correct",
            OPPONENT_FAIL: "opponent-fail",
            OPPONENT_INCORRECT: "opponent-incorrect"
        },
        Rl = new $l.a(null, Object.values(Bl));
    var Fl = n(479),
        zl = {
            name: "retry-move",
            components: {
                IconFont: In.a,
                ScoreText: Er
            },
            directives: {
                BoardPopover: Fl.a
            },
            mixins: [zn.a],
            props: {
                flipBoard: {
                    type: Boolean,
                    default: !1
                },
                isNewMove: {
                    type: Boolean,
                    default: !1
                },
                isSelected: {
                    type: Boolean,
                    default: !1
                },
                move: {
                    type: Object,
                    required: !0
                }
            },
            computed: {
                classificationIcon: function classificationIcon() {
                    var e = (this.move.classificationData || {}).icon;
                    if (this.isNewMove && e) return Object(xe.a)({
                        path: e
                    })
                },
                score: function score() {
                    return Pr(this.move.playedMove)
                },
                text: function text() {
                    return "".concat(Object(Nt.d)(this.move.san)).concat(this.move.symbol || "")
                }
            }
        },
        Ul = n(1029);
    var Gl = {
            name: "retries-row",
            components: {
                RetryMove: Object(Tn.a)(zl, function() {
                    var e, t = this,
                        n = t.$createElement,
                        a = t._self._c || n;
                    return a("div", {
                        class: [t.componentClasses(), (e = {}, e[t.$style.new] = t.isNewMove, e)]
                    }, [a("div", {
                        class: t.$style.move
                    }, [a("div", {
                        directives: [{
                            name: "board-popover",
                            rawName: "v-board-popover",
                            value: {
                                fen: t.move.afterFen,
                                flipBoard: t.flipBoard,
                                highlightedSquares: (t.move.playedMove || {}).moveLan
                            },
                            expression: "{\n        fen: move.afterFen,\n        flipBoard: flipBoard,\n        highlightedSquares: (move.playedMove || {}).moveLan,\n      }"
                        }],
                        class: t.$style.node
                    }, [a("div", {
                        class: t.$style.text,
                        domProps: {
                            textContent: t._s(t.text)
                        }
                    }), t._v(" "), a("div", {
                        class: [t.$style.background, "analysis-" + t.move.classificationData.key + "-bg"]
                    })])]), t._v(" "), a("div", {
                        class: t.$style.classification
                    }, [t.move.playedMove ? a("score-text", {
                        class: t.$style.score,
                        attrs: {
                            "is-dark-mode": t.isDarkMode,
                            value: t.score
                        }
                    }) : t._e(), t._v(" "), a("div", {
                        class: t.$style.icon
                    }, [t.move.viewedAnswer ? a("icon-font", {
                        class: [t.$style.answer],
                        attrs: {
                            name: "perfect"
                        }
                    }) : t.classificationIcon ? a("div", {
                        class: [t.$style.svg],
                        domProps: {
                            innerHTML: t._s(t.classificationIcon)
                        }
                    }) : t._e()], 1)], 1)])
                }, [], !1, function move_injectStyles(e) {
                    this.$style = Ul.default.locals || Ul.default
                }, null, null).exports
            },
            mixins: [zn.a],
            props: {
                isSelected: {
                    type: Boolean,
                    default: !1
                },
                move: {
                    type: Object,
                    required: !0
                },
                selectedColor: {
                    type: String,
                    required: !0
                }
            },
            computed: {
                moveNumberText: function moveNumberText() {
                    return "".concat(this.move.moveNumber).concat(this.selectedColor === Me.e.BLACK ? "... " : ". ")
                },
                moveIsComplete: function moveIsComplete() {
                    return bn(this.move)
                }
            },
            watch: {
                moveIsComplete: function moveIsComplete(e, t) {
                    e && !t && this.playMoveCompleteSoundEffect()
                }
            },
            methods: {
                playMoveCompleteSoundEffect: function playMoveCompleteSoundEffect() {
                    var e = this.move.newMove.classificationData,
                        t = [x.c.BEST_MOVE.key, x.c.CORRECT.key].includes((e || {}).key) ? Bl.CORRECT : Bl.INCORRECT;
                    setTimeout(function() {
                        ! function playSoundEffect(e) {
                            Tt.default.state.board.boardOptions.playSounds && Rl.play(e)
                        }(t)
                    }, 500)
                }
            }
        },
        Hl = n(1030);
    var Vl = Object(Tn.a)(Gl, function() {
            var e, t = this,
                n = t.$createElement,
                a = t._self._c || n;
            return a("div", {
                class: [t.componentClasses(), (e = {}, e[t.$style.selected] = t.isSelected, e)],
                on: {
                    click: function(e) {
                        return t.$emit("click")
                    }
                }
            }, [a("div", {
                class: t.$style.section
            }, [a("div", {
                class: t.$style.number,
                domProps: {
                    textContent: t._s(t.moveNumberText)
                }
            }), t._v(" "), a("retry-move", t._b({
                class: t.$style.boxes,
                attrs: {
                    "is-dark-mode": t.isDarkMode,
                    move: t.move
                }
            }, "retry-move", t.$attrs.flipBoard, !1))], 1), t._v(" "), a("div", {
                class: t.$style.section
            }, [t.move.newMove.san ? a("retry-move", {
                attrs: {
                    "is-dark-mode": t.isDarkMode,
                    "is-new-move": !0,
                    "is-selected": t.isSelected,
                    move: t.move.newMove
                }
            }) : t._e()], 1)])
        }, [], !1, function retry_row_injectStyles(e) {
            this.$style = Hl.default.locals || Hl.default
        }, null, null).exports,
        Wl = {
            name: "retry-self-analysis",
            components: {
                PromoHeader: Ll,
                RunFullAnalysisButton: Wi
            },
            mixins: [Zn.a]
        },
        Kl = n(1031);
    var ql = Object(Tn.a)(Wl, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.componentClasses()
        }, [n("promo-header"), e._v(" "), n("div", {
            class: e.$style.title,
            domProps: {
                textContent: e._s(e.$trans("Retry Your Mistakes"))
            }
        }), e._v(" "), n("div", {
            class: e.$style.message,
            domProps: {
                textContent: e._s(e.$trans("Analyze the game to retry your mistakes!"))
            }
        }), e._v(" "), n("run-full-analysis-button", {
            attrs: {
                "button-text": e.$trans("Run Analysis"),
                colored: !1
            }
        })], 1)
    }, [], !1, function retry_self_analysis_injectStyles(e) {
        this.$style = Kl.default.locals || Kl.default
    }, null, null).exports;

    function statusvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Yl = {
            name: "retry-status",
            components: {
                IconFont: In.a,
                LoaderThreeBounce: ti.a
            },
            mixins: [Zn.a],
            computed: function statusvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? statusvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : statusvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                selectedMove: "analysis/selectedRetryMove"
            }), {}, Object(Sn.mapState)({
                isLoading: function isLoading(e) {
                    return e.analysis.retry.isLoading
                },
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions
                }
            }), {
                classificationData: function classificationData() {
                    return (this.selectedMove.newMove || {}).classificationData || {}
                },
                moveIsComplete: function moveIsComplete() {
                    return bn(this.selectedMove)
                },
                status: function status() {
                    var e = this.classificationData,
                        t = e.icon,
                        n = e.key,
                        a = e.label;
                    return this.selectedMove.san ? this.selectedMove.newMove.unableToConnect ? {
                        text: this.$trans("Unable to connect. Try again.")
                    } : this.moveIsComplete ? this.viewedAnswer ? {
                        className: this.$style.black,
                        text: this.$trans("Viewed Answer")
                    } : {
                        className: "analysis-".concat(n, "-bg"),
                        icon: Object(xe.a)({
                            path: t
                        }),
                        key: n,
                        text: a
                    } : this.isLoading ? {
                        className: this.$style.black
                    } : this.selectedMove.color === Me.e.BLACK ? {
                        className: this.$style.black,
                        text: this.$trans("Black to Move")
                    } : {
                        className: this.$style.white,
                        text: this.$trans("White to Move")
                    } : {
                        text: this.$trans("Retry Your Mistakes")
                    }
                },
                viewedAnswer: function viewedAnswer() {
                    return (this.selectedMove.newMove || {}).viewedAnswer
                }
            })
        },
        Xl = n(1032);
    var Ql, Zl = Object(Tn.a)(Yl, function() {
        var e, t = this,
            n = t.$createElement,
            a = t._self._c || n;
        return a("div", {
            class: [t.componentClasses(), t.status.className, (e = {}, e[t.$style.complete] = t.moveIsComplete && !t.viewedAnswer, e[t.$style.empty] = !t.moveIsComplete || t.viewedAnswer, e)]
        }, [t.isLoading ? a("loader-three-bounce", {
            class: t.$style.loader,
            attrs: {
                "is-circle": !0,
                size: 50
            }
        }) : [t.viewedAnswer ? a("icon-font", {
            class: [t.$style.icon, t.$style.font],
            attrs: {
                name: "perfect"
            }
        }) : t.status.icon ? a("div", {
            class: [t.$style.icon, t.$style[t.status.key]],
            domProps: {
                innerHTML: t._s(t.status.icon)
            }
        }) : a("div", {
            class: t.$style.rectangle
        }), t._v(" "), a("div", {
            domProps: {
                textContent: t._s(t.status.text)
            }
        })]], 2)
    }, [], !1, function status_injectStyles(e) {
        this.$style = Xl.default.locals || Xl.default
    }, null, null).exports;

    function tab_retryvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function tab_retryvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? tab_retryvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : tab_retryvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Jl = (Ql = {}, S()(Ql, Me.e.WHITE, {
            label: o.a.trans("White Mistakes"),
            type: Me.e.WHITE
        }), S()(Ql, Me.e.BLACK, {
            label: o.a.trans("Black Mistakes"),
            type: Me.e.BLACK
        }), Ql),
        ec = {
            name: "tab-retry",
            directives: {
                tooltip: Gn.a
            },
            components: {
                DropdownMenu: Cl,
                EngineLines: Qr,
                LoaderThreeBounce: ti.a,
                NoMistakes: El,
                RetryRow: Vl,
                RetryUpgrade: Il,
                RetrySelfAnalysis: ql,
                Status: Zl,
                IconFont: In.a
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    dropdownOptions: Object.values(Jl),
                    engineState: oo
                }
            },
            computed: tab_retryvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                canDoRetries: "analysis/canDoRetries",
                gameHasAnalyzedPositions: "analysis/gameHasAnalyzedPositions",
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                selectedMove: "analysis/selectedRetryMove",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                cachedGame: function cachedGame(e) {
                    return e.analysis.cachedGame
                },
                history: function history(e) {
                    return e.game.history
                },
                isLoading: function isLoading(e) {
                    return e.analysis.retry.isLoading
                },
                moves: function moves(e) {
                    return e.analysis.retry.moves
                },
                selectedMoveRef: function selectedMoveRef(e) {
                    return e.analysis.retry.selectedMoveRef
                }
            }), {
                colorHasMoves: function colorHasMoves() {
                    return (this.moves[this.selectedColor] || []).length
                },
                currentDepth: function currentDepth() {
                    var e = (this.selectedMove.newMove.playedMove || {}).depth,
                        t = (oo.evaluation[0] || {}).depth;
                    return e || t
                },
                depthText: function depthText() {
                    if (this.currentDepth) return "".concat(this.$trans("depth"), "=").concat(this.currentDepth)
                },
                moveIsComplete: function moveIsComplete() {
                    return bn(this.selectedMove)
                },
                selectedColor: function selectedColor() {
                    return this.selectedMoveRef.color
                },
                selectedColorIsUser: function selectedColorIsUser() {
                    return this.selectedColor === this.userColor
                },
                showAnalyzeGamePrompt: function showAnalyzeGamePrompt() {
                    return !this.gameHasAnalyzedPositions && this.canDoRetries && !this.isAnalysisInProgress
                },
                showMainContent: function showMainContent() {
                    return this.gameHasAnalyzedPositions && !this.isAnalysisInProgress
                },
                showUpgradePrompt: function showUpgradePrompt() {
                    return !this.canDoRetries
                }
            }),
            created: function created() {
                Ri.a.logEvent(p)
            },
            methods: tab_retryvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                destroyRetryTab: "analysis/destroyRetryTab",
                initRetryTab: "analysis/initRetryTab",
                insertVariationFromRetry: "analysis/insertVariationFromRetry",
                selectRetryMove: "analysis/selectRetryMove"
            }), {
                changeColor: function changeColor(e) {
                    var t = e.option;
                    t !== this.selectedColor && this.canDoRetries && this.selectRetryMove({
                        color: t,
                        index: 0
                    })
                },
                isRetryRowSelected: function isRetryRowSelected(e, t) {
                    return this.selectedMoveRef.index === e && this.selectedMoveRef.color === t
                },
                handleEngineNodeClick: function handleEngineNodeClick(e) {
                    this.selectedMove.newMove.san && this.insertVariationFromRetry([this.selectedMove.newMove.san].concat(le()(e)))
                },
                selectMove: function selectMove(e) {
                    this.canDoRetries && this.selectRetryMove(e)
                }
            })
        },
        tc = n(1033);

    function sidebarvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function sidebarvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? sidebarvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : sidebarvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var nc = {
            name: "sidebar",
            components: {
                AnalysisControls: Ni,
                BoardTabContainer: Nn,
                BoardTabItem: Fn,
                RetryControls: Bi,
                TabAnalysis: ns,
                TabDetails: Is,
                TabReport: Sl,
                TabOpenings: Xs,
                TabRetry: Object(Tn.a)(ec, function() {
                    var e, t, n = this,
                        a = n.$createElement,
                        i = n._self._c || a;
                    return i("div", {
                        class: n.componentClasses()
                    }, [n.isAnalysisInProgress ? i("div", {
                        class: n.$style.loader
                    }, [i("loader-three-bounce", {
                        attrs: {
                            "is-circle": !0,
                            size: 50
                        }
                    })], 1) : n._e(), n._v(" "), n.showUpgradePrompt ? i("section", {
                        class: n.$style.overlay
                    }, [i("retry-upgrade", {
                        class: (e = {}, e[n.$style.brighten] = n.gameHasAnalyzedPositions, e)
                    })], 1) : n.showAnalyzeGamePrompt ? i("section", {
                        class: n.$style.overlay
                    }, [i("retry-self-analysis")], 1) : n._e(), n._v(" "), n.showMainContent ? i("section", {
                        class: [n.$style.main, n.$style.scrollable, (t = {}, t[n.$style.locked] = !n.canDoRetries, t)]
                    }, [i("status"), n._v(" "), n.selectedMove.san ? i("div", {
                        class: n.$style.lines
                    }, [n.moveIsComplete || n.isLoading ? [i("div", {
                        class: n.$style.depth,
                        domProps: {
                            textContent: n._s(n.depthText)
                        }
                    }), n._v(" "), i("engine-lines", {
                        class: n.$style.engine,
                        attrs: {
                            "board-options": n.boardOptions,
                            fen: n.engineState.currentFen,
                            "is-engine-evaluating-new-position": n.engineState.isEvaluatingNewPosition,
                            "is-engine-running": n.engineState.isRunning,
                            "evaluated-lines": n.engineState.evaluation,
                            "lines-count": n.engineState.settings.linesCount,
                            "node-limit": 10,
                            "selected-ply": n.selectedMove.ply + 1,
                            "show-board-preview": !0,
                            "show-score": !1
                        },
                        on: {
                            "node-click": n.handleEngineNodeClick
                        }
                    })] : i("div", {
                        class: n.$style.prompt
                    }, [i("span", {
                        domProps: {
                            textContent: n._s(n.$trans("Make a new move to try for a better score."))
                        }
                    }), n._v(" "), i("icon-font", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: n.$trans("Repeated mistakes and lost positions are not included."),
                            expression: "$trans('Repeated mistakes and lost positions are not included.')"
                        }],
                        class: n.$style.icon,
                        attrs: {
                            name: "circle-question"
                        }
                    })], 1)], 2) : n._e(), n._v(" "), i("div", {
                        class: [n.$style.content]
                    }, [i("div", {
                        class: n.$style.titles
                    }, [i("div", {
                        class: n.$style.dropdown
                    }, [i("div", {
                        class: n.$style.indicator
                    }, [i("div", {
                        class: [n.$style.circle, n.$style[n.selectedColor]]
                    })]), n._v(" "), i("dropdown-menu", {
                        class: n.$style.title,
                        attrs: {
                            "align-right": !1,
                            options: n.dropdownOptions,
                            "selected-option": n.selectedColor
                        },
                        on: {
                            "menu-change": n.changeColor
                        }
                    })], 1), n._v(" "), n.colorHasMoves ? i("div", {
                        class: n.$style.title,
                        domProps: {
                            textContent: n._s(n.$trans("New Move"))
                        }
                    }) : n._e()]), n._v(" "), n.colorHasMoves ? i("div", {
                        class: n.$style.rows
                    }, n._l(n.moves[n.selectedColor], function(e, t) {
                        return i("retry-row", {
                            key: e.ply,
                            attrs: {
                                "flip-board": n.boardOptions.flipBoard,
                                "is-dark-mode": n.isDarkMode,
                                "is-selected": n.isRetryRowSelected(t, n.selectedColor),
                                move: e,
                                "selected-color": n.selectedColor
                            },
                            on: {
                                click: function(e) {
                                    return n.selectMove({
                                        color: n.selectedColor,
                                        index: t
                                    })
                                }
                            }
                        })
                    }), 1) : i("no-mistakes", {
                        attrs: {
                            "color-is-user": n.selectedColorIsUser,
                            "is-dark-mode": n.isDarkMode,
                            "selected-color": n.selectedColor
                        }
                    })], 1)], 1) : n._e()])
                }, [], !1, function tab_retry_injectStyles(e) {
                    this.$style = tc.default.locals || tc.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            data: function data() {
                return {
                    tabData: Object.freeze(Kn),
                    tabKeys: Object.freeze(Wn)
                }
            },
            computed: sidebarvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isRetryMode: "analysis/isRetryMode",
                userColor: "analysis/userColor"
            }), {}, Object(Sn.mapState)({
                activeTab: function activeTab(e) {
                    return e.analysis.activeSidebarTab
                },
                boardOptions: function boardOptions(e) {
                    return e.board.boardOptions
                },
                hasRunFullAnalysis: function hasRunFullAnalysis(e) {
                    return e.analysis.hasRunFullAnalysis
                },
                retryHasBeenViewed: function retryHasBeenViewed(e) {
                    return e.analysis.retry.hasBeenViewed
                },
                retryMoves: function retryMoves(e) {
                    return e.analysis.retry.moves
                },
                selectedMoveRef: function selectedMoveRef(e) {
                    return e.analysis.retry.selectedMoveRef
                }
            }), {
                activeTabWithFallback: function activeTabWithFallback() {
                    return this.visibleTabs[this.activeTab] ? this.activeTab : Wn.ANALYSIS
                },
                controlsComponent: function controlsComponent() {
                    return this.isRetryMode ? "retry-controls" : "analysis-controls"
                },
                retryMoveCount: function retryMoveCount() {
                    return this.retryMoves[this.selectedMoveRef.color].length
                },
                tabClasses: function tabClasses() {
                    var e;
                    return e = {}, S()(e, this.$style.content, !0), S()(e, this.$style.darkMode, this.isDarkMode), e
                },
                visibleTabs: function visibleTabs() {
                    var e = this;
                    return Object.keys(this.tabData).filter(function(t) {
                        return e.tabData[t].show(e.hasRunFullAnalysis)
                    }).reduce(function(t, n) {
                        return t[n] = e.tabData[n], t
                    }, {})
                }
            }),
            methods: sidebarvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                setActiveTab: "analysis/updateActiveSidebarTab"
            }), {
                showBadge: function showBadge(e, t) {
                    return this.tabBadgeCount(e) && !this.tabIsActive(t)
                },
                tabBadgeCount: function tabBadgeCount(e) {
                    var t = e.getBadgeCount && e.getBadgeCount({
                        retryHasBeenViewed: this.retryHasBeenViewed,
                        retryMoveCount: this.retryMoveCount
                    });
                    return t > 0 && t
                },
                tabIsActive: function tabIsActive(e) {
                    return e === this.activeTabWithFallback
                }
            })
        },
        ac = n(1034);
    var ic = Object(Tn.a)(nc, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses()
            }, [n("board-tab-container", {
                class: e.$style["tab-container"],
                attrs: {
                    "is-dark-mode": e.isDarkMode
                }
            }, [e._l(e.visibleTabs, function(t, a) {
                var i;
                return [n("board-tab-item", {
                    key: a,
                    class: [e.$style.tab, (i = {}, i[e.$style["active-tab"]] = e.tabIsActive(a), i)],
                    attrs: {
                        icon: t.header.icon,
                        "is-active": e.tabIsActive(a),
                        "is-dark-mode": e.isDarkMode,
                        label: t.header.label,
                        "show-badge": e.showBadge(t, a)
                    },
                    on: {
                        click: function(t) {
                            return e.setActiveTab(a)
                        }
                    }
                }, [n("span", {
                    class: e.$style.badge,
                    attrs: {
                        slot: "badge"
                    },
                    slot: "badge"
                }, [e._v("\n          " + e._s(e.tabBadgeCount(t)) + "\n        ")])])]
            })], 2), e._v(" "), n("div", {
                class: e.$style.content
            }, [e.tabIsActive(e.tabKeys.REPORT) ? n("tab-report", {
                class: e.tabClasses
            }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.ANALYSIS) ? n("tab-analysis", {
                class: e.tabClasses
            }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.OPENINGS) ? n("tab-openings", {
                class: e.tabClasses
            }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.RETRY) ? n("tab-retry", {
                class: e.tabClasses
            }) : e._e(), e._v(" "), e.tabIsActive(e.tabKeys.DETAILS) ? n("tab-details", {
                class: e.tabClasses
            }) : e._e()], 1), e._v(" "), n(e.controlsComponent, {
                tag: "component",
                attrs: {
                    "is-dark-mode": e.isDarkMode
                }
            })], 1)
        }, [], !1, function sidebar_injectStyles(e) {
            this.$style = ac.default.locals || ac.default
        }, null, null).exports,
        oc = n(572);

    function analysis_captured_piecesvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var rc = "b",
        sc = "w",
        lc = {
            name: "constrained-captured-pieces",
            components: {
                CapturedPieces: oc.a
            },
            computed: function analysis_captured_piecesvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? analysis_captured_piecesvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_captured_piecesvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapState)({
                boardFlipped: function boardFlipped(e) {
                    return e.board.boardOptions.flipBoard
                },
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                game: function game(e) {
                    return e.game
                }
            }), {
                positionColors: function positionColors() {
                    var e = {
                        bottom: sc,
                        top: rc
                    };
                    return this.boardFlipped && (e.bottom = rc, e.top = sc), e
                }
            })
        },
        cc = n(1035);
    var uc = Object(Tn.a)(lc, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return e.constrainedLayout ? n("div", {
                class: e.$style.component
            }, [n("captured-pieces", {
                class: [e.$style.pieces, e.$style.top],
                attrs: {
                    color: e.positionColors.top,
                    game: e.game,
                    "vertical-layout": !0
                }
            }), e._v(" "), n("captured-pieces", {
                class: e.$style.pieces,
                attrs: {
                    color: e.positionColors.bottom,
                    game: e.game,
                    "vertical-layout": !0
                }
            })], 1) : e._e()
        }, [], !1, function analysis_captured_pieces_injectStyles(e) {
            this.$style = cc.default.locals || cc.default
        }, null, null).exports,
        dc = n(397);
    var pc = function getMemberView(e) {
            return ue.a.generate("web_member_view", {
                username: e
            })
        },
        hc = "light",
        mc = "dark",
        fc = n(139),
        gc = {
            name: "avatar",
            props: {
                alt: {
                    type: String,
                    default: ""
                },
                src: {
                    type: String,
                    default: ""
                }
            },
            data: function data() {
                return {
                    failed: !1,
                    failedSrcSet: !1,
                    defaultAvatar: Object(el.a)("bundles/web/images/user-image.svg")
                }
            },
            computed: {
                avatarSrcset: function avatarSrcset() {
                    return this.failedSrcSet ? null : Object(ml.b)(this.avatarUrl)
                },
                avatarUrl: function avatarUrl() {
                    return this.failed || !this.src ? this.defaultAvatar : this.src
                }
            },
            watch: {
                src: function src(e, t) {
                    e !== t && (this.failed = !1, this.failedSrcSet = !1)
                }
            },
            methods: {
                onError: function onError() {
                    this.avatarSrcset ? this.failedSrcSet = !0 : this.failed = !0
                }
            }
        },
        bc = Object(Tn.a)(gc, function() {
            var e = this.$createElement;
            return (this._self._c || e)("img", {
                attrs: {
                    alt: this.alt,
                    src: this.avatarUrl,
                    srcset: this.avatarSrcset
                },
                on: {
                    error: this.onError
                }
            })
        }, [], !1, null, null, null).exports,
        vc = n(253),
        yc = n(284),
        _c = n(316);
    var wc = {
            name: "move-time",
            components: {
                IconFont: In.a
            },
            props: {
                formatTime: {
                    type: Boolean,
                    default: !1
                },
                isVacation: {
                    type: Boolean,
                    default: !1
                },
                showTimerIcon: {
                    type: Boolean,
                    default: !1
                },
                theme: {
                    type: String,
                    default: hc
                },
                timeLeft: {
                    type: String,
                    default: "0:00:00"
                }
            },
            computed: {
                formattedTimeLeft: function formattedTimeLeft() {
                    if (!this.formatTime) return this.timeLeft;
                    var e = this.timeLeft.split(":"),
                        t = re()(e, 3),
                        n = t[0],
                        a = t[1],
                        i = t[2].split("."),
                        o = re()(i, 2),
                        r = o[0],
                        s = o[1];
                    return function formatClock(e) {
                        var t = e;
                        if (t <= 0) return "0:00";
                        var n = 0,
                            a = 0,
                            i = 0,
                            o = t <= 200;
                        return t >= 10 && (t -= 10 * (i = Math.floor(t / 10))), i >= 60 && (i -= 60 * (a = Math.floor(i / 60))), i < 10 && (i = "0".concat(i)), a >= 60 && (a -= 60 * (n = Math.floor(a / 60))), n ? (a < 10 && (a = "0".concat(a)), "".concat(n, ":").concat(a, ":").concat(i)) : o ? "".concat(a, ":").concat(i, ".").concat(Math.floor(t)) : "".concat(a, ":").concat(i)
                    }(60 * (Number(n) || 0) * 60 * 10 + 60 * (Number(a) || 0) * 10 + 10 * (Number(r) || 0) + (Number(s) || 0))
                },
                componentClasses: function componentClasses() {
                    var e;
                    return [this.$style.time, this.$style[this.theme], (e = {}, S()(e, this.$style.iconless, !this.showTimerIcon), S()(e, this.$style.inactive, !this.showTimerIcon), e)]
                }
            }
        },
        Oc = n(1036);
    var kc = Object(Tn.a)(wc, function() {
            var e = this,
                t = e.$createElement,
                n = e._self._c || t;
            return n("div", {
                class: e.componentClasses
            }, [e.showTimerIcon ? n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    name: e.isVacation ? "pause" : "circle-clock"
                }
            }) : e._e(), e._v(" "), n("div", {
                class: e.$style.content,
                domProps: {
                    textContent: e._s(e.formattedTimeLeft)
                }
            })], 1)
        }, [], !1, function move_time_injectStyles(e) {
            this.$style = Oc.default.locals || Oc.default
        }, null, null).exports,
        Sc = {
            name: "player-row",
            components: {
                CapturedPieces: oc.a,
                MinimalAvatar: bc,
                MoveTime: kc,
                UserTagline: _c.a,
                UserAvatar: vc.a
            },
            directives: {
                Tooltip: Gn.a,
                UserPopover: yc.a
            },
            mixins: [zn.a],
            props: {
                avatarSize: {
                    type: Number,
                    default: br
                },
                color: {
                    type: String,
                    required: !0
                },
                coordinateOffset: {
                    type: Number,
                    default: 0
                },
                clockTheme: {
                    type: String,
                    required: !0
                },
                evalBarPresent: {
                    type: Boolean,
                    default: !1
                },
                isChesscomUser: {
                    type: Boolean,
                    default: !0
                },
                isConstrained: {
                    type: Boolean,
                    default: !1
                },
                isPlayerTurn: {
                    type: Boolean,
                    default: !1
                },
                isPlayerWinner: {
                    type: Boolean,
                    default: !1
                },
                isTop: {
                    type: Boolean,
                    default: !1
                },
                isVacation: {
                    type: Boolean,
                    default: !1
                },
                minimalAvatar: {
                    type: Boolean,
                    default: !1
                },
                moveTimeTooltip: {
                    type: String,
                    default: ""
                },
                player: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                rating: {
                    type: Number
                },
                moveTime: {
                    type: String
                },
                showCapturedPieces: {
                    type: Boolean,
                    default: !0
                },
                showTimerIcon: {
                    type: Boolean,
                    default: !1
                },
                username: {
                    type: String,
                    default: ""
                }
            },
            computed: {
                avatarComponent: function avatarComponent() {
                    return this.minimalAvatar || !this.isChesscomUser ? bc : vc.a
                },
                avatarUrl: function avatarUrl() {
                    return this.player.avatarUrl || Object(el.a)("bundles/web/images/user-image.svg")
                },
                avatarStyles: function avatarStyles() {
                    return {
                        height: "".concat(this.avatarSize, "px"),
                        left: "-".concat(this.evalBarPresent || this.isConstrained ? this.coordinateOffset : 0, "px"),
                        width: "".concat(this.avatarSize, "px")
                    }
                },
                capturedPiecesColor: function capturedPiecesColor() {
                    return this.color === Me.e.WHITE ? "w" : "b"
                },
                chessTitle: function chessTitle() {
                    return this.player.chessTitle || ""
                },
                countryInformation: function countryInformation() {
                    var e = this.player,
                        t = e.countryId,
                        n = e.countryName;
                    return t && n ? {
                        code: t,
                        name: n
                    } : null
                },
                popoverUsername: function popoverUsername() {
                    return this.isChesscomUser && Object(fc.b)(this.username) ? this.username : null
                },
                userUrl: function userUrl() {
                    return pc(this.username)
                }
            }
        },
        xc = n(1037);

    function playervue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Pc = {
            name: "player",
            components: {
                PlayerRow: Object(Tn.a)(Sc, function() {
                    var e, t, n, a = this,
                        i = a.$createElement,
                        o = a._self._c || i;
                    return o("div", {
                        class: [a.$style.component, (e = {}, e[a.$style.constrained] = a.isConstrained, e), (t = {}, t[a.$style.top] = a.isTop, t)]
                    }, [o("div", {
                        class: a.$style.container
                    }, [o("div", {
                        class: a.$style.wrapper
                    }, [o(a.avatarComponent, {
                        directives: [{
                            name: "user-popover",
                            rawName: "v-user-popover",
                            value: a.popoverUsername,
                            expression: "popoverUsername"
                        }],
                        tag: "component",
                        class: [a.$style.avatar, (n = {}, n[a.$style.winner] = a.isPlayerWinner, n)],
                        style: a.avatarStyles,
                        attrs: {
                            image: a.avatarUrl,
                            "is-online": a.player.isOnline,
                            src: a.avatarUrl,
                            url: a.userUrl
                        }
                    }), a._v(" "), o("div", {
                        class: a.$style.info
                    }, [o("div", {
                        directives: [{
                            name: "show",
                            rawName: "v-show",
                            value: !a.isConstrained,
                            expression: "!isConstrained"
                        }],
                        class: a.$style.username
                    }, [o("user-tagline", {
                        directives: [{
                            name: "user-popover",
                            rawName: "v-user-popover",
                            value: a.popoverUsername,
                            expression: "popoverUsername"
                        }],
                        class: a.$style.username,
                        attrs: {
                            country: a.countryInformation,
                            "flair-code": a.player.flairCode,
                            "is-username-clickable": a.isChesscomUser,
                            "is-dark-mode": a.isDarkMode,
                            membership: a.player.membershipLevel,
                            rating: a.rating,
                            title: a.chessTitle,
                            url: a.userUrl,
                            username: a.username
                        }
                    })], 1), a._v(" "), a.showCapturedPieces ? o("captured-pieces", a._b({
                        class: a.$style.pieces,
                        attrs: {
                            color: a.capturedPiecesColor,
                            "vertical-layout": a.isConstrained
                        }
                    }, "captured-pieces", a.$attrs, !1)) : a._e()], 1)], 1)]), a._v(" "), a.moveTime ? o("move-time", a._b({
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                content: a.moveTimeTooltip,
                                position: "bottom"
                            },
                            expression: "{ content: moveTimeTooltip, position: 'bottom' }"
                        }],
                        class: a.$style["move-time"],
                        attrs: {
                            "is-vacation": a.isVacation,
                            "show-timer-icon": a.showTimerIcon,
                            theme: a.clockTheme,
                            "time-left": a.moveTime
                        }
                    }, "move-time", a.$attrs, !1)) : a._e()], 1)
                }, [], !1, function player_row_injectStyles(e) {
                    this.$style = xc.default.locals || xc.default
                }, null, null).exports
            },
            mixins: [Zn.a],
            props: {
                color: {
                    type: String,
                    required: !0
                },
                isTop: {
                    type: Boolean,
                    default: !1
                },
                rating: {
                    type: Number
                },
                username: {
                    type: String,
                    default: ""
                }
            },
            computed: function playervue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? playervue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : playervue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                currentMainLineMoveNumber: "analysis/currentMainLineMoveNumber",
                gameNodes: "game/gameNodes",
                isRetryMode: "analysis/isRetryMode",
                selectedMoveNode: "game/selectedMoveNode"
            }), {}, Object(Sn.mapState)({
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                game: function game(e) {
                    return e.game
                },
                gameType: function gameType(e) {
                    return e.analysis.gameType
                },
                options: function options(e) {
                    return e.board.boardOptions
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                },
                playerDetails: function playerDetails(e) {
                    return e.analysis.playerDetails
                }
            }), {
                clockTheme: function clockTheme() {
                    return this.isWhitePlayer ? hc : mc
                },
                currentPlayer: function currentPlayer() {
                    return this.playerDetails[this.color] || {}
                },
                isBlackPlayer: function isBlackPlayer() {
                    return this.color === Me.e.BLACK
                },
                isBlackTurn: function isBlackTurn() {
                    var e = this.gameNodes[this.currentMainLineMoveNumber];
                    return !e || 2 === e.color
                },
                isPlayerTurn: function isPlayerTurn() {
                    return this.isBlackPlayer && this.isBlackTurn || this.isWhitePlayer && this.isWhiteTurn
                },
                isPlayerWinner: function isPlayerWinner() {
                    var e = this.pgnHeaders.Result;
                    return this.isWhitePlayer && "1-0" === e || this.isBlackPlayer && "0-1" === e
                },
                isLiveGameType: function isLiveGameType() {
                    return this.gameType === B
                },
                isWhitePlayer: function isWhitePlayer() {
                    return this.color === Me.e.WHITE
                },
                isWhiteTurn: function isWhiteTurn() {
                    var e = this.gameNodes[this.currentMainLineMoveNumber];
                    return e && 1 === e.color
                },
                playerGameNode: function playerGameNode() {
                    return this.playerGameNodeIndex >= this.gameNodes.length ? this.gameNodes[this.isPlayerTurn ? this.currentMainLineMoveNumber : this.currentMainLineMoveNumber - 1] || {} : this.gameNodes[this.playerGameNodeIndex] || {}
                },
                playerGameNodeIndex: function playerGameNodeIndex() {
                    return this.isPlayerTurn ? this.currentMainLineMoveNumber : this.currentMainLineMoveNumber - 1
                },
                showMoveTime: function showMoveTime() {
                    return this.isLiveGameType && !this.constrainedLayout && !this.isRetryMode
                },
                moveTime: function moveTime() {
                    var e = this.pgnHeaders.TimeControl,
                        t = (void 0 === e ? "" : e).split("+")[0];
                    if (this.showMoveTime) return this.playerGameNode.commands ? this.playerGameNode.commands.clk : "0:".concat(Number(t) / 60, ":00")
                }
            })
        },
        Cc = n(1038);
    var Mc = Object(Tn.a)(Pc, function() {
        var e = this,
            t = e.$createElement;
        return (e._self._c || t)("player-row", e._b({
            attrs: {
                "board-options": e.options,
                "clock-theme": e.clockTheme,
                color: e.color,
                "format-time": !0,
                game: e.game,
                "is-constrained": e.constrainedLayout,
                "is-dark-mode": e.isDarkMode,
                "is-player-turn": e.isPlayerTurn,
                "is-player-winner": e.isPlayerWinner,
                "is-top": e.isTop,
                "minimal-avatar": !0,
                "move-time": e.moveTime,
                player: e.currentPlayer,
                rating: e.rating,
                "show-timer-icon": !e.isPlayerTurn,
                username: e.username
            }
        }, "player-row", e.$attrs, !1))
    }, [], !1, function player_injectStyles(e) {
        this.$style = Cc.default.locals || Cc.default
    }, null, null).exports;

    function player_topvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Tc = {
            name: "player-top",
            components: {
                Player: Mc
            },
            computed: function player_topvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? player_topvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : player_topvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isFullAnalysis: "analysis/isFullAnalysis"
            }), {}, Object(Sn.mapState)({
                boardFlipped: function boardFlipped(e) {
                    return e.board.boardOptions.flipBoard
                },
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                }
            }), {
                player: function player() {
                    return this.boardFlipped ? {
                        color: Me.e.WHITE,
                        rating: Number(this.pgnHeaders.WhiteElo),
                        username: this.pgnHeaders.White
                    } : {
                        color: Me.e.BLACK,
                        rating: Number(this.pgnHeaders.BlackElo),
                        username: this.pgnHeaders.Black
                    }
                },
                showPlayers: function showPlayers() {
                    return !this.constrainedLayout && (this.pgnHeaders.White && "?" !== this.pgnHeaders.White || this.pgnHeaders.Black && "?" !== this.pgnHeaders.Black)
                }
            }),
            watch: {
                showPlayers: {
                    immediate: !0,
                    handler: function handler(e) {
                        ! function togglePlayers(e) {
                            Object(dc.a)("with-players", e)
                        }(e)
                    }
                }
            }
        },
        Ec = Object(Tn.a)(Tc, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return this.showPlayers ? t("player", {
                attrs: {
                    color: this.player.color,
                    "eval-bar-present": !1,
                    "is-top": !0,
                    rating: this.player.rating,
                    username: this.player.username
                }
            }) : this._e()
        }, [], !1, null, null, null).exports;

    function player_bottomvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Ac = {
            name: "player-bottom",
            components: {
                Player: Mc
            },
            computed: function player_bottomvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? player_bottomvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : player_bottomvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapGetters)({
                isFullAnalysis: "analysis/isFullAnalysis"
            }), {}, Object(Sn.mapState)({
                boardFlipped: function boardFlipped(e) {
                    return e.board.boardOptions.flipBoard
                },
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                }
            }), {
                player: function player() {
                    return this.boardFlipped ? {
                        color: Me.e.BLACK,
                        rating: Number(this.pgnHeaders.BlackElo),
                        username: this.pgnHeaders.Black
                    } : {
                        color: Me.e.WHITE,
                        rating: Number(this.pgnHeaders.WhiteElo),
                        username: this.pgnHeaders.White
                    }
                },
                showPlayers: function showPlayers() {
                    return !this.constrainedLayout && (this.pgnHeaders.White && "?" !== this.pgnHeaders.White || this.pgnHeaders.Black && "?" !== this.pgnHeaders.Black)
                }
            })
        },
        jc = Object(Tn.a)(Ac, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return this.showPlayers ? t("player", {
                attrs: {
                    color: this.player.color,
                    "eval-bar-present": !1,
                    "is-top": !1,
                    rating: this.player.rating,
                    username: this.player.username
                }
            }) : this._e()
        }, [], !1, null, null, null).exports;
    var Lc = n(1118),
        Dc = n.n(Lc),
        Nc = n(37),
        Ic = n(223),
        $c = n(84),
        Bc = {
            createBoundObject: function createBoundObject(e) {
                return Object.keys(e).forEach(function(t) {
                    Nc.a.isFunction(e[t]) && (e[t] = e[t].bind(e))
                }), e
            },
            createState: function createState(e) {
                var t = Object.create(null);
                return Object.defineProperty(t, "reset", {
                    writable: !1,
                    enumerable: !1,
                    configurable: !1,
                    value: function value() {
                        return Object.assign(t, e())
                    }
                }), t.reset(), t
            },
            createClient: function createClient(e) {
                return this.createBoundObject(e)
            },
            createService: function createService(e) {
                var t = this.createBoundObject(e);
                return Dc()(t), t
            },
            createUtils: function createUtils(e) {
                return this.createBoundObject(e)
            },
            createDisposable: function() {
                var e = [],
                    t = [],
                    n = [];
                return {
                    on: function on(t, n, a) {
                        if (!t.on || !t.off) throw new Error("invalid event emitter");
                        t.on(n, a), e.push([t, n, a])
                    },
                    off: function off(t, n, a) {
                        if (!t.on || !t.off) throw new Error("invalid event emitter");
                        t.off(n, a), Ic.a.remove(e, function(e) {
                            return e[0] === t && e[1] === n && e[2] === a
                        })
                    },
                    once: function once(t, n, a) {
                        if (!t.once || !t.off) throw new Error("invalid event emitter");
                        t.once(n, a), e.push([t, n, a])
                    },
                    setTimeout: function setTimeout(e, n) {
                        for (var a = arguments.length, i = new Array(a > 2 ? a - 2 : 0), o = 2; o < a; o++) i[o - 2] = arguments[o];
                        var r = $c.a.setTimeout(function() {
                            e.apply(void 0, i), Ic.a.remove(t, r)
                        }, n);
                        return t.push(r), r
                    },
                    clearTimeout: function clearTimeout(e) {
                        $c.a.clearTimeout(e), Ic.a.remove(t, e)
                    },
                    setInterval: function setInterval(e, t) {
                        for (var a = arguments.length, i = new Array(a > 2 ? a - 2 : 0), o = 2; o < a; o++) i[o - 2] = arguments[o];
                        var r = $c.a.setInterval.apply($c.a, [e, t].concat(i));
                        return n.push(r), r
                    },
                    clearInterval: function clearInterval(e) {
                        $c.a.clearInterval(e), Ic.a.remove(n, e)
                    },
                    dispose: function dispose() {
                        for (; e.length;) {
                            var a = e.shift();
                            a[0].off(a[1], a[2])
                        }
                        for (; t.length;) $c.a.clearTimeout(t.shift());
                        for (; n.length;) $c.a.clearInterval(n.shift())
                    }
                }
            }
        },
        Rc = {};
    Object.defineProperty(Rc, "get", {
        writable: !1,
        enumerable: !1,
        configurable: !1,
        value: function value(e, t) {
            var value;
            if (Object.prototype.hasOwnProperty.call(Rc, e)) value = Rc[e];
            else {
                var n = Nc.a.isArray(e) ? e : e.split("."),
                    a = n.length;
                if (1 === a) value = Rc[n[0]];
                else if (a > 1) {
                    for (var i = Rc, o = 0; o < a; o++) {
                        var r = n[o];
                        if (!Nc.a.isPlainObject(i)) {
                            i = void 0;
                            break
                        }
                        i = i[r]
                    }
                    value = i
                }
            }
            return Nc.a.isUndefined(value) ? t : value
        }
    }), Object.defineProperty(Rc, "extend", {
        writable: !1,
        enumerable: !1,
        configurable: !1,
        value: function value() {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            return t.forEach(function(e) {
                return function mergeConfigDeep(e, t) {
                    Object.keys(t).forEach(function(n) {
                        Nc.a.isPlainObject(t[n]) ? (Nc.a.isPlainObject(e[n]) || (e[n] = {}), mergeConfigDeep(e[n], t[n])) : e[n] = t[n]
                    })
                }(Rc, e)
            }), Rc
        }
    });
    var Fc = Rc,
        zc = function updateEvaluationState(e) {
            if (e)
                if (e.multipv) {
                    oo.isEvaluatingNewPosition && (oo.evaluation.splice(0), oo.isEvaluatingNewPosition = !1);
                    var t = e.multipv - 1;
                    oo.evaluation[t] ? oo.evaluation.splice(t, 1, e) : oo.evaluation.push(e)
                } else oo.evaluation.splice(0, oo.evaluation.length, e);
            else oo.evaluation.splice(0)
        },
        Uc = function onEngineStreamData(e) {
            oo.isWaitingToStop || ("bestmove" !== e.mtype && 0 !== e.mateIn || (oo.isRunning = !1), 0 === e.mateIn && zc(e), e.pv && e.multipv && !e.upperbound && !e.lowerbound && (e.depth >= 10 || !oo.isRunning) && zc(e))
        },
        Gc = Bc.createService({
            engine: null,
            clearQueue: function clearQueue() {
                var e = this;
                return new Promise(function(t) {
                    e.getEngine().stopFast(function(n) {
                        e.engine = n, t()
                    }, 200)
                })
            },
            getEngine: function getEngine() {
                return this.engine || (this.engine = Object(Ut.default)({
                    enginePath: Fc.get("pathToEngineWorker"),
                    pathToWasmEngine: Fc.get("pathToWasmEngine"),
                    pathToNonWasmEngine: Fc.get("pathToNonWasmEngine")
                })), this.engine
            },
            stopEngine: function stopEngine() {
                this.engine && (this.engine.stopAll(), this.engine.quit(), this.engine = null, zc(), oo.isRunning = !1)
            },
            evaluate: function evaluate(e) {
                var t = this,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "chess";
                oo.currentFen = e, oo.gameType = n, oo.isWaitingToStop || (oo.isWaitingToStop = !0, oo.isRunning = !0, oo.isEvaluatingNewPosition = !0, this.clearQueue().then(function() {
                    oo.isWaitingToStop = !1;
                    var e = Ut.default.getPositionInfo(oo.currentFen, {
                        variant: "chess960" === n
                    });
                    if (!e || !e.isValid) return zc(), void(oo.isRunning = !1);
                    if (e && e.stalemate) return zc({
                        isStalemate: !0,
                        score: 0,
                        mateIn: null
                    }), void(oo.isRunning = !1);
                    var a = {
                        fen: oo.currentFen,
                        multiPv: oo.settings.linesCount,
                        difficulty: 20,
                        is960: "chess960" === n,
                        normalize: !0
                    };
                    oo.settings.timeLimit > 0 ? a.movetime = 1e3 * oo.settings.timeLimit : a.infinite = !0, oo.isRunning = !0, t.getEngine().getBestMove(a, null, Uc)
                }))
            },
            updateLinesCount: function updateLinesCount(e) {
                e !== oo.settings.linesCount && (oo.settings.linesCount = e, oo.isRunning && this.evaluate(oo.currentFen, oo.gameType))
            },
            updateTimeLimit: function updateTimeLimit(e) {
                e !== oo.settings.timeLimit && (oo.settings.timeLimit = e)
            }
        }),
        Hc = n(75);
    Fc.extend(window.Config);
    var Vc = {
            data: function data() {
                return {
                    engineState: oo
                }
            },
            computed: {
                fen: function fen() {
                    return this.$store.getters["game/getCurrentFen"]
                },
                gameType: function gameType() {
                    return this.$store.getters["game/variant"]
                }
            },
            watch: {
                "engineState.settings": {
                    handler: "refreshEngineEvaluation",
                    deep: !0
                },
                fen: "refreshEngineEvaluation"
            },
            mounted: function mounted() {
                this.refreshEngineEvaluation()
            },
            methods: {
                refreshEngineEvaluation: function refreshEngineEvaluation() {
                    var e = this;
                    (function() {
                        if (!document.getElementById("jschessengine")) {
                            var e = window.Config.pathToJCE,
                                t = {
                                    id: "jschessengine"
                                };
                            return Hc.a.insert(e, t)
                        }
                        return Promise.resolve()
                    })().then(function() {
                        window.JCE && (e.fen ? Gc.evaluate(e.fen, e.gameType) : Gc.stopEngine())
                    })
                }
            }
        },
        Wc = {
            name: "evaluation-bar",
            props: {
                flipped: {
                    type: Boolean
                },
                height: {
                    type: Number
                },
                line: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                loadProgress: {
                    type: Number,
                    default: 1
                },
                loadMessage: {
                    type: String
                },
                loadingColor: {
                    type: String,
                    default: yr
                }
            },
            computed: {
                dimensions: function dimensions() {
                    return {
                        height: this.height ? "".concat(this.height, "px") : null,
                        marginRight: "".concat(gr, "px"),
                        width: "".concat(br, "px")
                    }
                },
                finishedLoading: function finishedLoading() {
                    return this.loadProgress >= 1
                },
                formattedScore: function formattedScore() {
                    return Pr(this.line)
                },
                loadingStyles: function loadingStyles() {
                    return {
                        background: this.loadingColor,
                        transform: "translate3d(0, ".concat(100 - this.percentLoaded, "%, 0)")
                    }
                },
                percentLoaded: function percentLoaded() {
                    return (100 * this.loadProgress).toFixed(0)
                },
                showWhiteScore: function showWhiteScore() {
                    return this.line.score >= 0 || this.line.stalemate
                },
                showBlackScore: function showBlackScore() {
                    return this.line.score < 0 || this.line.stalemate
                },
                whiteBarPercentage: function whiteBarPercentage() {
                    return xr(this.line)
                },
                whiteBarStyles: function whiteBarStyles() {
                    return {
                        transform: "translate3d(0, ".concat(100 - this.whiteBarPercentage, "%, 0)")
                    }
                }
            }
        },
        Kc = n(1039);
    var qc = Object(Tn.a)(Wc, function() {
            var e, t, n = this,
                a = n.$createElement,
                i = n._self._c || a;
            return i("div", {
                class: [n.$style.bar, (e = {}, e[n.$style.flipped] = n.flipped, e)],
                style: n.dimensions
            }, [n.finishedLoading && (n.showWhiteScore || n.showBlackScore) ? i("span", {
                class: [n.$style.score, (t = {}, t[n.$style.dark] = n.showWhiteScore, t[n.$style.light] = n.showBlackScore, t)],
                domProps: {
                    textContent: n._s(n.formattedScore)
                }
            }) : n._e(), n._v(" "), n.finishedLoading ? i("div", {
                class: n.$style.fill
            }, [i("div", {
                class: [n.$style.color, n.$style.black]
            }), n._v(" "), i("div", {
                class: [n.$style.color, n.$style.white],
                style: n.whiteBarStyles
            })]) : i("div", {
                class: n.$style.loader
            }, [n.loadMessage ? i("div", {
                class: n.$style["loading-message"],
                domProps: {
                    textContent: n._s(n.loadMessage)
                }
            }) : n._e(), n._v(" "), i("div", {
                class: n.$style.fill
            }, [i("div", {
                class: n.$style.color,
                style: n.loadingStyles
            })])])])
        }, [], !1, function evaluation_bar_injectStyles(e) {
            this.$style = Kc.default.locals || Kc.default
        }, null, null).exports,
        Yc = {
            name: "player-avatar",
            components: {
                MinimalAvatar: bc
            },
            directives: {
                UserPopover: yc.a
            },
            props: {
                avatarSize: {
                    type: Number,
                    default: br
                },
                color: {
                    type: String,
                    required: !0
                },
                isPlayerTurn: {
                    type: Boolean,
                    default: !1
                },
                isPlayerWinner: {
                    type: Boolean,
                    default: !1
                },
                minimalAvatar: {
                    type: Boolean,
                    default: !1
                },
                player: {
                    type: Object,
                    default: function _default() {
                        return {}
                    }
                },
                username: {
                    type: String,
                    default: ""
                }
            },
            computed: {
                avatarComponent: function avatarComponent() {
                    return this.minimalAvatar ? bc : vc.a
                },
                avatarUrl: function avatarUrl() {
                    return this.player.avatarUrl || Object(el.a)("bundles/web/images/user-image.svg")
                },
                avatarStyles: function avatarStyles() {
                    return {
                        height: "".concat(this.avatarSize, "px"),
                        width: "".concat(this.avatarSize, "px")
                    }
                },
                popoverUsername: function popoverUsername() {
                    return Object(fc.b)(this.username) ? this.username : null
                },
                userUrl: function userUrl() {
                    return pc(this.username)
                }
            }
        },
        Xc = n(1040);

    function analysis_evaluation_barvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function analysis_evaluation_barvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? analysis_evaluation_barvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_evaluation_barvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Qc = {
            name: "analysis-evaluation-bar",
            components: {
                EvaluationBar: qc,
                PlayerAvatar: Object(Tn.a)(Yc, function() {
                    var e, t = this,
                        n = t.$createElement;
                    return (t._self._c || n)(t.avatarComponent, {
                        directives: [{
                            name: "user-popover",
                            rawName: "v-user-popover",
                            value: t.popoverUsername,
                            expression: "popoverUsername"
                        }],
                        tag: "component",
                        class: [t.$style.avatar, (e = {}, e[t.$style.winner] = t.isPlayerWinner, e)],
                        style: t.avatarStyles,
                        attrs: {
                            image: t.avatarUrl,
                            "is-online": t.player.isOnline,
                            src: t.avatarUrl,
                            url: t.userUrl
                        }
                    })
                }, [], !1, function player_avatar_injectStyles(e) {
                    this.$style = Xc.default.locals || Xc.default
                }, null, null).exports
            },
            mixins: [Vc],
            data: function data() {
                return {
                    throttledLoadProgress: fe
                }
            },
            computed: analysis_evaluation_barvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                gameNodes: "game/gameNodes",
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                isRetryMode: "analysis/isRetryMode",
                currentPosition: "analysis/currentPosition",
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                selectedRetryMove: "analysis/selectedRetryMove"
            }), {}, Object(Sn.mapState)({
                constrainedLayout: function constrainedLayout(e) {
                    return e.analysis.constrainedLayout
                },
                analysisProgress: function analysisProgress(e) {
                    return e.analysis.analysisProgress
                },
                boardFlipped: function boardFlipped(e) {
                    return e.board.boardOptions.flipBoard
                },
                analyzedMoves: function analyzedMoves(e) {
                    return e.analysis.analyzedMoves
                },
                engineDisabled: function engineDisabled(e) {
                    return e.analysis.engineDisabled
                },
                evalBarEnabled: function evalBarEnabled(e) {
                    return e.analysis.settings.evalBarEnabled
                },
                fullAnalysisDepth: function fullAnalysisDepth(e) {
                    return e.analysis.overrideDepth || e.analysis.settings.fullAnalysisDepth
                },
                pgnHeaders: function pgnHeaders(e) {
                    return e.game.pgnHeaders || {}
                },
                playerDetails: function playerDetails(e) {
                    return e.analysis.playerDetails
                }
            }), {
                players: function players() {
                    var players = {
                        BLACK: analysis_evaluation_barvue_type_script_lang_js_objectSpread({
                            color: Me.e.BLACK,
                            username: this.pgnHeaders.Black
                        }, this.playerDetails[Me.e.BLACK]),
                        WHITE: analysis_evaluation_barvue_type_script_lang_js_objectSpread({
                            color: Me.e.WHITE,
                            username: this.pgnHeaders.White
                        }, this.playerDetails[Me.e.WHITE])
                    };
                    return {
                        bottom: this.boardFlipped ? players.BLACK : players.WHITE,
                        top: this.boardFlipped ? players.WHITE : players.BLACK
                    }
                },
                showPlayers: function showPlayers() {
                    return this.constrainedLayout && (this.pgnHeaders.White && "?" !== this.pgnHeaders.White || this.pgnHeaders.Black && "?" !== this.pgnHeaders.Black)
                },
                barClasses: function barClasses() {
                    var e;
                    return e = {}, S()(e, this.$style.bar, !0), S()(e, this.$style.withPlayers, this.showPlayers), e
                },
                isTopWinner: function isTopWinner() {
                    var e = this.pgnHeaders.Result;
                    return this.players.top && (this.players.top.color === Me.e.WHITE && "1-0" === e || this.players.top.color === Me.e.BLACK && "0-1" === e)
                },
                isBottomWinner: function isBottomWinner() {
                    var e = this.pgnHeaders.Result;
                    return this.players.bottom && (this.players.bottom.color === Me.e.WHITE && "1-0" === e || this.players.bottom.color === Me.e.BLACK && "0-1" === e)
                },
                isTopTurn: function isTopTurn() {
                    var e = this.gameNodes[this.currentMainLineMoveNumber];
                    return this.players.top && e && e.color === this.players.top.color
                },
                isBottomTurn: function isBottomTurn() {
                    var e = this.gameNodes[this.currentMainLineMoveNumber];
                    return this.players.bottom && e && e.color === this.players.bottom.color
                },
                evaluationBarLine: function evaluationBarLine() {
                    var e = this.currentPosition;
                    if (this.isRetryMode) {
                        var t = (this.selectedRetryMove.previousMove || {}).ids || {},
                            n = t.line,
                            a = t.move,
                            i = Dt({
                                fen: this.selectedRetryMove.beforeFen,
                                previous: {
                                    line: n,
                                    move: a - 1
                                }
                            });
                        e = bn(this.selectedRetryMove) ? this.selectedRetryMove.newMove : this.analyzedMoves[i]
                    }
                    return (e || {}).playedMove || this.engineState.evaluation[0]
                },
                showEvalBar: function showEvalBar() {
                    return this.evalBarEnabled && !this.engineDisabled
                },
                loadProgress: function loadProgress() {
                    return this.isAnalysisInProgress ? this.throttledLoadProgress : he
                },
                loadMessage: function loadMessage() {
                    var e = (100 * this.throttledLoadProgress).toFixed(0),
                        t = this.isClientSideAnalysis ? s.BASIC : this.fullAnalysisDepth;
                    return this.$trans("Analyzing: %progress%% (DEPTH=%depth%)", {
                        "%depth%": t,
                        "%progress%": e
                    })
                }
            }),
            watch: {
                analysisProgress: function analysisProgress() {
                    this.throttledProgressUpdate()
                },
                showEvalBar: {
                    immediate: !0,
                    handler: function handler(e) {
                        ! function toggleEvaluation(e) {
                            Object(dc.a)("with-evaluation", e)
                        }(e)
                    }
                }
            },
            created: function created() {
                var e = this;
                this.throttledProgressUpdate = Object(Pn.a)(function() {
                    e.throttledLoadProgress = e.analysisProgress
                }, 500)
            }
        },
        Zc = n(1041);
    var Jc = Object(Tn.a)(Qc, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("div", {
            class: e.$style.component
        }, [e.showPlayers ? n("player-avatar", {
            class: e.$style.player,
            attrs: {
                color: e.players.top.color,
                "is-player-turn": e.isTopTurn,
                "is-player-winner": e.isTopWinner,
                "minimal-avatar": !0,
                player: e.players.top,
                username: e.players.top.username
            }
        }) : e._e(), e._v(" "), n("evaluation-bar", {
            class: e.barClasses,
            attrs: {
                flipped: e.boardFlipped,
                line: e.evaluationBarLine,
                "load-message": e.loadMessage,
                "load-progress": e.loadProgress
            }
        }), e._v(" "), e.showPlayers ? n("player-avatar", {
            class: e.$style.player,
            attrs: {
                color: e.players.bottom.color,
                "is-player-turn": e.isBottomTurn,
                "is-player-winner": e.isBottomWinner,
                "minimal-avatar": !0,
                player: e.players.bottom,
                username: e.players.bottom.username
            }
        }) : e._e()], 1)
    }, [], !1, function analysis_evaluation_bar_injectStyles(e) {
        this.$style = Zc.default.locals || Zc.default
    }, null, null).exports;

    function chartsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function chartsvue_type_script_lang_js_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? chartsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : chartsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var eu = {
            name: "charts",
            components: {
                BoardTabContainer: Nn,
                BoardTabItem: Fn,
                LoaderThreeBounce: ti.a,
                LockedMessage: Gi,
                SmartUpdatingChart: il
            },
            mixins: [Zn.a],
            computed: chartsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapGetters)({
                isAnalysisFinished: "analysis/isAnalysisFinished",
                displayableChartTabs: "analysis/displayableChartTabs",
                gameNodes: "game/gameNodes",
                isChartExpanded: "analysis/isChartExpanded"
            }), {}, Object(Sn.mapState)({
                activeChartKey: function activeChartKey(e) {
                    return e.analysis.activeChartTab
                },
                avgDiff: function avgDiff(e) {
                    return e.analysis.gameAnalysis.avgDifference || {}
                },
                firstMoveNumber: function firstMoveNumber(e) {
                    return e.analysis.gameAnalysis.firstMoveNumber
                },
                gamePhases: function gamePhases(e) {
                    return e.analysis.gameAnalysis.gamePhases
                },
                playerToMove: function playerToMove(e) {
                    return e.analysis.gameAnalysis.playerToMove
                },
                positions: function positions(e) {
                    return e.analysis.gameAnalysis.positions
                },
                time: function time(e) {
                    return e.analysis.gameAnalysis.time
                },
                TEP: function TEP(e) {
                    return e.analysis.gameAnalysis.TEP
                }
            }), {
                chartOptionArgs: function chartOptionArgs() {
                    return {
                        avgDiff: this.avgDiff,
                        currentMoveNumber: -1,
                        darkMode: this.isDarkMode,
                        initialPly: Jt(this.firstMoveNumber, this.playerToMove),
                        goToNode: this.goToNode,
                        moveTimes: this.moveTimes,
                        phases: this.gamePhases,
                        positions: this.positions,
                        TEP: this.TEP
                    }
                },
                moveTimes: function moveTimes() {
                    return this.time && this.time.moves || []
                },
                tabs: function tabs() {
                    return this.displayableChartTabs.reduce(function(e, t) {
                        return chartsvue_type_script_lang_js_objectSpread({}, e, S()({}, t, _t[t]))
                    }, {})
                }
            }),
            methods: chartsvue_type_script_lang_js_objectSpread({}, Object(Sn.mapActions)({
                goToNode: "analysis/goToNode"
            }), {}, Object(Sn.mapMutations)({
                setActiveTab: "analysis/setActiveChartTab"
            }), {
                handleTabClick: function handleTabClick(e) {
                    this.setActiveTab(this.activeChartKey !== e ? e : null)
                },
                tabIsActive: function tabIsActive(e) {
                    return e === this.activeChartKey && this.displayableChartTabs.includes(e)
                }
            })
        },
        tu = n(1042);

    function analysis_chartsvue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var nu = {
            name: "analysis-charts",
            components: {
                Charts: Object(Tn.a)(eu, function() {
                    var e, t, n = this,
                        a = n.$createElement,
                        i = n._self._c || a;
                    return i("div", {
                        class: [n.componentClasses(), (e = {}, e[n.$style.expanded] = n.isChartExpanded, e)]
                    }, [i("div", {
                        class: n.$style["data-parent"]
                    }, [n.isChartExpanded ? i("div", {
                        class: n.$style.data
                    }, [n._l(n.tabs, function(e, t) {
                        var a;
                        return i("div", {
                            key: t
                        }, [n.tabIsActive(t) ? i("smart-updating-chart", {
                            ref: t,
                            refInFor: !0,
                            class: [e.className, n.$style["active-chart"], (a = {}, a[n.$style.loading] = !n.isAnalysisFinished, a)],
                            attrs: {
                                "is-dark-mode": n.isDarkMode,
                                loading: !n.isAnalysisFinished,
                                "on-load": e.onLoad,
                                options: n.chartOptionArgs,
                                "options-builder": e.chartOptions,
                                "on-update-move-number": e.updateMoveNumber,
                                "update-callback": e.updateCallback
                            }
                        }) : n._e()], 1)
                    }), n._v(" "), n.isAnalysisFinished ? n._e() : i("loader-three-bounce", {
                        class: n.$style.loader,
                        attrs: {
                            "is-circle": !0,
                            size: 50
                        }
                    })], 2) : n._e()]), n._v(" "), i("board-tab-container", {
                        class: [n.$style.tabs, (t = {}, t[n.$style.expanded] = n.isChartExpanded, t)],
                        attrs: {
                            "is-dark-mode": n.isDarkMode
                        }
                    }, n._l(n.tabs, function(e, t) {
                        var a;
                        return i("board-tab-item", {
                            key: t,
                            class: [n.$style.tab, n.$style[e.header.className], (a = {}, a[n.$style["active-tab"]] = n.tabIsActive(t), a)],
                            attrs: {
                                icon: e.header.icon,
                                "is-active": n.tabIsActive(t),
                                "is-dark-mode": n.isDarkMode,
                                label: e.header.label
                            },
                            on: {
                                click: function(e) {
                                    return n.handleTabClick(t)
                                }
                            }
                        })
                    }), 1)], 1)
                }, [], !1, function charts_injectStyles(e) {
                    this.$style = tu.default.locals || tu.default
                }, null, null).exports
            },
            computed: function analysis_chartsvue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? analysis_chartsvue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : analysis_chartsvue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapState)({
                hasRunFullAnalysis: function hasRunFullAnalysis(e) {
                    return e.analysis.hasRunFullAnalysis
                }
            }), {}, Object(Sn.mapGetters)({
                gameHasAnalyzedPositions: "analysis/gameHasAnalyzedPositions",
                isAnalysisInProgress: "analysis/isAnalysisInProgress",
                isClientSideAnalysis: "analysis/isClientSideAnalysis",
                isFullAnalysis: "analysis/isFullAnalysis",
                isChartExpanded: "analysis/isChartExpanded"
            }), {
                showCharts: function showCharts() {
                    return this.isFullAnalysis && this.hasRunFullAnalysis && this.gameHasAnalyzedPositions && !this.isClientSideAnalysis
                }
            }),
            watch: {
                showCharts: {
                    immediate: !0,
                    handler: function handler(e) {
                        ! function toggleAnalysis(e) {
                            Object(dc.a)("with-analysis", e)
                        }(e)
                    }
                },
                isChartExpanded: {
                    immediate: !0,
                    handler: function handler(e) {
                        ! function toggleAnalysisCollapsed(e) {
                            Object(dc.a)("with-analysis-collapsed", e)
                        }(!e)
                    }
                }
            }
        },
        au = n(1043);
    var iu, ou = Object(Tn.a)(nu, function() {
        var e = this.$createElement,
            t = this._self._c || e;
        return this.showCharts ? t("charts", {
            class: this.$style.charts
        }) : this._e()
    }, [], !1, function analysis_charts_injectStyles(e) {
        this.$style = au.default.locals || au.default
    }, null, null).exports;
    ! function setFeatureFlags(e) {
        var t = e.dataset,
            n = Object.keys(t);
        n.forEach(function(e) {
            0 === e.indexOf("feature") && function setFeatureAccess(e) {
                var t = e.feature,
                    n = e.hasAccess;
                Oe[t] = n
            }({
                feature: e.substring("feature".length).split(/(?=[A-Z])/).join("_").toLowerCase(),
                hasAccess: Boolean(t[e])
            })
        })
    }(document.getElementById(V));
    var ru = ke("analysis_settings_modal") ? {
            component: An.a,
            el: "#".concat(G),
            propsData: {
                flip: function flip() {
                    Tt.default.commit("board/setOption", {
                        option: "flipBoard",
                        value: !Tt.default.state.board.boardOptions.flipBoard
                    })
                },
                settings: function settings() {
                    return kn({
                        component: Fo,
                        mount: K
                    })
                }
            },
            store: Tt.default
        } : {
            component: jn.a,
            el: "#".concat(G),
            propsData: {
                boardSelector: ".".concat(E)
            },
            store: Tt.default
        },
        su = Object(wn.a)((iu = {}, S()(iu, q, {
            component: Co.a,
            el: "#".concat(q),
            store: Tt.default,
            propsData: {
                boardClass: "board-board"
            }
        }), S()(iu, z, {
            component: uc,
            el: "#".concat(z),
            store: Tt.default
        }), S()(iu, U, {
            component: ou,
            el: "#".concat(U),
            store: Tt.default
        }), S()(iu, F, {
            component: En,
            el: "#".concat(F),
            store: Tt.default
        }), S()(iu, Q, {
            component: Ec,
            el: "#".concat(Q),
            store: Tt.default
        }), S()(iu, X, {
            component: jc,
            el: "#".concat(X),
            store: Tt.default
        }), S()(iu, H, {
            component: Jc,
            el: "#".concat(H),
            store: Tt.default
        }), S()(iu, G, ru), S()(iu, ee, {
            component: ic,
            el: "#".concat(ee),
            store: Tt.default
        }), iu)),
        lu = function addEventListeners() {
            ! function addDOMContentLoadedListener() {
                document.addEventListener("DOMContentLoaded", function onDOMContentLoaded() {
                    su.createInstances([F, z, Q, X, ee, U, H, q]), document.removeEventListener("DOMContentLoaded", onDOMContentLoaded)
                })
            }(),
            function addSettingsGearMouseoverListener() {
                var e = document.getElementById(Z);
                e && e.addEventListener("mouseover", function settingsGearMouseOverHandler() {
                    su.createInstances([G]), e.removeEventListener("mouseover", settingsGearMouseOverHandler)
                })
            }()
        },
        cu = n(123),
        uu = function activateClassification(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.state,
                o = S()({}, x.c.BOOK.key, Wn.OPENINGS)[t] || Wn.ANALYSIS;
            n("activateTemporaryClassificationColor", t);
            var r = function findFirstPositionOfClassification(e, t) {
                return t.findIndex(function(t) {
                    var n = t.difference,
                        a = t.classification,
                        i = t.scenarios;
                    return (kt({
                        difference: n,
                        classification: a,
                        scenarios: i
                    }) || {}).key === e
                })
            }(t, i.gameAnalysis.positions);
            return r && a("game/goToNode", {
                line: 0,
                move: r
            }, {
                root: !0
            }), a("updateActiveSidebarTab", o)
        },
        du = function cacheSelfAnalysis(e) {
            var t = e.rootState;
            t.game.pgn && setTimeout(function() {
                return Ko.default.set(ye, t.game.pgn)
            })
        },
        pu = function connectWebSocket(e) {
            var t = e.commit,
                n = e.dispatch;
            return new Promise(function(e, a) {
                var i = new WebSocket(pe);
                t("setWebSocket", i), i.onopen = function() {
                    return e()
                }, i.onmessage = function(e) {
                    return n("handleWebSocketMessage", e)
                }, i.onclose = function(e) {
                    return n("handleWebSocketClose", e)
                }, i.onerror = function() {
                    i.close(), a()
                }
            })
        },
        hu = function destroyRetryTab(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.state;
            return t("clearRetryMovesWithNoClassification"), n("board/updateOption", {
                option: "enabled",
                value: !0
            }, {
                root: !0
            }), n("game/loadFromPgn", {
                pgn: a.cachedGame.pgn
            }, {
                root: !0
            }).then(function() {
                return n("game/goToNode", a.cachedGame.selectedNode, {
                    root: !0
                })
            })
        },
        mu = function fetchActiveFens(e, t) {
            var n = e.commit;
            return function service_getActiveFens(e) {
                return Bt.default.post(de.getActiveFens(), {
                    userId: e
                }).then(function(e) {
                    return e.data.gameFens
                })
            }(t).then(function(e) {
                return n("setActiveFens", e), e
            })
        },
        fu = function fetchOpeningInfo(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.rootGetters;
            return n("game/getCurrentFullLine", null, {
                root: !0
            }).then(function(e) {
                return t("setCurrentFullLine", e),
                    function fetchFenStats(e, t) {
                        var n = {
                            fen: Ut.default.shortenFen(e, 3),
                            encodedMove: t
                        };
                        return Bt.default.post(de.fenStats(), n).then(function(e) {
                            return e.data
                        })
                    }(a["game/getCurrentFen"], null).then(function(e) {
                        a["game/getCurrentFen"].includes(e.fenString) ? t("setOpeningInfo", e) : t("setOpeningInfo", {
                            moves: null,
                            stats: null
                        })
                    })
            })
        };

    function fetch_player_details_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var gu = function fetchPlayerDetails(e) {
            var t = e.commit,
                n = e.getters.pgnHeaders,
                a = n.Black,
                i = n.White,
                o = [{
                    name: a,
                    color: Me.e.BLACK
                }, {
                    name: i,
                    color: Me.e.WHITE
                }].filter(function(e) {
                    return Object(fc.b)(e.name)
                }).map(function(e) {
                    return function service_getUserDetails(e) {
                        return Bt.default.get(de.getUserDetails(e)).then(function(e) {
                            return e.data
                        }).catch(function(e) {
                            if (!e.response || 404 !== e.response.status) return Promise.reject(e)
                        })
                    }(e.name).then(function(n) {
                        return t("setPlayerDetails", S()({}, e.color, function fetch_player_details_objectSpread(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? fetch_player_details_ownKeys(n, !0).forEach(function(t) {
                                    S()(e, t, n[t])
                                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : fetch_player_details_ownKeys(n).forEach(function(t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                })
                            }
                            return e
                        }({}, n, {
                            flairCode: (n.flair || {}).code,
                            membershipLevel: n.membership.level
                        })))
                    })
                });
            return Promise.all(o)
        },
        bu = function fetchSavedAnalysis(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.state,
                i = a.savedAnalysisId,
                o = a.gameId;
            return function service_getSavedAnalysis(e) {
                var t = e.analysisId,
                    n = e.gameType,
                    a = e.gameId,
                    i = t ? function() {
                        return de.getSavedAnalysisByAnalysisId(t)
                    } : function() {
                        return de.getSavedAnalysis(n, a)
                    };
                return Bt.default.get(i()).then(function(e) {
                    return e.data
                }).catch(Et)
            }({
                analysisId: i,
                gameType: a.gameType,
                gameId: o
            }).then(function(e) {
                var a = e.data,
                    i = void 0 === a ? {} : a,
                    o = e.selfAnalysis,
                    r = void 0 === o ? {} : o;
                if (i.analysis && (t("setIsLocked", !1), t("setGameAnalysis", i.analysis), n("finishLoadingFullAnalysis")), r.selfAnalysis) {
                    var s = r.selfAnalysis.pgn;
                    return t("setSavedSelfAnalysis", {
                        pgn: s
                    }), s
                }
            }).catch(function(e) {
                if (!e.response || 404 !== e.response.status) return Promise.reject(e)
            })
        },
        vu = function finishLoadingFullAnalysis(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.rootGetters;
            t("setAnalysisProgress", he), t("setCachedGame", {
                tcn: i["game/getMoveList"]
            }), n("parseAndSetAnalysisData"), a.isRetryMode && n("initRetryTab"), t("setHasRunFullAnalysis", !0), n("restartWebSocketIfNeeded")
        },
        yu = function flipBoardIfNecessary(e) {
            var t = e.commit,
                n = e.getters,
                a = e.rootState,
                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            n.userColor !== Me.e.BLACK && (n.userColor || a.game.setup.sideToMove !== Me.d.BLACK || !i.isFromFen) || a.board.boardOptions.isWhiteOnBottom || t("board/setOptions", {
                flipBoard: !0
            }, {
                root: !0
            })
        };

    function give_retry_hint_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var _u = function giveRetryHint(e) {
            var t = e.dispatch,
                n = e.getters;
            t("game/markSquare", function give_retry_hint_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? give_retry_hint_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : give_retry_hint_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Se.a.convertLanToFileRanks(n.selectedRetryMove.suggestedMove.moveLan).fromFileRank, {
                color: T.RETRY_HINT_COLOR
            }), {
                root: !0
            })
        },
        wu = function goToFirstNode(e) {
            return (0, e.dispatch)("game/goToNode", {
                line: 0,
                move: 0
            }, {
                root: !0
            })
        },
        Ou = function goToNode(e, t) {
            var n = e.dispatch,
                a = function action() {
                    return Promise.resolve()
                };
            return e.getters.isRetryMode && (a = function action() {
                return n("updateActiveSidebarTab", Wn.ANALYSIS)
            }), a().then(function() {
                return n("game/goToNode", t, {
                    root: !0
                })
            })
        },
        ku = function handleAnalysisStream(e, t) {
            var n, a = e.commit,
                i = e.dispatch,
                o = e.state,
                r = t.action,
                s = t.data,
                l = t.err,
                c = t.progress,
                u = t.overridePositions,
                d = function mergeNewData() {
                    return a("setGameAnalysis", vn(o.gameAnalysis, s, u))
                },
                p = (n = {}, S()(n, h, function() {
                    return d()
                }), S()(n, f, function() {
                    return d()
                }), S()(n, g, function() {
                    a("setGameAnalysis", {}), a("setAnalysisProgress", me)
                }), S()(n, v, function() {
                    return a("setGameAnalysis", vn(o.gameAnalysis, {
                        TEP: s
                    }))
                }), S()(n, m, function() {
                    d(), i("finishLoadingFullAnalysis")
                }), n);
            if (l) return Et(new Error(l)), i("initSelfAnalysis"), void i("restartWebSocketIfNeeded");
            c && a("setAnalysisProgress", c);
            var b = p[r];
            b && b()
        },
        Su = function handleRetryAttempt(e) {
            var t = e.commit,
                n = e.rootState,
                a = e.state;
            return function hasUnlimitedRetries(e) {
                return e.isDiamond
            }(n.user) || a.retry.hasPostedAttempt ? Promise.resolve() : function postRetryAttempt(e) {
                var t = e.gameId;
                return Bt.default.post(de.retryAttempt(), {
                    gameId: Number(t)
                }).then(function(e) {
                    return e.data
                }).catch(Et)
            }({
                gameId: a.gameId
            }).then(function() {
                return t("setHasPostedRetryAttempt", !0)
            })
        };

    function handle_retry_move_stream_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function handle_retry_move_stream_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? handle_retry_move_stream_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : handle_retry_move_stream_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var xu = function handleRetryMoveStream(e, t) {
            var n = e.dispatch,
                a = e.commit,
                i = e.state,
                o = t.data,
                r = void 0 === o ? {} : o,
                s = (r.positions || [])[0];
            if (s && r.annotatedPgn) {
                a("setRetryLoadingState", !1), n("restartWebSocketIfNeeded");
                var l = function findRetryMoveFromPgn() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                            n = e.black,
                            a = e.white,
                            i = Ut.default.createGame({
                                pgn: t
                            }),
                            o = i && i.fen(),
                            r = i && i.undo() && i.fen();
                        return {
                            originalMove: [].concat(le()(n), le()(a)).find(function(e) {
                                return e.fen === r
                            }),
                            playedMoveFen: o,
                            startingFen: r
                        }
                    }(i.retry.moves, r.annotatedPgn),
                    c = l.originalMove,
                    u = l.playedMoveFen,
                    d = l.startingFen;
                c && (a("addAnalyzedMove", handle_retry_move_stream_objectSpread({}, s, {
                    fen: u,
                    previous: c.previousMove.ids
                })), a("updateRetryMove", {
                    fen: d,
                    data: {
                        newMove: Pt({
                            data: handle_retry_move_stream_objectSpread({}, c.newMove, {}, s),
                            isNewMove: !0
                        })
                    }
                }))
            }
        },
        Pu = function handleUrlParamSettings(e) {
            var t = e.commit,
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                a = function isTrue(e) {
                    return "true" === String(e) || 1 === Number(e)
                },
                i = a(n.ne) || a(n.hide);
            Object(Te.d)(n, "flip") && t("board/setOptions", {
                flipBoard: a(n.flip)
            }, {
                root: !0
            }), i && (t("changeSetting", {
                key: "fullAnalysisLinesEnabled",
                shouldCache: !1,
                value: !1
            }), t("changeSetting", {
                key: "selfAnalysisLinesEnabled",
                shouldCache: !1,
                value: !1
            }), t("setEngineDisabled", !0)), n.hide && t("changeSetting", {
                key: "evalBarEnabled",
                shouldCache: !1,
                value: !1
            })
        },
        Cu = function handleWebSocketClose(e, t) {
            var n = e.dispatch,
                a = e.state;
            console.log("Socket is closed. Reconnect will be attempted in ".concat(a.socket.reconnectInterval / 1e3, " seconds. ").concat(t.reason)), setTimeout(function() {
                n("connectWebSocket", {
                    isInitialLoad: !1
                })
            }, a.socket.reconnectInterval), a.socket.reconnectInterval *= 2
        },
        Mu = function handleWebSocketMessage(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.getters,
                o = e.state,
                r = JSON.parse(t.data);
            return r.action === b && (n("setShouldReconnect", !0), (!o.retry.isLoading && !i.isAnalysisInProgress || Boolean(r.force)) && a("restartWebSocketIfNeeded")), i.isRetryMode && !i.isAnalysisInProgress ? a("handleRetryMoveStream", r) : a("handleAnalysisStream", r)
        },
        Tu = {
            name: "modal",
            components: {
                IconFont: In.a,
                ModalContainer: va.a,
                ModalContent: ba.a
            },
            props: {
                icon: {
                    required: !0,
                    type: String
                },
                intro: {
                    default: null,
                    type: String
                },
                theme: {
                    default: "green",
                    type: String
                },
                benefits: {
                    default: function _default() {
                        return Do
                    },
                    type: Array
                },
                subtitle: {
                    default: null,
                    type: String
                },
                title: {
                    default: null,
                    type: String
                }
            },
            methods: {
                closePress: function closePress() {
                    this.$refs.modal.hide(), this.$emit("close-press")
                },
                hide: function hide() {
                    this.$refs.modal.hide()
                },
                show: function show() {
                    this.$refs.modal.show()
                }
            }
        },
        Eu = n(1044);
    var Au = Object(Tn.a)(Tu, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal-container", e._g(e._b({
            ref: "modal"
        }, "modal-container", e.$attrs, !1), e.$listeners), [n("modal-content", {
            class: [e.$style.container, e.$style[e.theme]]
        }, [n("div", {
            class: e.$style.header
        }, [e.subtitle ? n("h2", {
            class: e.$style.subtitle,
            domProps: {
                textContent: e._s(e.subtitle)
            }
        }) : e._e(), e._v(" "), n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                theme: "primary",
                name: e.icon
            }
        }), e._v(" "), e.title ? n("h1", {
            class: e.$style.title,
            domProps: {
                textContent: e._s(e.title)
            }
        }) : e._e()], 1), e._v(" "), n("div", {
            class: e.$style.body
        }, [e.intro ? n("p", {
            class: e.$style.intro,
            domProps: {
                textContent: e._s(e.intro)
            }
        }) : e._e(), e._v(" "), n("ul", {
            class: e.$style.benefits
        }, e._l(e.benefits, function(t) {
            return n("li", {
                key: t.label
            }, [n("icon-font", {
                class: e.$style.icon,
                attrs: {
                    family: "chess",
                    theme: "primary",
                    name: t.icon
                }
            }), e._v(" "), n("div", {
                class: e.$style.label
            }, [n("h2", {
                domProps: {
                    textContent: e._s(t.label)
                }
            }), e._v(" "), t.sublabel ? n("span", {
                class: e.$style.sublabel,
                domProps: {
                    innerHTML: e._s(t.sublabel)
                }
            }) : e._e()])], 1)
        }), 0), e._v(" "), e._t("buttons")], 2), e._v(" "), n("button", {
            class: e.$style.close,
            attrs: {
                type: "button"
            },
            on: {
                click: e.closePress
            }
        }, [n("icon-font", {
            class: e.$style.icon,
            attrs: {
                family: "chess",
                name: "x",
                theme: "primary"
            }
        })], 1)])], 1)
    }, [], !1, function modal_injectStyles(e) {
        this.$style = Eu.default.locals || Eu.default
    }, null, null).exports;

    function modal_upgradevue_type_script_lang_js_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var ju = {
            name: "modal-upgrade",
            components: {
                FormButton: qn.a,
                Modal: Au
            },
            data: function data() {
                return {
                    upgradeBenefits: Object.freeze($o),
                    upgradeMembershipUrl: de.upgradeMembership()
                }
            },
            methods: function modal_upgradevue_type_script_lang_js_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? modal_upgradevue_type_script_lang_js_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : modal_upgradevue_type_script_lang_js_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, Object(Sn.mapActions)({
                runClientAnalysis: "analysis/runClientAnalysis",
                initSelfAnalysis: "analysis/initSelfAnalysis",
                updateActiveSidebarTab: "analysis/updateActiveSidebarTab"
            }), {}, Object(Sn.mapMutations)({
                changeSetting: "analysis/changeSetting"
            }), {
                analyze: function analyze() {
                    this.runClientAnalysis(), this.$refs.modal.hide()
                },
                onClose: function onClose() {
                    this.changeSetting({
                        key: "selfAnalysisLinesEnabled",
                        shouldCache: !1,
                        value: !0
                    }), this.initSelfAnalysis(), this.updateActiveSidebarTab(Wn.ANALYSIS)
                },
                show: function show() {
                    this.$refs.modal.show()
                }
            })
        },
        Lu = n(1045);
    var Du = Object(Tn.a)(ju, function() {
        var e = this,
            t = e.$createElement,
            n = e._self._c || t;
        return n("modal", {
            ref: "modal",
            attrs: {
                icon: "comp-analysis",
                theme: "blue",
                benefits: e.upgradeBenefits,
                "close-on-background-click": !1,
                subtitle: e.$trans("Daily Full Analysis Limit Reached"),
                title: e.$trans("Get Unlimited Full Analysis")
            },
            on: {
                "close-press": e.onClose
            }
        }, [n("div", {
            class: e.$style.buttons,
            attrs: {
                slot: "buttons"
            },
            slot: "buttons"
        }, [n("form-button", {
            class: e.$style.btn,
            attrs: {
                size: "x-large",
                theme: "basic"
            },
            domProps: {
                textContent: e._s(e.$trans("Basic Analysis"))
            },
            on: {
                click: e.analyze
            }
        }), e._v(" "), n("form-button", {
            class: e.$style.btn,
            attrs: {
                size: "x-large",
                theme: "primary",
                href: e.upgradeMembershipUrl
            },
            domProps: {
                textContent: e._s(e.$trans("Get Full Analysis"))
            }
        })], 1)])
    }, [], !1, function modal_upgrade_injectStyles(e) {
        this.$style = Lu.default.locals || Lu.default
    }, null, null).exports;

    function init_full_analysis_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function init_full_analysis_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? init_full_analysis_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : init_full_analysis_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Nu = function alreadyHasAnalysis(e) {
            var t = e.analyzedDepth,
                n = e.cachedTcn,
                a = e.currentTcn,
                i = e.depth,
                o = e.hasRunPreviously;
            return i === t && o && a === n
        },
        Iu = function initFullAnalysis(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.rootGetters,
                o = e.rootState,
                r = e.state,
                s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                l = s.depth,
                c = s.shouldSave,
                u = void 0 !== c && c;
            if (t("setAnalysisType", y), n("game/changeSettings", {
                    mainLineIsImmutable: !0,
                    variations: !0
                }, {
                    root: !0
                }), l && t("setOverrideDepth", l), Nu({
                    analyzedDepth: r.gameAnalysis.analysisDepth,
                    cachedTcn: r.cachedGame.tcn,
                    currentTcn: i["game/getMoveList"],
                    depth: l || r.settings.fullAnalysisDepth,
                    hasRunPreviously: r.hasRunFullAnalysis
                })) return n("finishLoadingFullAnalysis");
            var d = [];
            return r.isLocked || d.push(n("setToken")), u && At(o.user) && !r.noPersist ? d.push(n("saveSelfAnalysis")) : a.isAnalysisTiedToGame && d.push(n("loadFromGame")), Promise.all(d).then(function() {
                return Nu({
                    analyzedDepth: r.gameAnalysis.analysisDepth,
                    cachedTcn: r.cachedGame.tcn,
                    currentTcn: i["game/getMoveList"],
                    depth: l || r.settings.fullAnalysisDepth,
                    hasRunPreviously: r.hasRunFullAnalysis
                }) ? n("finishLoadingFullAnalysis") : r.isLocked ? kn({
                    component: Du,
                    mount: Y
                }) : n("runFullAnalysis", {
                    isGameAnalysis: !0,
                    analysisOptions: init_full_analysis_objectSpread({}, r, {
                        options: {
                            depth: l,
                            noPersist: r.noPersist
                        },
                        pgn: o.game.pgn || r.initialPgn
                    })
                })
            })
        },
        $u = function initRetryTab(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.rootGetters,
                i = e.rootState,
                o = e.state,
                r = a["game/gameNodes"],
                s = o.retry,
                l = s.isLocked,
                c = s.selectedMoveRef;
            t("setCachedGame", {
                gameNodes: r,
                pgn: i.game.pgn,
                selectedNode: (a["game/selectedNode"] || {}).ids || {
                    line: 0,
                    move: 0
                }
            }), t("setRetryHasBeenViewed", !0), t("board/setOptions", {
                flipBoard: c.color === Me.e.BLACK
            }, {
                root: !0
            }), l && n("board/updateOption", {
                option: "enabled",
                value: !1
            }, {
                root: !0
            }), n("selectRetryMove", c)
        },
        Bu = n(140),
        Ru = n(34),
        Fu = n(29),
        zu = Object(Bu.a)(function(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.state,
                o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                r = o.diagramId,
                s = o.isInitialLoad;
            return t("setAnalysisType", _), t("setAnalysisProgress", he), n("game/changeSettings", {
                mainLineIsImmutable: a.isAnalysisTiedToGame
            }, {
                root: !0
            }), s ? r ? n("diagramEditor/loadDiagramById", r, {
                root: !0
            }) : i.savedAnalysisId ? n("fetchSavedAnalysis") : function() {
                if (i.initialFen && !i.initialPgn) return Object(Bu.b)(n("loadFromFen", i.initialFen), function() {
                    var e = Object(Ru.b)(),
                        n = Fu.a.getPgnHeaders(e);
                    return t("game/setPgnHeaders", n, {
                        root: !0
                    })
                })
            }() : Promise.resolve()
        });

    function helpers_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Uu = function getInitialColoredClassifications() {
            var e, t = C.reduce(function(e, t) {
                return function helpers_objectSpread(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? helpers_ownKeys(n, !0).forEach(function(t) {
                            S()(e, t, n[t])
                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : helpers_ownKeys(n).forEach(function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        })
                    }
                    return e
                }({}, e, S()({}, t.key, t.coloredByDefault))
            }, {});
            return e = {}, S()(e, te, {
                classifications: t,
                enabled: !1,
                key: te,
                label: o.a.trans("Opponent")
            }), S()(e, ne, {
                classifications: t,
                enabled: !0,
                key: ne,
                label: o.a.trans("Self")
            }), S()(e, ae, {
                classifications: t,
                enabled: !0,
                key: ae,
                label: o.a.trans("Classifications")
            }), e
        },
        Gu = {
            name: "modal-first-time",
            components: {
                FormButton: qn.a,
                Modal: Au
            },
            methods: {
                onClickButton: function onClickButton() {
                    this.$refs.modal.hide()
                },
                onHide: function onHide() {
                    Ko.default.set(ve, !0)
                },
                show: function show() {
                    this.$refs.modal.show()
                }
            }
        },
        Hu = n(1046);
    var Vu = Object(Tn.a)(Gu, function() {
            var e = this.$createElement,
                t = this._self._c || e;
            return t("modal", {
                ref: "modal",
                attrs: {
                    icon: "comp-analysis",
                    theme: "green",
                    intro: this.$trans("Review your game and learn from your best and worst moves"),
                    title: this.$trans("Chess Analysis")
                },
                on: {
                    "modal-did-hide": this.onHide
                }
            }, [t("form-button", {
                class: this.$style.btn,
                attrs: {
                    slot: "buttons",
                    size: "x-large",
                    theme: "primary"
                },
                domProps: {
                    textContent: this._s(this.$trans("Get Started"))
                },
                on: {
                    click: this.onClickButton
                },
                slot: "buttons"
            })], 1)
        }, [], !1, function modal_first_time_injectStyles(e) {
            this.$style = Hu.default.locals || Hu.default
        }, null, null).exports,
        Wu = function init(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = ce(window.location.search),
                o = a.isAnalysisTiedToGame ? y : _;
            t("setAnalysisType", o), n("flipBoardIfNecessary"), n("handleUrlParamSettings", i), Ko.default.get(ve) || kn({
                component: Vu,
                mount: W
            }), n("startSelfOrFullAnalysis", {
                isInitialLoad: !0
            }).then(function() {
                return t("setActiveSidebarTab", function getInitialSidebarTab(e, t) {
                    return t && Object.values(Wn).includes(t) ? t : e === _ ? Wn.ANALYSIS : Wn.REPORT
                }(o, i.tab))
            })
        },
        Ku = n(38),
        qu = function insertPlayMayContinue(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.rootGetters,
                r = e.state;
            if (!a.isSelfAnalysis) {
                var s = i["game/gameNodes"] || [],
                    l = s[s.length - 1] || {},
                    c = Wt({
                        fen: l.fen,
                        pv: (r.gameAnalysis.playMayContinue || {}).pv
                    }).pvSan;
                return (c || []).length ? (n("game/moveListContextMenuAction", {
                    actionItem: {
                        action: Ku.a.UPDATE_COMMENT,
                        value: "<br /><br /><em>".concat(o.a.trans("Game may have continued..."), "</em>")
                    },
                    node: l
                }, {
                    root: !0
                }), t("setHasPlayMayContinue", !0), n("game/goToNode", l.ids, {
                    root: !0
                }), n("game/loadFromSanMoves", c, {
                    root: !0
                })) : Promise.resolve()
            }
        },
        Yu = function insertVariationFromRetry(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                o = i.filter(function(e) {
                    return Boolean(e)
                }).length;
            return t("setCachedGame", {
                selectedNode: {
                    line: 0,
                    move: a.selectedRetryMove.ply - (o ? 1 : 0)
                }
            }), n("updateActiveSidebarTab", Wn.ANALYSIS).then(function() {
                return n("game/loadFromSanMoves", i, {
                    root: !0
                })
            })
        },
        Xu = function loadFromCache(e) {
            var t = e.dispatch,
                n = Ko.default.get(ye, null);
            if (n) return t("loadFromPgn", n)
        },
        Qu = function loadFromFen(e, t) {
            var n = e.commit,
                a = e.dispatch;
            a("game/loadFromFen", t, {
                root: !0
            }), a("flipBoardIfNecessary", {
                isFromFen: !0
            }), n("setSelfAnalysisLoaded", !0), a("updateOpenBoardTabSection")
        },
        Zu = function loadFromPgn(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.rootGetters,
                r = e.rootState;
            return n("setSelfAnalysisLoaded", !0), a("updateOpenBoardTabSection"), a("game/loadFromPgn", {
                pgn: t
            }, {
                root: !0
            }).then(function() {
                if (!i["game/getSanMoves"].length && t !== r.game.pgn) return a("alerts/create", {
                    type: Mt.g.error,
                    message: o.a.trans("Sorry, we were unable to parse that PGN.")
                }, {
                    root: !0
                });
                a("setGamePgn", t), a("goToFirstNode"), a("cacheSelfAnalysis")
            })
        },
        Ju = function loadFromGame(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.rootGetters,
                o = e.rootState;
            return n("fetchSavedAnalysis").then(function(e) {
                if (e && e !== o.game.pgn) {
                    if (a.isRetryMode) return t("setCachedGame", {
                        pgn: e,
                        selectedNode: {
                            line: 0,
                            move: 0
                        }
                    }), n("setGamePgn", e);
                    var r = Se.a.createGame({
                        settings: {
                            variations: !0,
                            analysis: !0
                        }
                    });
                    return Se.a.loadFromPgn(r, e), i["game/gameNodes"].length > r.tree.lines[0].length ? (Se.a.mergeTcn(r, i["game/getMoveList"]), Se.a.updatePgnHeaders(r, a.pgnHeaders), n("loadFromPgn", Se.a.getPgn(r))) : n("loadFromPgn", e)
                }
            })
        },
        ed = function makeMove(e, t) {
            var n = e.dispatch,
                a = e.getters,
                i = e.rootGetters,
                o = a.isSetupBoardSection ? "diagramEditor" : "game";
            return n("".concat(o, "/makeMove"), t, {
                root: !0
            }).then(function() {
                if (a.isRetryMode && !t.isIllegal && !t.isRetryOpeningMove) {
                    var e = a.selectedRetryMove.newMove.san;
                    return e ? n("insertVariationFromRetry", [e, i["game/selectedNode"].san]) : n("submitRetryMove", {
                        viewedAnswer: t.viewedAnswer
                    })
                }
            })
        },
        td = function newAnalysis(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.state;
            if (!a.isAnalysisTiedToGame && !i.savedSelfAnalysis.url) return n("game/resetGame", null, {
                root: !0
            }).then(function() {
                t("game/setPgnHeaders", {}, {
                    root: !0
                }), t("setAnalysisType", _), t("clearTwigSettings"), t("setGameAnalysis", {}), t("setEngineDisabled", !1), t("setSavedSelfAnalysis", {
                    pgn: null,
                    url: null
                }), t("setSelfAnalysisLoaded", !1), t("setGamePgnHeaders", {}), t("setPlayerDetails", {
                    black: {},
                    white: {}
                }), t("setHasRunFullAnalysis", !1), n("game/changeSettings", {
                    analysis: !0,
                    variations: !0
                }, {
                    root: !0
                })
            });
            window.location = "".concat(window.location.protocol, "//").concat(window.location.hostname).concat(de.analysis())
        },
        nd = function parseAndSetAnalysisData(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.state,
                o = e.rootGetters;
            t("setAnalyzedMoves", Kt(i.gameAnalysis.positions, o["game/gameNodes"])), n("setRetryMoves"), a.isRetryMode || i.hasPlayMayContinue || n("insertPlayMayContinue").then(function() {
                return n("goToFirstNode")
            })
        };

    function reset_retry_moves_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var ad = function resetRetryMoves(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.state,
                i = a.retry.moves,
                o = i.black,
                r = i.white,
                s = function updateColorMoves(e) {
                    return e.map(function(e) {
                        return function reset_retry_moves_objectSpread(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? reset_retry_moves_ownKeys(n, !0).forEach(function(t) {
                                    S()(e, t, n[t])
                                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : reset_retry_moves_ownKeys(n).forEach(function(t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                })
                            }
                            return e
                        }({}, e, {
                            newMove: {}
                        })
                    })
                };
            t("setRetryMoves", {
                black: s(o),
                white: s(r)
            }), n("selectRetryMove", a.retry.selectedMoveRef)
        },
        id = function restartWebSocketIfNeeded(e) {
            var t = e.commit,
                n = e.state;
            n.shouldReconnect && (n.socket.close(), t("setShouldReconnect", !1), console.log("Restarting socket."))
        },
        od = function runClientAnalysis(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.rootState,
                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : s.BASIC;
            return t("setAnalysisProgress", me), t("setGameAnalysis", {
                isClient: !0
            }), analyzeGameQuick({
                depth: i,
                options: {
                    pgn: a.game.pgn
                },
                onStream: function onStream(e) {
                    var t = e.data,
                        a = e.progress;
                    return n("handleAnalysisStream", {
                        action: f,
                        data: {
                            positions: t.positions
                        },
                        progress: a
                    })
                },
                onDone: function onDone(e, t) {
                    return n("handleAnalysisStream", {
                        action: m,
                        data: t,
                        overridePositions: !0
                    })
                }
            })
        },
        rd = function runFullAnalysis(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.state,
                o = t.isGameAnalysis,
                r = void 0 !== o && o,
                s = t.analysisOptions,
                l = void 0 === s ? {} : s;
            r && (n("setGameAnalysis", {}), n("setAnalysisProgress", me));
            var c = function initialAction() {
                return Promise.resolve()
            };
            return i.socket && i.socket.readyState === WebSocket.OPEN || (c = function initialAction() {
                return a("connectWebSocket")
            }), c().then(function() {
                return function analyzeGame(e, t) {
                    var n = t.gameId,
                        a = t.gameType,
                        i = t.options,
                        o = void 0 === i ? {} : i,
                        r = t.pgn,
                        s = t.savedSelfAnalysis,
                        l = void 0 === s ? {} : s,
                        c = t.settings,
                        u = void 0 === c ? {} : c,
                        d = t.token,
                        p = {
                            action: T.ANALYZE_GAME_ACTION,
                            game: {
                                pgn: r
                            },
                            options: service_objectSpread({}, o, {
                                depth: Number(o.depth || u.fullAnalysisDepth),
                                source: {
                                    gameId: n,
                                    gameType: a,
                                    url: l.url,
                                    token: d
                                }
                            })
                        };
                    p.options.depth >= 30 && (p.options.priority = "low"), e.send(JSON.stringify(p))
                }(i.socket, l)
            }).catch(function() {
                n("setAnalysisProgress", he), Et(new Error(j.NETWORK.type))
            })
        },
        sd = function saveSelfAnalysis(e) {
            var t = e.commit,
                n = e.getters,
                a = e.state,
                i = e.rootState,
                r = e.dispatch,
                s = i.game.pgn;
            return t("setSavedSelfAnalysis", {
                    pgn: s
                }),
                function service_saveSelfAnalysis(e) {
                    var t = e.gameId,
                        n = e.pgn,
                        a = e.type,
                        i = e.url;
                    return Bt.default.post(de.saveSelfAnalysis(), {
                        gameId: Number(t),
                        pgn: n,
                        type: a,
                        url: i
                    }).then(function(e) {
                        return e.data
                    }).catch(Et)
                }({
                    pgn: s,
                    gameId: a.gameId,
                    type: a.gameType,
                    url: a.savedSelfAnalysis.url
                }).then(function(e) {
                    var a = e.url;
                    if (t("setSavedSelfAnalysis", {
                            url: a
                        }), !n.isAnalysisTiedToGame) {
                        var i = ce(window.location.search).depth;
                        i = i ? "?depth=".concat(i) : "";
                        var s = "".concat(tn(a)).concat(i);
                        window.history.pushState({
                            page: a
                        }, "", s), r("alerts/create", {
                            type: Mt.g.success,
                            message: o.a.trans("Saved! This analysis can be shared using the updated URL in your browser.")
                        }, {
                            root: !0
                        })
                    }
                })
        },
        ld = function selectRetryMove(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.state,
                o = t.color,
                r = t.index,
                s = o || i.retry.selectedMoveRef.color,
                l = (i.retry.moves[s] || [])[r];
            if (n("setRetryLoadingState", !1), o && o !== i.retry.selectedMoveRef.color && n("board/setOptions", {
                    flipBoard: o === Me.e.BLACK
                }, {
                    root: !0
                }), n("setRetrySelectedMoveRef", {
                    color: s,
                    index: r
                }), l) {
                var c, u = l.newMove,
                    d = l.previousMove;
                if (u.pgn) c = {
                    loadFrom: "Pgn",
                    data: {
                        pgn: u.pgn
                    },
                    makeMove: !1
                };
                else if (d.fen) {
                    var p = Lt(d.moveLan),
                        h = p.from,
                        m = p.to;
                    c = {
                        loadFrom: "Fen",
                        data: d.fen,
                        makeMove: {
                            from: h,
                            isIllegal: !1,
                            isRetryOpeningMove: !0,
                            promotion: d.promotion,
                            to: m
                        }
                    }
                } else c = {
                    loadFrom: "Fen",
                    data: l.fen,
                    makeMove: !1
                };
                return a("game/loadFrom".concat(c.loadFrom), c.data, {
                    root: !0
                }).then(function() {
                    if (c.makeMove) return yn(500).then(function() {
                        return a("makeMove", c.makeMove)
                    })
                })
            }
        },
        cd = function setGamePgn(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = (Ut.default.pgnToJson(t || "", 0) || {}).headers,
                o = void 0 === i ? {} : i;
            n("game/setPgn", t, {
                root: !0
            }), n("setGamePgnHeaders", o), a("game/getPgnHeaders", null, {
                root: !0
            }), a("flipBoardIfNecessary"), a("fetchPlayerDetails")
        },
        ud = function setRetryMoves(e) {
            var t = e.commit,
                n = e.getters,
                a = e.rootGetters,
                i = e.state,
                o = a["game/gameNodes"],
                r = i.retry.moves,
                s = r.black,
                l = r.white;
            s.length || l.length || (t("setRetryMoves", function getRetryMoves() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    a = {
                        black: [],
                        white: []
                    };
                if (!t.length) return a;
                var i = n ? n.moves.white["threefold repitition"] : [],
                    o = e.reduce(function(e, n, a) {
                        var o = t[a] || {},
                            r = t[a - 1] || {};
                        return i && i.length && (i.includes(a) || 0 === n.suggestedMove.score || 0 === n.playedMove.score) ? e : n.classification >= 2 && 0 !== n.difference && !n.scenarios.book && (n.color === Me.e.WHITE && n.suggestedMove.score >= -5 || n.color === Me.e.BLACK && n.suggestedMove.score <= 5) ? get_retry_moves_objectSpread({}, e, S()({}, n.color, [].concat(le()(e[n.color]), [Pt({
                            data: get_retry_moves_objectSpread({}, n, {}, o, {
                                color: n.color,
                                ply: o.ids.move,
                                previousMove: r
                            }),
                            index: a
                        })]))) : e
                    }, a);
                return {
                    white: filterRetryCandidates(o.white, T.RETRY_MINIMUM),
                    black: filterRetryCandidates(o.black, T.RETRY_MINIMUM)
                }
            }(i.gameAnalysis.positions, o, i.gameAnalysis.TEP) || []), n.userColor && t("setRetrySelectedMoveRef", {
                color: n.userColor
            }))
        },
        dd = function setToken(e) {
            var t = e.commit;
            return function getToken() {
                return Bt.default.get(de.authenticate()).then(function(e) {
                    return e.data.token
                }).catch(Et)
            }().then(function(e) {
                return t("setToken", e)
            })
        },
        pd = function startSelfOrFullAnalysis(e, t) {
            var n = e.dispatch,
                a = e.state,
                i = t.isInitialLoad;
            return a.analysisType === y ? n("initFullAnalysis") : n("initSelfAnalysis", {
                diagramId: new URLSearchParams(window.location.search).get("diagram_id"),
                isInitialLoad: i
            })
        };

    function submit_retry_move_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function submit_retry_move_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? submit_retry_move_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : submit_retry_move_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var hd = function updateRetryMove(e) {
            var t = e.baseMoveData,
                n = e.commit,
                a = e.extraData,
                i = void 0 === a ? {} : a,
                o = e.getters,
                r = e.stopLoading;
            return void 0 !== r && r && n("setRetryLoadingState", !1), n("updateRetryMove", {
                fen: o.selectedRetryMove.fen,
                data: {
                    newMove: Pt({
                        data: submit_retry_move_objectSpread({}, t, {}, i),
                        isNewMove: !0
                    })
                }
            })
        },
        md = function submitRetryMove(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters,
                i = e.rootGetters,
                o = e.state,
                r = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).viewedAnswer;
            n("handleRetryAttempt"), t("setRetryLoadingState", !0), t("clearRetryMovesWithNoClassification");
            var s = i["game/selectedNode"],
                l = "".concat(s.from).concat(s.to),
                c = Ut.default.createGame({
                    fen: a.selectedRetryMove.fen,
                    moves: [{
                        san: s.san
                    }]
                }),
                u = c.pgn(),
                d = {
                    ids: s.ids,
                    pgn: u,
                    moveLan: l,
                    san: s.san,
                    viewedAnswer: r
                },
                p = o.analyzedMoves[Dt({
                    fen: c.fen(),
                    previous: a.selectedRetryMove.previousMove.ids
                })];
            if (p) return function setMoveAsPreviouslyAnalyzedPosition(e) {
                return hd(submit_retry_move_objectSpread({}, e, {
                    stopLoading: !0
                }))
            }({
                baseMoveData: d,
                commit: t,
                getters: a,
                extraData: p
            });
            var h = a.selectedRetryMove.suggestedMove;
            return l === h.moveLan ? function setPlayedMoveAsBestMove(e) {
                return hd(submit_retry_move_objectSpread({}, e, {
                    stopLoading: !0
                }))
            }({
                baseMoveData: d,
                commit: t,
                getters: a,
                extraData: {
                    classification: 0,
                    difference: 0,
                    playedMove: h
                }
            }) : (hd({
                baseMoveData: d,
                commit: t,
                getters: a
            }), n("runFullAnalysis", {
                isGameAnalysis: !1,
                analysisOptions: submit_retry_move_objectSpread({}, o, {
                    options: {
                        noPersist: !0,
                        noTEP: !0,
                        noTactics: !0,
                        skipToFront: !0
                    },
                    pgn: u,
                    settings: o.settings,
                    token: o.token
                })
            }))
        },
        fd = function updateActiveSidebarTab(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.state;
            i.activeSidebarTab !== t && (i.activeSidebarTab === Wn.RETRY ? a("destroyRetryTab") : t === Wn.RETRY && a("initRetryTab"), t !== Wn.ANALYSIS && n("activateTemporaryClassificationColor", null), n("setActiveSidebarTab", t))
        },
        gd = function updateMarkings(e) {
            var t = e.dispatch,
                n = e.getters,
                a = null,
                i = null,
                o = n.isRetryMode ? n.selectedRetryMove.newMove : n.currentPosition;
            n.showBoardArrows && (a = Ct(o.suggestedMove, {
                additionalStyles: {
                    zIndex: 2
                },
                color: T.DEFAULT_ARROW_COLOR
            })), n.showBoardEffectsAndHighlights && (i = Pe(o.playedMove, n.moveClassification)), setTimeout(function() {
                t("updateSquareHighlightColor"), t("game/updateMarkings", {
                    arrow: a,
                    effect: i
                }, {
                    root: !0
                })
            })
        },
        bd = function updateOpenBoardTabSection(e, t) {
            var n = e.commit,
                a = e.dispatch,
                i = e.getters;
            n("setActiveBoardSection", e.state.activeBoardSection === t ? null : t), a("game/changeSettings", {
                analysis: !0,
                rules: !i.isSetupBoardSection
            }, {
                root: !0
            })
        },
        vd = function updateSquareHighlightColor(e) {
            var t = e.commit,
                n = e.dispatch,
                a = e.getters;
            n("game/changeSettings", {
                rules: !a.isSetupBoardSection
            }, {
                root: !0
            });
            var i = a.showBoardEffectsAndHighlights && a.moveClassification.color ? {
                highlightColor: a.moveClassification.color,
                highlightOpacity: T.SQUARE_OPACITY_COLORED
            } : {
                highlightColor: null,
                highlightOpacity: T.SQUARE_OPACITY_DEFAULT
            };
            return setTimeout(function() {
                return t("board/setOptions", i, {
                    root: !0
                })
            })
        },
        yd = function canDoRetries(e, t) {
            return !e.retry.isLocked && !t.isClientSideAnalysis
        },
        _d = function canViewAnalysis(e, t) {
            return t.movesToViewAnalysis <= 0
        },
        wd = function currentMainLineMoveNumber(e, t, n, a) {
            var i = n.game.tree.selected,
                o = i.line,
                r = i.move;
            return t.isRetryMode ? t.selectedRetryMove.ply : 0 === o ? r : (a["game/gameNodes"].find(function(e) {
                return (e.lines || []).includes(o)
            }) || {}).moveNumber
        },
        Od = function currentMainLinePosition(e, t) {
            return e.gameAnalysis.positions && e.gameAnalysis.positions[t.currentMainLineMoveNumber]
        },
        kd = function currentMoveNumber(e, t, n) {
            var a = n.game.tree.selectedNode;
            return a && a.moveNumber
        },
        Sd = function currentPosition(e, t, n, a) {
            var i = a["game/selectedNode"] || {};
            return (t.isFullAnalysis ? e.analyzedMoves[Dt(i)] : null) || {}
        },
        xd = function displayableChartTabs(e) {
            return Object.keys(_t).filter(function(t) {
                return _t[t].chartOptions && _t[t].show({
                    positions: e.gameAnalysis.positions,
                    time: e.gameAnalysis.time
                })
            })
        },
        Pd = function gameHasAnalyzedPositions(e) {
            return (e.gameAnalysis.positions || []).length > 0
        },
        Cd = function gameHasMoves(e, t, n, a) {
            return a["game/gameNodes"].length > 0
        },
        Md = function gameIsBeingSetup(e, t) {
            return !e.selfAnalysisLoaded && !e.initialPgn && !t.gameHasMoves
        },
        Td = function hasParsedAndSetAnalysisData(e) {
            return Object.keys(e.analyzedMoves).length >= (e.gameAnalysis.positions || []).length
        },
        Ed = function isAnalysisFinished(e) {
            return e.analysisProgress === he
        },
        Ad = function isAnalysisInProgress(e) {
            return e.analysisProgress > fe && e.analysisProgress < he
        },
        jd = function isAnalysisTiedToGame(e) {
            return Boolean(e.gameId && e.gameType)
        },
        Ld = function isChartExpanded(e, t) {
            return Boolean(e.activeChartTab && t.displayableChartTabs.includes(e.activeChartTab))
        },
        Dd = function isClientSideAnalysis(e) {
            return e.gameAnalysis.isClient
        },
        Nd = function isFullAnalysis(e) {
            return e.analysisType === y
        },
        Id = function isRetryMode(e) {
            return e.activeSidebarTab === Wn.RETRY
        },
        $d = function isSelfAnalysis(e) {
            return e.analysisType === _
        },
        Bd = function isSetupBoardSection(e) {
            return "SETUP" === e.activeBoardSection
        },
        Rd = function mainLineSelected(e, t, n, a) {
            return 0 === ((a["game/selectedMoveNode"] || {}).ids || {}).line
        },
        Fd = function moveClassification(e, t) {
            return t.isRetryMode ? t.selectedRetryMove.newMove.classificationData || {} : kt(t.currentPosition) || {}
        },
        zd = function moveCounts(e) {
            return (e.gameAnalysis.positions || []).reduce(function(e, t) {
                return t.color === Me.e.BLACK ? {
                    black: e.black + 1,
                    white: e.white
                } : {
                    black: e.black,
                    white: e.white + 1
                }
            }, {
                black: 0,
                white: 0
            })
        },
        Ud = function movesToViewAnalysis(e, t, n, a) {
            var i = T.MIN_PLY_TO_RUN_ANALYSIS - a["game/gameNodes"].length;
            return i <= 0 ? 0 : i
        },
        Gd = function openingStats(e) {
            return e.openingStats ? {
                blackWonPercent: e.openingStats.blackWon,
                drawsPercent: e.openingStats.draw,
                name: e.openingStats.name,
                totalGames: e.openingStats.totalGames,
                whiteWonPercent: e.openingStats.whiteWon
            } : null
        },
        Hd = (n(58), n(79), {
            articles: ue.a.generate("web_article_index"),
            billingIssues: "https://support.chess.com/category/135-membership-and-billing",
            forums: ue.a.generate("web_forum_index"),
            home: ue.a.generate("web_user_home"),
            languages: ue.a.generate("web_languages_callback"),
            learn: ue.a.generate("web_page_learn"),
            openings: ue.a.generate("web_openings_index"),
            reportAbuse: "https://support.chess.com/collection/136-community-safety",
            support: "https://support.chess.com/",
            generateLanguageSet: function generateLanguageSet(e, t) {
                return ue.a.generate("web_language_set", {
                    locale: e,
                    returnUrl: t
                })
            },
            generatei18n: function generatei18n(e) {
                return ue.a.generate("i18n_web_index", {
                    _locale: e
                })
            }
        });
    o.a.trans("About"), o.a.trans("Analysis"), o.a.trans("Archive"), o.a.trans("Articles"), o.a.trans("Ask a Question"), o.a.trans("Billing Issues"), o.a.trans("Blogs"), o.a.trans("Can you solve this puzzle?"), o.a.trans("ChessKid"), o.a.trans("ChessTV"), o.a.trans("Clubs"), o.a.trans("Coaches"), o.a.trans("Collapse"), o.a.trans("Computer"), o.a.trans("Connect"), "Chess.com © ".concat((new Date).getFullYear()), o.a.trans("Daily Chess"), o.a.trans("Daily Puzzle"), o.a.trans("Drills"), o.a.trans("Expand"), o.a.trans("Explorer"), o.a.trans("First Steps"), o.a.trans("Forums"), o.a.trans("Free Trial"), o.a.trans("Friends"), o.a.trans("Four Player"), o.a.trans("Games"), o.a.trans("Help"), o.a.trans("Hide"), o.a.trans("Home"), o.a.trans("Jobs"), o.a.trans("Language"), o.a.trans("Leaderboard"), o.a.trans("Learn"), o.a.trans("Leagues"), o.a.trans("Lessons"), o.a.trans("Live Chess"), o.a.trans("Log In"), o.a.trans("Log Out"), o.a.trans("Make a Suggestion"), o.a.trans("Members"), o.a.trans("Membership"), o.a.trans("Menu on Left"), o.a.trans("Messages"), o.a.trans("News"), o.a.trans("Old Chess.com"), o.a.trans("Old Site"), o.a.trans("Openings"), o.a.trans("Play"), o.a.trans("Play Online"), o.a.trans("Practice"), o.a.trans("PRO Chess League"), o.a.trans("Profile"), o.a.trans("Puzzle"), o.a.trans("Ready Games"), o.a.trans("Report a Bug"), o.a.trans("Report Abuse"), o.a.trans("Rules"), o.a.trans("Search"), o.a.trans("Settings"), o.a.trans("Share"), o.a.trans("Sign Up"), o.a.trans("Stats"), o.a.trans("Stop"), o.a.trans("Streamers"), o.a.trans("Tactics"), o.a.trans("Terms & Privacy"), o.a.trans("Themes"), o.a.trans("Top Menu"), o.a.trans("Tournaments"), o.a.trans("Awards"), o.a.trans("Videos"), o.a.trans("Vision"), o.a.trans("Vote Chess");

    function opening_with_formatted_url_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }
    var Vd = function openingWithFormattedUrl(e) {
            var t = e.gameAnalysis.book;
            return t ? function opening_with_formatted_url_objectSpread(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? opening_with_formatted_url_ownKeys(n, !0).forEach(function(t) {
                        S()(e, t, n[t])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : opening_with_formatted_url_ownKeys(n).forEach(function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                    })
                }
                return e
            }({}, t, {
                url: "".concat(Hd.openings, "/").concat(t.url)
            }) : null
        },
        Wd = function pgnHeaders(e, t, n) {
            return (t.isAnalysisTiedToGame ? e.gamePgnHeaders : n.game.pgnHeaders) || {}
        },
        Kd = function selectedRetryMove(e) {
            var t = e.retry.selectedMoveRef,
                n = t.color,
                a = t.index;
            return e.retry.moves[n][a] || {
                newMove: {}
            }
        },
        qd = function showBoardArrows(e, t) {
            var n = [Wn.ANALYSIS, Wn.DETAILS, Wn.REPORT];
            return e.settings.boardFeedbackEnabled && e.settings.feedbackEnabled && !Object(Te.e)(t.currentPosition) && n.includes(e.activeSidebarTab) && t.isFullAnalysis && !(t.currentPosition.scenarios || {}).book
        },
        Yd = function showBoardEffectsAndHighlights(e, t) {
            var n = [Wn.ANALYSIS, Wn.DETAILS, Wn.REPORT, Wn.RETRY];
            return e.settings.boardFeedbackEnabled && (!Object(Te.e)(t.currentPosition) || t.isRetryMode) && n.includes(e.activeSidebarTab) && t.isFullAnalysis
        },
        Xd = function suggestedMoves(e) {
            return e.suggestedMoves ? e.suggestedMoves.map(function(e) {
                return {
                    gameInfo: e.gameInfo,
                    nextFen: e.fenString,
                    percentBlackWon: Math.round(e.blackWon),
                    percentDrawn: Math.round(e.draw),
                    percentWhiteWon: Math.round(e.whiteWon),
                    sanMove: e.move,
                    totalGames: e.totalGames
                }
            }) : []
        },
        Qd = function userColor(e, t, n, a) {
            var i = t.pgnHeaders || {},
                o = i.Black,
                r = i.White;
            return a["user/username"] === o ? Me.e.BLACK : a["user/username"] === r ? Me.e.WHITE : null
        };

    function mutations_ownKeys(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        })), n
    }

    function mutations_objectSpread(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? mutations_ownKeys(n, !0).forEach(function(t) {
                S()(e, t, n[t])
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : mutations_ownKeys(n).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            })
        }
        return e
    }
    var Zd = {
            activateTemporaryClassificationColor: function activateTemporaryClassificationColor(e, t) {
                e.temporaryColoredClassification = t
            },
            addAnalyzedMove: function addAnalyzedMove(e, t) {
                e.analyzedMoves = mutations_objectSpread({}, e.analyzedMoves, S()({}, Dt(t), t))
            },
            changeColorSetting: function changeColorSetting(e, t) {
                var n = t.classification,
                    a = t.key,
                    i = e.settings.coloredClassifications[a];
                e.settings.coloredClassifications[a] = mutations_objectSpread({}, i, {
                    classifications: mutations_objectSpread({}, i.classifications, S()({}, n, !i.classifications[n]))
                }), Ko.default.set(_e, e.settings)
            },
            clearRetryMovesWithNoClassification: function clearRetryMovesWithNoClassification(e) {
                var t = e.retry.moves,
                    n = t.black,
                    a = t.white,
                    i = function updateColorMoves(e) {
                        return e.map(function(e) {
                            return e.newMove.san && !bn(e) ? mutations_objectSpread({}, e, {
                                newMove: {}
                            }) : e
                        })
                    };
                e.retry.moves.black = i(n), e.retry.moves.white = i(a)
            },
            changePlayerColorSetting: function changePlayerColorSetting(e, t) {
                e.settings.coloredClassifications[t].enabled = !e.settings.coloredClassifications[t].enabled, Ko.default.set(_e, e.settings)
            },
            changeEngineSetting: function changeEngineSetting(e, t) {
                var n = t.key,
                    a = t.value;
                e.engineSettings[n] = Number(a), Ko.default.set(be, e.engineSettings)
            },
            changeSetting: function changeSetting(e, t) {
                var n = t.key,
                    a = t.shouldCache,
                    i = void 0 === a || a,
                    o = t.value;
                e.settings[n] !== o && (e.settings[n] = o, i && Ko.default.set(_e, e.settings))
            },
            clearTwigSettings: function clearTwigSettings(e) {
                e.gameId = null, e.gameType = R, e.initialFen = null, e.initialPgn = null, e.savedAnalysisId = null
            },
            setActiveBoardSection: function setActiveBoardSection(e, t) {
                e.activeBoardSection = t
            },
            setActiveChartTab: function setActiveChartTab(e, t) {
                e.activeChartTab = t, Ko.default.set(ge, e.activeChartTab)
            },
            setActiveSidebarTab: function setActiveSidebarTab(e, t) {
                e.activeSidebarTab = t
            },
            setAnalysisType: function setAnalysisType(e, t) {
                e.analysisType = t
            },
            setActiveFens: function setActiveFens(e, t) {
                e.activeFens = t
            },
            setEngineDisabled: function setEngineDisabled(e, t) {
                e.engineDisabled = t
            },
            setAnalysisProgress: function setAnalysisProgress(e, t) {
                e.analysisProgress = t
            },
            setAnalyzedMoves: function setAnalyzedMoves(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                e.analyzedMoves = t
            },
            setBoardIsResizing: function setBoardIsResizing(e, t) {
                e.boardIsResizing = t
            },
            setBoardSize: function setBoardSize(e, t) {
                e.boardSize = t
            },
            setCachedGame: function setCachedGame(e, t) {
                e.cachedGame = mutations_objectSpread({}, e.cachedGame, {}, t)
            },
            setConstrainedLayout: function setConstrainedLayout(e, t) {
                e.constrainedLayout = t
            },
            setGameAnalysis: function setGameAnalysis(e, t) {
                e.gameAnalysis = t
            },
            setGamePgnHeaders: function setGamePgnHeaders(e, t) {
                e.gamePgnHeaders = t
            },
            setHasPostedRetryAttempt: function setHasPostedRetryAttempt(e, t) {
                e.retry.hasPostedAttempt = t
            },
            setHasPlayMayContinue: function setHasPlayMayContinue(e, t) {
                e.hasPlayMayContinue = t
            },
            setHasRunFullAnalysis: function setHasRunFullAnalysis(e, t) {
                e.hasRunFullAnalysis = t
            },
            setIsLocked: function setIsLocked(e, t) {
                e.isLocked = t
            },
            setOverrideDepth: function setOverrideDepth(e, t) {
                e.overrideDepth = t
            },
            setPlayerDetails: function setPlayerDetails(e, t) {
                e.playerDetails = mutations_objectSpread({}, e.playerDetails, {}, t)
            },
            setRetryLoadingState: function setRetryLoadingState(e, t) {
                e.retry.isLoading = t
            },
            setRetryHasBeenViewed: function setRetryHasBeenViewed(e, t) {
                e.retry.hasBeenViewed = t
            },
            setRetryMoves: function setRetryMoves(e, t) {
                e.retry.moves = t
            },
            setRetrySelectedMoveRef: function setRetrySelectedMoveRef(e, t) {
                e.retry.selectedMoveRef = mutations_objectSpread({}, e.retry.selectedMoveRef, {}, t)
            },
            setSavedSelfAnalysis: function setSavedSelfAnalysis(e, t) {
                e.savedSelfAnalysis = mutations_objectSpread({}, e.savedSelfAnalysis, {}, t)
            },
            setSelfAnalysisLoaded: function setSelfAnalysisLoaded(e, t) {
                e.selfAnalysisLoaded = t
            },
            setShouldReconnect: function setShouldReconnect(e, t) {
                e.shouldReconnect = t
            },
            setToken: function setToken(e, t) {
                e.token = t
            },
            setWebSocket: function setWebSocket(e, t) {
                e.socket = t
            },
            setCurrentFullLine: function setCurrentFullLine(e, t) {
                e.currentFullLine = t
            },
            setOpeningInfo: function setOpeningInfo(e, t) {
                e.suggestedMoves = t.moves, e.openingStats = t.stats
            },
            updateRetryMove: function updateRetryMove(e, t) {
                var n = t.fen,
                    a = t.data,
                    i = e.retry.moves,
                    o = i.black,
                    r = i.white,
                    s = function updateColorMoves(e) {
                        return e.map(function(e) {
                            return e.fen === n ? mutations_objectSpread({}, e, {}, a) : e
                        })
                    };
                e.retry.moves.black = s(o), e.retry.moves.white = s(r)
            }
        },
        Jd = window.chesscom.analysis,
        ep = Jd.extraGameData || {},
        tp = ep.noPersist,
        np = ep.retriesLocked,
        ap = ep.timeControl,
        ip = {
            actions: a,
            getters: i,
            mutations: Zd,
            namespaced: !0,
            state: {
                activeBoardSection: null,
                activeChartTab: Ko.default.get(ge),
                activeFens: [],
                activeSidebarTab: null,
                analysisProgress: fe,
                analysisType: null,
                analyzedMoves: {},
                boardIsResizing: !1,
                boardSize: 0,
                cachedGame: {
                    pgn: null,
                    selectedNode: {},
                    tcn: null
                },
                constrainedLayout: !1,
                currentFullLine: null,
                engineDisabled: !1,
                engineSettings: function getInitialEngineSettings() {
                    return Object.assign(oo.settings, Ko.default.get(be, {}))
                }(),
                gameAnalysis: {},
                gamePgnHeaders: {},
                gameId: Jd.gameId,
                gameType: Jd.gameType,
                hasPlayMayContinue: !1,
                hasRunFullAnalysis: !1,
                initialPgn: Jd.pgn,
                initialFen: Jd.fen,
                isLocked: Boolean(Jd.locked),
                openingStats: null,
                overrideDepth: null,
                noPersist: tp,
                playerDetails: {
                    black: {},
                    white: {}
                },
                retry: function getInitialRetryState(e) {
                    var t;
                    return {
                        isLoading: !1,
                        isLocked: e,
                        hasBeenViewed: !1,
                        hasPostedAttempt: !1,
                        moves: (t = {}, S()(t, Me.e.BLACK, []), S()(t, Me.e.WHITE, []), t),
                        selectedMoveRef: {
                            color: Me.e.WHITE,
                            index: 0
                        }
                    }
                }(np),
                savedAnalysisId: Jd.savedAnalysisId,
                savedSelfAnalysis: {
                    pgn: null,
                    url: Jd.url
                },
                selfAnalysisLoaded: !1,
                settings: function getInitialSettings() {
                    return Object.assign({
                        boardFeedbackEnabled: !0,
                        colorsEnabled: !0,
                        coloredClassifications: Uu(),
                        evalBarEnabled: !0,
                        feedbackEnabled: !0,
                        fullAnalysisDepth: s.FULL,
                        fullAnalysisLinesEnabled: !1,
                        selfAnalysisLinesEnabled: !1
                    }, Ko.default.get(_e, {}))
                }(),
                shouldReconnect: !1,
                suggestedMoves: null,
                temporaryColoredClassification: null,
                timeControl: ap,
                token: null
            }
        },
        op = n(421),
        rp = {
            namespaced: !0,
            actions: {
                changeSetupTab: function changeSetupTab(e, t) {
                    var n = e.dispatch,
                        a = e.commit;
                    n("game/changeSettings", "setup" === t ? {
                        rules: !1
                    } : {
                        rules: !0
                    }, {
                        root: !0
                    }), a("setSetupTab", t)
                },
                getTcnFromResponse: function getTcnFromResponse(e, t) {
                    var n = e.commit,
                        a = e.dispatch,
                        i = e.rootState,
                        o = t[0];
                    o ? (a("redirectToMoves"), setTimeout(function() {
                        o.tcnMoves ? a("game/loadFromTcn", o.tcnMoves, {
                            root: !0
                        }) : a("game/loadFromFen", o.initialSetup, {
                            root: !0
                        }), a("game/getPgn", null, {
                            root: !0
                        }), a("game/getPgnHeaders", null, {
                            root: !0
                        }), n("setPgnHeaders", i.game.pgnHeaders)
                    }, 500)) : n("setErrorMessage", nn.j.INVALID_GAME_URL)
                },
                loadBoardFromFen: function loadBoardFromFen(e, t) {
                    var n = e.dispatch;
                    n("redirectToMoves"), setTimeout(function() {
                        n("game/loadFromFen", t, {
                            root: !0
                        })
                    }, 500)
                },
                loadBoardFromPgn: function loadBoardFromPgn(e, t) {
                    var n = e.commit,
                        a = e.dispatch,
                        i = e.rootState;
                    return a("redirectToMoves"), new Promise(function(e) {
                        setTimeout(function() {
                            a("game/loadFromPgn", {
                                pgn: t
                            }, {
                                root: !0
                            }), a("game/getPgn", null, {
                                root: !0
                            }), a("game/getPgnHeaders", null, {
                                root: !0
                            }), n("setPgnHeaders", i.game.pgnHeaders), e()
                        }, 500)
                    })
                },
                loadBoardFromUrl: function loadBoardFromUrl(e, t) {
                    var n = e.commit,
                        a = e.dispatch;
                    n("toggleFetching", !0);
                    var i = function parseGameUrl(e) {
                        if (nn.l.test(e)) {
                            var t = nn.l.exec(e);
                            return {
                                id: t[2],
                                gameType: nn.k[t[1]]
                            }
                        }
                        return {
                            id: null,
                            gameType: null
                        }
                    }(t);
                    (function getGameByIdType(e, t) {
                        var n = {
                            ids: [e].join(","),
                            types: [t].join(",")
                        };
                        return Bt.default.post(ue.a.generate("web_game_pgn_info"), n)
                    })(i.id, i.gameType).then(function(e) {
                        n("toggleFetching", !1), a("getTcnFromResponse", e.data)
                    }).catch(function() {
                        n("toggleFetching", !1), n("setErrorMessage", nn.j.INVALID_GAME_URL)
                    })
                },
                loadBoardOptions: function loadBoardOptions(e) {
                    var t = e.commit,
                        n = e.dispatch;
                    t("setBoardOptions", e.rootState.board.boardOptions), n("updateBoardOptions")
                },
                loadDiagramById: function loadDiagramById(e, t) {
                    var a = e.commit,
                        i = e.dispatch,
                        o = e.rootState;
                    return t ? function getDiagramInfo(e) {
                        return Bt.default.get(ue.a.generate(nn.a.createNewDiagram, {
                            id: e
                        }))
                    }(t).then(function(e) {
                        var t = function parseBoardOptions(e) {
                            var t = e.data,
                                n = t.match(/\n?(.+)?&amp;(.+)?/g),
                                a = !1;
                            n && (a = n.some(function(e) {
                                return !e.includes("[") && !e.includes("]")
                            }));
                            var i = t.split(":"),
                                o = {};
                            return o.isPuzzle = "chessProblem" === sn(i[1], a), o.boardStyle = sn(i[2], a), o.pieceStyle = sn(i[3], a), o.flipBoard = "true" === sn(i[5], a), o.focus = Number(sn(i[10], a)), o.begin = Number(sn(i[11], a)), o.end = Number(sn(i[12], a)), o.coordinates = "true" === sn(i[7], a), o.pgn = Object(an.b)(t.substr(t.indexOf("["), t.length).trim()), o
                        }(e);
                        a("togglePuzzle", t.isPuzzle), i("updateBoardOptions", t), i("redirectToMoves"), setTimeout(function() {
                            Tt.default.dispatch("game/loadFromPgn", {
                                pgn: t.pgn
                            }), Tt.default.dispatch("game/getPgn"), Tt.default.dispatch("game/getPgnHeaders");
                            var e = n(44).default.state.lines;
                            a("setPgnHeaders", o.game.pgnHeaders), a("setNodeLimit", {
                                begin: e[0][t.begin - 1],
                                focus: e[0][t.focus - 1],
                                end: e[0][t.end - 1]
                            })
                        }, 500)
                    }) : Promise.reject()
                },
                makeDefaultMove: function makeDefaultMove(e, t) {
                    var n = e.dispatch,
                        a = e.commit,
                        i = e.rootState;
                    n("game/makeMove", t, {
                        root: !0
                    }), i.game.settings.rules || n("game/loadFromFen", i.game.setup.fen, {
                        root: !0
                    }), n("game/getPgn", null, {
                        root: !0
                    }), a("setLocalFen", i.game.setup.fen)
                },
                makeFirstMove: function makeFirstMove(e, t) {
                    var n = e.dispatch;
                    n("redirectToMoves"), setTimeout(function() {
                        n("makeDefaultMove", t)
                    })
                },
                makeMove: function makeMove(e, t) {
                    var n = e.dispatch,
                        a = e.rootState; - 1 === a.game.tree.selected.move && a.game.settings.rules ? n("makeFirstMove", t) : n("makeDefaultMove", t)
                },
                redirectToMoves: function redirectToMoves(e) {
                    var t = e.commit;
                    t("setActiveTab", nn.p.SETUP_POSITION), t("setSetupTab", "moves")
                },
                redirectToTheme: function redirectToTheme(e) {
                    var t = e.commit;
                    t("setActiveTab", nn.p.SETUP_POSITION), t("setSetupTab", "theme")
                },
                updateBoardOptions: function updateBoardOptions(e, t) {
                    var n = e.commit,
                        a = e.rootState,
                        i = t || a.board.boardOptions;
                    n("setBoardOption", {
                        option: "animationType",
                        value: x.a.DEFAULT
                    }), n("setBoardOption", {
                        option: "boardStyle",
                        value: i.boardStyle
                    }), n("setBoardOption", {
                        option: "coordinates",
                        value: pn(i.coordinates)
                    }), n("setBoardOption", {
                        option: "flipBoard",
                        value: i.flipBoard
                    }), n("setBoardOption", {
                        option: "overlayInAnalysisMode",
                        value: !1
                    }), n("setBoardOption", {
                        option: "pieceStyle",
                        value: un(i.pieceStyle)
                    })
                },
                updateFenValue: function updateFenValue(e, t) {
                    var n = e.commit,
                        a = e.dispatch,
                        i = e.rootState;
                    window.JCE.isFenValid(t) ? (a("changeSetupTab", "moves"), n("setLocalFen", i.game.setup.fen), a("game/loadFromFen", t, {
                        root: !0
                    }), a("game/getPgn", null, {
                        root: !0
                    })) : (document.querySelector("#fen").value = i.game.setup.fen, n("setLocalFen", i.game.setup.fen))
                },
                updateOpenTab: function updateOpenTab(e, t) {
                    var n = e.commit,
                        a = e.dispatch,
                        i = e.state;
                    n("setActiveTab", i.selectedTab === t ? "" : t), a("game/changeSettings", {
                        rules: i.selectedTab !== nn.p.SETUP_POSITION
                    }, {
                        root: !0
                    })
                }
            },
            getters: {
                isDetailsTab: function isDetailsTab(e) {
                    return e.selectedSetupTab === nn.o.DETAILS
                },
                isFenTab: function isFenTab(e) {
                    return e.selectedTab === nn.p.LOAD_FEN
                },
                isInitialView: function isInitialView(e) {
                    return e.selectedTab !== nn.p.SETUP_POSITION
                },
                isMovesTab: function isMovesTab(e) {
                    return e.selectedSetupTab === nn.o.MOVES
                },
                isMultiPgnTab: function isMultiPgnTab(e) {
                    return e.selectedTab === nn.p.LOAD_MULTIPGN
                },
                isPgnTab: function isPgnTab(e) {
                    return e.selectedTab === nn.p.LOAD_PGN
                },
                isSetupTab: function isSetupTab(e) {
                    return e.selectedSetupTab === nn.o.SETUP
                },
                isSetupPositionTab: function isSetupPositionTab(e) {
                    return e.selectedTab === nn.p.SETUP_POSITION
                },
                isThemeTab: function isThemeTab(e) {
                    return e.selectedSetupTab === nn.o.THEME
                },
                isUrlTab: function isUrlTab(e) {
                    return e.selectedTab === nn.p.LOAD_URL
                }
            },
            mutations: {
                setBoardOption: function setBoardOption(e, t) {
                    var n = t.option,
                        a = t.value;
                    e.boardOptions[n] = a
                },
                setBoardOptions: function setBoardOptions(e, t) {
                    e.boardOptions = t
                },
                setErrorMessage: function setErrorMessage(e, t) {
                    e.errorMessage = t
                },
                setLocalFen: function setLocalFen(e, t) {
                    e.localFen = t
                },
                setNodeLimit: function setNodeLimit(e, t) {
                    e.nodeLimit = t
                },
                setPgn: function setPgn(e, t) {
                    e.pgn = t
                },
                setPgnHeader: function setPgnHeader(e, t) {
                    e.pgnHeaders[t.key] = t.value
                },
                setPgnHeaders: function setPgnHeaders(e, t) {
                    e.pgnHeaders = t
                },
                setSetupTab: function setSetupTab(e, t) {
                    e.selectedSetupTab = t
                },
                setActiveTab: function setActiveTab(e, t) {
                    e.selectedTab = t || ""
                },
                toggleFetching: function toggleFetching(e, t) {
                    e.isFetching = t
                },
                togglePuzzle: function togglePuzzle(e, t) {
                    e.isPuzzle = t
                }
            },
            state: {
                boardOptions: {},
                errorMessage: "",
                isFetching: !1,
                isPuzzle: !1,
                localFen: "",
                nodeLimit: {},
                pgnHeaders: {},
                selectedSetupTab: nn.o.SETUP,
                selectedTab: ""
            }
        },
        sp = n(522);
    ! function boot() {
        ! function registerStoreModules() {
            Object(cu.a)({
                analysis: ip,
                board: op.a,
                diagramEditor: rp,
                game: sp.a
            })
        }(),
        function registerStorePlugins() {
            ! function markingsWatcher(e) {
                e.watch(function(e, t) {
                    return function createWatchedProperties(e, t) {
                        return [t["game/getCurrentFen"], t["analysis/showBoardArrows"], t["analysis/showBoardEffectsAndHighlights"], t["analysis/moveClassification"].key].reduce(function(e, t) {
                            return "".concat(e).concat(t)
                        }, "")
                    }(0, t)
                }, function() {
                    return e.dispatch("analysis/updateMarkings")
                })
            }(Tt.default)
        }(),
        function triggerInitialActions() {
            var e = Tt.default.state.analysis.initialPgn;
            Tt.default.dispatch("board/loadOptions"), Tt.default.dispatch("game/init", {
                pgn: e
            }), Tt.default.dispatch("game/changeSettings", {
                analysis: !0,
                variations: !0
            }), e && (Tt.default.dispatch("analysis/setGamePgn", e), Tt.default.dispatch("analysis/goToFirstNode"), Tt.default.commit("analysis/setSelfAnalysisLoaded", !0)), Tt.default.dispatch("analysis/init")
        }(),
        function loadOpenings() {
            Ft.loadEcoBook()
        }(), lu()
    }()
}]);